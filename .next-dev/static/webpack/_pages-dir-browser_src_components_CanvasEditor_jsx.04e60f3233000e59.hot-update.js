"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_components_CanvasEditor_jsx",{

/***/ "(pages-dir-browser)/./src/components/editor/overlays/useOptionButtonPosition.js":
/*!*******************************************************************!*\
  !*** ./src/components/editor/overlays/useOptionButtonPosition.js ***!
  \*******************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useOptionButtonPosition)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\nvar _s = $RefreshSig$();\n\nconst FALLBACK_BUTTON_SIZE_DESKTOP = 28;\nconst FALLBACK_BUTTON_SIZE_MOBILE = 38;\nconst BUTTON_VERTEX_OVERLAP_RATIO = 0.5;\nconst BUTTON_VERTEX_NUDGE_X_DESKTOP = 20;\nconst BUTTON_VERTEX_NUDGE_Y_DESKTOP = 20;\nconst BUTTON_VERTEX_NUDGE_X_MOBILE = 10;\nconst BUTTON_VERTEX_NUDGE_Y_MOBILE = 10;\nconst LOG_THROTTLE_MS = 120;\nfunction isOptionButtonDebugEnabled() {\n    return  true && window.__DBG_OPTION_BUTTON === true;\n}\nfunction resolveScale(escalaVisual, escalaActiva) {\n    if (Number.isFinite(escalaVisual) && escalaVisual > 0) return escalaVisual;\n    if (Number.isFinite(escalaActiva) && escalaActiva > 0) return escalaActiva;\n    return 1;\n}\nfunction clamp(value, min, max) {\n    return Math.min(max, Math.max(min, value));\n}\nfunction describeEventTarget(target) {\n    var _target_classList;\n    if (target === window) return \"window\";\n    if (target === document) return \"document\";\n    if (!(target instanceof Element)) return \"unknown\";\n    const tag = String(target.tagName || \"\").toLowerCase();\n    const id = target.id ? \"#\".concat(target.id) : \"\";\n    const classes = ((_target_classList = target.classList) === null || _target_classList === void 0 ? void 0 : _target_classList.length) ? \".\".concat(Array.from(target.classList).slice(0, 2).join(\".\")) : \"\";\n    return \"\".concat(tag).concat(id).concat(classes) || \"element\";\n}\nfunction resolveRenderedScale(stage, stageRect, escalaVisual, escalaActiva) {\n    var _stage_attrs, _stage_attrs1;\n    const stageWidth = typeof (stage === null || stage === void 0 ? void 0 : stage.width) === \"function\" ? Number(stage.width()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs = stage.attrs) === null || _stage_attrs === void 0 ? void 0 : _stage_attrs.width);\n    const stageHeight = typeof (stage === null || stage === void 0 ? void 0 : stage.height) === \"function\" ? Number(stage.height()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs1 = stage.attrs) === null || _stage_attrs1 === void 0 ? void 0 : _stage_attrs1.height);\n    const fallback = resolveScale(escalaVisual, escalaActiva);\n    const scaleX = Number.isFinite(stageWidth) && stageWidth > 0 ? stageRect.width / stageWidth : fallback;\n    const scaleY = Number.isFinite(stageHeight) && stageHeight > 0 ? stageRect.height / stageHeight : fallback;\n    return {\n        x: Number.isFinite(scaleX) && scaleX > 0 ? scaleX : fallback,\n        y: Number.isFinite(scaleY) && scaleY > 0 ? scaleY : fallback\n    };\n}\nfunction getScrollableAncestors(startNode) {\n    if (false) {}\n    if (!(startNode instanceof Element)) return [\n        window\n    ];\n    const targets = [];\n    let current = startNode.parentElement;\n    while(current && current !== document.body){\n        const style = window.getComputedStyle(current);\n        const overflowY = String(style.overflowY || \"\").toLowerCase();\n        const overflow = String(style.overflow || \"\").toLowerCase();\n        const isScrollable = overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\" || overflow === \"auto\" || overflow === \"scroll\" || overflow === \"overlay\";\n        if (isScrollable) {\n            targets.push(current);\n        }\n        current = current.parentElement;\n    }\n    if (document.scrollingElement) {\n        targets.push(document.scrollingElement);\n    }\n    targets.push(window);\n    return Array.from(new Set(targets));\n}\nfunction useOptionButtonPosition(param) {\n    let { botonOpcionesRef, layoutRootRef = null, elementRefs, elementosSeleccionados, stageRef, escalaVisual, escalaActiva, isMobile = false, buttonSize = FALLBACK_BUTTON_SIZE_DESKTOP } = param;\n    _s();\n    const lastLogByEventRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n    const debugLog = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOptionButtonPosition.useCallback[debugLog]\": function(eventName) {\n            let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, force = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n            if (!isOptionButtonDebugEnabled()) return;\n            const now = Date.now();\n            const previous = Number(lastLogByEventRef.current[eventName] || 0);\n            if (!force && now - previous < LOG_THROTTLE_MS) return;\n            lastLogByEventRef.current[eventName] = now;\n            console.log(\"[OPTION-BUTTON] \".concat(eventName), {\n                ts: new Date(now).toISOString(),\n                ...payload\n            });\n            if (eventName === \"position\") {\n                var _payload_boxStage, _payload_nodeAbsolute, _payload_final, _payload_elementScreen, _payload_stageRect, _payload_eventTarget, _payload_scrollTarget;\n                var _payload_boxStage_y;\n                const boxY = (_payload_boxStage_y = payload === null || payload === void 0 ? void 0 : (_payload_boxStage = payload.boxStage) === null || _payload_boxStage === void 0 ? void 0 : _payload_boxStage.y) !== null && _payload_boxStage_y !== void 0 ? _payload_boxStage_y : null;\n                var _payload_nodeAbsolute_y;\n                const absY = (_payload_nodeAbsolute_y = payload === null || payload === void 0 ? void 0 : (_payload_nodeAbsolute = payload.nodeAbsolute) === null || _payload_nodeAbsolute === void 0 ? void 0 : _payload_nodeAbsolute.y) !== null && _payload_nodeAbsolute_y !== void 0 ? _payload_nodeAbsolute_y : null;\n                var _payload_anchorStageY;\n                const anchorY = (_payload_anchorStageY = payload === null || payload === void 0 ? void 0 : payload.anchorStageY) !== null && _payload_anchorStageY !== void 0 ? _payload_anchorStageY : null;\n                var _payload_final_y;\n                const finalY = (_payload_final_y = payload === null || payload === void 0 ? void 0 : (_payload_final = payload.final) === null || _payload_final === void 0 ? void 0 : _payload_final.y) !== null && _payload_final_y !== void 0 ? _payload_final_y : null;\n                var _payload_elementScreen_y;\n                const elementY = (_payload_elementScreen_y = payload === null || payload === void 0 ? void 0 : (_payload_elementScreen = payload.elementScreen) === null || _payload_elementScreen === void 0 ? void 0 : _payload_elementScreen.y) !== null && _payload_elementScreen_y !== void 0 ? _payload_elementScreen_y : null;\n                var _payload_stageRect_top;\n                const stageTop = (_payload_stageRect_top = payload === null || payload === void 0 ? void 0 : (_payload_stageRect = payload.stageRect) === null || _payload_stageRect === void 0 ? void 0 : _payload_stageRect.top) !== null && _payload_stageRect_top !== void 0 ? _payload_stageRect_top : null;\n                var _payload_source;\n                const source = (_payload_source = payload === null || payload === void 0 ? void 0 : payload.source) !== null && _payload_source !== void 0 ? _payload_source : \"unknown\";\n                var _payload_eventTarget_label, _ref;\n                const target = (_ref = (_payload_eventTarget_label = payload === null || payload === void 0 ? void 0 : (_payload_eventTarget = payload.eventTarget) === null || _payload_eventTarget === void 0 ? void 0 : _payload_eventTarget.label) !== null && _payload_eventTarget_label !== void 0 ? _payload_eventTarget_label : payload === null || payload === void 0 ? void 0 : (_payload_scrollTarget = payload.scrollTarget) === null || _payload_scrollTarget === void 0 ? void 0 : _payload_scrollTarget.label) !== null && _ref !== void 0 ? _ref : \"unknown\";\n                console.log(\"[OPTION-BUTTON][SUMMARY] src=\".concat(source, \" target=\").concat(target, \" boxY=\").concat(boxY, \" absY=\").concat(absY, \" anchorY=\").concat(anchorY, \" elementY=\").concat(elementY, \" finalY=\").concat(finalY, \" stageTop=\").concat(stageTop));\n            }\n        }\n    }[\"useOptionButtonPosition.useCallback[debugLog]\"], []);\n    const ocultarBotonOpciones = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOptionButtonPosition.useCallback[ocultarBotonOpciones]\": function() {\n            let reason = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"unknown\", extra = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n            if (!botonOpcionesRef.current) return;\n            botonOpcionesRef.current.style.display = \"none\";\n            var _elementosSeleccionados_;\n            debugLog(\"hide\", {\n                reason,\n                selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                isMobile,\n                extra\n            }, false);\n        }\n    }[\"useOptionButtonPosition.useCallback[ocultarBotonOpciones]\"], [\n        botonOpcionesRef,\n        debugLog,\n        elementosSeleccionados,\n        isMobile\n    ]);\n    const actualizarPosicionBotonOpciones = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOptionButtonPosition.useCallback[actualizarPosicionBotonOpciones]\": function() {\n            let source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"manual\", nativeEvent = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, eventTargetLabel = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n            if (false) {}\n            if (!botonOpcionesRef.current) return;\n            if (elementosSeleccionados.length !== 1) {\n                ocultarBotonOpciones(\"selection-count\", {\n                    source,\n                    count: elementosSeleccionados.length\n                });\n                return;\n            }\n            const nodeRef = elementRefs.current[elementosSeleccionados[0]];\n            const stage = stageRef.current;\n            if (!nodeRef || !stage) {\n                ocultarBotonOpciones(\"missing-node-or-stage\", {\n                    source,\n                    hasNode: Boolean(nodeRef),\n                    hasStage: Boolean(stage)\n                });\n                return;\n            }\n            try {\n                var _stage_getStage_container, _stage_getStage, _stage_getStage1;\n                const box = nodeRef.getClientRect({\n                    relativeTo: stage,\n                    skipShadow: true\n                });\n                const nodeAbsolutePosition = typeof nodeRef.getAbsolutePosition === \"function\" ? nodeRef.getAbsolutePosition() : {\n                    x: typeof nodeRef.x === \"function\" ? nodeRef.x() : null,\n                    y: typeof nodeRef.y === \"function\" ? nodeRef.y() : null\n                };\n                const stageContainer = typeof stage.container === \"function\" ? stage.container() : (_stage_getStage1 = stage.getStage) === null || _stage_getStage1 === void 0 ? void 0 : (_stage_getStage = _stage_getStage1.call(stage)) === null || _stage_getStage === void 0 ? void 0 : (_stage_getStage_container = _stage_getStage.container) === null || _stage_getStage_container === void 0 ? void 0 : _stage_getStage_container.call(_stage_getStage);\n                if (!stageContainer) {\n                    ocultarBotonOpciones(\"missing-stage-container\", {\n                        source\n                    });\n                    return;\n                }\n                const stageRect = stageContainer.getBoundingClientRect();\n                const renderedScale = resolveRenderedScale(stage, stageRect, escalaVisual, escalaActiva);\n                const targetButtonSize = Number.isFinite(buttonSize) && buttonSize > 0 ? buttonSize : isMobile ? FALLBACK_BUTTON_SIZE_MOBILE : FALLBACK_BUTTON_SIZE_DESKTOP;\n                const overlapPx = targetButtonSize * BUTTON_VERTEX_OVERLAP_RATIO;\n                const nudgeX = isMobile ? BUTTON_VERTEX_NUDGE_X_MOBILE : BUTTON_VERTEX_NUDGE_X_DESKTOP;\n                const nudgeY = isMobile ? BUTTON_VERTEX_NUDGE_Y_MOBILE : BUTTON_VERTEX_NUDGE_Y_DESKTOP;\n                const anchorStageY = Number.isFinite(nodeAbsolutePosition === null || nodeAbsolutePosition === void 0 ? void 0 : nodeAbsolutePosition.y) ? Math.min(box.y, nodeAbsolutePosition.y) : box.y;\n                const elementoX = stageRect.left + box.x * renderedScale.x;\n                const elementoY = stageRect.top + anchorStageY * renderedScale.y;\n                const anchoElemento = Math.max(0, box.width * renderedScale.x);\n                const altoElemento = Math.max(0, box.height * renderedScale.y);\n                const elementoRight = elementoX + anchoElemento;\n                const viewportWidth = window.innerWidth;\n                const viewportHeight = window.innerHeight;\n                const viewportPadding = isMobile ? 8 : 4;\n                const elementoVisible = elementoX + anchoElemento >= 0 && elementoX <= viewportWidth && elementoY + altoElemento >= 0 && elementoY <= viewportHeight;\n                if (!elementoVisible) {\n                    ocultarBotonOpciones(\"element-outside-viewport\", {\n                        source,\n                        elementRect: {\n                            left: Math.round(elementoX),\n                            top: Math.round(elementoY),\n                            width: Math.round(anchoElemento),\n                            height: Math.round(altoElemento)\n                        },\n                        viewport: {\n                            width: viewportWidth,\n                            height: viewportHeight\n                        }\n                    });\n                    return;\n                }\n                // Ancla visual: centro del botón exactamente en el vértice superior derecho.\n                const preferredX = elementoRight - overlapPx + nudgeX;\n                const preferredY = elementoY - overlapPx - nudgeY;\n                const minX = viewportPadding;\n                const maxX = Math.max(minX, viewportWidth - targetButtonSize - viewportPadding);\n                const minY = viewportPadding;\n                const maxY = Math.max(minY, viewportHeight - targetButtonSize - viewportPadding);\n                const fallbackNearVertexX = elementoRight - targetButtonSize - 1;\n                const useFallbackNearVertexX = preferredX + targetButtonSize > viewportWidth - viewportPadding && fallbackNearVertexX >= minX;\n                const fallbackNearVertexY = elementoY + 1;\n                const useFallbackNearVertexY = preferredY < minY && fallbackNearVertexY <= maxY;\n                const placementModeX = useFallbackNearVertexX ? \"fallback-left-of-vertex\" : \"vertex\";\n                const placementModeY = useFallbackNearVertexY ? \"fallback-below-vertex\" : \"vertex\";\n                let botonX = useFallbackNearVertexX ? fallbackNearVertexX : preferredX;\n                let botonY = useFallbackNearVertexY ? fallbackNearVertexY : preferredY;\n                botonX = clamp(botonX, minX, maxX);\n                botonY = clamp(botonY, minY, maxY);\n                const hasRelativeRoot = Boolean(layoutRootRef === null || layoutRootRef === void 0 ? void 0 : layoutRootRef.current);\n                let renderX = botonX;\n                let renderY = botonY;\n                if (hasRelativeRoot) {\n                    const rootRect = layoutRootRef.current.getBoundingClientRect();\n                    renderX = botonX - rootRect.left;\n                    renderY = botonY - rootRect.top;\n                }\n                botonOpcionesRef.current.style.left = \"\".concat(Math.round(renderX), \"px\");\n                botonOpcionesRef.current.style.top = \"\".concat(Math.round(renderY), \"px\");\n                botonOpcionesRef.current.style.display = \"flex\";\n                if (isOptionButtonDebugEnabled()) {\n                    var _stage_attrs, _stage_attrs1;\n                    const debugScrollTarget = getScrollableAncestors(stageContainer)[0] || window;\n                    const stageWidth = typeof (stage === null || stage === void 0 ? void 0 : stage.width) === \"function\" ? Number(stage.width()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs = stage.attrs) === null || _stage_attrs === void 0 ? void 0 : _stage_attrs.width);\n                    const stageHeight = typeof (stage === null || stage === void 0 ? void 0 : stage.height) === \"function\" ? Number(stage.height()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs1 = stage.attrs) === null || _stage_attrs1 === void 0 ? void 0 : _stage_attrs1.height);\n                    var _nativeEvent_pointerType, _nativeEvent_type;\n                    debugLog(\"position\", {\n                        source,\n                        selectedId: elementosSeleccionados[0],\n                        isMobile,\n                        pointerType: (_nativeEvent_pointerType = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.pointerType) !== null && _nativeEvent_pointerType !== void 0 ? _nativeEvent_pointerType : null,\n                        nativeEventType: (_nativeEvent_type = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.type) !== null && _nativeEvent_type !== void 0 ? _nativeEvent_type : null,\n                        eventTarget: {\n                            label: eventTargetLabel || describeEventTarget(nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.target)\n                        },\n                        stageSize: {\n                            width: Number.isFinite(stageWidth) ? stageWidth : null,\n                            height: Number.isFinite(stageHeight) ? stageHeight : null\n                        },\n                        stageRect: {\n                            left: Math.round(stageRect.left),\n                            top: Math.round(stageRect.top),\n                            width: Math.round(stageRect.width),\n                            height: Math.round(stageRect.height)\n                        },\n                        renderedScale: {\n                            x: Number(renderedScale.x.toFixed(4)),\n                            y: Number(renderedScale.y.toFixed(4))\n                        },\n                        boxStage: {\n                            x: Number(box.x.toFixed(2)),\n                            y: Number(box.y.toFixed(2)),\n                            width: Number(box.width.toFixed(2)),\n                            height: Number(box.height.toFixed(2))\n                        },\n                        nodeAbsolute: {\n                            x: Number.isFinite(nodeAbsolutePosition === null || nodeAbsolutePosition === void 0 ? void 0 : nodeAbsolutePosition.x) ? Number(nodeAbsolutePosition.x.toFixed(2)) : null,\n                            y: Number.isFinite(nodeAbsolutePosition === null || nodeAbsolutePosition === void 0 ? void 0 : nodeAbsolutePosition.y) ? Number(nodeAbsolutePosition.y.toFixed(2)) : null\n                        },\n                        anchorStageY: Number(anchorStageY.toFixed(2)),\n                        elementScreen: {\n                            x: Number(elementoX.toFixed(2)),\n                            y: Number(elementoY.toFixed(2)),\n                            right: Number(elementoRight.toFixed(2)),\n                            width: Number(anchoElemento.toFixed(2)),\n                            height: Number(altoElemento.toFixed(2))\n                        },\n                        preferred: {\n                            x: Number(preferredX.toFixed(2)),\n                            y: Number(preferredY.toFixed(2)),\n                            targetButtonSize,\n                            overlapPx: Number(overlapPx.toFixed(2)),\n                            nudgeX,\n                            nudgeY,\n                            fallbackNearVertexX: Number(fallbackNearVertexX.toFixed(2)),\n                            fallbackNearVertexY: Number(fallbackNearVertexY.toFixed(2)),\n                            placementModeX,\n                            placementModeY\n                        },\n                        final: {\n                            x: Number(botonX.toFixed(2)),\n                            y: Number(botonY.toFixed(2)),\n                            renderX: Number(renderX.toFixed(2)),\n                            renderY: Number(renderY.toFixed(2)),\n                            positionMode: hasRelativeRoot ? \"absolute\" : \"fixed\",\n                            minX,\n                            maxX,\n                            minY,\n                            maxY\n                        },\n                        viewport: {\n                            width: viewportWidth,\n                            height: viewportHeight,\n                            scrollX: Number(window.scrollX || window.pageXOffset || 0),\n                            scrollY: Number(window.scrollY || window.pageYOffset || 0),\n                            visualViewport: window.visualViewport ? {\n                                offsetTop: Number(window.visualViewport.offsetTop || 0),\n                                offsetLeft: Number(window.visualViewport.offsetLeft || 0),\n                                width: Number(window.visualViewport.width || 0),\n                                height: Number(window.visualViewport.height || 0),\n                                scale: Number(window.visualViewport.scale || 1)\n                            } : null\n                        },\n                        scrollTarget: {\n                            label: describeEventTarget(debugScrollTarget),\n                            scrollTop: debugScrollTarget && \"scrollTop\" in debugScrollTarget ? Number(debugScrollTarget.scrollTop || 0) : null\n                        }\n                    });\n                }\n            } catch (error) {\n                const message = error instanceof Error ? error.message : String(error || \"unknown-error\");\n                var _elementosSeleccionados_;\n                debugLog(\"position-error\", {\n                    source,\n                    selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                    error: message\n                }, true);\n                ocultarBotonOpciones(\"exception\", {\n                    source,\n                    error: message\n                });\n            }\n        }\n    }[\"useOptionButtonPosition.useCallback[actualizarPosicionBotonOpciones]\"], [\n        botonOpcionesRef,\n        elementosSeleccionados,\n        elementRefs,\n        stageRef,\n        escalaVisual,\n        escalaActiva,\n        debugLog,\n        ocultarBotonOpciones,\n        layoutRootRef,\n        isMobile,\n        buttonSize\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useOptionButtonPosition.useEffect\": ()=>{\n            if (elementosSeleccionados.length !== 1) {\n                ocultarBotonOpciones();\n                return undefined;\n            }\n            let rafA = 0;\n            let rafB = 0;\n            rafA = window.requestAnimationFrame({\n                \"useOptionButtonPosition.useEffect\": ()=>{\n                    rafB = window.requestAnimationFrame({\n                        \"useOptionButtonPosition.useEffect\": ()=>{\n                            actualizarPosicionBotonOpciones(\"raf-init\", null, \"raf\");\n                        }\n                    }[\"useOptionButtonPosition.useEffect\"]);\n                }\n            }[\"useOptionButtonPosition.useEffect\"]);\n            return ({\n                \"useOptionButtonPosition.useEffect\": ()=>{\n                    if (rafA) window.cancelAnimationFrame(rafA);\n                    if (rafB) window.cancelAnimationFrame(rafB);\n                }\n            })[\"useOptionButtonPosition.useEffect\"];\n        }\n    }[\"useOptionButtonPosition.useEffect\"], [\n        elementosSeleccionados,\n        actualizarPosicionBotonOpciones,\n        ocultarBotonOpciones\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useOptionButtonPosition.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current;\n            if (false) {}\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current;\n            const stageContainer = typeof (stage === null || stage === void 0 ? void 0 : stage.container) === \"function\" ? stage.container() : null;\n            const hasRelativeRoot = Boolean(layoutRootRef === null || layoutRootRef === void 0 ? void 0 : layoutRootRef.current);\n            const syncPosition = {\n                \"useOptionButtonPosition.useEffect.syncPosition\": function() {\n                    let source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"sync\", nativeEvent = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n                    if (elementosSeleccionados.length === 1) {\n                        actualizarPosicionBotonOpciones(source, nativeEvent, describeEventTarget(nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.target));\n                    } else {\n                        ocultarBotonOpciones(\"sync-no-selection\", {\n                            source\n                        });\n                    }\n                }\n            }[\"useOptionButtonPosition.useEffect.syncPosition\"];\n            const scrollTargets = hasRelativeRoot ? [] : stageContainer ? getScrollableAncestors(stageContainer) : [\n                window\n            ];\n            const detach = [];\n            scrollTargets.forEach({\n                \"useOptionButtonPosition.useEffect\": (target)=>{\n                    if (!(target === null || target === void 0 ? void 0 : target.addEventListener) || !(target === null || target === void 0 ? void 0 : target.removeEventListener)) return;\n                    const onScroll = {\n                        \"useOptionButtonPosition.useEffect.onScroll\": (event)=>{\n                            syncPosition(\"scroll:\".concat(describeEventTarget(event.target)), event);\n                        }\n                    }[\"useOptionButtonPosition.useEffect.onScroll\"];\n                    target.addEventListener(\"scroll\", onScroll, {\n                        passive: true\n                    });\n                    detach.push({\n                        \"useOptionButtonPosition.useEffect\": ()=>target.removeEventListener(\"scroll\", onScroll)\n                    }[\"useOptionButtonPosition.useEffect\"]);\n                }\n            }[\"useOptionButtonPosition.useEffect\"]);\n            if (!hasRelativeRoot && window.visualViewport) {\n                const onVisualViewportScroll = {\n                    \"useOptionButtonPosition.useEffect.onVisualViewportScroll\": (event)=>{\n                        syncPosition(\"visual-viewport-scroll\", event);\n                    }\n                }[\"useOptionButtonPosition.useEffect.onVisualViewportScroll\"];\n                const onVisualViewportResize = {\n                    \"useOptionButtonPosition.useEffect.onVisualViewportResize\": (event)=>{\n                        syncPosition(\"visual-viewport-resize\", event);\n                    }\n                }[\"useOptionButtonPosition.useEffect.onVisualViewportResize\"];\n                window.visualViewport.addEventListener(\"scroll\", onVisualViewportScroll);\n                window.visualViewport.addEventListener(\"resize\", onVisualViewportResize);\n                detach.push({\n                    \"useOptionButtonPosition.useEffect\": ()=>{\n                        window.visualViewport.removeEventListener(\"scroll\", onVisualViewportScroll);\n                        window.visualViewport.removeEventListener(\"resize\", onVisualViewportResize);\n                    }\n                }[\"useOptionButtonPosition.useEffect\"]);\n            }\n            const onResize = {\n                \"useOptionButtonPosition.useEffect.onResize\": (event)=>{\n                    syncPosition(\"window-resize\", event);\n                }\n            }[\"useOptionButtonPosition.useEffect.onResize\"];\n            const onOrientationChange = {\n                \"useOptionButtonPosition.useEffect.onOrientationChange\": (event)=>{\n                    syncPosition(\"window-orientationchange\", event);\n                }\n            }[\"useOptionButtonPosition.useEffect.onOrientationChange\"];\n            window.addEventListener(\"resize\", onResize);\n            window.addEventListener(\"orientationchange\", onOrientationChange);\n            detach.push({\n                \"useOptionButtonPosition.useEffect\": ()=>window.removeEventListener(\"resize\", onResize)\n            }[\"useOptionButtonPosition.useEffect\"]);\n            detach.push({\n                \"useOptionButtonPosition.useEffect\": ()=>window.removeEventListener(\"orientationchange\", onOrientationChange)\n            }[\"useOptionButtonPosition.useEffect\"]);\n            if ((stage === null || stage === void 0 ? void 0 : stage.on) && (stage === null || stage === void 0 ? void 0 : stage.off)) {\n                const onStageDragMove = {\n                    \"useOptionButtonPosition.useEffect.onStageDragMove\": (event)=>syncPosition(\"stage-dragmove\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageDragMove\"];\n                const onStageDragEnd = {\n                    \"useOptionButtonPosition.useEffect.onStageDragEnd\": (event)=>syncPosition(\"stage-dragend\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageDragEnd\"];\n                const onStageTransform = {\n                    \"useOptionButtonPosition.useEffect.onStageTransform\": (event)=>syncPosition(\"stage-transform\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageTransform\"];\n                const onStageTransformEnd = {\n                    \"useOptionButtonPosition.useEffect.onStageTransformEnd\": (event)=>syncPosition(\"stage-transformend\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageTransformEnd\"];\n                stage.on(\"dragmove.option-button\", onStageDragMove);\n                stage.on(\"dragend.option-button\", onStageDragEnd);\n                stage.on(\"transform.option-button\", onStageTransform);\n                stage.on(\"transformend.option-button\", onStageTransformEnd);\n                detach.push({\n                    \"useOptionButtonPosition.useEffect\": ()=>{\n                        stage.off(\"dragmove.option-button\", onStageDragMove);\n                        stage.off(\"dragend.option-button\", onStageDragEnd);\n                        stage.off(\"transform.option-button\", onStageTransform);\n                        stage.off(\"transformend.option-button\", onStageTransformEnd);\n                    }\n                }[\"useOptionButtonPosition.useEffect\"]);\n            }\n            // Primer sync inmediato por si hay cambio de scroll entre renders.\n            syncPosition(\"initial-sync\");\n            return ({\n                \"useOptionButtonPosition.useEffect\": ()=>{\n                    detach.forEach({\n                        \"useOptionButtonPosition.useEffect\": (fn)=>{\n                            try {\n                                fn();\n                            } catch (e) {\n                            // no-op cleanup guard\n                            }\n                        }\n                    }[\"useOptionButtonPosition.useEffect\"]);\n                }\n            })[\"useOptionButtonPosition.useEffect\"];\n        }\n    }[\"useOptionButtonPosition.useEffect\"], [\n        stageRef,\n        layoutRootRef,\n        elementosSeleccionados.length,\n        actualizarPosicionBotonOpciones,\n        ocultarBotonOpciones\n    ]);\n    return {\n        actualizarPosicionBotonOpciones\n    };\n}\n_s(useOptionButtonPosition, \"v+ENYjZOVvZm8w/O7K1fozfoPMg=\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = __webpack_module__.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                __webpack_module__.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                __webpack_module__.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        __webpack_module__.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    __webpack_module__.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2VkaXRvci9vdmVybGF5cy91c2VPcHRpb25CdXR0b25Qb3NpdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFFdkQsTUFBTUcsK0JBQStCO0FBQ3JDLE1BQU1DLDhCQUE4QjtBQUNwQyxNQUFNQyw4QkFBOEI7QUFDcEMsTUFBTUMsZ0NBQWdDO0FBQ3RDLE1BQU1DLGdDQUFnQztBQUN0QyxNQUFNQywrQkFBK0I7QUFDckMsTUFBTUMsK0JBQStCO0FBQ3JDLE1BQU1DLGtCQUFrQjtBQUV4QixTQUFTQztJQUNQLE9BQU8sS0FBNkIsSUFBSUMsT0FBT0MsbUJBQW1CLEtBQUs7QUFDekU7QUFFQSxTQUFTQyxhQUFhQyxZQUFZLEVBQUVDLFlBQVk7SUFDOUMsSUFBSUMsT0FBT0MsUUFBUSxDQUFDSCxpQkFBaUJBLGVBQWUsR0FBRyxPQUFPQTtJQUM5RCxJQUFJRSxPQUFPQyxRQUFRLENBQUNGLGlCQUFpQkEsZUFBZSxHQUFHLE9BQU9BO0lBQzlELE9BQU87QUFDVDtBQUVBLFNBQVNHLE1BQU1DLEtBQUssRUFBRUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVCLE9BQU9DLEtBQUtGLEdBQUcsQ0FBQ0MsS0FBS0MsS0FBS0QsR0FBRyxDQUFDRCxLQUFLRDtBQUNyQztBQUVBLFNBQVNJLG9CQUFvQkMsTUFBTTtRQU9qQkE7SUFOaEIsSUFBSUEsV0FBV2IsUUFBUSxPQUFPO0lBQzlCLElBQUlhLFdBQVdDLFVBQVUsT0FBTztJQUNoQyxJQUFJLENBQUVELENBQUFBLGtCQUFrQkUsT0FBTSxHQUFJLE9BQU87SUFFekMsTUFBTUMsTUFBTUMsT0FBT0osT0FBT0ssT0FBTyxJQUFJLElBQUlDLFdBQVc7SUFDcEQsTUFBTUMsS0FBS1AsT0FBT08sRUFBRSxHQUFHLElBQWMsT0FBVlAsT0FBT08sRUFBRSxJQUFLO0lBQ3pDLE1BQU1DLFVBQVVSLEVBQUFBLG9CQUFBQSxPQUFPUyxTQUFTLGNBQWhCVCx3Q0FBQUEs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QUFBLDRCQUFBQSxNQUFPUyxHQUFHLEtBQUk7O2dCQUVuRHJLLE1BQU1rSyxFQUFFLENBQUMsMEJBQTBCRTtnQkFDbkNwSyxNQUFNa0ssRUFBRSxDQUFDLHlCQUF5Qkk7Z0JBQ2xDdEssTUFBTWtLLEVBQUUsQ0FBQywyQkFBMkJLO2dCQUNwQ3ZLLE1BQU1rSyxFQUFFLENBQUMsOEJBQThCTTtnQkFDdkNqQixPQUFPaEksSUFBSTt5REFBQzt3QkFDVnZCLE1BQU1tSyxHQUFHLENBQUMsMEJBQTBCQzt3QkFDcENwSyxNQUFNbUssR0FBRyxDQUFDLHlCQUF5Qkc7d0JBQ25DdEssTUFBTW1LLEdBQUcsQ0FBQywyQkFBMkJJO3dCQUNyQ3ZLLE1BQU1tSyxHQUFHLENBQUMsOEJBQThCSztvQkFDMUM7O1lBQ0Y7WUFFQSxtRUFBbUU7WUFDbkVuQixhQUFhO1lBRWI7cURBQU87b0JBQ0xFLE9BQU9DLE9BQU87NkRBQUMsQ0FBQ2lCOzRCQUNkLElBQUk7Z0NBQ0ZBOzRCQUNGLEVBQUUsVUFBTTs0QkFDTixzQkFBc0I7NEJBQ3hCO3dCQUNGOztnQkFDRjs7UUFDRjs0Q0FBRztRQUNEMUk7UUFDQUg7UUFDQUUsdUJBQXVCcEMsTUFBTTtRQUM3QnlFO1FBQ0FMO0tBQ0Q7SUFFRCxPQUFPO1FBQ0xLO0lBQ0Y7QUFDRjtHQWxid0J6QyIsInNvdXJjZXMiOlsiQzpcXFJlc2VydmFlbGRpYVxcc3JjXFxjb21wb25lbnRzXFxlZGl0b3JcXG92ZXJsYXlzXFx1c2VPcHRpb25CdXR0b25Qb3NpdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgRkFMTEJBQ0tfQlVUVE9OX1NJWkVfREVTS1RPUCA9IDI4O1xuY29uc3QgRkFMTEJBQ0tfQlVUVE9OX1NJWkVfTU9CSUxFID0gMzg7XG5jb25zdCBCVVRUT05fVkVSVEVYX09WRVJMQVBfUkFUSU8gPSAwLjU7XG5jb25zdCBCVVRUT05fVkVSVEVYX05VREdFX1hfREVTS1RPUCA9IDIwO1xuY29uc3QgQlVUVE9OX1ZFUlRFWF9OVURHRV9ZX0RFU0tUT1AgPSAyMDtcbmNvbnN0IEJVVFRPTl9WRVJURVhfTlVER0VfWF9NT0JJTEUgPSAxMDtcbmNvbnN0IEJVVFRPTl9WRVJURVhfTlVER0VfWV9NT0JJTEUgPSAxMDtcbmNvbnN0IExPR19USFJPVFRMRV9NUyA9IDEyMDtcblxuZnVuY3Rpb24gaXNPcHRpb25CdXR0b25EZWJ1Z0VuYWJsZWQoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5fX0RCR19PUFRJT05fQlVUVE9OID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlU2NhbGUoZXNjYWxhVmlzdWFsLCBlc2NhbGFBY3RpdmEpIHtcbiAgaWYgKE51bWJlci5pc0Zpbml0ZShlc2NhbGFWaXN1YWwpICYmIGVzY2FsYVZpc3VhbCA+IDApIHJldHVybiBlc2NhbGFWaXN1YWw7XG4gIGlmIChOdW1iZXIuaXNGaW5pdGUoZXNjYWxhQWN0aXZhKSAmJiBlc2NhbGFBY3RpdmEgPiAwKSByZXR1cm4gZXNjYWxhQWN0aXZhO1xuICByZXR1cm4gMTtcbn1cblxuZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgdmFsdWUpKTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVFdmVudFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHRhcmdldCA9PT0gd2luZG93KSByZXR1cm4gXCJ3aW5kb3dcIjtcbiAgaWYgKHRhcmdldCA9PT0gZG9jdW1lbnQpIHJldHVybiBcImRvY3VtZW50XCI7XG4gIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm4gXCJ1bmtub3duXCI7XG5cbiAgY29uc3QgdGFnID0gU3RyaW5nKHRhcmdldC50YWdOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGlkID0gdGFyZ2V0LmlkID8gYCMke3RhcmdldC5pZH1gIDogXCJcIjtcbiAgY29uc3QgY2xhc3NlcyA9IHRhcmdldC5jbGFzc0xpc3Q/Lmxlbmd0aFxuICAgID8gYC4ke0FycmF5LmZyb20odGFyZ2V0LmNsYXNzTGlzdCkuc2xpY2UoMCwgMikuam9pbihcIi5cIil9YFxuICAgIDogXCJcIjtcbiAgcmV0dXJuIGAke3RhZ30ke2lkfSR7Y2xhc3Nlc31gIHx8IFwiZWxlbWVudFwiO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlUmVuZGVyZWRTY2FsZShzdGFnZSwgc3RhZ2VSZWN0LCBlc2NhbGFWaXN1YWwsIGVzY2FsYUFjdGl2YSkge1xuICBjb25zdCBzdGFnZVdpZHRoID1cbiAgICB0eXBlb2Ygc3RhZ2U/LndpZHRoID09PSBcImZ1bmN0aW9uXCIgPyBOdW1iZXIoc3RhZ2Uud2lkdGgoKSkgOiBOdW1iZXIoc3RhZ2U/LmF0dHJzPy53aWR0aCk7XG4gIGNvbnN0IHN0YWdlSGVpZ2h0ID1cbiAgICB0eXBlb2Ygc3RhZ2U/LmhlaWdodCA9PT0gXCJmdW5jdGlvblwiID8gTnVtYmVyKHN0YWdlLmhlaWdodCgpKSA6IE51bWJlcihzdGFnZT8uYXR0cnM/LmhlaWdodCk7XG5cbiAgY29uc3QgZmFsbGJhY2sgPSByZXNvbHZlU2NhbGUoZXNjYWxhVmlzdWFsLCBlc2NhbGFBY3RpdmEpO1xuICBjb25zdCBzY2FsZVggPSBOdW1iZXIuaXNGaW5pdGUoc3RhZ2VXaWR0aCkgJiYgc3RhZ2VXaWR0aCA+IDBcbiAgICA/IHN0YWdlUmVjdC53aWR0aCAvIHN0YWdlV2lkdGhcbiAgICA6IGZhbGxiYWNrO1xuICBjb25zdCBzY2FsZVkgPSBOdW1iZXIuaXNGaW5pdGUoc3RhZ2VIZWlnaHQpICYmIHN0YWdlSGVpZ2h0ID4gMFxuICAgID8gc3RhZ2VSZWN0LmhlaWdodCAvIHN0YWdlSGVpZ2h0XG4gICAgOiBmYWxsYmFjaztcblxuICByZXR1cm4ge1xuICAgIHg6IE51bWJlci5pc0Zpbml0ZShzY2FsZVgpICYmIHNjYWxlWCA+IDAgPyBzY2FsZVggOiBmYWxsYmFjayxcbiAgICB5OiBOdW1iZXIuaXNGaW5pdGUoc2NhbGVZKSAmJiBzY2FsZVkgPiAwID8gc2NhbGVZIDogZmFsbGJhY2ssXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbGFibGVBbmNlc3RvcnMoc3RhcnROb2RlKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gW107XG4gIGlmICghKHN0YXJ0Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm4gW3dpbmRvd107XG5cbiAgY29uc3QgdGFyZ2V0cyA9IFtdO1xuICBsZXQgY3VycmVudCA9IHN0YXJ0Tm9kZS5wYXJlbnRFbGVtZW50O1xuXG4gIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGN1cnJlbnQpO1xuICAgIGNvbnN0IG92ZXJmbG93WSA9IFN0cmluZyhzdHlsZS5vdmVyZmxvd1kgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBvdmVyZmxvdyA9IFN0cmluZyhzdHlsZS5vdmVyZmxvdyB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGlzU2Nyb2xsYWJsZSA9XG4gICAgICBvdmVyZmxvd1kgPT09IFwiYXV0b1wiIHx8XG4gICAgICBvdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHxcbiAgICAgIG92ZXJmbG93WSA9PT0gXCJvdmVybGF5XCIgfHxcbiAgICAgIG92ZXJmbG93ID09PSBcImF1dG9cIiB8fFxuICAgICAgb3ZlcmZsb3cgPT09IFwic2Nyb2xsXCIgfHxcbiAgICAgIG92ZXJmbG93ID09PSBcIm92ZXJsYXlcIjtcblxuICAgIGlmIChpc1Njcm9sbGFibGUpIHtcbiAgICAgIHRhcmdldHMucHVzaChjdXJyZW50KTtcbiAgICB9XG5cbiAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgaWYgKGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQpIHtcbiAgICB0YXJnZXRzLnB1c2goZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCk7XG4gIH1cbiAgdGFyZ2V0cy5wdXNoKHdpbmRvdyk7XG5cbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh0YXJnZXRzKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZU9wdGlvbkJ1dHRvblBvc2l0aW9uKHtcbiAgYm90b25PcGNpb25lc1JlZixcbiAgbGF5b3V0Um9vdFJlZiA9IG51bGwsXG4gIGVsZW1lbnRSZWZzLFxuICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLFxuICBzdGFnZVJlZixcbiAgZXNjYWxhVmlzdWFsLFxuICBlc2NhbGFBY3RpdmEsXG4gIGlzTW9iaWxlID0gZmFsc2UsXG4gIGJ1dHRvblNpemUgPSBGQUxMQkFDS19CVVRUT05fU0laRV9ERVNLVE9QLFxufSkge1xuICBjb25zdCBsYXN0TG9nQnlFdmVudFJlZiA9IHVzZVJlZih7fSk7XG5cbiAgY29uc3QgZGVidWdMb2cgPSB1c2VDYWxsYmFjaygoZXZlbnROYW1lLCBwYXlsb2FkID0ge30sIGZvcmNlID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIWlzT3B0aW9uQnV0dG9uRGVidWdFbmFibGVkKCkpIHJldHVybjtcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcHJldmlvdXMgPSBOdW1iZXIobGFzdExvZ0J5RXZlbnRSZWYuY3VycmVudFtldmVudE5hbWVdIHx8IDApO1xuICAgIGlmICghZm9yY2UgJiYgbm93IC0gcHJldmlvdXMgPCBMT0dfVEhST1RUTEVfTVMpIHJldHVybjtcbiAgICBsYXN0TG9nQnlFdmVudFJlZi5jdXJyZW50W2V2ZW50TmFtZV0gPSBub3c7XG5cbiAgICBjb25zb2xlLmxvZyhgW09QVElPTi1CVVRUT05dICR7ZXZlbnROYW1lfWAsIHtcbiAgICAgIHRzOiBuZXcgRGF0ZShub3cpLnRvSVNPU3RyaW5nKCksXG4gICAgICAuLi5wYXlsb2FkLFxuICAgIH0pO1xuXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gXCJwb3NpdGlvblwiKSB7XG4gICAgICBjb25zdCBib3hZID0gcGF5bG9hZD8uYm94U3RhZ2U/LnkgPz8gbnVsbDtcbiAgICAgIGNvbnN0IGFic1kgPSBwYXlsb2FkPy5ub2RlQWJzb2x1dGU/LnkgPz8gbnVsbDtcbiAgICAgIGNvbnN0IGFuY2hvclkgPSBwYXlsb2FkPy5hbmNob3JTdGFnZVkgPz8gbnVsbDtcbiAgICAgIGNvbnN0IGZpbmFsWSA9IHBheWxvYWQ/LmZpbmFsPy55ID8/IG51bGw7XG4gICAgICBjb25zdCBlbGVtZW50WSA9IHBheWxvYWQ/LmVsZW1lbnRTY3JlZW4/LnkgPz8gbnVsbDtcbiAgICAgIGNvbnN0IHN0YWdlVG9wID0gcGF5bG9hZD8uc3RhZ2VSZWN0Py50b3AgPz8gbnVsbDtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHBheWxvYWQ/LnNvdXJjZSA/PyBcInVua25vd25cIjtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBheWxvYWQ/LmV2ZW50VGFyZ2V0Py5sYWJlbCA/PyBwYXlsb2FkPy5zY3JvbGxUYXJnZXQ/LmxhYmVsID8/IFwidW5rbm93blwiO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBbT1BUSU9OLUJVVFRPTl1bU1VNTUFSWV0gc3JjPSR7c291cmNlfSB0YXJnZXQ9JHt0YXJnZXR9IGJveFk9JHtib3hZfSBhYnNZPSR7YWJzWX0gYW5jaG9yWT0ke2FuY2hvcll9IGVsZW1lbnRZPSR7ZWxlbWVudFl9IGZpbmFsWT0ke2ZpbmFsWX0gc3RhZ2VUb3A9JHtzdGFnZVRvcH1gXG4gICAgICApO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IG9jdWx0YXJCb3Rvbk9wY2lvbmVzID0gdXNlQ2FsbGJhY2soKHJlYXNvbiA9IFwidW5rbm93blwiLCBleHRyYSA9IG51bGwpID0+IHtcbiAgICBpZiAoIWJvdG9uT3BjaW9uZXNSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGJvdG9uT3BjaW9uZXNSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZGVidWdMb2coXG4gICAgICBcImhpZGVcIixcbiAgICAgIHtcbiAgICAgICAgcmVhc29uLFxuICAgICAgICBzZWxlY3RlZElkOiBlbGVtZW50b3NTZWxlY2Npb25hZG9zPy5bMF0gPz8gbnVsbCxcbiAgICAgICAgaXNNb2JpbGUsXG4gICAgICAgIGV4dHJhLFxuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfSwgW2JvdG9uT3BjaW9uZXNSZWYsIGRlYnVnTG9nLCBlbGVtZW50b3NTZWxlY2Npb25hZG9zLCBpc01vYmlsZV0pO1xuXG4gIGNvbnN0IGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgPSB1c2VDYWxsYmFjaygoXG4gICAgc291cmNlID0gXCJtYW51YWxcIixcbiAgICBuYXRpdmVFdmVudCA9IG51bGwsXG4gICAgZXZlbnRUYXJnZXRMYWJlbCA9IG51bGxcbiAgKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgICBpZiAoIWJvdG9uT3BjaW9uZXNSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoICE9PSAxKSB7XG4gICAgICBvY3VsdGFyQm90b25PcGNpb25lcyhcInNlbGVjdGlvbi1jb3VudFwiLCB7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgY291bnQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbm9kZVJlZiA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXV07XG4gICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50O1xuICAgIGlmICghbm9kZVJlZiB8fCAhc3RhZ2UpIHtcbiAgICAgIG9jdWx0YXJCb3Rvbk9wY2lvbmVzKFwibWlzc2luZy1ub2RlLW9yLXN0YWdlXCIsIHtcbiAgICAgICAgc291cmNlLFxuICAgICAgICBoYXNOb2RlOiBCb29sZWFuKG5vZGVSZWYpLFxuICAgICAgICBoYXNTdGFnZTogQm9vbGVhbihzdGFnZSksXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgYm94ID0gbm9kZVJlZi5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgcmVsYXRpdmVUbzogc3RhZ2UsXG4gICAgICAgIHNraXBTaGFkb3c6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5vZGVBYnNvbHV0ZVBvc2l0aW9uID1cbiAgICAgICAgdHlwZW9mIG5vZGVSZWYuZ2V0QWJzb2x1dGVQb3NpdGlvbiA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBub2RlUmVmLmdldEFic29sdXRlUG9zaXRpb24oKVxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgeDogdHlwZW9mIG5vZGVSZWYueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZVJlZi54KCkgOiBudWxsLFxuICAgICAgICAgICAgeTogdHlwZW9mIG5vZGVSZWYueSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZVJlZi55KCkgOiBudWxsLFxuICAgICAgICAgIH07XG4gICAgICBjb25zdCBzdGFnZUNvbnRhaW5lciA9XG4gICAgICAgIHR5cGVvZiBzdGFnZS5jb250YWluZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gc3RhZ2UuY29udGFpbmVyKClcbiAgICAgICAgICA6IHN0YWdlLmdldFN0YWdlPy4oKT8uY29udGFpbmVyPy4oKTtcbiAgICAgIGlmICghc3RhZ2VDb250YWluZXIpIHtcbiAgICAgICAgb2N1bHRhckJvdG9uT3BjaW9uZXMoXCJtaXNzaW5nLXN0YWdlLWNvbnRhaW5lclwiLCB7IHNvdXJjZSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdGFnZVJlY3QgPSBzdGFnZUNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHJlbmRlcmVkU2NhbGUgPSByZXNvbHZlUmVuZGVyZWRTY2FsZShzdGFnZSwgc3RhZ2VSZWN0LCBlc2NhbGFWaXN1YWwsIGVzY2FsYUFjdGl2YSk7XG4gICAgICBjb25zdCB0YXJnZXRCdXR0b25TaXplID1cbiAgICAgICAgTnVtYmVyLmlzRmluaXRlKGJ1dHRvblNpemUpICYmIGJ1dHRvblNpemUgPiAwXG4gICAgICAgICAgPyBidXR0b25TaXplXG4gICAgICAgICAgOiBpc01vYmlsZVxuICAgICAgICAgICAgPyBGQUxMQkFDS19CVVRUT05fU0laRV9NT0JJTEVcbiAgICAgICAgICAgIDogRkFMTEJBQ0tfQlVUVE9OX1NJWkVfREVTS1RPUDtcbiAgICAgIGNvbnN0IG92ZXJsYXBQeCA9IHRhcmdldEJ1dHRvblNpemUgKiBCVVRUT05fVkVSVEVYX09WRVJMQVBfUkFUSU87XG4gICAgICBjb25zdCBudWRnZVggPSBpc01vYmlsZSA/IEJVVFRPTl9WRVJURVhfTlVER0VfWF9NT0JJTEUgOiBCVVRUT05fVkVSVEVYX05VREdFX1hfREVTS1RPUDtcbiAgICAgIGNvbnN0IG51ZGdlWSA9IGlzTW9iaWxlID8gQlVUVE9OX1ZFUlRFWF9OVURHRV9ZX01PQklMRSA6IEJVVFRPTl9WRVJURVhfTlVER0VfWV9ERVNLVE9QO1xuXG4gICAgICBjb25zdCBhbmNob3JTdGFnZVkgPVxuICAgICAgICBOdW1iZXIuaXNGaW5pdGUobm9kZUFic29sdXRlUG9zaXRpb24/LnkpXG4gICAgICAgICAgPyBNYXRoLm1pbihib3gueSwgbm9kZUFic29sdXRlUG9zaXRpb24ueSlcbiAgICAgICAgICA6IGJveC55O1xuXG4gICAgICBjb25zdCBlbGVtZW50b1ggPSBzdGFnZVJlY3QubGVmdCArIGJveC54ICogcmVuZGVyZWRTY2FsZS54O1xuICAgICAgY29uc3QgZWxlbWVudG9ZID0gc3RhZ2VSZWN0LnRvcCArIGFuY2hvclN0YWdlWSAqIHJlbmRlcmVkU2NhbGUueTtcbiAgICAgIGNvbnN0IGFuY2hvRWxlbWVudG8gPSBNYXRoLm1heCgwLCBib3gud2lkdGggKiByZW5kZXJlZFNjYWxlLngpO1xuICAgICAgY29uc3QgYWx0b0VsZW1lbnRvID0gTWF0aC5tYXgoMCwgYm94LmhlaWdodCAqIHJlbmRlcmVkU2NhbGUueSk7XG4gICAgICBjb25zdCBlbGVtZW50b1JpZ2h0ID0gZWxlbWVudG9YICsgYW5jaG9FbGVtZW50bztcblxuICAgICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCB2aWV3cG9ydFBhZGRpbmcgPSBpc01vYmlsZSA/IDggOiA0O1xuXG4gICAgICBjb25zdCBlbGVtZW50b1Zpc2libGUgPVxuICAgICAgICBlbGVtZW50b1ggKyBhbmNob0VsZW1lbnRvID49IDAgJiZcbiAgICAgICAgZWxlbWVudG9YIDw9IHZpZXdwb3J0V2lkdGggJiZcbiAgICAgICAgZWxlbWVudG9ZICsgYWx0b0VsZW1lbnRvID49IDAgJiZcbiAgICAgICAgZWxlbWVudG9ZIDw9IHZpZXdwb3J0SGVpZ2h0O1xuXG4gICAgICBpZiAoIWVsZW1lbnRvVmlzaWJsZSkge1xuICAgICAgICBvY3VsdGFyQm90b25PcGNpb25lcyhcImVsZW1lbnQtb3V0c2lkZS12aWV3cG9ydFwiLCB7XG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGVsZW1lbnRSZWN0OiB7XG4gICAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKGVsZW1lbnRvWCksXG4gICAgICAgICAgICB0b3A6IE1hdGgucm91bmQoZWxlbWVudG9ZKSxcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGFuY2hvRWxlbWVudG8pLFxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGFsdG9FbGVtZW50byksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB2aWV3cG9ydDogeyB3aWR0aDogdmlld3BvcnRXaWR0aCwgaGVpZ2h0OiB2aWV3cG9ydEhlaWdodCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBBbmNsYSB2aXN1YWw6IGNlbnRybyBkZWwgYm90w7NuIGV4YWN0YW1lbnRlIGVuIGVsIHbDqXJ0aWNlIHN1cGVyaW9yIGRlcmVjaG8uXG4gICAgICBjb25zdCBwcmVmZXJyZWRYID0gZWxlbWVudG9SaWdodCAtIG92ZXJsYXBQeCArIG51ZGdlWDtcbiAgICAgIGNvbnN0IHByZWZlcnJlZFkgPSBlbGVtZW50b1kgLSBvdmVybGFwUHggLSBudWRnZVk7XG5cbiAgICAgIGNvbnN0IG1pblggPSB2aWV3cG9ydFBhZGRpbmc7XG4gICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgobWluWCwgdmlld3BvcnRXaWR0aCAtIHRhcmdldEJ1dHRvblNpemUgLSB2aWV3cG9ydFBhZGRpbmcpO1xuICAgICAgY29uc3QgbWluWSA9IHZpZXdwb3J0UGFkZGluZztcbiAgICAgIGNvbnN0IG1heFkgPSBNYXRoLm1heChtaW5ZLCB2aWV3cG9ydEhlaWdodCAtIHRhcmdldEJ1dHRvblNpemUgLSB2aWV3cG9ydFBhZGRpbmcpO1xuXG4gICAgICBjb25zdCBmYWxsYmFja05lYXJWZXJ0ZXhYID0gZWxlbWVudG9SaWdodCAtIHRhcmdldEJ1dHRvblNpemUgLSAxO1xuICAgICAgY29uc3QgdXNlRmFsbGJhY2tOZWFyVmVydGV4WCA9XG4gICAgICAgIHByZWZlcnJlZFggKyB0YXJnZXRCdXR0b25TaXplID4gdmlld3BvcnRXaWR0aCAtIHZpZXdwb3J0UGFkZGluZyAmJlxuICAgICAgICBmYWxsYmFja05lYXJWZXJ0ZXhYID49IG1pblg7XG4gICAgICBjb25zdCBmYWxsYmFja05lYXJWZXJ0ZXhZID0gZWxlbWVudG9ZICsgMTtcbiAgICAgIGNvbnN0IHVzZUZhbGxiYWNrTmVhclZlcnRleFkgPSBwcmVmZXJyZWRZIDwgbWluWSAmJiBmYWxsYmFja05lYXJWZXJ0ZXhZIDw9IG1heFk7XG5cbiAgICAgIGNvbnN0IHBsYWNlbWVudE1vZGVYID0gdXNlRmFsbGJhY2tOZWFyVmVydGV4WCA/IFwiZmFsbGJhY2stbGVmdC1vZi12ZXJ0ZXhcIiA6IFwidmVydGV4XCI7XG4gICAgICBjb25zdCBwbGFjZW1lbnRNb2RlWSA9IHVzZUZhbGxiYWNrTmVhclZlcnRleFkgPyBcImZhbGxiYWNrLWJlbG93LXZlcnRleFwiIDogXCJ2ZXJ0ZXhcIjtcbiAgICAgIGxldCBib3RvblggPSB1c2VGYWxsYmFja05lYXJWZXJ0ZXhYID8gZmFsbGJhY2tOZWFyVmVydGV4WCA6IHByZWZlcnJlZFg7XG4gICAgICBsZXQgYm90b25ZID0gdXNlRmFsbGJhY2tOZWFyVmVydGV4WSA/IGZhbGxiYWNrTmVhclZlcnRleFkgOiBwcmVmZXJyZWRZO1xuXG5cbiAgICAgIGJvdG9uWCA9IGNsYW1wKGJvdG9uWCwgbWluWCwgbWF4WCk7XG4gICAgICBib3RvblkgPSBjbGFtcChib3RvblksIG1pblksIG1heFkpO1xuXG4gICAgICBjb25zdCBoYXNSZWxhdGl2ZVJvb3QgPSBCb29sZWFuKGxheW91dFJvb3RSZWY/LmN1cnJlbnQpO1xuICAgICAgbGV0IHJlbmRlclggPSBib3Rvblg7XG4gICAgICBsZXQgcmVuZGVyWSA9IGJvdG9uWTtcbiAgICAgIGlmIChoYXNSZWxhdGl2ZVJvb3QpIHtcbiAgICAgICAgY29uc3Qgcm9vdFJlY3QgPSBsYXlvdXRSb290UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJlbmRlclggPSBib3RvblggLSByb290UmVjdC5sZWZ0O1xuICAgICAgICByZW5kZXJZID0gYm90b25ZIC0gcm9vdFJlY3QudG9wO1xuICAgICAgfVxuXG4gICAgICBib3Rvbk9wY2lvbmVzUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGAke01hdGgucm91bmQocmVuZGVyWCl9cHhgO1xuICAgICAgYm90b25PcGNpb25lc1JlZi5jdXJyZW50LnN0eWxlLnRvcCA9IGAke01hdGgucm91bmQocmVuZGVyWSl9cHhgO1xuICAgICAgYm90b25PcGNpb25lc1JlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblxuICAgICAgaWYgKGlzT3B0aW9uQnV0dG9uRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgY29uc3QgZGVidWdTY3JvbGxUYXJnZXQgPSBnZXRTY3JvbGxhYmxlQW5jZXN0b3JzKHN0YWdlQ29udGFpbmVyKVswXSB8fCB3aW5kb3c7XG4gICAgICAgIGNvbnN0IHN0YWdlV2lkdGggPVxuICAgICAgICAgIHR5cGVvZiBzdGFnZT8ud2lkdGggPT09IFwiZnVuY3Rpb25cIiA/IE51bWJlcihzdGFnZS53aWR0aCgpKSA6IE51bWJlcihzdGFnZT8uYXR0cnM/LndpZHRoKTtcbiAgICAgICAgY29uc3Qgc3RhZ2VIZWlnaHQgPVxuICAgICAgICAgIHR5cGVvZiBzdGFnZT8uaGVpZ2h0ID09PSBcImZ1bmN0aW9uXCIgPyBOdW1iZXIoc3RhZ2UuaGVpZ2h0KCkpIDogTnVtYmVyKHN0YWdlPy5hdHRycz8uaGVpZ2h0KTtcbiAgICAgICAgZGVidWdMb2coXCJwb3NpdGlvblwiLCB7XG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIHNlbGVjdGVkSWQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NbMF0sXG4gICAgICAgICAgaXNNb2JpbGUsXG4gICAgICAgICAgcG9pbnRlclR5cGU6IG5hdGl2ZUV2ZW50Py5wb2ludGVyVHlwZSA/PyBudWxsLFxuICAgICAgICAgIG5hdGl2ZUV2ZW50VHlwZTogbmF0aXZlRXZlbnQ/LnR5cGUgPz8gbnVsbCxcbiAgICAgICAgICBldmVudFRhcmdldDoge1xuICAgICAgICAgICAgbGFiZWw6IGV2ZW50VGFyZ2V0TGFiZWwgfHwgZGVzY3JpYmVFdmVudFRhcmdldChuYXRpdmVFdmVudD8udGFyZ2V0KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YWdlU2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IE51bWJlci5pc0Zpbml0ZShzdGFnZVdpZHRoKSA/IHN0YWdlV2lkdGggOiBudWxsLFxuICAgICAgICAgICAgaGVpZ2h0OiBOdW1iZXIuaXNGaW5pdGUoc3RhZ2VIZWlnaHQpID8gc3RhZ2VIZWlnaHQgOiBudWxsLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhZ2VSZWN0OiB7XG4gICAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKHN0YWdlUmVjdC5sZWZ0KSxcbiAgICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChzdGFnZVJlY3QudG9wKSxcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHN0YWdlUmVjdC53aWR0aCksXG4gICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQoc3RhZ2VSZWN0LmhlaWdodCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW5kZXJlZFNjYWxlOiB7XG4gICAgICAgICAgICB4OiBOdW1iZXIocmVuZGVyZWRTY2FsZS54LnRvRml4ZWQoNCkpLFxuICAgICAgICAgICAgeTogTnVtYmVyKHJlbmRlcmVkU2NhbGUueS50b0ZpeGVkKDQpKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJveFN0YWdlOiB7XG4gICAgICAgICAgICB4OiBOdW1iZXIoYm94LngudG9GaXhlZCgyKSksXG4gICAgICAgICAgICB5OiBOdW1iZXIoYm94LnkudG9GaXhlZCgyKSksXG4gICAgICAgICAgICB3aWR0aDogTnVtYmVyKGJveC53aWR0aC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIGhlaWdodDogTnVtYmVyKGJveC5oZWlnaHQudG9GaXhlZCgyKSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBub2RlQWJzb2x1dGU6IHtcbiAgICAgICAgICAgIHg6IE51bWJlci5pc0Zpbml0ZShub2RlQWJzb2x1dGVQb3NpdGlvbj8ueClcbiAgICAgICAgICAgICAgPyBOdW1iZXIobm9kZUFic29sdXRlUG9zaXRpb24ueC50b0ZpeGVkKDIpKVxuICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB5OiBOdW1iZXIuaXNGaW5pdGUobm9kZUFic29sdXRlUG9zaXRpb24/LnkpXG4gICAgICAgICAgICAgID8gTnVtYmVyKG5vZGVBYnNvbHV0ZVBvc2l0aW9uLnkudG9GaXhlZCgyKSlcbiAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYW5jaG9yU3RhZ2VZOiBOdW1iZXIoYW5jaG9yU3RhZ2VZLnRvRml4ZWQoMikpLFxuICAgICAgICAgIGVsZW1lbnRTY3JlZW46IHtcbiAgICAgICAgICAgIHg6IE51bWJlcihlbGVtZW50b1gudG9GaXhlZCgyKSksXG4gICAgICAgICAgICB5OiBOdW1iZXIoZWxlbWVudG9ZLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgcmlnaHQ6IE51bWJlcihlbGVtZW50b1JpZ2h0LnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgd2lkdGg6IE51bWJlcihhbmNob0VsZW1lbnRvLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgaGVpZ2h0OiBOdW1iZXIoYWx0b0VsZW1lbnRvLnRvRml4ZWQoMikpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJlZmVycmVkOiB7XG4gICAgICAgICAgICB4OiBOdW1iZXIocHJlZmVycmVkWC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHk6IE51bWJlcihwcmVmZXJyZWRZLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgdGFyZ2V0QnV0dG9uU2l6ZSxcbiAgICAgICAgICAgIG92ZXJsYXBQeDogTnVtYmVyKG92ZXJsYXBQeC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIG51ZGdlWCxcbiAgICAgICAgICAgIG51ZGdlWSxcbiAgICAgICAgICAgIGZhbGxiYWNrTmVhclZlcnRleFg6IE51bWJlcihmYWxsYmFja05lYXJWZXJ0ZXhYLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgZmFsbGJhY2tOZWFyVmVydGV4WTogTnVtYmVyKGZhbGxiYWNrTmVhclZlcnRleFkudG9GaXhlZCgyKSksXG4gICAgICAgICAgICBwbGFjZW1lbnRNb2RlWCxcbiAgICAgICAgICAgIHBsYWNlbWVudE1vZGVZLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluYWw6IHtcbiAgICAgICAgICAgIHg6IE51bWJlcihib3RvblgudG9GaXhlZCgyKSksXG4gICAgICAgICAgICB5OiBOdW1iZXIoYm90b25ZLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgcmVuZGVyWDogTnVtYmVyKHJlbmRlclgudG9GaXhlZCgyKSksXG4gICAgICAgICAgICByZW5kZXJZOiBOdW1iZXIocmVuZGVyWS50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHBvc2l0aW9uTW9kZTogaGFzUmVsYXRpdmVSb290ID8gXCJhYnNvbHV0ZVwiIDogXCJmaXhlZFwiLFxuICAgICAgICAgICAgbWluWCxcbiAgICAgICAgICAgIG1heFgsXG4gICAgICAgICAgICBtaW5ZLFxuICAgICAgICAgICAgbWF4WSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgICAgICB3aWR0aDogdmlld3BvcnRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnRIZWlnaHQsXG4gICAgICAgICAgICBzY3JvbGxYOiBOdW1iZXIod2luZG93LnNjcm9sbFggfHwgd2luZG93LnBhZ2VYT2Zmc2V0IHx8IDApLFxuICAgICAgICAgICAgc2Nyb2xsWTogTnVtYmVyKHdpbmRvdy5zY3JvbGxZIHx8IHdpbmRvdy5wYWdlWU9mZnNldCB8fCAwKSxcbiAgICAgICAgICAgIHZpc3VhbFZpZXdwb3J0OiB3aW5kb3cudmlzdWFsVmlld3BvcnRcbiAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wOiBOdW1iZXIod2luZG93LnZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcCB8fCAwKSxcbiAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0OiBOdW1iZXIod2luZG93LnZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQgfHwgMCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IE51bWJlcih3aW5kb3cudmlzdWFsVmlld3BvcnQud2lkdGggfHwgMCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBOdW1iZXIod2luZG93LnZpc3VhbFZpZXdwb3J0LmhlaWdodCB8fCAwKSxcbiAgICAgICAgICAgICAgICBzY2FsZTogTnVtYmVyKHdpbmRvdy52aXN1YWxWaWV3cG9ydC5zY2FsZSB8fCAxKSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY3JvbGxUYXJnZXQ6IHtcbiAgICAgICAgICAgIGxhYmVsOiBkZXNjcmliZUV2ZW50VGFyZ2V0KGRlYnVnU2Nyb2xsVGFyZ2V0KSxcbiAgICAgICAgICAgIHNjcm9sbFRvcDpcbiAgICAgICAgICAgICAgZGVidWdTY3JvbGxUYXJnZXQgJiYgXCJzY3JvbGxUb3BcIiBpbiBkZWJ1Z1Njcm9sbFRhcmdldFxuICAgICAgICAgICAgICAgID8gTnVtYmVyKGRlYnVnU2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcCB8fCAwKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgbWVzc2FnZSA9XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yIHx8IFwidW5rbm93bi1lcnJvclwiKTtcbiAgICAgIGRlYnVnTG9nKFwicG9zaXRpb24tZXJyb3JcIiwge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHNlbGVjdGVkSWQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M/LlswXSA/PyBudWxsLFxuICAgICAgICBlcnJvcjogbWVzc2FnZSxcbiAgICAgIH0sIHRydWUpO1xuICAgICAgb2N1bHRhckJvdG9uT3BjaW9uZXMoXCJleGNlcHRpb25cIiwgeyBzb3VyY2UsIGVycm9yOiBtZXNzYWdlIH0pO1xuICAgIH1cbiAgfSwgW1xuICAgIGJvdG9uT3BjaW9uZXNSZWYsXG4gICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcyxcbiAgICBlbGVtZW50UmVmcyxcbiAgICBzdGFnZVJlZixcbiAgICBlc2NhbGFWaXN1YWwsXG4gICAgZXNjYWxhQWN0aXZhLFxuICAgIGRlYnVnTG9nLFxuICAgIG9jdWx0YXJCb3Rvbk9wY2lvbmVzLFxuICAgIGxheW91dFJvb3RSZWYsXG4gICAgaXNNb2JpbGUsXG4gICAgYnV0dG9uU2l6ZSxcbiAgXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggIT09IDEpIHtcbiAgICAgIG9jdWx0YXJCb3Rvbk9wY2lvbmVzKCk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGxldCByYWZBID0gMDtcbiAgICBsZXQgcmFmQiA9IDA7XG5cbiAgICByYWZBID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICByYWZCID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoXCJyYWYtaW5pdFwiLCBudWxsLCBcInJhZlwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChyYWZBKSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmQSk7XG4gICAgICBpZiAocmFmQikgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZkIpO1xuICAgIH07XG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLCBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzLCBvY3VsdGFyQm90b25PcGNpb25lc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKSB8fCBzdGFnZVJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHN0YWdlQ29udGFpbmVyID1cbiAgICAgIHR5cGVvZiBzdGFnZT8uY29udGFpbmVyID09PSBcImZ1bmN0aW9uXCIgPyBzdGFnZS5jb250YWluZXIoKSA6IG51bGw7XG4gICAgY29uc3QgaGFzUmVsYXRpdmVSb290ID0gQm9vbGVhbihsYXlvdXRSb290UmVmPy5jdXJyZW50KTtcblxuICAgIGNvbnN0IHN5bmNQb3NpdGlvbiA9IChzb3VyY2UgPSBcInN5bmNcIiwgbmF0aXZlRXZlbnQgPSBudWxsKSA9PiB7XG4gICAgICBpZiAoZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyhcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgZGVzY3JpYmVFdmVudFRhcmdldChuYXRpdmVFdmVudD8udGFyZ2V0KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2N1bHRhckJvdG9uT3BjaW9uZXMoXCJzeW5jLW5vLXNlbGVjdGlvblwiLCB7IHNvdXJjZSB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2Nyb2xsVGFyZ2V0cyA9IGhhc1JlbGF0aXZlUm9vdFxuICAgICAgPyBbXVxuICAgICAgOiAoc3RhZ2VDb250YWluZXIgPyBnZXRTY3JvbGxhYmxlQW5jZXN0b3JzKHN0YWdlQ29udGFpbmVyKSA6IFt3aW5kb3ddKTtcbiAgICBjb25zdCBkZXRhY2ggPSBbXTtcblxuICAgIHNjcm9sbFRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB7XG4gICAgICBpZiAoIXRhcmdldD8uYWRkRXZlbnRMaXN0ZW5lciB8fCAhdGFyZ2V0Py5yZW1vdmVFdmVudExpc3RlbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBvblNjcm9sbCA9IChldmVudCkgPT4ge1xuICAgICAgICBzeW5jUG9zaXRpb24oYHNjcm9sbDoke2Rlc2NyaWJlRXZlbnRUYXJnZXQoZXZlbnQudGFyZ2V0KX1gLCBldmVudCk7XG4gICAgICB9O1xuICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgb25TY3JvbGwsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIGRldGFjaC5wdXNoKCgpID0+IHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIG9uU2Nyb2xsKSk7XG4gICAgfSk7XG5cbiAgICBpZiAoIWhhc1JlbGF0aXZlUm9vdCAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgIGNvbnN0IG9uVmlzdWFsVmlld3BvcnRTY3JvbGwgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgc3luY1Bvc2l0aW9uKFwidmlzdWFsLXZpZXdwb3J0LXNjcm9sbFwiLCBldmVudCk7XG4gICAgICB9O1xuICAgICAgY29uc3Qgb25WaXN1YWxWaWV3cG9ydFJlc2l6ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBzeW5jUG9zaXRpb24oXCJ2aXN1YWwtdmlld3BvcnQtcmVzaXplXCIsIGV2ZW50KTtcbiAgICAgIH07XG4gICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBvblZpc3VhbFZpZXdwb3J0U2Nyb2xsKTtcbiAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIG9uVmlzdWFsVmlld3BvcnRSZXNpemUpO1xuICAgICAgZGV0YWNoLnB1c2goKCkgPT4ge1xuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBvblZpc3VhbFZpZXdwb3J0U2Nyb2xsKTtcbiAgICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgb25WaXN1YWxWaWV3cG9ydFJlc2l6ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBvblJlc2l6ZSA9IChldmVudCkgPT4ge1xuICAgICAgc3luY1Bvc2l0aW9uKFwid2luZG93LXJlc2l6ZVwiLCBldmVudCk7XG4gICAgfTtcbiAgICBjb25zdCBvbk9yaWVudGF0aW9uQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBzeW5jUG9zaXRpb24oXCJ3aW5kb3ctb3JpZW50YXRpb25jaGFuZ2VcIiwgZXZlbnQpO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgb25SZXNpemUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgb25PcmllbnRhdGlvbkNoYW5nZSk7XG4gICAgZGV0YWNoLnB1c2goKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgb25SZXNpemUpKTtcbiAgICBkZXRhY2gucHVzaCgoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIG9uT3JpZW50YXRpb25DaGFuZ2UpKTtcblxuICAgIGlmIChzdGFnZT8ub24gJiYgc3RhZ2U/Lm9mZikge1xuICAgICAgY29uc3Qgb25TdGFnZURyYWdNb3ZlID0gKGV2ZW50KSA9PiBzeW5jUG9zaXRpb24oXCJzdGFnZS1kcmFnbW92ZVwiLCBldmVudD8uZXZ0IHx8IG51bGwpO1xuICAgICAgY29uc3Qgb25TdGFnZURyYWdFbmQgPSAoZXZlbnQpID0+IHN5bmNQb3NpdGlvbihcInN0YWdlLWRyYWdlbmRcIiwgZXZlbnQ/LmV2dCB8fCBudWxsKTtcbiAgICAgIGNvbnN0IG9uU3RhZ2VUcmFuc2Zvcm0gPSAoZXZlbnQpID0+IHN5bmNQb3NpdGlvbihcInN0YWdlLXRyYW5zZm9ybVwiLCBldmVudD8uZXZ0IHx8IG51bGwpO1xuICAgICAgY29uc3Qgb25TdGFnZVRyYW5zZm9ybUVuZCA9IChldmVudCkgPT5cbiAgICAgICAgc3luY1Bvc2l0aW9uKFwic3RhZ2UtdHJhbnNmb3JtZW5kXCIsIGV2ZW50Py5ldnQgfHwgbnVsbCk7XG5cbiAgICAgIHN0YWdlLm9uKFwiZHJhZ21vdmUub3B0aW9uLWJ1dHRvblwiLCBvblN0YWdlRHJhZ01vdmUpO1xuICAgICAgc3RhZ2Uub24oXCJkcmFnZW5kLm9wdGlvbi1idXR0b25cIiwgb25TdGFnZURyYWdFbmQpO1xuICAgICAgc3RhZ2Uub24oXCJ0cmFuc2Zvcm0ub3B0aW9uLWJ1dHRvblwiLCBvblN0YWdlVHJhbnNmb3JtKTtcbiAgICAgIHN0YWdlLm9uKFwidHJhbnNmb3JtZW5kLm9wdGlvbi1idXR0b25cIiwgb25TdGFnZVRyYW5zZm9ybUVuZCk7XG4gICAgICBkZXRhY2gucHVzaCgoKSA9PiB7XG4gICAgICAgIHN0YWdlLm9mZihcImRyYWdtb3ZlLm9wdGlvbi1idXR0b25cIiwgb25TdGFnZURyYWdNb3ZlKTtcbiAgICAgICAgc3RhZ2Uub2ZmKFwiZHJhZ2VuZC5vcHRpb24tYnV0dG9uXCIsIG9uU3RhZ2VEcmFnRW5kKTtcbiAgICAgICAgc3RhZ2Uub2ZmKFwidHJhbnNmb3JtLm9wdGlvbi1idXR0b25cIiwgb25TdGFnZVRyYW5zZm9ybSk7XG4gICAgICAgIHN0YWdlLm9mZihcInRyYW5zZm9ybWVuZC5vcHRpb24tYnV0dG9uXCIsIG9uU3RhZ2VUcmFuc2Zvcm1FbmQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUHJpbWVyIHN5bmMgaW5tZWRpYXRvIHBvciBzaSBoYXkgY2FtYmlvIGRlIHNjcm9sbCBlbnRyZSByZW5kZXJzLlxuICAgIHN5bmNQb3NpdGlvbihcImluaXRpYWwtc3luY1wiKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZXRhY2guZm9yRWFjaCgoZm4pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmbigpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBuby1vcCBjbGVhbnVwIGd1YXJkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFtcbiAgICBzdGFnZVJlZixcbiAgICBsYXlvdXRSb290UmVmLFxuICAgIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoLFxuICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMsXG4gICAgb2N1bHRhckJvdG9uT3BjaW9uZXMsXG4gIF0pO1xuXG4gIHJldHVybiB7XG4gICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkZBTExCQUNLX0JVVFRPTl9TSVpFX0RFU0tUT1AiLCJGQUxMQkFDS19CVVRUT05fU0laRV9NT0JJTEUiLCJCVVRUT05fVkVSVEVYX09WRVJMQVBfUkFUSU8iLCJCVVRUT05fVkVSVEVYX05VREdFX1hfREVTS1RPUCIsIkJVVFRPTl9WRVJURVhfTlVER0VfWV9ERVNLVE9QIiwiQlVUVE9OX1ZFUlRFWF9OVURHRV9YX01PQklMRSIsIkJVVFRPTl9WRVJURVhfTlVER0VfWV9NT0JJTEUiLCJMT0dfVEhST1RUTEVfTVMiLCJpc09wdGlvbkJ1dHRvbkRlYnVnRW5hYmxlZCIsIndpbmRvdyIsIl9fREJHX09QVElPTl9CVVRUT04iLCJyZXNvbHZlU2NhbGUiLCJlc2NhbGFWaXN1YWwiLCJlc2NhbGFBY3RpdmEiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImNsYW1wIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZGVzY3JpYmVFdmVudFRhcmdldCIsInRhcmdldCIsImRvY3VtZW50IiwiRWxlbWVudCIsInRhZyIsIlN0cmluZyIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImlkIiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsImxlbmd0aCIsIkFycmF5IiwiZnJvbSIsInNsaWNlIiwiam9pbiIsInJlc29sdmVSZW5kZXJlZFNjYWxlIiwic3RhZ2UiLCJzdGFnZVJlY3QiLCJzdGFnZVdpZHRoIiwid2lkdGgiLCJhdHRycyIsInN0YWdlSGVpZ2h0IiwiaGVpZ2h0IiwiZmFsbGJhY2siLCJzY2FsZVgiLCJzY2FsZVkiLCJ4IiwieSIsImdldFNjcm9sbGFibGVBbmNlc3RvcnMiLCJzdGFydE5vZGUiLCJ0YXJnZXRzIiwiY3VycmVudCIsInBhcmVudEVsZW1lbnQiLCJib2R5Iiwic3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3ciLCJpc1Njcm9sbGFibGUiLCJwdXNoIiwic2Nyb2xsaW5nRWxlbWVudCIsIlNldCIsInVzZU9wdGlvbkJ1dHRvblBvc2l0aW9uIiwiYm90b25PcGNpb25lc1JlZiIsImxheW91dFJvb3RSZWYiLCJlbGVtZW50UmVmcyIsImVsZW1lbnRvc1NlbGVjY2lvbmFkb3MiLCJzdGFnZVJlZiIsImlzTW9iaWxlIiwiYnV0dG9uU2l6ZSIsImxhc3RMb2dCeUV2ZW50UmVmIiwiZGVidWdMb2ciLCJldmVudE5hbWUiLCJwYXlsb2FkIiwiZm9yY2UiLCJub3ciLCJEYXRlIiwicHJldmlvdXMiLCJjb25zb2xlIiwibG9nIiwidHMiLCJ0b0lTT1N0cmluZyIsImJveFkiLCJib3hTdGFnZSIsImFic1kiLCJub2RlQWJzb2x1dGUiLCJhbmNob3JZIiwiYW5jaG9yU3RhZ2VZIiwiZmluYWxZIiwiZmluYWwiLCJlbGVtZW50WSIsImVsZW1lbnRTY3JlZW4iLCJzdGFnZVRvcCIsInRvcCIsInNvdXJjZSIsImV2ZW50VGFyZ2V0IiwibGFiZWwiLCJzY3JvbGxUYXJnZXQiLCJvY3VsdGFyQm90b25PcGNpb25lcyIsInJlYXNvbiIsImV4dHJhIiwiZGlzcGxheSIsInNlbGVjdGVkSWQiLCJhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzIiwibmF0aXZlRXZlbnQiLCJldmVudFRhcmdldExhYmVsIiwiY291bnQiLCJub2RlUmVmIiwiaGFzTm9kZSIsIkJvb2xlYW4iLCJoYXNTdGFnZSIsImJveCIsImdldENsaWVudFJlY3QiLCJyZWxhdGl2ZVRvIiwic2tpcFNoYWRvdyIsIm5vZGVBYnNvbHV0ZVBvc2l0aW9uIiwiZ2V0QWJzb2x1dGVQb3NpdGlvbiIsInN0YWdlQ29udGFpbmVyIiwiY29udGFpbmVyIiwiZ2V0U3RhZ2UiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZW5kZXJlZFNjYWxlIiwidGFyZ2V0QnV0dG9uU2l6ZSIsIm92ZXJsYXBQeCIsIm51ZGdlWCIsIm51ZGdlWSIsImVsZW1lbnRvWCIsImxlZnQiLCJlbGVtZW50b1kiLCJhbmNob0VsZW1lbnRvIiwiYWx0b0VsZW1lbnRvIiwiZWxlbWVudG9SaWdodCIsInZpZXdwb3J0V2lkdGgiLCJpbm5lcldpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInZpZXdwb3J0UGFkZGluZyIsImVsZW1lbnRvVmlzaWJsZSIsImVsZW1lbnRSZWN0Iiwicm91bmQiLCJ2aWV3cG9ydCIsInByZWZlcnJlZFgiLCJwcmVmZXJyZWRZIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsImZhbGxiYWNrTmVhclZlcnRleFgiLCJ1c2VGYWxsYmFja05lYXJWZXJ0ZXhYIiwiZmFsbGJhY2tOZWFyVmVydGV4WSIsInVzZUZhbGxiYWNrTmVhclZlcnRleFkiLCJwbGFjZW1lbnRNb2RlWCIsInBsYWNlbWVudE1vZGVZIiwiYm90b25YIiwiYm90b25ZIiwiaGFzUmVsYXRpdmVSb290IiwicmVuZGVyWCIsInJlbmRlclkiLCJyb290UmVjdCIsImRlYnVnU2Nyb2xsVGFyZ2V0IiwicG9pbnRlclR5cGUiLCJuYXRpdmVFdmVudFR5cGUiLCJ0eXBlIiwic3RhZ2VTaXplIiwidG9GaXhlZCIsInJpZ2h0IiwicHJlZmVycmVkIiwicG9zaXRpb25Nb2RlIiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0IiwidmlzdWFsVmlld3BvcnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0Iiwic2NhbGUiLCJzY3JvbGxUb3AiLCJlcnJvciIsIm1lc3NhZ2UiLCJFcnJvciIsInVuZGVmaW5lZCIsInJhZkEiLCJyYWZCIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzeW5jUG9zaXRpb24iLCJzY3JvbGxUYXJnZXRzIiwiZGV0YWNoIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25TY3JvbGwiLCJldmVudCIsInBhc3NpdmUiLCJvblZpc3VhbFZpZXdwb3J0U2Nyb2xsIiwib25WaXN1YWxWaWV3cG9ydFJlc2l6ZSIsIm9uUmVzaXplIiwib25PcmllbnRhdGlvbkNoYW5nZSIsIm9uIiwib2ZmIiwib25TdGFnZURyYWdNb3ZlIiwiZXZ0Iiwib25TdGFnZURyYWdFbmQiLCJvblN0YWdlVHJhbnNmb3JtIiwib25TdGFnZVRyYW5zZm9ybUVuZCIsImZuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/editor/overlays/useOptionButtonPosition.js\n"));

/***/ })

});