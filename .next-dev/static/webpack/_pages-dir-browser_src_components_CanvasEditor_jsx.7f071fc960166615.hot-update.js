"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_components_CanvasEditor_jsx",{

/***/ "(pages-dir-browser)/./src/components/CanvasEditor.jsx":
/*!*****************************************!*\
  !*** ./src/components/CanvasEditor.jsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(pages-dir-browser)/./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-konva */ \"(pages-dir-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var _ElementoCanvas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ElementoCanvas */ \"(pages-dir-browser)/./src/components/ElementoCanvas.jsx\");\n/* harmony import */ var _LineControls__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LineControls */ \"(pages-dir-browser)/./src/components/LineControls.jsx\");\n/* harmony import */ var _utils_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/layout */ \"(pages-dir-browser)/./src/utils/layout.ts\");\n/* harmony import */ var _models_estructuraInicial__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/models/estructuraInicial */ \"(pages-dir-browser)/./src/models/estructuraInicial.js\");\n/* harmony import */ var _hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/usePlantillasDeSeccion */ \"(pages-dir-browser)/./src/hooks/usePlantillasDeSeccion.js\");\n/* harmony import */ var _hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/hooks/useImperativeObjects */ \"(pages-dir-browser)/./src/hooks/useImperativeObjects.js\");\n/* harmony import */ var _SelectionBounds__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SelectionBounds */ \"(pages-dir-browser)/./src/components/SelectionBounds.jsx\");\n/* harmony import */ var _HoverIndicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./HoverIndicator */ \"(pages-dir-browser)/./src/components/HoverIndicator.jsx\");\n/* harmony import */ var _LineToolbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LineToolbar */ \"(pages-dir-browser)/./src/components/LineToolbar.jsx\");\n/* harmony import */ var _hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/hooks/useKeyboardShortcuts */ \"(pages-dir-browser)/./src/hooks/useKeyboardShortcuts.js\");\n/* harmony import */ var _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/fontManager */ \"(pages-dir-browser)/./src/utils/fontManager.js\");\n/* harmony import */ var _hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/hooks/useInlineEditor */ \"(pages-dir-browser)/./src/hooks/useInlineEditor.js\");\n/* harmony import */ var _ShapeToolbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ShapeToolbar */ \"(pages-dir-browser)/./src/components/ShapeToolbar.jsx\");\n/* harmony import */ var _hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/hooks/useEditorHandlers */ \"(pages-dir-browser)/./src/hooks/useEditorHandlers.js\");\n/* harmony import */ var _InlineTextEditor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./InlineTextEditor */ \"(pages-dir-browser)/./src/components/InlineTextEditor.jsx\");\n/* harmony import */ var _FontSelector__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./FontSelector */ \"(pages-dir-browser)/./src/components/FontSelector.jsx\");\n/* harmony import */ var _utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/utils/accionesFondo */ \"(pages-dir-browser)/./src/utils/accionesFondo.js\");\n/* harmony import */ var _utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/utils/editorSecciones */ \"(pages-dir-browser)/./src/utils/editorSecciones.js\");\n/* harmony import */ var _editor_selection_selectionUtils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./editor/selection/selectionUtils */ \"(pages-dir-browser)/./src/components/editor/selection/selectionUtils.js\");\n/* harmony import */ var _utils_plantillas__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @/utils/plantillas */ \"(pages-dir-browser)/./src/utils/plantillas.js\");\n/* harmony import */ var _components_editor_GaleriaKonva__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @/components/editor/GaleriaKonva */ \"(pages-dir-browser)/./src/components/editor/GaleriaKonva.jsx\");\n/* harmony import */ var _editor_FondoSeccion__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./editor/FondoSeccion */ \"(pages-dir-browser)/./src/components/editor/FondoSeccion.jsx\");\n/* harmony import */ var _MenuOpcionesElemento__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./MenuOpcionesElemento */ \"(pages-dir-browser)/./src/components/MenuOpcionesElemento.jsx\");\n/* harmony import */ var _utils_calcGrid__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @/utils/calcGrid */ \"(pages-dir-browser)/./src/utils/calcGrid.js\");\n/* harmony import */ var _components_editor_countdown_CountdownKonva__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @/components/editor/countdown/CountdownKonva */ \"(pages-dir-browser)/./src/components/editor/countdown/CountdownKonva.jsx\");\n/* harmony import */ var _hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @/hooks/useGuiasCentrado */ \"(pages-dir-browser)/./src/hooks/useGuiasCentrado.js\");\n/* harmony import */ var _components_editor_toolbar_FloatingTextToolbar__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @/components/editor/toolbar/FloatingTextToolbar */ \"(pages-dir-browser)/./src/components/editor/toolbar/FloatingTextToolbar.jsx\");\n/* harmony import */ var _SelectorColorSeccion__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./SelectorColorSeccion */ \"(pages-dir-browser)/./src/components/SelectorColorSeccion.jsx\");\n/* harmony import */ var konva__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! konva */ \"(pages-dir-browser)/./node_modules/konva/lib/index.js\");\n/* harmony import */ var konva__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(konva__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var _config_fonts__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../config/fonts */ \"(pages-dir-browser)/./src/config/fonts.js\");\n/* harmony import */ var _hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @/hooks/useAuthClaims */ \"(pages-dir-browser)/./src/hooks/useAuthClaims.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronUp,Layers,Monitor,MoveDown,MoveUp,PlusCircle,Settings,Trash2,Unlink2!=!lucide-react */ \"(pages-dir-browser)/__barrel_optimize__?names=ChevronDown,ChevronUp,Layers,Monitor,MoveDown,MoveUp,PlusCircle,Settings,Trash2,Unlink2!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./editor/persistence/useBorradorSync */ \"(pages-dir-browser)/./src/components/editor/persistence/useBorradorSync.js\");\n/* harmony import */ var _editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./editor/sections/useSectionsManager */ \"(pages-dir-browser)/./src/components/editor/sections/useSectionsManager.js\");\n/* harmony import */ var _components_editor_sections_ConfirmDeleteSectionModal__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @/components/editor/sections/ConfirmDeleteSectionModal */ \"(pages-dir-browser)/./src/components/editor/sections/ConfirmDeleteSectionModal.jsx\");\n/* harmony import */ var _editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./editor/events/useEditorEvents */ \"(pages-dir-browser)/./src/components/editor/events/useEditorEvents.js\");\n/* harmony import */ var _editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./editor/window/useEditorWindowBridge */ \"(pages-dir-browser)/./src/components/editor/window/useEditorWindowBridge.js\");\n/* harmony import */ var _editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./editor/history/useHistoryManager */ \"(pages-dir-browser)/./src/components/editor/history/useHistoryManager.js\");\n/* harmony import */ var _components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @/components/editor/mobile/useCanvasScaleLayout */ \"(pages-dir-browser)/./src/components/editor/mobile/useCanvasScaleLayout.js\");\n/* harmony import */ var _components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @/components/editor/mobile/useCanvasInteractionState */ \"(pages-dir-browser)/./src/components/editor/mobile/useCanvasInteractionState.js\");\n/* harmony import */ var _editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./editor/mobile/useStageGestures */ \"(pages-dir-browser)/./src/components/editor/mobile/useStageGestures.js\");\n/* harmony import */ var _components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @/components/editor/overlays/useOptionButtonPosition */ \"(pages-dir-browser)/./src/components/editor/overlays/useOptionButtonPosition.js\");\n/* harmony import */ var _components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @/components/canvas/CanvasElementsLayer */ \"(pages-dir-browser)/./src/components/canvas/CanvasElementsLayer.jsx\");\n/* harmony import */ var _components_canvas_DividersOverlayStage__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @/components/canvas/DividersOverlayStage */ \"(pages-dir-browser)/./src/components/canvas/DividersOverlayStage.jsx\");\n// components/CanvasEditor.jsx\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(konva__WEBPACK_IMPORTED_MODULE_32___default().dragDistance) = 8;\nfunction resolveKonvaPixelRatio() {\n    if (false) {}\n    const dpr = Number(window.devicePixelRatio || 1);\n    const coarsePointer = typeof window.matchMedia === \"function\" && window.matchMedia(\"(pointer: coarse)\").matches;\n    const minSide = Math.min(Number(window.innerWidth || 0), Number(window.innerHeight || 0));\n    const mobileLike = coarsePointer || minSide > 0 && minSide <= 1024;\n    if (mobileLike) return 1;\n    return Math.min(dpr, 2);\n}\n(konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) = resolveKonvaPixelRatio();\nconst ALTURA_REFERENCIA_PANTALLA = 500;\nconst ALTURA_PANTALLA_EDITOR = 500;\nfunction normalizarAltoModo(modo) {\n    const m = String(modo || \"fijo\").toLowerCase();\n    return m === \"pantalla\" ? \"pantalla\" : \"fijo\";\n}\nfunction isBoldFontWeight(weight) {\n    const normalized = String(weight || \"normal\").toLowerCase();\n    return normalized === \"bold\" || normalized === \"bolder\" || [\n        \"500\",\n        \"600\",\n        \"700\",\n        \"800\",\n        \"900\"\n    ].includes(normalized);\n}\nfunction resolveKonvaFontStyle(fontStyle, fontWeight) {\n    const style = String(fontStyle || \"normal\").toLowerCase();\n    const isItalic = style.includes(\"italic\") || style.includes(\"oblique\");\n    const isBold = style.includes(\"bold\") || isBoldFontWeight(fontWeight);\n    if (isBold && isItalic) return \"bold italic\";\n    if (isBold) return \"bold\";\n    if (isItalic) return \"italic\";\n    return \"normal\";\n}\n// ??? FUNCIÓN HELPER PARA LIMPIAR UNDEFINED\nconst limpiarObjetoUndefined = (obj)=>{\n    if (Array.isArray(obj)) {\n        return obj.map(limpiarObjetoUndefined);\n    }\n    if (obj !== null && typeof obj === 'object') {\n        const objLimpio = {};\n        Object.keys(obj).forEach((key)=>{\n            const valor = obj[key];\n            if (valor !== undefined) {\n                objLimpio[key] = limpiarObjetoUndefined(valor);\n            }\n        });\n        return objLimpio;\n    }\n    return obj;\n};\n// Utils de cursor global (arriba del componente)\nfunction setGlobalCursor() {\n    let cursor = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '', stageRef = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n    try {\n        var _stageRef_current_container, _stageRef_current;\n        document.body.style.cursor = cursor || '';\n        // ?? limpiamos también el contenedor del Stage si existe\n        const stage = (stageRef === null || stageRef === void 0 ? void 0 : (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_container = _stageRef_current.container) === null || _stageRef_current_container === void 0 ? void 0 : _stageRef_current_container.call(_stageRef_current)) || null;\n        if (stage) stage.style.cursor = cursor || '';\n        // fallback: canvas principal\n        const canvas = document.querySelector('canvas');\n        if (canvas && canvas.parentElement) canvas.parentElement.style.cursor = cursor || '';\n    } catch (e) {}\n}\nfunction clearGlobalCursor() {\n    let stageRef = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n    setGlobalCursor('', stageRef);\n}\nfunction isInlineDebugEnabled() {\n    return  true && window.__INLINE_DEBUG !== false;\n}\nfunction formatInlineLogPayload() {\n    let payload = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    try {\n        return JSON.stringify(payload, null, 2);\n    } catch (error) {\n        return String(error || payload);\n    }\n}\nfunction inlineDebugLog(event) {\n    let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    if (!isInlineDebugEnabled()) return;\n    const essentialEvents = new Set([\n        \"start-inline-edit\",\n        \"linebreak-model-sync\",\n        \"linebreak-transformer\"\n    ]);\n    if (!essentialEvents.has(event)) return;\n    const ts = new Date().toISOString();\n    const body = formatInlineLogPayload(payload);\n    console.log(\"[INLINE][\".concat(ts, \"] \").concat(event, \"\\n\").concat(body));\n}\nfunction nextInlineFrameMeta() {\n    var _window_performance;\n    if (false) {}\n    const prev = Number(window.__INLINE_FRAME_SEQ || 0);\n    const next = prev + 1;\n    window.__INLINE_FRAME_SEQ = next;\n    const perfMs = typeof ((_window_performance = window.performance) === null || _window_performance === void 0 ? void 0 : _window_performance.now) === \"function\" ? Number(window.performance.now().toFixed(3)) : null;\n    return {\n        frame: next,\n        perfMs\n    };\n}\nfunction getInlineLineStats(value) {\n    var _normalized_match;\n    const normalized = String(value !== null && value !== void 0 ? value : \"\").replace(/\\r\\n/g, \"\\n\");\n    const trailing = (_normalized_match = normalized.match(/\\n+$/)) === null || _normalized_match === void 0 ? void 0 : _normalized_match[0];\n    return {\n        normalized,\n        length: normalized.length,\n        lineCount: normalized === \"\" ? 1 : normalized.split(\"\\n\").length,\n        trailingNewlines: trailing ? trailing.length : 0\n    };\n}\nfunction normalizeInlineDebugAB(rawConfig) {\n    const raw = rawConfig && typeof rawConfig === \"object\" ? rawConfig : {};\n    const visibilitySource = raw.visibilitySource === \"window\" ? \"window\" : \"reactive\";\n    const finishMode = raw.finishMode === \"immediate\" || raw.finishMode === \"raf\" || raw.finishMode === \"timeout100\" ? raw.finishMode : \"raf\";\n    const overlayWidthMode = raw.overlayWidthMode === \"fit-content\" ? \"fit-content\" : \"measured\";\n    return {\n        visibilitySource,\n        finishMode,\n        overlayWidthMode\n    };\n}\nfunction CanvasEditor(param) {\n    let { slug, zoom = 1, onHistorialChange, onFuturosChange, userId, onStartupStatusChange } = param;\n    var _window__resizeData;\n    _s();\n    const [objetos, setObjetos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [celdaGaleriaActiva, setCeldaGaleriaActiva] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [secciones, setSecciones] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [historial, setHistorial] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [futuros, setFuturos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [elementosSeleccionados, setElementosSeleccionados] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [cargado, setCargado] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { dragStartPos, hasDragged, isDragging, setIsDragging } = (0,_components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__[\"default\"])();\n    const imperativeObjects = (0,_hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__.useImperativeObjects)();\n    const [animandoSeccion, setAnimandoSeccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seccionActivaId, setSeccionActivaId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seleccionActiva, setSeleccionActiva] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [inicioSeleccion, setInicioSeleccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [areaSeleccion, setAreaSeleccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [elementosPreSeleccionados, setElementosPreSeleccionados] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const guiaLayerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [hoverId, setHoverId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const altoCanvas = secciones.reduce((acc, s)=>acc + s.altura, 0) || 800;\n    const [seccionesAnimando, setSeccionesAnimando] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const { refrescar: refrescarPlantillasDeSeccion } = (0,_hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n    const [elementoCopiado, setElementoCopiado] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const elementRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const inlineEditPreviewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null,\n        centerX: null\n    });\n    const inlineCommitDebugRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null\n    });\n    const prevEditingIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inlineRenderValueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null,\n        value: \"\"\n    });\n    const [inlineOverlayMountedId, setInlineOverlayMountedId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const contenedorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const editorOverlayRootRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoSectionViewportRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoSectionScrollRafRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const seccionActivaIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const ignoreNextUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const [anchoStage, setAnchoStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(800);\n    const [mostrarSelectorFuente, setMostrarSelectorFuente] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mostrarSubmenuCapa, setMostrarSubmenuCapa] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fuentesDisponibles = _config_fonts__WEBPACK_IMPORTED_MODULE_33__.ALL_FONTS;\n    const { esAdmin, loadingClaims } = (0,_hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__.useAuthClaims)();\n    const [backgroundLoadBySection, setBackgroundLoadBySection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const startupStatusFinalizedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [mobileBackgroundEditSectionId, setMobileBackgroundEditSectionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [deleteSectionModal, setDeleteSectionModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        sectionId: null\n    });\n    const [isDeletingSection, setIsDeletingSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mobileSectionActionsOpen, setMobileSectionActionsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const supportsPointerEvents =  true && typeof window.PointerEvent !== \"undefined\";\n    const isTextResizeDebugEnabled = ()=> true && Boolean(window.__DBG_TEXT_RESIZE);\n    const textResizeDebug = function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        if (!isTextResizeDebugEnabled()) return;\n        console.log(\"[TEXT-COMMIT]\", ...args);\n    };\n    (0,_editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__[\"default\"])({\n        slug,\n        userId,\n        objetos,\n        secciones,\n        cargado,\n        setObjetos,\n        setSecciones,\n        setCargado,\n        setSeccionActivaId,\n        ignoreNextUpdateRef,\n        stageRef,\n        normalizarAltoModo,\n        validarPuntosLinea: _editor_selection_selectionUtils__WEBPACK_IMPORTED_MODULE_22__.validarPuntosLinea,\n        ALTURA_PANTALLA_EDITOR\n    });\n    const { controlandoAltura, iniciarControlAltura, finalizarControlAltura, togglePantallaCompletaSeccion, handleCrearSeccion } = (0,_editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__[\"default\"])({\n        slug,\n        secciones,\n        setSecciones,\n        objetos,\n        setObjetos,\n        seccionActivaId,\n        setSeccionActivaId,\n        crearSeccion: _models_estructuraInicial__WEBPACK_IMPORTED_MODULE_7__.crearSeccion,\n        normalizarAltoModo,\n        limpiarObjetoUndefined,\n        ALTURA_REFERENCIA_PANTALLA,\n        stageRef,\n        setGlobalCursor,\n        clearGlobalCursor\n    });\n    const nuevoTextoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,_editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__[\"default\"])({\n        celdaGaleriaActiva,\n        setCeldaGaleriaActiva,\n        setObjetos,\n        secciones,\n        seccionActivaId,\n        setElementosSeleccionados,\n        normalizarAltoModo,\n        ALTURA_PANTALLA_EDITOR,\n        nuevoTextoRef\n    });\n    const seccionesOrdenadas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[seccionesOrdenadas]\": ()=>[\n                ...secciones\n            ].sort({\n                \"CanvasEditor.useMemo[seccionesOrdenadas]\": (a, b)=>a.orden - b.orden\n            }[\"CanvasEditor.useMemo[seccionesOrdenadas]\"])\n    }[\"CanvasEditor.useMemo[seccionesOrdenadas]\"], [\n        secciones\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            setBackgroundLoadBySection({});\n            startupStatusFinalizedRef.current = false;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        slug\n    ]);\n    const handleBackgroundImageStatusChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\": (payload)=>{\n            const sectionId = payload === null || payload === void 0 ? void 0 : payload.sectionId;\n            if (!sectionId) return;\n            const hasBackgroundImage = (payload === null || payload === void 0 ? void 0 : payload.hasBackgroundImage) === true;\n            const imageUrl = typeof (payload === null || payload === void 0 ? void 0 : payload.imageUrl) === \"string\" ? payload.imageUrl : \"\";\n            const incomingStatus = typeof (payload === null || payload === void 0 ? void 0 : payload.status) === \"string\" ? payload.status : \"loading\";\n            const status = hasBackgroundImage ? incomingStatus === \"loaded\" || incomingStatus === \"failed\" ? incomingStatus : \"loading\" : \"none\";\n            setBackgroundLoadBySection({\n                \"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\": (prev)=>{\n                    const current = prev[sectionId];\n                    if (current && current.status === status && current.hasBackgroundImage === hasBackgroundImage && current.imageUrl === imageUrl) {\n                        return prev;\n                    }\n                    return {\n                        ...prev,\n                        [sectionId]: {\n                            status,\n                            hasBackgroundImage,\n                            imageUrl\n                        }\n                    };\n                }\n            }[\"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\"], []);\n    const backgroundLoadSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[backgroundLoadSummary]\": ()=>{\n            const sectionsWithBackgroundImage = (secciones || []).filter({\n                \"CanvasEditor.useMemo[backgroundLoadSummary].sectionsWithBackgroundImage\": (seccion)=>(seccion === null || seccion === void 0 ? void 0 : seccion.fondoTipo) === \"imagen\" && typeof (seccion === null || seccion === void 0 ? void 0 : seccion.fondoImagen) === \"string\" && seccion.fondoImagen.trim().length > 0\n            }[\"CanvasEditor.useMemo[backgroundLoadSummary].sectionsWithBackgroundImage\"]);\n            let loaded = 0;\n            let failed = 0;\n            let pending = 0;\n            sectionsWithBackgroundImage.forEach({\n                \"CanvasEditor.useMemo[backgroundLoadSummary]\": (seccion)=>{\n                    var _backgroundLoadBySection_seccion_id;\n                    const status = (_backgroundLoadBySection_seccion_id = backgroundLoadBySection[seccion.id]) === null || _backgroundLoadBySection_seccion_id === void 0 ? void 0 : _backgroundLoadBySection_seccion_id.status;\n                    if (!status || status === \"loading\") {\n                        pending += 1;\n                        return;\n                    }\n                    if (status === \"loaded\") {\n                        loaded += 1;\n                        return;\n                    }\n                    if (status === \"failed\") {\n                        failed += 1;\n                        return;\n                    }\n                    pending += 1;\n                }\n            }[\"CanvasEditor.useMemo[backgroundLoadSummary]\"]);\n            return {\n                total: sectionsWithBackgroundImage.length,\n                loaded,\n                failed,\n                pending\n            };\n        }\n    }[\"CanvasEditor.useMemo[backgroundLoadSummary]\"], [\n        backgroundLoadBySection,\n        secciones\n    ]);\n    const firstSectionBackgroundReady = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[firstSectionBackgroundReady]\": ()=>{\n            var _backgroundLoadBySection_firstSection_id;\n            const firstSection = seccionesOrdenadas[0];\n            if (!firstSection) return true;\n            const hasBackgroundImage = (firstSection === null || firstSection === void 0 ? void 0 : firstSection.fondoTipo) === \"imagen\" && typeof (firstSection === null || firstSection === void 0 ? void 0 : firstSection.fondoImagen) === \"string\" && firstSection.fondoImagen.trim().length > 0;\n            if (!hasBackgroundImage) return true;\n            const status = (_backgroundLoadBySection_firstSection_id = backgroundLoadBySection[firstSection.id]) === null || _backgroundLoadBySection_firstSection_id === void 0 ? void 0 : _backgroundLoadBySection_firstSection_id.status;\n            return status === \"loaded\" || status === \"failed\";\n        }\n    }[\"CanvasEditor.useMemo[firstSectionBackgroundReady]\"], [\n        backgroundLoadBySection,\n        seccionesOrdenadas\n    ]);\n    const startupReady = cargado === true && firstSectionBackgroundReady;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (typeof onStartupStatusChange !== \"function\") return;\n            if (startupStatusFinalizedRef.current) return;\n            const payload = {\n                slug,\n                draftLoaded: cargado === true,\n                totalBackgrounds: backgroundLoadSummary.total,\n                loadedBackgrounds: backgroundLoadSummary.loaded,\n                failedBackgrounds: backgroundLoadSummary.failed,\n                pendingBackgrounds: backgroundLoadSummary.pending\n            };\n            if (!startupReady) {\n                onStartupStatusChange({\n                    ...payload,\n                    status: \"running\"\n                });\n                return;\n            }\n            let cancelled = false;\n            let rafA = 0;\n            let rafB = 0;\n            rafA = requestAnimationFrame({\n                \"CanvasEditor.useEffect\": ()=>{\n                    rafB = requestAnimationFrame({\n                        \"CanvasEditor.useEffect\": ()=>{\n                            if (cancelled) return;\n                            startupStatusFinalizedRef.current = true;\n                            onStartupStatusChange({\n                                ...payload,\n                                status: \"ready\"\n                            });\n                        }\n                    }[\"CanvasEditor.useEffect\"]);\n                }\n            }[\"CanvasEditor.useEffect\"]);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    cancelled = true;\n                    if (rafA) cancelAnimationFrame(rafA);\n                    if (rafB) cancelAnimationFrame(rafB);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        backgroundLoadSummary.failed,\n        backgroundLoadSummary.loaded,\n        backgroundLoadSummary.pending,\n        backgroundLoadSummary.total,\n        firstSectionBackgroundReady,\n        cargado,\n        onStartupStatusChange,\n        slug,\n        startupReady\n    ]);\n    const seccionPendienteEliminar = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[seccionPendienteEliminar]\": ()=>secciones.find({\n                \"CanvasEditor.useMemo[seccionPendienteEliminar]\": (seccion)=>seccion.id === deleteSectionModal.sectionId\n            }[\"CanvasEditor.useMemo[seccionPendienteEliminar]\"]) || null\n    }[\"CanvasEditor.useMemo[seccionPendienteEliminar]\"], [\n        secciones,\n        deleteSectionModal.sectionId\n    ]);\n    const cantidadElementosSeccionPendiente = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\": ()=>{\n            if (!(seccionPendienteEliminar === null || seccionPendienteEliminar === void 0 ? void 0 : seccionPendienteEliminar.id)) return 0;\n            return objetos.filter({\n                \"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\": (obj)=>obj.seccionId === seccionPendienteEliminar.id\n            }[\"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\"]).length;\n        }\n    }[\"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\"], [\n        objetos,\n        seccionPendienteEliminar\n    ]);\n    const { editing, startEdit, updateEdit, finishEdit// () => void\n     } = (0,_hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__[\"default\"])();\n    const obtenerMetricasNodoInline = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[obtenerMetricasNodoInline]\": (node)=>{\n            if (!node) return null;\n            try {\n                var _node_getClassName;\n                const className = ((_node_getClassName = node.getClassName) === null || _node_getClassName === void 0 ? void 0 : _node_getClassName.call(node)) || null;\n                const x = typeof node.x === \"function\" ? node.x() : null;\n                const y = typeof node.y === \"function\" ? node.y() : null;\n                const textWidth = className === \"Text\" && typeof node.getTextWidth === \"function\" ? Math.ceil(node.getTextWidth() || 0) : null;\n                const rect = typeof node.getClientRect === \"function\" ? node.getClientRect({\n                    skipTransform: false,\n                    skipShadow: true,\n                    skipStroke: true\n                }) : null;\n                return {\n                    className,\n                    x,\n                    y,\n                    textWidth,\n                    rect: rect ? {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    } : null\n                };\n            } catch (error) {\n                return {\n                    error: String(error)\n                };\n            }\n        }\n    }[\"CanvasEditor.useCallback[obtenerMetricasNodoInline]\"], []);\n    const cerrarMenusFlotantes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cerrarMenusFlotantes]\": ()=>{\n            setMostrarPanelZ(false);\n            setMostrarSubmenuCapa(false);\n            setMostrarSelectorFuente(false);\n            setMostrarSelectorTamano(false);\n            setHoverId(null);\n        }\n    }[\"CanvasEditor.useCallback[cerrarMenusFlotantes]\"], []);\n    // ???Elemento actualmente seleccionado (o null)\n    const objetoSeleccionado = elementosSeleccionados.length === 1 ? objetos.find((o)=>o.id === elementosSeleccionados[0]) : null;\n    const [mostrarSelectorTamano, setMostrarSelectorTamano] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const tamaniosDisponibles = Array.from({\n        length: (260 - 6) / 2 + 1\n    }, (_, i)=>6 + i * 2);\n    const botonOpcionesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const _refEventQueued = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const registerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[registerRef]\": (id, node)=>{\n            if (!node) {\n                delete elementRefs.current[id];\n                imperativeObjects.registerObject(id, null);\n                return;\n            }\n            elementRefs.current[id] = node;\n            imperativeObjects.registerObject(id, node);\n            // ? Debounce por frame para evitar ráfagas de re-attach del Transformer\n            if (_refEventQueued.current.has(id)) return;\n            _refEventQueued.current.add(id);\n            requestAnimationFrame({\n                \"CanvasEditor.useCallback[registerRef]\": ()=>{\n                    _refEventQueued.current.delete(id);\n                    try {\n                        window.dispatchEvent(new CustomEvent(\"element-ref-registrado\", {\n                            detail: {\n                                id\n                            }\n                        }));\n                    } catch (e) {}\n                }\n            }[\"CanvasEditor.useCallback[registerRef]\"]);\n        }\n    }[\"CanvasEditor.useCallback[registerRef]\"], [\n        imperativeObjects\n    ]);\n    const loadedFontFamiliesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const { isMobile, isMobilePortrait, scale, anchoContenedor, escalaActiva, escalaVisual, wrapperBaseWidth, escalaFitMobilePortrait } = (0,_components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__[\"default\"])({\n        contenedorRef,\n        zoom\n    });\n    const mobileTypographyToolbarVisible = isMobile && Boolean(objetoSeleccionado && (objetoSeleccionado.tipo === \"texto\" || objetoSeleccionado.tipo === \"forma\" && objetoSeleccionado.figura === \"rect\" && typeof objetoSeleccionado.texto === \"string\"));\n    const mobileTextToolbarVisible = mobileTypographyToolbarVisible || isMobile && (objetoSeleccionado === null || objetoSeleccionado === void 0 ? void 0 : objetoSeleccionado.tipo) === \"icono\";\n    const mobileFontStripVisible = mobileTypographyToolbarVisible && mostrarSelectorFuente;\n    const mobileSizeStripVisible = mobileTypographyToolbarVisible && mostrarSelectorTamano;\n    const mobileBottomTypographyStripVisible = mobileFontStripVisible || mobileSizeStripVisible;\n    const optionButtonSize = isMobile ? 38 : 24;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const desiredRatio = isMobile ? 1 : resolveKonvaPixelRatio();\n            if ((konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) !== desiredRatio) {\n                var _stageRef_current_getStage_batchDraw, _stageRef_current_getStage, _stageRef_current_getStage1, _stageRef_current;\n                (konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) = desiredRatio;\n                (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage1 = _stageRef_current.getStage) === null || _stageRef_current_getStage1 === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current_getStage1.call(_stageRef_current)) === null || _stageRef_current_getStage === void 0 ? void 0 : (_stageRef_current_getStage_batchDraw = _stageRef_current_getStage.batchDraw) === null || _stageRef_current_getStage_batchDraw === void 0 ? void 0 : _stageRef_current_getStage_batchDraw.call(_stageRef_current_getStage);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile\n    ]);\n    const inlineDebugAB = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[inlineDebugAB]\": ()=>{\n            if (false) {}\n            return normalizeInlineDebugAB(window.__INLINE_AB);\n        }\n    }[\"CanvasEditor.useMemo[inlineDebugAB]\"], [\n        editing.id,\n        editing.value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!isMobile && mobileSectionActionsOpen) {\n                setMobileSectionActionsOpen(false);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile,\n        mobileSectionActionsOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!isMobile) return;\n            setMobileSectionActionsOpen(false);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId,\n        isMobile\n    ]);\n    const handleInlineOverlayMountChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleInlineOverlayMountChange]\": (id, mounted)=>{\n            const safeId = id || null;\n            if (!safeId) return;\n            setInlineOverlayMountedId({\n                \"CanvasEditor.useCallback[handleInlineOverlayMountChange]\": (previous)=>{\n                    const next = mounted ? safeId : previous === safeId ? null : previous;\n                    inlineDebugLog(\"overlay-mounted-state\", {\n                        id: safeId,\n                        mounted,\n                        previousOverlayMountedId: previous,\n                        nextOverlayMountedId: next\n                    });\n                    return next;\n                }\n            }[\"CanvasEditor.useCallback[handleInlineOverlayMountChange]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleInlineOverlayMountChange]\"], []);\n    const captureInlineSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[captureInlineSnapshot]\": function(eventName) {\n            let extra = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            var _inlineCommitDebugRef_current, _stageRef_current_getStage, _stageRef_current;\n            if (false) {}\n            if (!isInlineDebugEnabled()) return;\n            if (window.__INLINE_SNAPSHOT !== true) return;\n            const snapshotAllowlist = new Set([\n                \"enter: pre-start\",\n                \"enter: after-start-sync\",\n                \"finish: blur\",\n                \"finish: after-finishEdit\",\n                \"exit: immediate\"\n            ]);\n            if (!snapshotAllowlist.has(eventName)) return;\n            const frameMeta = nextInlineFrameMeta();\n            const snapshotId = extra.id || editing.id || ((_inlineCommitDebugRef_current = inlineCommitDebugRef.current) === null || _inlineCommitDebugRef_current === void 0 ? void 0 : _inlineCommitDebugRef_current.id) || prevEditingIdRef.current || null;\n            const node = snapshotId ? elementRefs.current[snapshotId] : null;\n            const nodeMetrics = obtenerMetricasNodoInline(node);\n            const objMetrics = snapshotId ? ({\n                \"CanvasEditor.useCallback[captureInlineSnapshot]\": ()=>{\n                    const obj = objetos.find({\n                        \"CanvasEditor.useCallback[captureInlineSnapshot].obj\": (o)=>o.id === snapshotId\n                    }[\"CanvasEditor.useCallback[captureInlineSnapshot].obj\"]);\n                    if (!obj) return null;\n                    var _obj_texto;\n                    return {\n                        id: obj.id,\n                        tipo: obj.tipo || null,\n                        x: Number.isFinite(obj.x) ? obj.x : null,\n                        y: Number.isFinite(obj.y) ? obj.y : null,\n                        textoLength: String((_obj_texto = obj.texto) !== null && _obj_texto !== void 0 ? _obj_texto : \"\").length,\n                        fontSize: Number.isFinite(obj.fontSize) ? obj.fontSize : null,\n                        lineHeight: Number.isFinite(obj.lineHeight) && obj.lineHeight > 0 ? obj.lineHeight : null\n                    };\n                }\n            })[\"CanvasEditor.useCallback[captureInlineSnapshot]\"]() : null;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            let stageRect = null;\n            try {\n                var _stage_container_getBoundingClientRect, _stage_container, _stage_container1;\n                const r = stage === null || stage === void 0 ? void 0 : (_stage_container1 = stage.container) === null || _stage_container1 === void 0 ? void 0 : (_stage_container = _stage_container1.call(stage)) === null || _stage_container === void 0 ? void 0 : (_stage_container_getBoundingClientRect = _stage_container.getBoundingClientRect) === null || _stage_container_getBoundingClientRect === void 0 ? void 0 : _stage_container_getBoundingClientRect.call(_stage_container);\n                if (r) {\n                    stageRect = {\n                        x: r.x,\n                        y: r.y,\n                        width: r.width,\n                        height: r.height\n                    };\n                }\n            } catch (e) {\n                stageRect = null;\n            }\n            let inlineRect = null;\n            let inlineStyle = null;\n            let inlineContentRect = null;\n            let inlineContentMetrics = null;\n            if (snapshotId) {\n                const safeId = String(snapshotId).replace(/\"/g, '\\\\\"');\n                const overlayEl = document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'));\n                if (overlayEl) {\n                    var _contentEl_getBoundingClientRect;\n                    const r = overlayEl.getBoundingClientRect();\n                    inlineRect = {\n                        x: r.x,\n                        y: r.y,\n                        width: r.width,\n                        height: r.height\n                    };\n                    inlineStyle = {\n                        left: overlayEl.style.left,\n                        top: overlayEl.style.top,\n                        minWidth: overlayEl.style.minWidth,\n                        maxWidth: overlayEl.style.maxWidth,\n                        width: overlayEl.style.width\n                    };\n                    const contentEl = overlayEl.querySelector('[contenteditable=\"true\"]');\n                    const contentRect = contentEl === null || contentEl === void 0 ? void 0 : (_contentEl_getBoundingClientRect = contentEl.getBoundingClientRect) === null || _contentEl_getBoundingClientRect === void 0 ? void 0 : _contentEl_getBoundingClientRect.call(contentEl);\n                    if (contentRect) {\n                        inlineContentRect = {\n                            x: contentRect.x,\n                            y: contentRect.y,\n                            width: contentRect.width,\n                            height: contentRect.height\n                        };\n                    }\n                    inlineContentMetrics = contentEl ? {\n                        scrollWidth: contentEl.scrollWidth,\n                        clientWidth: contentEl.clientWidth,\n                        isFocused: document.activeElement === contentEl\n                    } : null;\n                }\n            }\n            let transformerRect = null;\n            try {\n                var _stage_findOne;\n                const transformer = stage === null || stage === void 0 ? void 0 : (_stage_findOne = stage.findOne) === null || _stage_findOne === void 0 ? void 0 : _stage_findOne.call(stage, \"Transformer\");\n                if (transformer) {\n                    var _transformer_nodes;\n                    const trRect = transformer.getClientRect({\n                        skipTransform: false,\n                        skipShadow: true,\n                        skipStroke: true\n                    });\n                    const nodes = ((_transformer_nodes = transformer.nodes) === null || _transformer_nodes === void 0 ? void 0 : _transformer_nodes.call(transformer)) || [];\n                    transformerRect = trRect ? {\n                        x: trRect.x,\n                        y: trRect.y,\n                        width: trRect.width,\n                        height: trRect.height,\n                        nodesCount: nodes.length,\n                        includesSnapshotNode: !!(node && nodes.includes(node))\n                    } : null;\n                }\n            } catch (e) {\n                transformerRect = null;\n            }\n            var _editing_id, _window__currentEditingId;\n            inlineDebugLog(\"snapshot-\".concat(eventName), {\n                ...frameMeta,\n                ...extra,\n                id: snapshotId,\n                eventName,\n                editingId: (_editing_id = editing.id) !== null && _editing_id !== void 0 ? _editing_id : null,\n                currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null,\n                overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                inlineAB: inlineDebugAB,\n                escalaVisual,\n                stageRect,\n                nodeMetrics,\n                objMetrics,\n                transformerRect,\n                inlineRect,\n                inlineStyle,\n                inlineContentRect,\n                inlineContentMetrics,\n                scrollX: window.scrollX,\n                scrollY: window.scrollY,\n                innerWidth: window.innerWidth,\n                innerHeight: window.innerHeight\n            });\n        }\n    }[\"CanvasEditor.useCallback[captureInlineSnapshot]\"], [\n        editing.id,\n        escalaVisual,\n        inlineDebugAB,\n        inlineOverlayMountedId,\n        objetos,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const currentId = editing.id || null;\n            var _editing_value;\n            const currentValue = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n            const prev = inlineRenderValueRef.current;\n            if (currentId && prev.id === currentId && prev.value !== currentValue) {\n                const prevStats = getInlineLineStats(prev.value);\n                const nextStats = getInlineLineStats(currentValue);\n                const linebreakChanged = prevStats.lineCount !== nextStats.lineCount || prevStats.trailingNewlines !== nextStats.trailingNewlines;\n                if (linebreakChanged) {\n                    var _stageRef_current_getStage, _stageRef_current;\n                    const frameMeta = nextInlineFrameMeta();\n                    const node = elementRefs.current[currentId] || null;\n                    const nodeMetrics = obtenerMetricasNodoInline(node);\n                    const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n                    let transformerRect = null;\n                    try {\n                        var _stage_findOne;\n                        const transformer = stage === null || stage === void 0 ? void 0 : (_stage_findOne = stage.findOne) === null || _stage_findOne === void 0 ? void 0 : _stage_findOne.call(stage, \"Transformer\");\n                        if (transformer) {\n                            var _transformer_nodes;\n                            const trRect = transformer.getClientRect({\n                                skipTransform: false,\n                                skipShadow: true,\n                                skipStroke: true\n                            });\n                            const nodes = ((_transformer_nodes = transformer.nodes) === null || _transformer_nodes === void 0 ? void 0 : _transformer_nodes.call(transformer)) || [];\n                            transformerRect = trRect ? {\n                                x: trRect.x,\n                                y: trRect.y,\n                                width: trRect.width,\n                                height: trRect.height,\n                                nodesCount: nodes.length,\n                                includesEditingNode: !!(node && nodes.includes(node))\n                            } : null;\n                        }\n                    } catch (e) {\n                        transformerRect = null;\n                    }\n                    let overlayRect = null;\n                    let contentRect = null;\n                    const safeId = String(currentId).replace(/\"/g, '\\\\\"');\n                    const overlayEl = document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'));\n                    if (overlayEl) {\n                        var _contentEl_getBoundingClientRect;\n                        const r = overlayEl.getBoundingClientRect();\n                        overlayRect = {\n                            x: r.x,\n                            y: r.y,\n                            width: r.width,\n                            height: r.height\n                        };\n                        const contentEl = overlayEl.querySelector('[contenteditable=\"true\"]');\n                        const cr = contentEl === null || contentEl === void 0 ? void 0 : (_contentEl_getBoundingClientRect = contentEl.getBoundingClientRect) === null || _contentEl_getBoundingClientRect === void 0 ? void 0 : _contentEl_getBoundingClientRect.call(contentEl);\n                        if (cr) {\n                            contentRect = {\n                                x: cr.x,\n                                y: cr.y,\n                                width: cr.width,\n                                height: cr.height\n                            };\n                        }\n                    }\n                    inlineDebugLog(\"linebreak-transformer\", {\n                        ...frameMeta,\n                        id: currentId,\n                        prevLength: prevStats.length,\n                        nextLength: nextStats.length,\n                        prevLineCount: prevStats.lineCount,\n                        nextLineCount: nextStats.lineCount,\n                        prevTrailingNewlines: prevStats.trailingNewlines,\n                        nextTrailingNewlines: nextStats.trailingNewlines,\n                        overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                        overlayRect,\n                        contentRect,\n                        nodeMetrics,\n                        transformerRect\n                    });\n                }\n                captureInlineSnapshot(\"input: after-render\", {\n                    id: currentId,\n                    previousLength: prev.value.length,\n                    valueLength: currentValue.length\n                });\n            }\n            inlineRenderValueRef.current = {\n                id: currentId,\n                value: currentValue\n            };\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value,\n        captureInlineSnapshot,\n        inlineOverlayMountedId,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            if (window.__INLINE_DEBUG === undefined) {\n                window.__INLINE_DEBUG = false;\n            }\n            if (window.__INLINE_FRAME_SEQ === undefined) {\n                window.__INLINE_FRAME_SEQ = 0;\n            }\n            const normalizedAB = normalizeInlineDebugAB(window.__INLINE_AB);\n            window.__INLINE_AB = {\n                ...normalizedAB\n            };\n            inlineDebugLog(\"debug-enabled\", {\n                enabled: window.__INLINE_DEBUG,\n                inlineAB: window.__INLINE_AB,\n                frameSeq: window.__INLINE_FRAME_SEQ\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const currentId = editing.id || null;\n            const previousId = prevEditingIdRef.current;\n            if (currentId && currentId !== previousId) {\n                requestAnimationFrame({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        captureInlineSnapshot(\"enter: raf1\", {\n                            id: currentId,\n                            previousId\n                        });\n                        requestAnimationFrame({\n                            \"CanvasEditor.useEffect\": ()=>{\n                                captureInlineSnapshot(\"enter: raf2\", {\n                                    id: currentId,\n                                    previousId\n                                });\n                            }\n                        }[\"CanvasEditor.useEffect\"]);\n                    }\n                }[\"CanvasEditor.useEffect\"]);\n            }\n            if (!currentId && previousId) {\n                captureInlineSnapshot(\"exit: immediate\", {\n                    id: previousId\n                });\n                requestAnimationFrame({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        captureInlineSnapshot(\"exit: raf1\", {\n                            id: previousId\n                        });\n                        requestAnimationFrame({\n                            \"CanvasEditor.useEffect\": ()=>{\n                                captureInlineSnapshot(\"exit: raf2\", {\n                                    id: previousId\n                                });\n                            }\n                        }[\"CanvasEditor.useEffect\"]);\n                    }\n                }[\"CanvasEditor.useEffect\"]);\n            }\n            prevEditingIdRef.current = currentId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        captureInlineSnapshot\n    ]);\n    const fuentesNecesarias = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[fuentesNecesarias]\": ()=>{\n            // fuentes usadas en textos + countdown (si aplica) + formas con texto (rect)\n            const fonts = (objetos || []).filter({\n                \"CanvasEditor.useMemo[fuentesNecesarias].fonts\": (o)=>(o.tipo === \"texto\" || o.tipo === \"countdown\" || o.tipo === \"forma\" && o.figura === \"rect\") && o.fontFamily\n            }[\"CanvasEditor.useMemo[fuentesNecesarias].fonts\"]).map({\n                \"CanvasEditor.useMemo[fuentesNecesarias].fonts\": (o)=>String(o.fontFamily).replace(/['\"]/g, \"\").split(\",\")[0].trim()\n            }[\"CanvasEditor.useMemo[fuentesNecesarias].fonts\"]).filter(Boolean);\n            return [\n                ...new Set(fonts)\n            ];\n        }\n    }[\"CanvasEditor.useMemo[fuentesNecesarias]\"], [\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            window.editing = editing;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            var _window__currentEditingId;\n            const previousCurrentEditingId = (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null;\n            window._currentEditingId = (editing === null || editing === void 0 ? void 0 : editing.id) || null;\n            var _editing_value;\n            inlineDebugLog(\"sync-global-editing\", {\n                editingId: (editing === null || editing === void 0 ? void 0 : editing.id) || null,\n                valueLength: String((_editing_value = editing === null || editing === void 0 ? void 0 : editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\").length,\n                previousCurrentEditingId,\n                nextCurrentEditingId: window._currentEditingId\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    var _window__currentEditingId;\n                    inlineDebugLog(\"sync-global-editing-cleanup\", {\n                        editingId: (editing === null || editing === void 0 ? void 0 : editing.id) || null,\n                        currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null\n                    });\n                    if (window.editing && window.editing.id === editing.id) {\n                        delete window.editing;\n                    }\n                    if (window._currentEditingId === editing.id) {\n                        window._currentEditingId = null;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id\n    ]);\n    // ?? Función para actualizar offsets de imagen de fondo (SIN UNDEFINED)\n    const actualizarOffsetFondo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[actualizarOffsetFondo]\": function(seccionId, nuevosOffsets) {\n            let esPreview = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n            setSecciones({\n                \"CanvasEditor.useCallback[actualizarOffsetFondo]\": (prev)=>prev.map({\n                        \"CanvasEditor.useCallback[actualizarOffsetFondo]\": (s)=>{\n                            if (s.id !== seccionId) return s;\n                            // ?? CREAR OBJETO LIMPIO\n                            const seccionActualizada = {\n                                ...s\n                            };\n                            // ?? SOLO AGREGAR CAMPOS SI TIENEN VALORES VÁLIDOS\n                            if (nuevosOffsets.offsetX !== undefined && nuevosOffsets.offsetX !== null) {\n                                seccionActualizada.fondoImagenOffsetX = nuevosOffsets.offsetX;\n                            }\n                            if (nuevosOffsets.offsetY !== undefined && nuevosOffsets.offsetY !== null) {\n                                seccionActualizada.fondoImagenOffsetY = nuevosOffsets.offsetY;\n                            }\n                            return seccionActualizada;\n                        }\n                    }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"])\n            }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"]);\n        }\n    }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"], [\n        setSecciones\n    ]);\n    // Asigna una imagen (por URL) a la celda activa\n    function asignarImagenAGaleria(url) {\n        setObjetos((prev)=>{\n            var _g_cells_index, _g_cells_index1;\n            if (!celdaGaleriaActiva) return prev;\n            const { objId, index } = celdaGaleriaActiva;\n            const i = prev.findIndex((o)=>o.id === objId && o.tipo === \"galeria\");\n            if (i === -1) return prev;\n            const copia = structuredClone(prev);\n            const g = copia[i];\n            // Seguridad: que exista y que haya cells[index]\n            if (!(g === null || g === void 0 ? void 0 : g.cells) || !g.cells[index]) return prev;\n            var _g_cells_index2, _g_cells_index_fit, _g_cells_index_bg;\n            g.cells[index] = {\n                ...(_g_cells_index2 = g.cells[index]) !== null && _g_cells_index2 !== void 0 ? _g_cells_index2 : {},\n                mediaUrl: url,\n                fit: (_g_cells_index_fit = (_g_cells_index = g.cells[index]) === null || _g_cells_index === void 0 ? void 0 : _g_cells_index.fit) !== null && _g_cells_index_fit !== void 0 ? _g_cells_index_fit : \"cover\",\n                bg: (_g_cells_index_bg = (_g_cells_index1 = g.cells[index]) === null || _g_cells_index1 === void 0 ? void 0 : _g_cells_index1.bg) !== null && _g_cells_index_bg !== void 0 ? _g_cells_index_bg : \"#eee\"\n            };\n            return copia;\n        });\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Limpiar flag de resize al montar el componente\n            window._resizeData = null;\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    const [mostrarPanelZ, setMostrarPanelZ] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSelectionRotating, setIsSelectionRotating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const logOptionButtonMenuDebug = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[logOptionButtonMenuDebug]\": function(eventName) {\n            let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            if ( false || window.__DBG_OPTION_BUTTON !== true) return;\n            console.log(\"[OPTION-BUTTON][MENU] \".concat(eventName), {\n                ts: new Date().toISOString(),\n                ...payload\n            });\n        }\n    }[\"CanvasEditor.useCallback[logOptionButtonMenuDebug]\"], []);\n    const togglePanelOpciones = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[togglePanelOpciones]\": function() {\n            let source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"unknown\", nativeEvent = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n            setMostrarPanelZ({\n                \"CanvasEditor.useCallback[togglePanelOpciones]\": (prev)=>{\n                    const next = !prev;\n                    var _elementosSeleccionados_, _nativeEvent_type, _nativeEvent_pointerType;\n                    logOptionButtonMenuDebug(\"toggle\", {\n                        source,\n                        prev,\n                        next,\n                        selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                        selectionCount: elementosSeleccionados.length,\n                        isMobile,\n                        nativeEventType: (_nativeEvent_type = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.type) !== null && _nativeEvent_type !== void 0 ? _nativeEvent_type : null,\n                        pointerType: (_nativeEvent_pointerType = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.pointerType) !== null && _nativeEvent_pointerType !== void 0 ? _nativeEvent_pointerType : null\n                    });\n                    return next;\n                }\n            }[\"CanvasEditor.useCallback[togglePanelOpciones]\"]);\n        }\n    }[\"CanvasEditor.useCallback[togglePanelOpciones]\"], [\n        elementosSeleccionados,\n        isMobile,\n        logOptionButtonMenuDebug\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _elementosSeleccionados_;\n            logOptionButtonMenuDebug(\"panel-state\", {\n                open: mostrarPanelZ,\n                selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                selectionCount: elementosSeleccionados.length,\n                isMobile\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        mostrarPanelZ,\n        elementosSeleccionados,\n        isMobile,\n        logOptionButtonMenuDebug\n    ]);\n    const moverElemento = (accion)=>{\n        const index = objetos.findIndex((o)=>o.id === elementosSeleccionados[0]);\n        if (index === -1) return;\n        const nuevos = [\n            ...objetos\n        ];\n        const [elemento] = nuevos.splice(index, 1);\n        if (accion === \"al-frente\") {\n            nuevos.push(elemento);\n        } else if (accion === \"al-fondo\") {\n            nuevos.unshift(elemento);\n        } else if (accion === \"subir\" && index < objetos.length - 1) {\n            nuevos.splice(index + 1, 0, elemento);\n        } else if (accion === \"bajar\" && index > 0) {\n            nuevos.splice(index - 1, 0, elemento);\n        } else {\n            nuevos.splice(index, 0, elemento); // sin cambios\n        }\n        setObjetos(nuevos);\n        setMostrarPanelZ(false);\n    };\n    const { onDeshacer, onRehacer, onDuplicar, onEliminar, onCopiar, onPegar, onCambiarAlineacion } = (0,_hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n        objetos,\n        setObjetos,\n        elementosSeleccionados,\n        setElementosSeleccionados,\n        historial,\n        setHistorial,\n        futuros,\n        setFuturos,\n        setSecciones,\n        ignoreNextUpdateRef,\n        setMostrarPanelZ\n    });\n    (0,_editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__[\"default\"])({\n        cargado,\n        objetos,\n        secciones,\n        setHistorial,\n        setFuturos,\n        ignoreNextUpdateRef\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current;\n            const stage = (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current);\n            if (!stage) return;\n            const content = stage.content;\n            if (!content) return;\n            // ? Estado base: scroll vertical permitido sobre canvas vacío\n            const setScrollMode = {\n                \"CanvasEditor.useEffect.setScrollMode\": ()=>{\n                    content.style.touchAction = \"pan-y\";\n                }\n            }[\"CanvasEditor.useEffect.setScrollMode\"];\n            // ? Durante drag: bloquear scroll para editar fino\n            const setEditMode = {\n                \"CanvasEditor.useEffect.setEditMode\": ()=>{\n                    content.style.touchAction = \"none\";\n                }\n            }[\"CanvasEditor.useEffect.setEditMode\"];\n            // ? NUEVO: estado React confiable para UI (Transformer/hover/etc.)\n            const onDragStart = {\n                \"CanvasEditor.useEffect.onDragStart\": ()=>{\n                    setIsDragging(true);\n                }\n            }[\"CanvasEditor.useEffect.onDragStart\"];\n            const onDragEnd = {\n                \"CanvasEditor.useEffect.onDragEnd\": ()=>{\n                    setIsDragging(false);\n                }\n            }[\"CanvasEditor.useEffect.onDragEnd\"];\n            // ? Failsafe: por si termina “raro” (touch cancel, pointer up, etc.)\n            const stopDragging = {\n                \"CanvasEditor.useEffect.stopDragging\": ()=>{\n                    setIsDragging(false);\n                    setScrollMode();\n                }\n            }[\"CanvasEditor.useEffect.stopDragging\"];\n            // Inicial\n            setScrollMode();\n            setIsDragging(false); // ?? por las dudas, al montar\n            content.style.WebkitUserSelect = \"none\";\n            content.style.WebkitTouchCallout = \"none\";\n            // Konva events\n            stage.on(\"dragstart\", setEditMode);\n            stage.on(\"dragend\", setScrollMode);\n            // ? NUEVO (UI state)\n            stage.on(\"dragstart\", onDragStart);\n            stage.on(\"dragend\", onDragEnd);\n            // Failsafes (si el drag termina raro)\n            stage.on(\"touchend\", stopDragging);\n            stage.on(\"pointerup\", stopDragging);\n            stage.on(\"mouseup\", stopDragging);\n            stage.on(\"touchcancel\", stopDragging);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    stage.off(\"dragstart\", setEditMode);\n                    stage.off(\"dragend\", setScrollMode);\n                    stage.off(\"dragstart\", onDragStart);\n                    stage.off(\"dragend\", onDragEnd);\n                    stage.off(\"touchend\", stopDragging);\n                    stage.off(\"pointerup\", stopDragging);\n                    stage.off(\"mouseup\", stopDragging);\n                    stage.off(\"touchcancel\", stopDragging);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        setIsDragging\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current;\n            const content = (stage === null || stage === void 0 ? void 0 : stage.content) || (stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage));\n            if (!content) return;\n            const setDragDistanceForInput = {\n                \"CanvasEditor.useEffect.setDragDistanceForInput\": (pointerType)=>{\n                    const isTouchLike = pointerType === \"touch\" || pointerType === \"pen\" || typeof pointerType !== \"string\" && isMobile;\n                    (konva__WEBPACK_IMPORTED_MODULE_32___default().dragDistance) = isTouchLike ? 14 : 5;\n                }\n            }[\"CanvasEditor.useEffect.setDragDistanceForInput\"];\n            const onPointerDown = {\n                \"CanvasEditor.useEffect.onPointerDown\": (event)=>setDragDistanceForInput(event.pointerType)\n            }[\"CanvasEditor.useEffect.onPointerDown\"];\n            const onTouchStart = {\n                \"CanvasEditor.useEffect.onTouchStart\": ()=>setDragDistanceForInput(\"touch\")\n            }[\"CanvasEditor.useEffect.onTouchStart\"];\n            const onMouseDown = {\n                \"CanvasEditor.useEffect.onMouseDown\": ()=>setDragDistanceForInput(\"mouse\")\n            }[\"CanvasEditor.useEffect.onMouseDown\"];\n            setDragDistanceForInput(isMobile ? \"touch\" : \"mouse\");\n            content.addEventListener(\"pointerdown\", onPointerDown, {\n                passive: true\n            });\n            content.addEventListener(\"touchstart\", onTouchStart, {\n                passive: true\n            });\n            content.addEventListener(\"mousedown\", onMouseDown, {\n                passive: true\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    content.removeEventListener(\"pointerdown\", onPointerDown);\n                    content.removeEventListener(\"touchstart\", onTouchStart);\n                    content.removeEventListener(\"mousedown\", onMouseDown);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile\n    ]);\n    // Recordar última sección activa\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            seccionActivaIdRef.current = seccionActivaId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (seccionActivaId) window._lastSeccionActivaId = seccionActivaId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!mobileBackgroundEditSectionId) {\n                window.dispatchEvent(new Event(\"salir-modo-mover-fondo\"));\n                return;\n            }\n            window.dispatchEvent(new CustomEvent(\"activar-modo-mover-fondo\", {\n                detail: {\n                    sectionId: mobileBackgroundEditSectionId\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        mobileBackgroundEditSectionId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!nuevoTextoRef.current) return;\n            const obj = objetos.find({\n                \"CanvasEditor.useEffect.obj\": (o)=>o.id === nuevoTextoRef.current\n            }[\"CanvasEditor.useEffect.obj\"]);\n            if (obj) {\n                setElementosSeleccionados([\n                    obj.id\n                ]);\n                // NO iniciar edición automáticamente - solo seleccionar\n                nuevoTextoRef.current = null;\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const handleClickFuera = {\n                \"CanvasEditor.useEffect.handleClickFuera\": (e)=>{\n                    if (!e.target.closest(\".popup-fuente\")) {\n                        setMostrarSelectorFuente(false);\n                        setMostrarSelectorTamano(false);\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleClickFuera\"];\n            document.addEventListener(\"mousedown\", handleClickFuera);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickFuera)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (onHistorialChange) {\n                onHistorialChange(historial);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        historial,\n        onHistorialChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (onFuturosChange) {\n                onFuturosChange(futuros);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        futuros,\n        onFuturosChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Pre-cargar fuentes populares al iniciar\n            _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.preloadPopularFonts();\n            // Escuchar evento de fuentes cargadas para redibujar\n            const handleFontsLoaded = {\n                \"CanvasEditor.useEffect.handleFontsLoaded\": ()=>{\n                    if (stageRef.current) {\n                        stageRef.current.batchDraw();\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleFontsLoaded\"];\n            window.addEventListener('fonts-loaded', handleFontsLoaded);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    window.removeEventListener('fonts-loaded', handleFontsLoaded);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            let alive = true;\n            async function precargar() {\n                // Solo precargar fuentes nuevas para evitar re-renders globales del stage\n                if (!fuentesNecesarias.length) return;\n                const pendientes = fuentesNecesarias.filter({\n                    \"CanvasEditor.useEffect.precargar.pendientes\": (fontName)=>!loadedFontFamiliesRef.current.has(fontName)\n                }[\"CanvasEditor.useEffect.precargar.pendientes\"]);\n                if (!pendientes.length) return;\n                try {\n                    var _fontManager_loadFonts, _document_fonts, _document;\n                    // ? Ideal: que fontManager.loadFonts devuelva Promise\n                    // Si hoy no devuelve, igual lo resolvemos con document.fonts más abajo.\n                    const maybePromise = (_fontManager_loadFonts = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.loadFonts) === null || _fontManager_loadFonts === void 0 ? void 0 : _fontManager_loadFonts.call(_utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager, pendientes);\n                    // Si devuelve promise, esperamos\n                    if (maybePromise && typeof maybePromise.then === \"function\") {\n                        await maybePromise;\n                    }\n                    // ? Segundo seguro: esperar a que el browser confirme\n                    // (esto garantiza que no haya fallback)\n                    if ((_document = document) === null || _document === void 0 ? void 0 : (_document_fonts = _document.fonts) === null || _document_fonts === void 0 ? void 0 : _document_fonts.load) {\n                        await Promise.all(pendientes.map({\n                            \"CanvasEditor.useEffect.precargar\": (f)=>document.fonts.load('16px \"'.concat(f, '\"'))\n                        }[\"CanvasEditor.useEffect.precargar\"]));\n                    }\n                    if (!alive) return;\n                    pendientes.forEach({\n                        \"CanvasEditor.useEffect.precargar\": (fontName)=>loadedFontFamiliesRef.current.add(fontName)\n                    }[\"CanvasEditor.useEffect.precargar\"]);\n                    // Redraw por si acaso\n                    requestAnimationFrame({\n                        \"CanvasEditor.useEffect.precargar\": ()=>{\n                            var _stageRef_current_batchDraw, _stageRef_current;\n                            (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_batchDraw = _stageRef_current.batchDraw) === null || _stageRef_current_batchDraw === void 0 ? void 0 : _stageRef_current_batchDraw.call(_stageRef_current);\n                        }\n                    }[\"CanvasEditor.useEffect.precargar\"]);\n                } catch (e) {\n                    console.warn(\"?? Error precargando fuentes:\", e);\n                }\n            }\n            // Solo precargar cuando ya cargaste el borrador (para evitar overlay raro)\n            if (cargado) precargar();\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    alive = false;\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        cargado,\n        fuentesNecesarias\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{}\n    }[\"CanvasEditor.useEffect\"], [\n        seleccionActiva,\n        areaSeleccion,\n        inicioSeleccion\n    ]);\n    const actualizarObjeto = (index, nuevo)=>{\n        const nuevos = [\n            ...objetos\n        ];\n        const { fromTransform, ...cleanNuevo } = nuevo;\n        // Preservar datos específicos según el tipo de objeto\n        if (nuevos[index].tipo === 'forma' && nuevos[index].figura === 'line') {\n            // Para líneas, asegurar que los puntos se preserven\n            nuevos[index] = {\n                ...nuevos[index],\n                ...cleanNuevo,\n                points: cleanNuevo.points || nuevos[index].points || [\n                    0,\n                    0,\n                    100,\n                    0\n                ]\n            };\n        } else {\n            nuevos[index] = {\n                ...nuevos[index],\n                ...cleanNuevo\n            };\n        }\n        setObjetos(nuevos);\n    };\n    const actualizarObjetoPorId = (id, cambios)=>{\n        const index = objetos.findIndex((o)=>o.id === id);\n        if (index === -1) return console.warn(\"? No se encontró el objeto con ID:\", id);\n        actualizarObjeto(index, cambios);\n    };\n    const normalizarMedidasGaleria = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[normalizarMedidasGaleria]\": (galeria, widthCandidate, xCandidate)=>{\n            const canvasWidth = 800;\n            const rows = Math.max(1, Number(galeria === null || galeria === void 0 ? void 0 : galeria.rows) || 1);\n            const cols = Math.max(1, Number(galeria === null || galeria === void 0 ? void 0 : galeria.cols) || 1);\n            const gap = Math.max(0, Number(galeria === null || galeria === void 0 ? void 0 : galeria.gap) || 0);\n            const cellRatio = (galeria === null || galeria === void 0 ? void 0 : galeria.ratio) === \"4:3\" ? 3 / 4 : (galeria === null || galeria === void 0 ? void 0 : galeria.ratio) === \"16:9\" ? 9 / 16 : 1;\n            const minGridWidth = gap * (cols - 1) + cols;\n            let widthPct = Number(widthCandidate) / canvasWidth * 100;\n            if (!Number.isFinite(widthPct)) widthPct = Number(galeria === null || galeria === void 0 ? void 0 : galeria.widthPct);\n            if (!Number.isFinite(widthPct)) widthPct = 70;\n            widthPct = Math.max(10, Math.min(100, widthPct));\n            let width = canvasWidth * widthPct / 100;\n            width = Math.min(canvasWidth, Math.max(minGridWidth, width));\n            widthPct = Math.max(10, Math.min(100, width / canvasWidth * 100));\n            const maxX = Math.max(0, canvasWidth - width);\n            const fallbackX = Number.isFinite(Number(galeria === null || galeria === void 0 ? void 0 : galeria.x)) ? Number(galeria.x) : 0;\n            const rawX = Number.isFinite(Number(xCandidate)) ? Number(xCandidate) : fallbackX;\n            const x = Math.max(0, Math.min(rawX, maxX));\n            const cellW = Math.max(1, (width - gap * (cols - 1)) / cols);\n            const cellH = cellW * cellRatio;\n            const height = rows * cellH + gap * (rows - 1);\n            return {\n                width,\n                height,\n                widthPct,\n                x\n            };\n        }\n    }[\"CanvasEditor.useCallback[normalizarMedidasGaleria]\"], []);\n    const actualizarLinea = (lineId, nuevaData)=>{\n        const index = objetos.findIndex((obj)=>obj.id === lineId);\n        if (index === -1) {\n            return;\n        }\n        if (nuevaData.isPreview) {\n            // Preview: Solo actualización visual sin historial\n            setObjetos((prev)=>{\n                const nuevos = [\n                    ...prev\n                ];\n                const { isPreview, ...cleanData } = nuevaData;\n                // Asegurar que los puntos siempre sean un array válido\n                if (cleanData.points) {\n                    cleanData.points = cleanData.points.map((p)=>parseFloat(p) || 0);\n                }\n                // ?? PRESERVAR strokeWidth si existe\n                if (cleanData.strokeWidth !== undefined) {\n                    cleanData.strokeWidth = parseInt(cleanData.strokeWidth) || 2;\n                }\n                nuevos[index] = {\n                    ...nuevos[index],\n                    ...cleanData\n                };\n                return nuevos;\n            });\n        } else if (nuevaData.isFinal) {\n            // Final: Guardar en historial\n            setObjetos((prev)=>{\n                const nuevos = [\n                    ...prev\n                ];\n                const { isFinal, ...cleanData } = nuevaData;\n                // Asegurar que los puntos siempre sean un array válido\n                if (cleanData.points) {\n                    cleanData.points = cleanData.points.map((p)=>parseFloat(p) || 0);\n                }\n                // ?? PRESERVAR strokeWidth si existe\n                if (cleanData.strokeWidth !== undefined) {\n                    cleanData.strokeWidth = parseInt(cleanData.strokeWidth) || 2;\n                }\n                nuevos[index] = {\n                    ...nuevos[index],\n                    ...cleanData\n                };\n                return nuevos;\n            });\n        }\n    };\n    // ?? Métricas de texto consistentes con el render de ElementoCanvas\n    const obtenerMetricasTexto = function(texto) {\n        let { fontSize = 24, fontFamily = \"sans-serif\", fontWeight = \"normal\", fontStyle = \"normal\", lineHeight = 1.2 } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n            const fallbackSize = Number.isFinite(fontSize) && fontSize > 0 ? fontSize : 24;\n            return {\n                width: Math.max(20, String(texto !== null && texto !== void 0 ? texto : \"\").length * (fallbackSize * 0.55)),\n                height: fallbackSize * lineHeight\n            };\n        }\n        const safeFontSize = Number.isFinite(fontSize) && fontSize > 0 ? fontSize : 24;\n        const safeLineHeight = Number.isFinite(lineHeight) && lineHeight > 0 ? lineHeight : 1.2;\n        const safeFamily = String(fontFamily || \"sans-serif\");\n        const fontForCanvas = safeFamily.includes(\",\") ? safeFamily : /\\s/.test(safeFamily) ? '\"'.concat(safeFamily, '\"') : safeFamily;\n        ctx.font = \"\".concat(fontStyle || \"normal\", \" \").concat(fontWeight || \"normal\", \" \").concat(safeFontSize, \"px \").concat(fontForCanvas);\n        const rawText = String(texto !== null && texto !== void 0 ? texto : \"\");\n        const safeText = rawText.replace(/[ \\t]+$/gm, \"\");\n        const lines = safeText.split(/\\r?\\n/);\n        const maxLineWidth = Math.max(...lines.map((line)=>ctx.measureText(line).width), 20);\n        return {\n            width: maxLineWidth,\n            height: safeFontSize * safeLineHeight * Math.max(lines.length, 1)\n        };\n    };\n    const medirAnchoTextoKonva = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[medirAnchoTextoKonva]\": function(objTexto, textoObjetivo) {\n            let fontSizeOverride = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n            if (!objTexto || \"object\" === \"undefined\") return null;\n            try {\n                var _probe_getTextWidth;\n                const safeText = String(textoObjetivo !== null && textoObjetivo !== void 0 ? textoObjetivo : \"\").replace(/[ \\t]+$/gm, \"\");\n                const safeFontFamily = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.isFontAvailable(objTexto.fontFamily) ? objTexto.fontFamily : \"sans-serif\";\n                const safeFontSize = Number.isFinite(fontSizeOverride) && fontSizeOverride > 0 ? fontSizeOverride : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n                const baseLineHeight = Number.isFinite(objTexto.lineHeight) && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n                const probe = new (konva__WEBPACK_IMPORTED_MODULE_32___default().Text)({\n                    text: safeText,\n                    fontSize: safeFontSize,\n                    fontFamily: safeFontFamily,\n                    fontWeight: objTexto.fontWeight || \"normal\",\n                    fontStyle: resolveKonvaFontStyle(objTexto.fontStyle || \"normal\", objTexto.fontWeight || \"normal\"),\n                    lineHeight: baseLineHeight * 0.92,\n                    padding: 0,\n                    wrap: \"none\"\n                });\n                const width = Number(((_probe_getTextWidth = probe.getTextWidth) === null || _probe_getTextWidth === void 0 ? void 0 : _probe_getTextWidth.call(probe)) || 0);\n                probe.destroy();\n                return Number.isFinite(width) && width > 0 ? width : null;\n            } catch (e) {\n                return null;\n            }\n        }\n    }[\"CanvasEditor.useCallback[medirAnchoTextoKonva]\"], []);\n    const medirAltoTextoKonva = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[medirAltoTextoKonva]\": function(objTexto, textoObjetivo) {\n            let fontSizeOverride = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n            if (!objTexto || \"object\" === \"undefined\") return null;\n            try {\n                var _probe_height;\n                const safeText = String(textoObjetivo !== null && textoObjetivo !== void 0 ? textoObjetivo : \"\").replace(/[ \\t]+$/gm, \"\");\n                const safeFontFamily = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.isFontAvailable(objTexto.fontFamily) ? objTexto.fontFamily : \"sans-serif\";\n                const safeFontSize = Number.isFinite(fontSizeOverride) && fontSizeOverride > 0 ? fontSizeOverride : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n                const baseLineHeight = Number.isFinite(objTexto.lineHeight) && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n                const probe = new (konva__WEBPACK_IMPORTED_MODULE_32___default().Text)({\n                    text: safeText,\n                    fontSize: safeFontSize,\n                    fontFamily: safeFontFamily,\n                    fontWeight: objTexto.fontWeight || \"normal\",\n                    fontStyle: resolveKonvaFontStyle(objTexto.fontStyle || \"normal\", objTexto.fontWeight || \"normal\"),\n                    lineHeight: baseLineHeight * 0.92,\n                    padding: 0,\n                    wrap: \"none\"\n                });\n                const height = Number(((_probe_height = probe.height) === null || _probe_height === void 0 ? void 0 : _probe_height.call(probe)) || 0);\n                probe.destroy();\n                return Number.isFinite(height) && height > 0 ? height : null;\n            } catch (e) {\n                return null;\n            }\n        }\n    }[\"CanvasEditor.useCallback[medirAltoTextoKonva]\"], []);\n    const calcularXTextoCentradoPorTamano = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoCentradoPorTamano]\": (objTexto, nextFontSize)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const previousMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const previousWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, objTexto.fontSize);\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const previousWidth = Number.isFinite(previousWidthFromKonva) && previousWidthFromKonva > 0 ? previousWidthFromKonva : previousMetrics.width;\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            const currentX = Number.isFinite(objTexto.x) ? objTexto.x : 0;\n            const centerX = currentX + previousWidth / 2;\n            return centerX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoCentradoPorTamano]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    const calcularXTextoDesdeCentro = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoDesdeCentro]\": (objTexto, nextFontSize, centerX)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            }\n            const safeCenterX = Number(centerX);\n            if (!Number.isFinite(safeCenterX)) {\n                return calcularXTextoCentradoPorTamano(objTexto, nextFontSize);\n            }\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            return safeCenterX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoDesdeCentro]\"], [\n        calcularXTextoCentradoPorTamano,\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    const calcularYTextoDesdeCentro = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularYTextoDesdeCentro]\": (objTexto, nextFontSize, centerY)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.y) ? objTexto.y : 0;\n            }\n            const safeCenterY = Number(centerY);\n            if (!Number.isFinite(safeCenterY)) {\n                return Number.isFinite(objTexto.y) ? objTexto.y : 0;\n            }\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextHeightFromKonva = medirAltoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const nextHeight = Number.isFinite(nextHeightFromKonva) && nextHeightFromKonva > 0 ? nextHeightFromKonva : nextMetrics.height;\n            return safeCenterY - nextHeight / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularYTextoDesdeCentro]\"], [\n        obtenerMetricasTexto,\n        medirAltoTextoKonva\n    ]);\n    const calcularPosTextoDesdeCentro = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularPosTextoDesdeCentro]\": function(objTexto, nextFontSize, centerX, centerY) {\n            let rotationDeg = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                return {\n                    x: Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0,\n                    y: null\n                };\n            }\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const safeCenterX = Number(centerX);\n            const safeCenterY = Number(centerY);\n            const safeRotation = Number(rotationDeg);\n            const theta = (Number.isFinite(safeRotation) ? safeRotation : 0) * (Math.PI / 180);\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const metrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const widthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const heightFromKonva = medirAltoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const width = Number.isFinite(widthFromKonva) && widthFromKonva > 0 ? widthFromKonva : metrics.width;\n            const height = Number.isFinite(heightFromKonva) && heightFromKonva > 0 ? heightFromKonva : metrics.height;\n            const halfW = width / 2;\n            const halfH = height / 2;\n            const centerOffsetX = halfW * Math.cos(theta) - halfH * Math.sin(theta);\n            const centerOffsetY = halfW * Math.sin(theta) + halfH * Math.cos(theta);\n            const fallbackX = calcularXTextoDesdeCentro(objTexto, safeNextSize, safeCenterX);\n            const fallbackY = calcularYTextoDesdeCentro(objTexto, safeNextSize, safeCenterY);\n            return {\n                x: Number.isFinite(safeCenterX) ? safeCenterX - centerOffsetX : fallbackX,\n                y: Number.isFinite(safeCenterY) ? safeCenterY - centerOffsetY : fallbackY,\n                width,\n                height\n            };\n        }\n    }[\"CanvasEditor.useCallback[calcularPosTextoDesdeCentro]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva,\n        medirAltoTextoKonva,\n        calcularXTextoDesdeCentro,\n        calcularYTextoDesdeCentro\n    ]);\n    const ajustarFontSizeAAnchoVisual = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[ajustarFontSizeAAnchoVisual]\": (objTexto, proposedFontSize, targetVisualWidth)=>{\n            const safeProposed = Number(proposedFontSize);\n            const safeTargetWidth = Number(targetVisualWidth);\n            var _objTexto_id, _objTexto_fontSize;\n            textResizeDebug(\"fit-width:start\", {\n                id: (_objTexto_id = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id !== void 0 ? _objTexto_id : null,\n                proposedFontSize: safeProposed,\n                targetVisualWidth: safeTargetWidth,\n                currentFontSize: (_objTexto_fontSize = objTexto === null || objTexto === void 0 ? void 0 : objTexto.fontSize) !== null && _objTexto_fontSize !== void 0 ? _objTexto_fontSize : null\n            });\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                var _objTexto_id1;\n                textResizeDebug(\"fit-width:skip-invalid-obj\", {\n                    id: (_objTexto_id1 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id1 !== void 0 ? _objTexto_id1 : null\n                });\n                return Number.isFinite(safeProposed) && safeProposed > 0 ? safeProposed : 24;\n            }\n            if (!Number.isFinite(safeProposed) || safeProposed <= 0) {\n                var _objTexto_id2;\n                textResizeDebug(\"fit-width:skip-invalid-size\", {\n                    id: (_objTexto_id2 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id2 !== void 0 ? _objTexto_id2 : null\n                });\n                return Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            }\n            if (!Number.isFinite(safeTargetWidth) || safeTargetWidth <= 0) {\n                var _objTexto_id3;\n                textResizeDebug(\"fit-width:skip-invalid-width\", {\n                    id: (_objTexto_id3 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id3 !== void 0 ? _objTexto_id3 : null\n                });\n                return safeProposed;\n            }\n            let nextSize = Math.max(6, safeProposed);\n            // Dos iteraciones alcanzan para compensar el desajuste entre preview escalado y render final.\n            for(let i = 0; i < 2; i += 1){\n                const measuredWidth = medirAnchoTextoKonva(objTexto, objTexto.texto, nextSize);\n                if (!Number.isFinite(measuredWidth) || measuredWidth <= 0) {\n                    var _objTexto_id4;\n                    textResizeDebug(\"fit-width:break-no-measure\", {\n                        id: (_objTexto_id4 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id4 !== void 0 ? _objTexto_id4 : null,\n                        iteration: i,\n                        measuredWidth\n                    });\n                    break;\n                }\n                const ratio = safeTargetWidth / measuredWidth;\n                if (!Number.isFinite(ratio) || ratio <= 0) {\n                    var _objTexto_id5;\n                    textResizeDebug(\"fit-width:break-invalid-ratio\", {\n                        id: (_objTexto_id5 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id5 !== void 0 ? _objTexto_id5 : null,\n                        iteration: i,\n                        ratio,\n                        measuredWidth,\n                        targetVisualWidth: safeTargetWidth\n                    });\n                    break;\n                }\n                const candidate = Math.max(6, nextSize * ratio);\n                var _objTexto_id6;\n                textResizeDebug(\"fit-width:iter\", {\n                    id: (_objTexto_id6 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id6 !== void 0 ? _objTexto_id6 : null,\n                    iteration: i,\n                    measuredWidth,\n                    ratio,\n                    prevSize: nextSize,\n                    candidate\n                });\n                if (Math.abs(candidate - nextSize) <= 0.01) {\n                    nextSize = candidate;\n                    break;\n                }\n                nextSize = candidate;\n            }\n            const finalSize = Number(nextSize.toFixed(3));\n            var _objTexto_id7;\n            textResizeDebug(\"fit-width:end\", {\n                id: (_objTexto_id7 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id7 !== void 0 ? _objTexto_id7 : null,\n                finalSize,\n                targetVisualWidth: safeTargetWidth\n            });\n            return finalSize;\n        }\n    }[\"CanvasEditor.useCallback[ajustarFontSizeAAnchoVisual]\"], [\n        medirAnchoTextoKonva,\n        textResizeDebug\n    ]);\n    const calcularXTextoCentrado = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoCentrado]\": (objTexto, textoObjetivo)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const previousMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextMetrics = obtenerMetricasTexto(textoObjetivo, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const previousWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto);\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, textoObjetivo);\n            const previousWidth = Number.isFinite(previousWidthFromKonva) && previousWidthFromKonva > 0 ? previousWidthFromKonva : previousMetrics.width;\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            const currentX = Number.isFinite(objTexto.x) ? objTexto.x : 0;\n            const centerX = currentX + previousWidth / 2;\n            return centerX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoCentrado]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const describeTarget = {\n                \"CanvasEditor.useEffect.describeTarget\": (target)=>{\n                    var _target_classList;\n                    if (target === window) return \"window\";\n                    if (target === document) return \"document\";\n                    if (!(target instanceof Element)) return \"unknown\";\n                    const tag = String(target.tagName || \"\").toLowerCase();\n                    const id = target.id ? \"#\".concat(target.id) : \"\";\n                    const classes = ((_target_classList = target.classList) === null || _target_classList === void 0 ? void 0 : _target_classList.length) ? \".\".concat(Array.from(target.classList).slice(0, 2).join(\".\")) : \"\";\n                    return \"\".concat(tag).concat(id).concat(classes) || \"element\";\n                }\n            }[\"CanvasEditor.useEffect.describeTarget\"];\n            const isInsideFloatingUi = {\n                \"CanvasEditor.useEffect.isInsideFloatingUi\": (target)=>{\n                    if (!(target instanceof Element)) return false;\n                    return Boolean(target.closest(\".menu-z-index\") || target.closest('[data-option-button=\"true\"]'));\n                }\n            }[\"CanvasEditor.useEffect.isInsideFloatingUi\"];\n            const handlePointerOutside = {\n                \"CanvasEditor.useEffect.handlePointerOutside\": (event)=>{\n                    const insideFloatingUi = isInsideFloatingUi(event.target);\n                    if (insideFloatingUi) {\n                        var _event_pointerType;\n                        logOptionButtonMenuDebug(\"outside-ignore\", {\n                            source: \"global-pointerdown\",\n                            target: describeTarget(event.target),\n                            eventType: event.type,\n                            pointerType: (_event_pointerType = event.pointerType) !== null && _event_pointerType !== void 0 ? _event_pointerType : null\n                        });\n                        return;\n                    }\n                    setMostrarPanelZ({\n                        \"CanvasEditor.useEffect.handlePointerOutside\": (prev)=>{\n                            if (!prev) return prev;\n                            var _event_pointerType;\n                            logOptionButtonMenuDebug(\"outside-close\", {\n                                source: \"global-pointerdown\",\n                                target: describeTarget(event.target),\n                                eventType: event.type,\n                                pointerType: (_event_pointerType = event.pointerType) !== null && _event_pointerType !== void 0 ? _event_pointerType : null,\n                                prev,\n                                next: false\n                            });\n                            return false;\n                        }\n                    }[\"CanvasEditor.useEffect.handlePointerOutside\"]);\n                }\n            }[\"CanvasEditor.useEffect.handlePointerOutside\"];\n            if ( true && \"PointerEvent\" in window) {\n                document.addEventListener(\"pointerdown\", handlePointerOutside, true);\n                return ({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        document.removeEventListener(\"pointerdown\", handlePointerOutside, true);\n                    }\n                })[\"CanvasEditor.useEffect\"];\n            }\n            document.addEventListener(\"mousedown\", handlePointerOutside, true);\n            document.addEventListener(\"touchstart\", handlePointerOutside, {\n                capture: true,\n                passive: true\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    document.removeEventListener(\"mousedown\", handlePointerOutside, true);\n                    document.removeEventListener(\"touchstart\", handlePointerOutside, true);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        logOptionButtonMenuDebug\n    ]);\n    const actualizarFondoSeccion = (id, nuevoFondo)=>{\n        setSecciones((prev)=>prev.map((s)=>s.id === id ? {\n                    ...s,\n                    fondo: nuevoFondo\n                } : s));\n    };\n    (0,_hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n        onDeshacer,\n        onRehacer,\n        onDuplicar,\n        onEliminar,\n        onDeseleccionar: {\n            \"CanvasEditor.useKeyboardShortcuts\": ()=>{\n                if (elementosSeleccionados.length > 0) {\n                    setElementosSeleccionados([]);\n                    setMostrarPanelZ(false);\n                    setMostrarSubmenuCapa(false);\n                    setMostrarSelectorFuente(false);\n                    setMostrarSelectorTamano(false);\n                    setHoverId(null);\n                }\n            }\n        }[\"CanvasEditor.useKeyboardShortcuts\"],\n        onCopiar,\n        onPegar,\n        onCambiarAlineacion,\n        isEditing: !!editing.id,\n        tieneSeleccion: elementosSeleccionados.length > 0\n    });\n    const cambiarColorFondoSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (seccionId, nuevoColor)=>{\n            setSecciones({\n                \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (prev)=>prev.map({\n                        \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (s)=>{\n                            if (s.id !== seccionId) return s;\n                            return {\n                                ...s,\n                                fondo: nuevoColor\n                            };\n                        }\n                    }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"])\n            }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"]);\n        }\n    }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"], [\n        setSecciones\n    ]);\n    (0,_editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__[\"default\"])({\n        seccionesOrdenadas,\n        secciones,\n        seccionActivaId,\n        objetos,\n        altoCanvas,\n        calcularOffsetY: _utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY,\n        cambiarColorFondoSeccion,\n        onDeshacer,\n        onRehacer,\n        historialLength: historial.length,\n        futurosLength: futuros.length,\n        stageRef\n    });\n    const esSeccionPantallaById = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[esSeccionPantallaById]\": (seccionId)=>{\n            const s = seccionesOrdenadas.find({\n                \"CanvasEditor.useCallback[esSeccionPantallaById].s\": (x)=>x.id === seccionId\n            }[\"CanvasEditor.useCallback[esSeccionPantallaById].s\"]);\n            return s && normalizarAltoModo(s.altoModo) === \"pantalla\";\n        }\n    }[\"CanvasEditor.useCallback[esSeccionPantallaById]\"], [\n        seccionesOrdenadas\n    ]);\n    const altoCanvasDinamico = seccionesOrdenadas.reduce((acc, s)=>acc + s.altura, 0) || 800;\n    const abrirModalBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[abrirModalBorrarSeccion]\": (seccionId)=>{\n            if (!seccionId || isDeletingSection) return;\n            setDeleteSectionModal({\n                isOpen: true,\n                sectionId: seccionId\n            });\n        }\n    }[\"CanvasEditor.useCallback[abrirModalBorrarSeccion]\"], [\n        isDeletingSection\n    ]);\n    const cerrarModalBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cerrarModalBorrarSeccion]\": ()=>{\n            if (isDeletingSection) return;\n            setDeleteSectionModal({\n                isOpen: false,\n                sectionId: null\n            });\n        }\n    }[\"CanvasEditor.useCallback[cerrarModalBorrarSeccion]\"], [\n        isDeletingSection\n    ]);\n    const confirmarBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[confirmarBorrarSeccion]\": async ()=>{\n            const seccionId = deleteSectionModal.sectionId;\n            if (!seccionId || isDeletingSection) return;\n            setIsDeletingSection(true);\n            try {\n                await (0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.borrarSeccion)({\n                    seccionId,\n                    secciones,\n                    objetos,\n                    slug,\n                    seccionActivaId,\n                    setSecciones,\n                    setObjetos,\n                    setSeccionActivaId\n                });\n                setDeleteSectionModal({\n                    isOpen: false,\n                    sectionId: null\n                });\n            } finally{\n                setIsDeletingSection(false);\n            }\n        }\n    }[\"CanvasEditor.useCallback[confirmarBorrarSeccion]\"], [\n        deleteSectionModal.sectionId,\n        isDeletingSection,\n        secciones,\n        objetos,\n        slug,\n        seccionActivaId,\n        setSecciones,\n        setObjetos,\n        setSeccionActivaId\n    ]);\n    // 3) Cada vez que el usuario selecciona una sección, actualizamos global y notificamos\n    const onSelectSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[onSelectSeccion]\": (id)=>{\n            try {\n                setSeccionActivaId(id);\n                window._seccionActivaId = id;\n                window.dispatchEvent(new CustomEvent(\"seccion-activa\", {\n                    detail: {\n                        id\n                    }\n                }));\n            } catch (e) {\n                console.warn(\"No pude emitir seccion-activa:\", e);\n            }\n        }\n    }[\"CanvasEditor.useCallback[onSelectSeccion]\"], [\n        setSeccionActivaId\n    ]);\n    const resolverViewportScrollSecciones = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[resolverViewportScrollSecciones]\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container, _stageContainer_closest;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            const stageContainer = stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage);\n            if (!stageContainer || \"object\" === \"undefined\") return null;\n            const mainElement = (_stageContainer_closest = stageContainer.closest) === null || _stageContainer_closest === void 0 ? void 0 : _stageContainer_closest.call(stageContainer, \"main\");\n            if (mainElement) return mainElement;\n            let current = stageContainer.parentElement;\n            while(current && current !== document.body){\n                const style = window.getComputedStyle(current);\n                const overflowY = String(style.overflowY || \"\").toLowerCase();\n                const overflow = String(style.overflow || \"\").toLowerCase();\n                const isScrollable = overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\" || overflow === \"auto\" || overflow === \"scroll\" || overflow === \"overlay\";\n                if (isScrollable && current.scrollHeight > current.clientHeight + 1) {\n                    return current;\n                }\n                current = current.parentElement;\n            }\n            return window;\n        }\n    }[\"CanvasEditor.useCallback[resolverViewportScrollSecciones]\"], []);\n    const sincronizarSeccionVisiblePorScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container, _stageContainer_getBoundingClientRect;\n            if (!seccionesOrdenadas.length || \"object\" === \"undefined\") return;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            const stageContainer = stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage);\n            if (!stageContainer) return;\n            const stageRect = (_stageContainer_getBoundingClientRect = stageContainer.getBoundingClientRect) === null || _stageContainer_getBoundingClientRect === void 0 ? void 0 : _stageContainer_getBoundingClientRect.call(stageContainer);\n            if (!stageRect || !Number.isFinite(stageRect.top) || !Number.isFinite(stageRect.height)) {\n                return;\n            }\n            const viewport = autoSectionViewportRef.current || resolverViewportScrollSecciones();\n            if (!viewport) return;\n            let viewportTop = 0;\n            let viewportBottom = window.innerHeight || document.documentElement.clientHeight || 0;\n            if (viewport !== window) {\n                var _viewport_getBoundingClientRect;\n                const viewportRect = (_viewport_getBoundingClientRect = viewport.getBoundingClientRect) === null || _viewport_getBoundingClientRect === void 0 ? void 0 : _viewport_getBoundingClientRect.call(viewport);\n                if (!viewportRect) return;\n                viewportTop = viewportRect.top;\n                viewportBottom = viewportRect.bottom;\n            }\n            if (!Number.isFinite(viewportTop) || !Number.isFinite(viewportBottom) || viewportBottom <= viewportTop) {\n                return;\n            }\n            const alturaStagePx = Number(stageRect.height || 0);\n            const alturaCanvas = Math.max(1, Number(altoCanvasDinamico) || 1);\n            if (!(alturaStagePx > 0)) return;\n            const pxPorUnidad = alturaStagePx / alturaCanvas;\n            if (!(pxPorUnidad > 0)) return;\n            const centroViewport = (viewportTop + viewportBottom) / 2;\n            let mejorId = null;\n            let mejorVisible = 0;\n            let mejorRatio = -1;\n            let mejorDistanciaCentro = Number.POSITIVE_INFINITY;\n            seccionesOrdenadas.forEach({\n                \"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\": (seccion, index)=>{\n                    const alturaSeccion = Math.max(1, Number(seccion.altura) || 1);\n                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index);\n                    const top = stageRect.top + offsetY * pxPorUnidad;\n                    const bottom = top + alturaSeccion * pxPorUnidad;\n                    const visible = Math.max(0, Math.min(bottom, viewportBottom) - Math.max(top, viewportTop));\n                    if (visible <= 0) return;\n                    const ratioVisible = visible / (alturaSeccion * pxPorUnidad);\n                    const distanciaCentro = Math.abs((top + bottom) / 2 - centroViewport);\n                    const mejoraPorVisible = visible > mejorVisible + 1;\n                    const empateVisible = Math.abs(visible - mejorVisible) <= 1;\n                    const mejoraPorRatio = empateVisible && ratioVisible > mejorRatio + 0.001;\n                    const empateRatio = empateVisible && Math.abs(ratioVisible - mejorRatio) <= 0.001;\n                    const mejoraPorCentro = empateRatio && distanciaCentro < mejorDistanciaCentro;\n                    if (mejoraPorVisible || mejoraPorRatio || mejoraPorCentro) {\n                        mejorId = seccion.id;\n                        mejorVisible = visible;\n                        mejorRatio = ratioVisible;\n                        mejorDistanciaCentro = distanciaCentro;\n                    }\n                }\n            }[\"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\"]);\n            if (!mejorId) return;\n            if (seccionActivaIdRef.current === mejorId) return;\n            onSelectSeccion(mejorId);\n        }\n    }[\"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\"], [\n        altoCanvasDinamico,\n        onSelectSeccion,\n        resolverViewportScrollSecciones,\n        seccionesOrdenadas\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            if (!seccionesOrdenadas.length) return undefined;\n            autoSectionViewportRef.current = resolverViewportScrollSecciones();\n            const scrollTarget = autoSectionViewportRef.current || window;\n            const scheduleSync = {\n                \"CanvasEditor.useEffect.scheduleSync\": ()=>{\n                    if (autoSectionScrollRafRef.current) return;\n                    autoSectionScrollRafRef.current = window.requestAnimationFrame({\n                        \"CanvasEditor.useEffect.scheduleSync\": ()=>{\n                            autoSectionScrollRafRef.current = 0;\n                            sincronizarSeccionVisiblePorScroll();\n                        }\n                    }[\"CanvasEditor.useEffect.scheduleSync\"]);\n                }\n            }[\"CanvasEditor.useEffect.scheduleSync\"];\n            scheduleSync();\n            const eventTarget = scrollTarget === window ? window : scrollTarget;\n            eventTarget.addEventListener(\"scroll\", scheduleSync, {\n                passive: true\n            });\n            window.addEventListener(\"resize\", scheduleSync);\n            window.addEventListener(\"orientationchange\", scheduleSync);\n            if (window.visualViewport) {\n                window.visualViewport.addEventListener(\"scroll\", scheduleSync);\n                window.visualViewport.addEventListener(\"resize\", scheduleSync);\n            }\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    eventTarget.removeEventListener(\"scroll\", scheduleSync);\n                    window.removeEventListener(\"resize\", scheduleSync);\n                    window.removeEventListener(\"orientationchange\", scheduleSync);\n                    if (window.visualViewport) {\n                        window.visualViewport.removeEventListener(\"scroll\", scheduleSync);\n                        window.visualViewport.removeEventListener(\"resize\", scheduleSync);\n                    }\n                    if (autoSectionScrollRafRef.current) {\n                        window.cancelAnimationFrame(autoSectionScrollRafRef.current);\n                        autoSectionScrollRafRef.current = 0;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        resolverViewportScrollSecciones,\n        seccionesOrdenadas.length,\n        sincronizarSeccionVisiblePorScroll\n    ]);\n    // ?? NUEVO HOOK PARA GUÍAS\n    const { guiaLineas, mostrarGuias, limpiarGuias, configurarDragEnd } = (0,_hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__[\"default\"])({\n        anchoCanvas: 800,\n        altoCanvas: altoCanvasDinamico,\n        // UX: guía de sección solo al centrar, con imán sutil.\n        margenSensibilidad: 8,\n        magnetRadius: 10,\n        sectionMagnetRadius: 6,\n        snapStrength: 0.8,\n        sectionSnapStrength: 1,\n        sectionLineTolerance: 0.75,\n        snapToEdges: true,\n        snapToCenters: true,\n        seccionesOrdenadas\n    });\n    // ?? Función para actualizar posición del botón SIN re-render\n    const { actualizarPosicionBotonOpciones } = (0,_components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__[\"default\"])({\n        botonOpcionesRef,\n        layoutRootRef: editorOverlayRootRef,\n        elementRefs,\n        elementosSeleccionados,\n        stageRef,\n        escalaVisual,\n        escalaActiva,\n        isMobile,\n        buttonSize: optionButtonSize\n    });\n    const handleTransformInteractionStart = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleTransformInteractionStart]\": function() {\n            let payload = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n            const rotating = (payload === null || payload === void 0 ? void 0 : payload.isRotate) === true;\n            setIsSelectionRotating(rotating);\n            if (rotating) {\n                setMostrarPanelZ(false);\n            }\n        }\n    }[\"CanvasEditor.useCallback[handleTransformInteractionStart]\"], []);\n    const handleTransformInteractionEnd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleTransformInteractionEnd]\": ()=>{\n            setIsSelectionRotating(false);\n            requestAnimationFrame({\n                \"CanvasEditor.useCallback[handleTransformInteractionEnd]\": ()=>{\n                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                        actualizarPosicionBotonOpciones(\"transform-interaction-end\");\n                    }\n                }\n            }[\"CanvasEditor.useCallback[handleTransformInteractionEnd]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleTransformInteractionEnd]\"], [\n        actualizarPosicionBotonOpciones\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (elementosSeleccionados.length === 1 && !editing.id) return;\n            setIsSelectionRotating(false);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados.length,\n        editing.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const onDragStartGlobal = {\n                \"CanvasEditor.useEffect.onDragStartGlobal\": ()=>{\n                    // limpiar hover/preselección inmediatamente para evitar \"flash\" visual\n                    (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)({\n                        \"CanvasEditor.useEffect.onDragStartGlobal\": ()=>{\n                            setHoverId(null);\n                            setElementosPreSeleccionados([]);\n                            setIsDragging(true);\n                        }\n                    }[\"CanvasEditor.useEffect.onDragStartGlobal\"]);\n                }\n            }[\"CanvasEditor.useEffect.onDragStartGlobal\"];\n            const onDragEndGlobal = {\n                \"CanvasEditor.useEffect.onDragEndGlobal\": ()=>{\n                // nada por ahora; si quisieras, podrías recalcular algo acá\n                }\n            }[\"CanvasEditor.useEffect.onDragEndGlobal\"];\n            window.addEventListener(\"dragging-start\", onDragStartGlobal);\n            window.addEventListener(\"dragging-end\", onDragEndGlobal);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    window.removeEventListener(\"dragging-start\", onDragStartGlobal);\n                    window.removeEventListener(\"dragging-end\", onDragEndGlobal);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    // ?? OPTIMIZACIÓN: Limpiar cache de intersección al cambiar selección\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Limpiar cache cuando cambia la selección\n            if (window._lineIntersectionCache) {\n                window._lineIntersectionCache = {};\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados.length\n    ]);\n    // ?? OPTIMIZACIÓN: Forzar actualización de líneas después de drag grupal\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (window._grupoLider || elementosSeleccionados.length === 0) return;\n            // Solo correr esta optimización cuando acaba de finalizar un drag grupal.\n            const now = typeof performance !== \"undefined\" && typeof performance.now === \"function\" ? performance.now() : Date.now();\n            const recentlyEndedGroupDrag = Number.isFinite(window._skipUntil) && window._skipUntil > now;\n            if (!recentlyEndedGroupDrag) return;\n            const hayLineas = objetos.some({\n                \"CanvasEditor.useEffect.hayLineas\": (obj)=>elementosSeleccionados.includes(obj.id) && obj.tipo === 'forma' && obj.figura === 'line'\n            }[\"CanvasEditor.useEffect.hayLineas\"]);\n            if (!hayLineas) return;\n            const timer = setTimeout({\n                \"CanvasEditor.useEffect.timer\": ()=>{\n                    elementosSeleccionados.forEach({\n                        \"CanvasEditor.useEffect.timer\": (id)=>{\n                            const node = elementRefs.current[id];\n                            if (node && node.getLayer) {\n                                var _node_getLayer;\n                                (_node_getLayer = node.getLayer()) === null || _node_getLayer === void 0 ? void 0 : _node_getLayer.batchDraw();\n                            }\n                        }\n                    }[\"CanvasEditor.useEffect.timer\"]);\n                }\n            }[\"CanvasEditor.useEffect.timer\"], 50);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>clearTimeout(timer)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados,\n        objetos\n    ]);\n    const detectarInterseccionLinea = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[detectarInterseccionLinea]\": ()=>{\n            return ({\n                \"CanvasEditor.useMemo[detectarInterseccionLinea]\": (lineObj, area, stage)=>{\n                    try {\n                        var _window__elementRefs;\n                        if (!lineObj || !area || !lineObj.points) return false;\n                        let points = lineObj.points;\n                        if (!Array.isArray(points) || points.length < 4) {\n                            points = [\n                                0,\n                                0,\n                                100,\n                                0\n                            ];\n                        }\n                        const puntosLimpios = [\n                            parseFloat(points[0]) || 0,\n                            parseFloat(points[1]) || 0,\n                            parseFloat(points[2]) || 100,\n                            parseFloat(points[3]) || 0\n                        ];\n                        // ?? USAR LA POSICIÓN DEL NODO REAL EN EL STAGE\n                        const node = (_window__elementRefs = window._elementRefs) === null || _window__elementRefs === void 0 ? void 0 : _window__elementRefs[lineObj.id];\n                        const lineX = node ? node.x() : lineObj.x || 0;\n                        const lineY = node ? node.y() : lineObj.y || 0;\n                        // Coordenadas absolutas de los puntos\n                        const startX = lineX + puntosLimpios[0];\n                        const startY = lineY + puntosLimpios[1];\n                        const endX = lineX + puntosLimpios[2];\n                        const endY = lineY + puntosLimpios[3];\n                        // ?? MÉTODO 1: Verificar si algún punto está dentro del área\n                        const startDentro = startX >= area.x && startX <= area.x + area.width && startY >= area.y && startY <= area.y + area.height;\n                        const endDentro = endX >= area.x && endX <= area.x + area.width && endY >= area.y && endY <= area.y + area.height;\n                        if (startDentro || endDentro) {\n                            return true;\n                        }\n                        // ?? MÉTODO 2: Verificar intersección línea-rectángulo\n                        const intersecta = lineIntersectsRect(startX, startY, endX, endY, area.x, area.y, area.x + area.width, area.y + area.height);\n                        if (intersecta) {\n                            return true;\n                        }\n                        return false;\n                    } catch (error) {\n                        return false;\n                    }\n                }\n            })[\"CanvasEditor.useMemo[detectarInterseccionLinea]\"];\n        }\n    }[\"CanvasEditor.useMemo[detectarInterseccionLinea]\"], []);\n    // Función auxiliar para verificar intersección línea-rectángulo\n    function lineIntersectsRect(x1, y1, x2, y2, rectLeft, rectTop, rectRight, rectBottom) {\n        // Verificar si la línea intersecta con alguno de los 4 lados del rectángulo\n        return lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectTop, rectRight, rectTop) || // Top\n        lineIntersectsLine(x1, y1, x2, y2, rectRight, rectTop, rectRight, rectBottom) || // Right\n        lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectBottom, rectRight, rectBottom) || // Bottom\n        lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectTop, rectLeft, rectBottom) // Left\n        ;\n    }\n    // Función auxiliar para verificar intersección línea-línea\n    function lineIntersectsLine(x1, y1, x2, y2, x3, y3, x4, y4) {\n        const denom = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n        if (Math.abs(denom) < 0.0001) return false;\n        const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / denom;\n        const u = -((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / denom;\n        return t >= 0 && t <= 1 && u >= 0 && u <= 1;\n    }\n    // ?? Ajustar el transformer cuando cambia el texto inline\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _node_getClassName, _node_getStage;\n            if (!editing.id || !elementRefs.current[editing.id]) return;\n            const node = elementRefs.current[editing.id];\n            const objetoEnEdicion = objetos.find({\n                \"CanvasEditor.useEffect.objetoEnEdicion\": (o)=>o.id === editing.id\n            }[\"CanvasEditor.useEffect.objetoEnEdicion\"]);\n            if (!objetoEnEdicion) return;\n            const nodeClass = (_node_getClassName = node.getClassName) === null || _node_getClassName === void 0 ? void 0 : _node_getClassName.call(node);\n            const beforeMetrics = obtenerMetricasNodoInline(node);\n            var _editing_value;\n            const editingValue = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n            const shouldKeepCenterPreview = objetoEnEdicion.tipo === \"texto\" && !objetoEnEdicion.__groupAlign && !Number.isFinite(objetoEnEdicion.width) && objetoEnEdicion.__autoWidth !== false;\n            const expectedX = shouldKeepCenterPreview ? calcularXTextoCentrado(objetoEnEdicion, editingValue) : Number.isFinite(objetoEnEdicion.x) ? objetoEnEdicion.x : null;\n            var _objetoEnEdicion_x, _objetoEnEdicion_y;\n            inlineDebugLog(\"preview-effect-start\", {\n                id: editing.id,\n                valueLength: editingValue.length,\n                nodeClass,\n                objX: (_objetoEnEdicion_x = objetoEnEdicion.x) !== null && _objetoEnEdicion_x !== void 0 ? _objetoEnEdicion_x : null,\n                objY: (_objetoEnEdicion_y = objetoEnEdicion.y) !== null && _objetoEnEdicion_y !== void 0 ? _objetoEnEdicion_y : null,\n                shouldKeepCenterPreview,\n                expectedX,\n                beforeMetrics\n            });\n            // ?? Actualizar el transformer si está presente\n            const transformer = (_node_getStage = node.getStage()) === null || _node_getStage === void 0 ? void 0 : _node_getStage.findOne('Transformer');\n            if (transformer && transformer.nodes && transformer.nodes().includes(node)) {\n                var _transformer_getLayer;\n                transformer.forceUpdate(); // Actualiza manualmente el transformer\n                (_transformer_getLayer = transformer.getLayer()) === null || _transformer_getLayer === void 0 ? void 0 : _transformer_getLayer.batchDraw(); // Redibuja\n                let transformerRect = null;\n                try {\n                    transformerRect = transformer.getClientRect({\n                        skipTransform: false,\n                        skipShadow: true,\n                        skipStroke: true\n                    });\n                } catch (e) {\n                    transformerRect = null;\n                }\n                inlineDebugLog(\"preview-transformer-updated\", {\n                    id: editing.id,\n                    transformerRect: transformerRect ? {\n                        x: transformerRect.x,\n                        y: transformerRect.y,\n                        width: transformerRect.width,\n                        height: transformerRect.height\n                    } : null\n                });\n            }\n            const afterMetrics = obtenerMetricasNodoInline(node);\n            var _afterMetrics_x;\n            const afterX = typeof node.x === \"function\" ? node.x() : (_afterMetrics_x = afterMetrics === null || afterMetrics === void 0 ? void 0 : afterMetrics.x) !== null && _afterMetrics_x !== void 0 ? _afterMetrics_x : null;\n            inlineDebugLog(\"preview-props-sync\", {\n                id: editing.id,\n                valueLength: editingValue.length,\n                expectedX,\n                afterX,\n                deltaX: Number.isFinite(afterX) && Number.isFinite(expectedX) ? afterX - expectedX : null,\n                beforeMetrics,\n                afterMetrics\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value,\n        objetos,\n        obtenerMetricasNodoInline,\n        calcularXTextoCentrado\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const pending = inlineCommitDebugRef.current;\n            if (!(pending === null || pending === void 0 ? void 0 : pending.id)) return;\n            if (editing.id) return;\n            const finalObj = objetos.find({\n                \"CanvasEditor.useEffect.finalObj\": (o)=>o.id === pending.id\n            }[\"CanvasEditor.useEffect.finalObj\"]);\n            const finalNode = elementRefs.current[pending.id];\n            const finalNodeMetrics = obtenerMetricasNodoInline(finalNode);\n            const finalX = Number.isFinite(finalObj === null || finalObj === void 0 ? void 0 : finalObj.x) ? finalObj.x : null;\n            const deltaFinalVsExpected = Number.isFinite(finalX) && Number.isFinite(pending.expectedX) ? finalX - pending.expectedX : null;\n            inlineDebugLog(\"finish-post-commit\", {\n                ...pending,\n                finalX,\n                deltaFinalVsExpected,\n                finalNodeMetrics\n            });\n            inlineCommitDebugRef.current = {\n                id: null\n            };\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        objetos,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window._elementosSeleccionados = elementosSeleccionados;\n            window._objetosActuales = objetos;\n            window._elementRefs = elementRefs.current;\n            window._seccionesOrdenadas = [\n                ...secciones\n            ].sort({\n                \"CanvasEditor.useEffect\": (a, b)=>a.orden - b.orden\n            }[\"CanvasEditor.useEffect\"]);\n            window._altoCanvas = altoCanvas;\n            window.dispatchEvent(new CustomEvent(\"editor-selection-change\", {\n                detail: {\n                    ids: [\n                        ...elementosSeleccionados\n                    ],\n                    activeSectionId: seccionActivaId || null,\n                    galleryCell: celdaGaleriaActiva || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados,\n        objetos,\n        secciones,\n        altoCanvas,\n        seccionActivaId,\n        celdaGaleriaActiva\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!celdaGaleriaActiva) return;\n            const { objId } = celdaGaleriaActiva;\n            const galeriaExiste = objetos.some({\n                \"CanvasEditor.useEffect.galeriaExiste\": (o)=>o.id === objId && o.tipo === \"galeria\"\n            }[\"CanvasEditor.useEffect.galeriaExiste\"]);\n            if (!galeriaExiste) {\n                setCeldaGaleriaActiva(null);\n                return;\n            }\n            if (elementosSeleccionados.length !== 1 || elementosSeleccionados[0] !== objId) {\n                setCeldaGaleriaActiva(null);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        celdaGaleriaActiva,\n        elementosSeleccionados,\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window._celdaGaleriaActiva = celdaGaleriaActiva || null;\n            window.dispatchEvent(new CustomEvent(\"editor-gallery-cell-change\", {\n                detail: {\n                    cell: celdaGaleriaActiva || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        celdaGaleriaActiva\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window.dispatchEvent(new CustomEvent(\"seccion-activa\", {\n                detail: {\n                    id: seccionActivaId || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            window.setHoverIdGlobal = setHoverId;\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    if (window.setHoverIdGlobal === setHoverId) {\n                        delete window.setHoverIdGlobal;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!hoverId) return;\n            const exists = objetos.some({\n                \"CanvasEditor.useEffect.exists\": (o)=>o.id === hoverId\n            }[\"CanvasEditor.useEffect.exists\"]);\n            if (!exists) setHoverId(null);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        hoverId,\n        objetos\n    ]);\n    // Cleanup del sistema imperativo\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    imperativeObjects.cleanup();\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    const stageGestures = (0,_editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__[\"default\"])({\n        secciones,\n        objetos,\n        elementRefs,\n        dragStartPos,\n        hasDragged,\n        seleccionActiva,\n        inicioSeleccion,\n        areaSeleccion,\n        detectarInterseccionLinea,\n        setElementosSeleccionados,\n        setElementosPreSeleccionados,\n        setSeleccionActiva,\n        setInicioSeleccion,\n        setAreaSeleccion,\n        onSelectSeccion,\n        cerrarMenusFlotantes\n    });\n    const mobileCanvasToolbarOffset = mobileTextToolbarVisible ? mobileBottomTypographyStripVisible ? 88 : 32 : 0;\n    const mobileSectionActionsTop = mobileBottomTypographyStripVisible ? \"calc(172px + env(safe-area-inset-top, 0px))\" : mobileTextToolbarVisible ? \"calc(118px + env(safe-area-inset-top, 0px))\" : \"calc(64px + env(safe-area-inset-top, 0px))\";\n    const scaledCanvasHeightCompensation = isMobile && Number.isFinite(escalaVisual) && Number.isFinite(altoCanvasDinamico) ? (escalaVisual - 1) * altoCanvasDinamico : 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: editorOverlayRootRef,\n        className: \"flex justify-center\",\n        style: {\n            // ? Dejamos que el scroll lo maneje el <main> del DashboardLayout (un solo scroll)\n            marginTop: 0,\n            position: \"relative\",\n            overflowX: \"hidden\",\n            // ? UX mobile: permitir scroll vertical natural alrededor del canvas\n            touchAction: \"pan-y\",\n            WebkitOverflowScrolling: \"touch\",\n            // ? espacio para que no “choque” con header / barras\n            paddingTop: 12 + mobileCanvasToolbarOffset,\n            paddingBottom: \"calc(96px + env(safe-area-inset-bottom, 0px))\",\n            transition: \"padding-top 180ms ease\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: contenedorRef,\n                style: {\n                    width: \"100%\",\n                    maxWidth: \"1200px\",\n                    backgroundColor: \"#f5f5f5\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    paddingTop: \"20px\",\n                    paddingBottom: \"calc(40px + env(safe-area-inset-bottom, 0px))\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        transform: \"scale(\".concat(escalaVisual, \")\"),\n                        transformOrigin: 'top center',\n                        width: zoom === 0.8 ? \"1220px\" : \"1000px\",\n                        position: \"relative\",\n                        marginBottom: scaledCanvasHeightCompensation\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        style: {\n                            width: zoom === 0.8 ? \"1220px\" : \"1000px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        },\n                        children: [\n                            seccionActivaId && seccionesOrdenadas.map((seccion, index)=>{\n                                if (seccion.id !== seccionActivaId) return null;\n                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                const esPrimera = index === 0;\n                                const esUltima = index === seccionesOrdenadas.length - 1;\n                                const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                const sectionButtonBase = \"px-3 py-2 rounded-xl text-xs font-semibold transition-all duration-200 border focus:outline-none focus-visible:ring-2 focus-visible:ring-[#dccaf7]\";\n                                const sectionButtonDisabled = \"cursor-not-allowed border-gray-200 bg-gray-100 text-gray-400 shadow-none\";\n                                const sectionButtonPrimary = \"border-[#ccb6ef] bg-gradient-to-r from-[#8a57cf] via-[#773dbe] to-[#6737b3] text-white shadow-[0_10px_22px_rgba(119,61,190,0.30)] hover:-translate-y-[1px] hover:from-[#7f4fc5] hover:via-[#6f3bbc] hover:to-[#5f31a8] hover:shadow-[0_14px_28px_rgba(119,61,190,0.38)]\";\n                                const sectionButtonNeutral = \"border-[#e4d7f6] bg-white/95 text-[#5f3596] shadow-[0_6px_16px_rgba(15,23,42,0.06)] hover:-translate-y-[1px] hover:border-[#cdb9ee] hover:bg-[#faf6ff] hover:shadow-[0_12px_24px_rgba(119,61,190,0.16)]\";\n                                const sectionButtonSuccess = \"border-emerald-300 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_10px_22px_rgba(5,150,105,0.28)] hover:-translate-y-[1px] hover:from-emerald-600 hover:to-emerald-700 hover:shadow-[0_14px_28px_rgba(5,150,105,0.36)]\";\n                                const sectionButtonDanger = \"border-rose-300 bg-gradient-to-r from-rose-500 to-red-600 text-white shadow-[0_10px_22px_rgba(225,29,72,0.28)] hover:-translate-y-[1px] hover:from-rose-600 hover:to-red-700 hover:shadow-[0_14px_28px_rgba(225,29,72,0.36)]\";\n                                const actionButtons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.moverSeccion)({\n                                                    seccionId: seccion.id,\n                                                    direccion: \"subir\",\n                                                    secciones,\n                                                    slug,\n                                                    setSecciones,\n                                                    setSeccionesAnimando\n                                                }),\n                                            disabled: esPrimera || estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(esPrimera || estaAnimando ? sectionButtonDisabled : sectionButtonPrimary, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: esPrimera ? \"Ya es la primera sección\" : \"Subir sección\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.MoveUp, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2867,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    \"Subir secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2866,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2848,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.moverSeccion)({\n                                                    seccionId: seccion.id,\n                                                    direccion: \"bajar\",\n                                                    secciones,\n                                                    slug,\n                                                    setSecciones,\n                                                    setSeccionesAnimando\n                                                }),\n                                            disabled: esUltima || estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(esUltima || estaAnimando ? sectionButtonDisabled : sectionButtonPrimary, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: esUltima ? \"Ya es la última sección\" : \"Bajar sección\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.MoveDown, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2892,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Bajar secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2891,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2873,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleCrearSeccion,\n                                            disabled: estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando ? \"\".concat(sectionButtonDisabled, \" animate-pulse\") : sectionButtonPrimary),\n                                            title: \"A\\xf1adir una nueva secci\\xf3n debajo\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.PlusCircle, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2908,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"A\\xf1adir secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2907,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2898,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(sectionButtonNeutral, \" flex items-center justify-between gap-2\"),\n                                            title: \"Cambiar color de fondo de esta secci\\xf3n\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"inline-flex items-center gap-1.5\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"h-3.5 w-3.5 rounded border border-white/80 shadow-sm\",\n                                                            style: {\n                                                                backgroundColor: seccion.fondo || \"#ffffff\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2918,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Fondo secci\\xf3n\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2917,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SelectorColorSeccion__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                    seccion: seccion,\n                                                    disabled: estaAnimando || isDeletingSection,\n                                                    onChange: (id, color)=>cambiarColorFondoSeccion(id, color)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2924,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2913,\n                                            columnNumber: 19\n                                        }, this),\n                                        (()=>{\n                                            const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                            const esPantalla = modoSeccion === \"pantalla\";\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>togglePantallaCompletaSeccion(seccion.id),\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(esPantalla ? sectionButtonPrimary : sectionButtonNeutral),\n                                                        title: \"Hace que esta secci\\xf3n sea de pantalla completa (100vh) al publicar\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-flex items-center gap-1.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Monitor, {\n                                                                    className: \"w-3.5 h-3.5\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                    lineNumber: 2947,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                esPantalla ? \"Pantalla completa: ON\" : \"Pantalla completa: OFF\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2946,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2938,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    seccion.fondoTipo === \"imagen\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>(0,_utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__.desanclarImagenDeFondo)({\n                                                                seccionId: seccion.id,\n                                                                secciones,\n                                                                objetos,\n                                                                setSecciones,\n                                                                setObjetos,\n                                                                setElementosSeleccionados\n                                                            }),\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(sectionButtonNeutral),\n                                                        title: \"Desanclar imagen de fondo\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-flex items-center gap-1.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Unlink2, {\n                                                                    className: \"w-3.5 h-3.5\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                    lineNumber: 2969,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                \"Desanclar fondo\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2968,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2954,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    seccion.fondoTipo === \"imagen\" && isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            setMobileBackgroundEditSectionId((prev)=>prev === seccion.id ? null : seccion.id);\n                                                        },\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(mobileBackgroundEditSectionId === seccion.id ? \"border-indigo-300 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-[0_10px_22px_rgba(79,70,229,0.28)] hover:-translate-y-[1px] hover:from-indigo-600 hover:to-indigo-700 hover:shadow-[0_14px_28px_rgba(79,70,229,0.36)]\" : sectionButtonNeutral),\n                                                        title: \"Modo mover fondo en mobile\",\n                                                        children: mobileBackgroundEditSectionId === seccion.id ? \"Mover fondo: ON\" : \"Mover fondo\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2976,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2936,\n                                                columnNumber: 23\n                                            }, this);\n                                        })(),\n                                        !loadingClaims && esAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_plantillas__WEBPACK_IMPORTED_MODULE_23__.guardarSeccionComoPlantilla)({\n                                                    seccionId: seccion.id,\n                                                    secciones,\n                                                    objetos,\n                                                    refrescarPlantillasDeSeccion\n                                                }),\n                                            disabled: estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando ? sectionButtonDisabled : sectionButtonSuccess, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: \"Guardar esta secci\\xf3n como plantilla\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Layers, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3017,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    \"Plantilla\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 3016,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 3000,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                if (isMobile) {\n                                                    setMobileSectionActionsOpen(false);\n                                                }\n                                                abrirModalBorrarSeccion(seccion.id);\n                                            },\n                                            disabled: estaAnimando || isDeletingSection,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando || isDeletingSection ? sectionButtonDisabled : sectionButtonDanger, \" \").concat(estaAnimando || isDeletingSection ? \"animate-pulse\" : \"\"),\n                                            title: \"Borrar esta secci\\xf3n y todos sus elementos\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Trash2, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3039,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Borrar secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 3038,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 3024,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true);\n                                if (isMobile) {\n                                    if (typeof document === \"undefined\") return null;\n                                    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"fixed z-[90] flex flex-col items-end gap-2\",\n                                        style: {\n                                            top: mobileSectionActionsTop,\n                                            right: \"max(8px, env(safe-area-inset-right, 0px))\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>setMobileSectionActionsOpen((prev)=>!prev),\n                                                className: \"flex h-9 w-9 items-center justify-center rounded-full border border-[#ccb6ef] bg-gradient-to-r from-[#8a57cf] via-[#773dbe] to-[#6737b3] text-white shadow-[0_10px_22px_rgba(119,61,190,0.35)] transition-all duration-200 hover:-translate-y-[1px] hover:from-[#7f4fc5] hover:via-[#6f3bbc] hover:to-[#5f31a8] hover:shadow-[0_14px_28px_rgba(119,61,190,0.42)]\",\n                                                title: \"Acciones de secci\\xf3n\",\n                                                children: mobileSectionActionsOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.ChevronUp, {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3063,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.ChevronDown, {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3065,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 3056,\n                                                columnNumber: 21\n                                            }, this),\n                                            mobileSectionActionsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-[min(84vw,230px)] max-h-[62vh] overflow-y-auto rounded-xl border border-purple-200 bg-white/95 p-2 shadow-2xl backdrop-blur\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-col gap-2\",\n                                                    children: actionButtons\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3071,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 3070,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                        lineNumber: 3049,\n                                        columnNumber: 19\n                                    }, this), document.body, \"orden-mobile-\".concat(seccion.id));\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute flex flex-col gap-2\",\n                                    style: {\n                                        top: offsetY + 20,\n                                        right: -150,\n                                        zIndex: 25,\n                                        maxWidth: 260\n                                    },\n                                    children: actionButtons\n                                }, \"orden-\".concat(seccion.id), false, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 3081,\n                                    columnNumber: 17\n                                }, this);\n                            }),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    position: \"relative\",\n                                    width: 800,\n                                    height: altoCanvasDinamico\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Stage, {\n                                    ref: stageRef,\n                                    width: 800,\n                                    height: altoCanvasDinamico,\n                                    perfectDrawEnabled: false,\n                                    listening: true,\n                                    imageSmoothingEnabled: false,\n                                    preventDefault: false,\n                                    hitGraphEnabled: true,\n                                    style: {\n                                        background: \"white\",\n                                        overflow: \"visible\",\n                                        position: \"relative\",\n                                        boxShadow: \"0 4px 20px rgba(0,0,0,0.5)\"\n                                    },\n                                    onMouseDown: stageGestures.onMouseDown,\n                                    onTouchStart: stageGestures.onTouchStart,\n                                    onTouchMove: stageGestures.onTouchMove,\n                                    onTouchEnd: stageGestures.onTouchEnd,\n                                    onMouseMove: stageGestures.onMouseMove,\n                                    onMouseUp: stageGestures.onMouseUp,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                            children: [\n                                                seccionesOrdenadas.flatMap((seccion, index)=>{\n                                                    const alturaPx = seccion.altura;\n                                                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                    const esActiva = seccion.id === seccionActivaId;\n                                                    const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                                    const elementos = [\n                                                        // Fondo de sección - puede ser color o imagen\n                                                        seccion.fondoTipo === \"imagen\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editor_FondoSeccion__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            seccion: seccion,\n                                                            offsetY: offsetY,\n                                                            alturaPx: alturaPx,\n                                                            onSelect: ()=>onSelectSeccion(seccion.id),\n                                                            onUpdateFondoOffset: actualizarOffsetFondo,\n                                                            isMobile: isMobile,\n                                                            mobileBackgroundEditEnabled: mobileBackgroundEditSectionId === seccion.id,\n                                                            onBackgroundImageStatusChange: handleBackgroundImageStatusChange\n                                                        }, \"fondo-\".concat(seccion.id), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3145,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                            id: seccion.id,\n                                                            x: 0,\n                                                            y: offsetY,\n                                                            width: 800,\n                                                            height: alturaPx,\n                                                            fill: seccion.fondo || \"#ffffff\",\n                                                            stroke: \"transparent\",\n                                                            strokeWidth: 0,\n                                                            listening: true,\n                                                            preventDefault: false,\n                                                            onClick: ()=>onSelectSeccion(seccion.id),\n                                                            onTap: ()=>onSelectSeccion(seccion.id)\n                                                        }, \"seccion-\".concat(seccion.id), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3157,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ];\n                                                    return elementos;\n                                                }),\n                                                seccionActivaId && seccionesOrdenadas.map((seccion, index)=>{\n                                                    if (seccion.id !== seccionActivaId) return null;\n                                                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                    const controlY = offsetY + seccion.altura - 5; // 5px antes del final\n                                                    const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                                    const permiteResizeAltura = modoSeccion !== \"pantalla\";\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                        name: \"ui\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Line, {\n                                                                name: \"ui\",\n                                                                points: [\n                                                                    50,\n                                                                    controlY,\n                                                                    750,\n                                                                    controlY\n                                                                ],\n                                                                stroke: \"#773dbe\",\n                                                                strokeWidth: 2,\n                                                                dash: [\n                                                                    5,\n                                                                    5\n                                                                ],\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3194,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                                x: 400,\n                                                                y: controlY,\n                                                                listening: permiteResizeAltura,\n                                                                opacity: permiteResizeAltura ? 1 : 0.25,\n                                                                onPointerDown: permiteResizeAltura ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onMouseDown: permiteResizeAltura && !supportsPointerEvents ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onTouchStart: permiteResizeAltura && !supportsPointerEvents ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onMouseEnter: ()=>{\n                                                                    if (!controlandoAltura && permiteResizeAltura) setGlobalCursor(\"ns-resize\", stageRef);\n                                                                },\n                                                                onMouseLeave: ()=>{\n                                                                    if (!controlandoAltura && permiteResizeAltura) clearGlobalCursor(stageRef);\n                                                                },\n                                                                draggable: false,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -45,\n                                                                        y: -22,\n                                                                        width: 90,\n                                                                        height: 44,\n                                                                        fill: \"transparent\",\n                                                                        listening: true\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3231,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -25,\n                                                                        y: -6,\n                                                                        width: 50,\n                                                                        height: 12,\n                                                                        fill: controlandoAltura === seccion.id ? \"#773dbe\" : \"rgba(119, 61, 190, 0.9)\",\n                                                                        cornerRadius: 6,\n                                                                        shadowColor: \"rgba(0,0,0,0.3)\",\n                                                                        shadowBlur: controlandoAltura === seccion.id ? 8 : 6,\n                                                                        shadowOffset: {\n                                                                            x: 0,\n                                                                            y: controlandoAltura === seccion.id ? 4 : 3\n                                                                        },\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3241,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    controlandoAltura === seccion.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -30,\n                                                                        y: -8,\n                                                                        width: 60,\n                                                                        height: 16,\n                                                                        fill: \"transparent\",\n                                                                        stroke: \"#773dbe\",\n                                                                        strokeWidth: 2,\n                                                                        cornerRadius: 8,\n                                                                        opacity: 0.6,\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3256,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                                                                        x: -6,\n                                                                        y: -3,\n                                                                        text: \"??\",\n                                                                        fontSize: 10,\n                                                                        fill: \"white\",\n                                                                        fontFamily: \"Arial\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3271,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: -15,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3282,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: -10,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3283,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: 10,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3284,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: 15,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3285,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3204,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                x: 755,\n                                                                y: controlY - 10,\n                                                                width: 40,\n                                                                height: 20,\n                                                                fill: \"rgba(119, 61, 190, 0.1)\",\n                                                                stroke: \"rgba(119, 61, 190, 0.3)\",\n                                                                strokeWidth: 1,\n                                                                cornerRadius: 4,\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3290,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                                                                x: 760,\n                                                                y: controlY - 6,\n                                                                text: \"\".concat(Math.round(seccion.altura), \"px\"),\n                                                                fontSize: 11,\n                                                                fill: \"#773dbe\",\n                                                                fontFamily: \"Arial\",\n                                                                fontWeight: \"bold\",\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3303,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, \"control-altura-\".concat(seccion.id), true, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3192,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                }),\n                                                controlandoAltura && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                    name: \"ui\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                            x: 0,\n                                                            y: 0,\n                                                            width: 800,\n                                                            height: altoCanvasDinamico,\n                                                            fill: \"rgba(119, 61, 190, 0.05)\",\n                                                            listening: false\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3321,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        seccionesOrdenadas.map((seccion, index)=>{\n                                                            const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                            const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                                            const permiteResizeAltura = modoSeccion !== \"pantalla\";\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: 0,\n                                                                        y: offsetY,\n                                                                        width: 800,\n                                                                        height: seccion.altura,\n                                                                        fill: seccion.fondo || \"transparent\",\n                                                                        onClick: ()=>onSelectSeccion(seccion.id)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3340,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    seccion.id === controlandoAltura && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: 0,\n                                                                        y: offsetY,\n                                                                        width: 800,\n                                                                        height: seccion.altura,\n                                                                        fill: \"transparent\",\n                                                                        stroke: \"#773dbe\",\n                                                                        strokeWidth: 3,\n                                                                        dash: [\n                                                                            8,\n                                                                            4\n                                                                        ],\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3351,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                ]\n                                                            }, seccion.id, true, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3338,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        })\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3319,\n                                                    columnNumber: 21\n                                                }, this),\n                                                objetos.map((obj, i)=>{\n                                                    // ?? Determinar si está en modo edición\n                                                    const isInEditMode = editing.id === obj.id && elementosSeleccionados[0] === obj.id;\n                                                    // ??? Caso especial: la galería la renderizamos acá (no usa ElementoCanvas)\n                                                    if (obj.tipo === \"galeria\") {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_GaleriaKonva__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                            obj: obj,\n                                                            registerRef: registerRef,\n                                                            onHover: setHoverId,\n                                                            isSelected: elementosSeleccionados.includes(obj.id),\n                                                            celdaGaleriaActiva: celdaGaleriaActiva,\n                                                            onPickCell: (info)=>setCeldaGaleriaActiva(info),\n                                                            seccionesOrdenadas: seccionesOrdenadas,\n                                                            altoCanvas: altoCanvas,\n                                                            onSelect: (id, e)=>{\n                                                                (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                                setElementosSeleccionados([\n                                                                    id\n                                                                ]);\n                                                            },\n                                                            onDragMovePersonalizado: (pos, id)=>{\n                                                                window._isDragging = true;\n                                                                mostrarGuias(pos, id, objetos, elementRefs);\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            },\n                                                            onDragStartPersonalizado: function() {\n                                                                let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id;\n                                                                if (!elementosSeleccionados.includes(dragId)) {\n                                                                    setElementosSeleccionados([\n                                                                        dragId\n                                                                    ]);\n                                                                }\n                                                                setHoverId(null);\n                                                                setIsDragging(true);\n                                                            },\n                                                            onDragEndPersonalizado: ()=>{\n                                                                setIsDragging(false);\n                                                                limpiarGuias();\n                                                                if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                    actualizarPosicionBotonOpciones();\n                                                                }\n                                                            },\n                                                            onChange: (id, nuevo)=>{\n                                                                setObjetos((prev)=>{\n                                                                    const i = prev.findIndex((o)=>o.id === id);\n                                                                    if (i === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[i] = {\n                                                                        ...updated[i],\n                                                                        ...nuevo\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                            }\n                                                        }, obj.id, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3380,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    if (obj.tipo === \"countdown\") {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_countdown_CountdownKonva__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            obj: obj,\n                                                            registerRef: registerRef,\n                                                            onHover: setHoverId,\n                                                            isSelected: elementosSeleccionados.includes(obj.id),\n                                                            seccionesOrdenadas: seccionesOrdenadas,\n                                                            altoCanvas: altoCanvas,\n                                                            // ? selección\n                                                            onSelect: (id, e)=>{\n                                                                (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                                setElementosSeleccionados([\n                                                                    id\n                                                                ]);\n                                                            },\n                                                            // ? PREVIEW liviano (no tocar estado del objeto para que no haya lag)\n                                                            onDragStartPersonalizado: function() {\n                                                                let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id;\n                                                                if (!elementosSeleccionados.includes(dragId)) {\n                                                                    setElementosSeleccionados([\n                                                                        dragId\n                                                                    ]);\n                                                                }\n                                                                setHoverId(null);\n                                                                setIsDragging(true);\n                                                            },\n                                                            onDragMovePersonalizado: (pos, id)=>{\n                                                                mostrarGuias(pos, id, objetos, elementRefs);\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            },\n                                                            // ? FIN de drag: limpiar guías / UI auxiliar\n                                                            onDragEndPersonalizado: ()=>{\n                                                                setIsDragging(false);\n                                                                limpiarGuias();\n                                                                if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                    actualizarPosicionBotonOpciones();\n                                                                }\n                                                            },\n                                                            // ? refs para el motor de drag\n                                                            dragStartPos: dragStartPos,\n                                                            hasDragged: hasDragged,\n                                                            // ? ¡Clave! Al finalizar, tratamos x/y absolutas como en ElementoCanvas:\n                                                            onChange: (id, cambios)=>{\n                                                                setObjetos((prev)=>{\n                                                                    const i = prev.findIndex((o)=>o.id === id);\n                                                                    if (i === -1) return prev;\n                                                                    const objOriginal = prev[i];\n                                                                    // ?? Si no es final de drag, mergeamos sin más (no tocar coords)\n                                                                    if (!cambios.finalizoDrag) {\n                                                                        const updated = [\n                                                                            ...prev\n                                                                        ];\n                                                                        updated[i] = {\n                                                                            ...updated[i],\n                                                                            ...cambios\n                                                                        };\n                                                                        return updated;\n                                                                    }\n                                                                    // ?? Final de drag: 'cambios.y' viene ABSOLUTA (Stage coords)\n                                                                    const { nuevaSeccion, coordenadasAjustadas } = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.determinarNuevaSeccion)(cambios.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                    let next = {\n                                                                        ...cambios\n                                                                    };\n                                                                    delete next.finalizoDrag;\n                                                                    if (nuevaSeccion) {\n                                                                        next = {\n                                                                            ...next,\n                                                                            ...coordenadasAjustadas,\n                                                                            seccionId: nuevaSeccion\n                                                                        };\n                                                                    } else {\n                                                                        // convertir y absoluta ? y relativa a la sección actual\n                                                                        next.y = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(cambios.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                    }\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[i] = {\n                                                                        ...updated[i],\n                                                                        ...next\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                            }\n                                                        }, obj.id, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3434,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    const objPreview = editing.id === obj.id && obj.tipo === \"texto\" ? (()=>{\n                                                        var _editing_value;\n                                                        const textoPreview = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n                                                        const previewObj = {\n                                                            ...obj,\n                                                            texto: textoPreview\n                                                        };\n                                                        const shouldKeepCenterPreview = !obj.__groupAlign && !Number.isFinite(obj.width) && obj.__autoWidth !== false;\n                                                        if (shouldKeepCenterPreview) {\n                                                            const previewX = calcularXTextoCentrado(obj, textoPreview);\n                                                            if (Number.isFinite(previewX)) {\n                                                                previewObj.x = previewX;\n                                                            }\n                                                        }\n                                                        return previewObj;\n                                                    })() : obj;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ElementoCanvas__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                        obj: {\n                                                            ...objPreview,\n                                                            // ?? yLocal: en sección pantalla usamos yNorm * 500\n                                                            // fallback legacy: si no hay yNorm, usamos obj.y\n                                                            y: (()=>{\n                                                                const idxSec = seccionesOrdenadas.findIndex((s)=>s.id === objPreview.seccionId);\n                                                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, idxSec);\n                                                                const yLocal = esSeccionPantallaById(objPreview.seccionId) ? Number.isFinite(objPreview.yNorm) ? objPreview.yNorm * ALTURA_PANTALLA_EDITOR : objPreview.y : objPreview.y;\n                                                                return yLocal + offsetY;\n                                                            })()\n                                                        },\n                                                        anchoCanvas: 800,\n                                                        isSelected: !isInEditMode && elementosSeleccionados.includes(obj.id),\n                                                        selectionCount: elementosSeleccionados.length,\n                                                        preSeleccionado: !isInEditMode && elementosPreSeleccionados.includes(obj.id),\n                                                        isInEditMode: isInEditMode,\n                                                        onHover: isInEditMode ? null : setHoverId,\n                                                        registerRef: registerRef,\n                                                        onStartTextEdit: isInEditMode ? null : (id, texto)=>{\n                                                            var _node_getLayer_batchDraw, _node_getLayer, _node_getLayer1;\n                                                            const node = elementRefs.current[id];\n                                                            const nodeMetrics = obtenerMetricasNodoInline(node);\n                                                            var _window__currentEditingId;\n                                                            const previousCurrentEditingId = (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null;\n                                                            setInlineOverlayMountedId(null);\n                                                            captureInlineSnapshot(\"enter: pre-start\", {\n                                                                id,\n                                                                previousId: previousCurrentEditingId,\n                                                                textoLength: String(texto !== null && texto !== void 0 ? texto : \"\").length\n                                                            });\n                                                            window._currentEditingId = id;\n                                                            inlineEditPreviewRef.current = {\n                                                                id: null,\n                                                                centerX: null\n                                                            };\n                                                            var _obj_x, _obj_y;\n                                                            inlineDebugLog(\"start-inline-edit\", {\n                                                                id,\n                                                                textoLength: String(texto !== null && texto !== void 0 ? texto : \"\").length,\n                                                                objectX: (_obj_x = obj === null || obj === void 0 ? void 0 : obj.x) !== null && _obj_x !== void 0 ? _obj_x : null,\n                                                                objectY: (_obj_y = obj === null || obj === void 0 ? void 0 : obj.y) !== null && _obj_y !== void 0 ? _obj_y : null,\n                                                                previousCurrentEditingId,\n                                                                nextCurrentEditingId: window._currentEditingId,\n                                                                nodeMetrics\n                                                            });\n                                                            startEdit(id, texto);\n                                                            node === null || node === void 0 ? void 0 : node.draggable(false);\n                                                            node === null || node === void 0 ? void 0 : (_node_getLayer1 = node.getLayer) === null || _node_getLayer1 === void 0 ? void 0 : (_node_getLayer = _node_getLayer1.call(node)) === null || _node_getLayer === void 0 ? void 0 : (_node_getLayer_batchDraw = _node_getLayer.batchDraw) === null || _node_getLayer_batchDraw === void 0 ? void 0 : _node_getLayer_batchDraw.call(_node_getLayer);\n                                                            var _window__currentEditingId1;\n                                                            captureInlineSnapshot(\"enter: after-start-sync\", {\n                                                                id,\n                                                                previousId: previousCurrentEditingId,\n                                                                nextCurrentEditingId: (_window__currentEditingId1 = window._currentEditingId) !== null && _window__currentEditingId1 !== void 0 ? _window__currentEditingId1 : null\n                                                            });\n                                                        },\n                                                        editingId: editing.id,\n                                                        inlineOverlayMountedId: inlineOverlayMountedId,\n                                                        inlineVisibilityMode: inlineDebugAB.visibilitySource,\n                                                        finishInlineEdit: finishEdit,\n                                                        onSelect: isInEditMode ? null : (id, obj, e)=>{\n                                                            var _e_evt;\n                                                            if (obj.tipo === \"rsvp-boton\") {\n                                                                return;\n                                                            }\n                                                            if (editing.id && editing.id !== id) {\n                                                                finishEdit();\n                                                            }\n                                                            (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                            const esShift = e === null || e === void 0 ? void 0 : (_e_evt = e.evt) === null || _e_evt === void 0 ? void 0 : _e_evt.shiftKey;\n                                                            setElementosSeleccionados((prev)=>{\n                                                                if (esShift) {\n                                                                    if (prev.includes(id)) {\n                                                                        return prev.filter((x)=>x !== id);\n                                                                    } else {\n                                                                        return [\n                                                                            ...prev,\n                                                                            id\n                                                                        ];\n                                                                    }\n                                                                } else {\n                                                                    return [\n                                                                        id\n                                                                    ];\n                                                                }\n                                                            });\n                                                        },\n                                                        onChange: (id, nuevo)=>{\n                                                            // ?? NUEVO: Manejar preview inmediato de drag grupal\n                                                            if (nuevo.isDragPreview) {\n                                                                setObjetos((prev)=>{\n                                                                    const index = prev.findIndex((o)=>o.id === id);\n                                                                    if (index === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    const { isDragPreview, skipHistorial, ...cleanNuevo } = nuevo;\n                                                                    updated[index] = {\n                                                                        ...updated[index],\n                                                                        ...cleanNuevo\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? MANEJAR SOLO batch update final de drag grupal\n                                                            if (nuevo.isBatchUpdateFinal && id === 'BATCH_UPDATE_GROUP_FINAL') {\n                                                                const { elementos, dragInicial, deltaX, deltaY } = nuevo;\n                                                                setObjetos((prev)=>{\n                                                                    return prev.map((objeto)=>{\n                                                                        if (elementos.includes(objeto.id)) {\n                                                                            if (dragInicial && dragInicial[objeto.id]) {\n                                                                                const posInicial = dragInicial[objeto.id];\n                                                                                return {\n                                                                                    ...objeto,\n                                                                                    x: posInicial.x + deltaX,\n                                                                                    y: posInicial.y + deltaY\n                                                                                };\n                                                                            }\n                                                                        }\n                                                                        return objeto;\n                                                                    });\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? NO procesar si viene del Transform\n                                                            if (nuevo.fromTransform) {\n                                                                return;\n                                                            }\n                                                            const objOriginal = objetos.find((o)=>o.id === id);\n                                                            if (!objOriginal) return;\n                                                            // ?? Para drag final, procesar inmediatamente\n                                                            if (nuevo.finalizoDrag) {\n                                                                const { nuevaSeccion, coordenadasAjustadas } = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.determinarNuevaSeccion)(nuevo.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                let coordenadasFinales = {\n                                                                    ...nuevo\n                                                                };\n                                                                delete coordenadasFinales.finalizoDrag;\n                                                                if (nuevaSeccion) {\n                                                                    coordenadasFinales = {\n                                                                        ...coordenadasFinales,\n                                                                        ...coordenadasAjustadas,\n                                                                        seccionId: nuevaSeccion\n                                                                    };\n                                                                } else {\n                                                                    coordenadasFinales.y = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(nuevo.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                }\n                                                                // 1) Determinar sección final\n                                                                const seccionFinalId = coordenadasFinales.seccionId || objOriginal.seccionId;\n                                                                // 2) Obtener yRelPx (y relativa dentro de la sección en px)\n                                                                let yRelPx;\n                                                                if (nuevaSeccion) {\n                                                                    // coordenadasAjustadas normalmente ya trae y relativa\n                                                                    yRelPx = Number.isFinite(coordenadasFinales.y) ? coordenadasFinales.y : 0;\n                                                                } else {\n                                                                    // si no cambió de sección, convertimos desde y absoluta\n                                                                    yRelPx = Number.isFinite(coordenadasFinales.y) ? coordenadasFinales.y : 0;\n                                                                }\n                                                                // 3) Aplicar política pantalla: guardar yNorm\n                                                                if (esSeccionPantallaById(seccionFinalId)) {\n                                                                    const yNorm = Math.max(0, Math.min(1, yRelPx / ALTURA_PANTALLA_EDITOR));\n                                                                    coordenadasFinales.yNorm = yNorm;\n                                                                    delete coordenadasFinales.y; // ? clave: evitamos mezclar sistemas\n                                                                } else {\n                                                                    // fijo: guardar y en px\n                                                                    coordenadasFinales.y = yRelPx;\n                                                                    delete coordenadasFinales.yNorm;\n                                                                }\n                                                                // Actualizar inmediatamente\n                                                                setObjetos((prev)=>{\n                                                                    const index = prev.findIndex((o)=>o.id === id);\n                                                                    if (index === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[index] = {\n                                                                        ...updated[index],\n                                                                        ...coordenadasFinales\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? Para otros cambios (transform, etc.)\n                                                            const hayDiferencias = Object.keys(nuevo).some((key)=>{\n                                                                const valorAnterior = objOriginal[key];\n                                                                const valorNuevo = nuevo[key];\n                                                                if (typeof valorAnterior === 'number' && typeof valorNuevo === 'number') {\n                                                                    return Math.abs(valorAnterior - valorNuevo) > 0.01;\n                                                                }\n                                                                return valorAnterior !== valorNuevo;\n                                                            });\n                                                            if (!hayDiferencias) return;\n                                                            const seccionId = nuevo.seccionId || objOriginal.seccionId;\n                                                            const seccion = seccionesOrdenadas.find((s)=>s.id === seccionId);\n                                                            if (!seccion) return;\n                                                            setObjetos((prev)=>{\n                                                                const index = prev.findIndex((o)=>o.id === id);\n                                                                if (index === -1) return prev;\n                                                                const updated = [\n                                                                    ...prev\n                                                                ];\n                                                                updated[index] = {\n                                                                    ...updated[index],\n                                                                    ...nuevo\n                                                                };\n                                                                return updated;\n                                                            });\n                                                        },\n                                                        onDragStartPersonalizado: isInEditMode ? null : function() {\n                                                            let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id, e = arguments.length > 1 ? arguments[1] : void 0;\n                                                            const seleccionActual = Array.isArray(window._elementosSeleccionados) ? window._elementosSeleccionados : elementosSeleccionados;\n                                                            if (!seleccionActual.includes(dragId)) {\n                                                                setElementosSeleccionados([\n                                                                    dragId\n                                                                ]);\n                                                            }\n                                                            (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                                                setHoverId(null);\n                                                                setElementosPreSeleccionados([]);\n                                                                setIsDragging(true);\n                                                            });\n                                                        },\n                                                        onDragEndPersonalizado: isInEditMode ? null : ()=>{\n                                                            setIsDragging(false);\n                                                            configurarDragEnd([]);\n                                                        },\n                                                        onDragMovePersonalizado: isInEditMode ? null : (pos, elementId)=>{\n                                                            mostrarGuias(pos, elementId, objetos, elementRefs);\n                                                            if (elementosSeleccionados.includes(elementId)) {\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === 'function') {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            }\n                                                        },\n                                                        dragStartPos: dragStartPos,\n                                                        hasDragged: hasDragged\n                                                    }, obj.id, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3546,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                }),\n                                                seleccionActiva && areaSeleccion && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                    name: \"ui\",\n                                                    x: areaSeleccion.x,\n                                                    y: areaSeleccion.y,\n                                                    width: areaSeleccion.width,\n                                                    height: areaSeleccion.height,\n                                                    fill: \"rgba(119, 61, 190, 0.1)\" // violeta claro\n                                                    ,\n                                                    stroke: \"#773dbe\",\n                                                    strokeWidth: 1,\n                                                    dash: [\n                                                        4,\n                                                        4\n                                                    ]\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3814,\n                                                    columnNumber: 21\n                                                }, this),\n                                                elementosSeleccionados.length > 0 && (()=>{\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SelectionBounds__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                        selectedElements: elementosSeleccionados,\n                                                        elementRefs: elementRefs,\n                                                        objetos: objetos,\n                                                        isDragging: isDragging,\n                                                        isMobile: isMobile,\n                                                        onTransformInteractionStart: handleTransformInteractionStart,\n                                                        onTransformInteractionEnd: handleTransformInteractionEnd,\n                                                        onTransform: (newAttrs)=>{\n                                                            if (elementosSeleccionados.length === 1) {\n                                                                const id = elementosSeleccionados[0];\n                                                                const objIndex = objetos.findIndex((o)=>o.id === id);\n                                                                if (objIndex !== -1) {\n                                                                    if (newAttrs.isPreview) {\n                                                                        // Preview: actualización sin historial\n                                                                        setObjetos((prev)=>{\n                                                                            const nuevos = [\n                                                                                ...prev\n                                                                            ];\n                                                                            const elemento = nuevos[objIndex];\n                                                                            // Countdown: durante preview dejamos que Konva escale el nodo\n                                                                            // sin tocar estado React para evitar desincronización con Transformer.\n                                                                            if (elemento.tipo === \"countdown\" || elemento.tipo === \"forma\" && (elemento.figura === \"circle\" || elemento.figura === \"triangle\")) {\n                                                                                return prev;\n                                                                            }\n                                                                            if (elemento.tipo === \"texto\" && Number.isFinite(newAttrs.fontSize)) {\n                                                                                // Para texto dejamos que Konva haga el preview de escala en vivo.\n                                                                                // Actualizar estado React en cada frame genera micro-jitter visual.\n                                                                                return prev;\n                                                                            }\n                                                                            const updatedElement = {\n                                                                                ...elemento,\n                                                                                rotation: newAttrs.rotation || elemento.rotation || 0\n                                                                            };\n                                                                            if (elemento.tipo === \"galeria\") {\n                                                                                const galleryMetrics = normalizarMedidasGaleria(elemento, newAttrs.width, newAttrs.x);\n                                                                                updatedElement.width = galleryMetrics.width;\n                                                                                updatedElement.height = galleryMetrics.height;\n                                                                                updatedElement.widthPct = galleryMetrics.widthPct;\n                                                                                updatedElement.x = galleryMetrics.x;\n                                                                                updatedElement.rotation = elemento.rotation || 0;\n                                                                                updatedElement.scaleX = 1;\n                                                                                updatedElement.scaleY = 1;\n                                                                            } else {\n                                                                                if (newAttrs.width !== undefined) updatedElement.width = newAttrs.width;\n                                                                                if (newAttrs.height !== undefined) updatedElement.height = newAttrs.height;\n                                                                                if (newAttrs.radius !== undefined) updatedElement.radius = newAttrs.radius;\n                                                                                updatedElement.scaleX = 1;\n                                                                                updatedElement.scaleY = 1;\n                                                                            }\n                                                                            nuevos[objIndex] = updatedElement;\n                                                                            return nuevos;\n                                                                        });\n                                                                        // ?? ACTUALIZAR POSICIÓN DEL BOTÓN DURANTE TRANSFORM\n                                                                        requestAnimationFrame(()=>{\n                                                                            if (typeof actualizarPosicionBotonOpciones === 'function') {\n                                                                                actualizarPosicionBotonOpciones();\n                                                                            }\n                                                                        });\n                                                                    } else if (newAttrs.isFinal) {\n                                                                        // Final: actualización completa\n                                                                        window._resizeData = {\n                                                                            isResizing: false\n                                                                        };\n                                                                        const { isPreview, isFinal, ...cleanAttrs } = newAttrs;\n                                                                        // ?? CONVERTIR coordenadas absolutas a relativas ANTES de guardar\n                                                                        const objOriginal = objetos[objIndex];\n                                                                        let finalAttrs = {\n                                                                            ...cleanAttrs,\n                                                                            y: (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(cleanAttrs.y, objOriginal.seccionId, seccionesOrdenadas),\n                                                                            fromTransform: true\n                                                                        };\n                                                                        // ? COUNTDOWN: conservar escala final del drag (sin reconversión a chipWidth)\n                                                                        // para que el tamaño final coincida exactamente con lo soltado.\n                                                                        if (objOriginal.tipo === \"texto\" && Number.isFinite(cleanAttrs.fontSize)) {\n                                                                            const requestedFontSize = Math.max(6, Number(cleanAttrs.fontSize) || 6);\n                                                                            const originalFontSize = Number.isFinite(objOriginal.fontSize) ? objOriginal.fontSize : 24;\n                                                                            const rotationFinal = Number.isFinite(cleanAttrs.rotation) ? cleanAttrs.rotation : Number.isFinite(objOriginal.rotation) ? objOriginal.rotation : 0;\n                                                                            const previousRotation = Number.isFinite(objOriginal.rotation) ? objOriginal.rotation : 0;\n                                                                            const rotationChanged = Math.abs(rotationFinal - previousRotation) > 0.1;\n                                                                            const fontSizeChanged = Math.abs(requestedFontSize - originalFontSize) > 0.05;\n                                                                            const shouldMatchVisualWidth = objOriginal.__autoWidth !== false && !Number.isFinite(objOriginal.width) && !rotationChanged;\n                                                                            const nextFontSize = shouldMatchVisualWidth ? ajustarFontSizeAAnchoVisual(objOriginal, requestedFontSize, cleanAttrs.textVisualWidth) : requestedFontSize;\n                                                                            const shouldUseNodePose = rotationChanged && !fontSizeChanged && Number.isFinite(cleanAttrs.x) && Number.isFinite(cleanAttrs.y);\n                                                                            const centeredPosAbs = shouldUseNodePose ? {\n                                                                                x: Number(cleanAttrs.x),\n                                                                                y: Number(cleanAttrs.y)\n                                                                            } : calcularPosTextoDesdeCentro(objOriginal, nextFontSize, cleanAttrs.textCenterX, cleanAttrs.textCenterY, rotationFinal);\n                                                                            const centeredX = centeredPosAbs.x;\n                                                                            const centeredYAbs = centeredPosAbs.y;\n                                                                            const centeredY = Number.isFinite(centeredYAbs) ? (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(centeredYAbs, objOriginal.seccionId, seccionesOrdenadas) : Number.isFinite(objOriginal.y) ? objOriginal.y : 0;\n                                                                            var _objOriginal_id, _cleanAttrs_fontSize, _cleanAttrs_textVisualWidth, _cleanAttrs_textCenterX, _cleanAttrs_textCenterY, _objOriginal_x, _objOriginal_y;\n                                                                            textResizeDebug(\"transform-final:text\", {\n                                                                                id: (_objOriginal_id = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id !== void 0 ? _objOriginal_id : null,\n                                                                                requestedFontSize,\n                                                                                nextFontSize,\n                                                                                shouldMatchVisualWidth,\n                                                                                cleanFontSize: (_cleanAttrs_fontSize = cleanAttrs.fontSize) !== null && _cleanAttrs_fontSize !== void 0 ? _cleanAttrs_fontSize : null,\n                                                                                textVisualWidth: (_cleanAttrs_textVisualWidth = cleanAttrs.textVisualWidth) !== null && _cleanAttrs_textVisualWidth !== void 0 ? _cleanAttrs_textVisualWidth : null,\n                                                                                textCenterX: (_cleanAttrs_textCenterX = cleanAttrs.textCenterX) !== null && _cleanAttrs_textCenterX !== void 0 ? _cleanAttrs_textCenterX : null,\n                                                                                textCenterY: (_cleanAttrs_textCenterY = cleanAttrs.textCenterY) !== null && _cleanAttrs_textCenterY !== void 0 ? _cleanAttrs_textCenterY : null,\n                                                                                rotationFinal,\n                                                                                rotationChanged,\n                                                                                fontSizeChanged,\n                                                                                shouldUseNodePose,\n                                                                                centeredX,\n                                                                                centeredYAbs,\n                                                                                centeredY,\n                                                                                originalX: (_objOriginal_x = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.x) !== null && _objOriginal_x !== void 0 ? _objOriginal_x : null,\n                                                                                originalY: (_objOriginal_y = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.y) !== null && _objOriginal_y !== void 0 ? _objOriginal_y : null\n                                                                            });\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                fontSize: nextFontSize,\n                                                                                x: Number.isFinite(centeredX) ? centeredX : Number.isFinite(objOriginal.x) ? objOriginal.x : 0,\n                                                                                y: centeredY,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.textCenterX;\n                                                                            delete finalAttrs.textCenterY;\n                                                                            delete finalAttrs.textVisualWidth;\n                                                                            var _objOriginal_id1, _finalAttrs_fontSize, _finalAttrs_x, _finalAttrs_y;\n                                                                            textResizeDebug(\"transform-final:text-attrs\", {\n                                                                                id: (_objOriginal_id1 = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id1 !== void 0 ? _objOriginal_id1 : null,\n                                                                                finalFontSize: (_finalAttrs_fontSize = finalAttrs.fontSize) !== null && _finalAttrs_fontSize !== void 0 ? _finalAttrs_fontSize : null,\n                                                                                finalX: (_finalAttrs_x = finalAttrs.x) !== null && _finalAttrs_x !== void 0 ? _finalAttrs_x : null,\n                                                                                finalY: (_finalAttrs_y = finalAttrs.y) !== null && _finalAttrs_y !== void 0 ? _finalAttrs_y : null\n                                                                            });\n                                                                        } else if (objOriginal.tipo === \"countdown\") {\n                                                                            var _objOriginal_scaleX, _objOriginal_scaleY;\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                scaleX: Number.isFinite(cleanAttrs.scaleX) ? cleanAttrs.scaleX : (_objOriginal_scaleX = objOriginal.scaleX) !== null && _objOriginal_scaleX !== void 0 ? _objOriginal_scaleX : 1,\n                                                                                scaleY: Number.isFinite(cleanAttrs.scaleY) ? cleanAttrs.scaleY : (_objOriginal_scaleY = objOriginal.scaleY) !== null && _objOriginal_scaleY !== void 0 ? _objOriginal_scaleY : 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"forma\" && objOriginal.figura === \"circle\") {\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: Number.isFinite(cleanAttrs.x) ? cleanAttrs.x : objOriginal.x || 0,\n                                                                                radius: Number.isFinite(cleanAttrs.radius) ? cleanAttrs.radius : objOriginal.radius || 50,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"forma\" && objOriginal.figura === \"triangle\") {\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: Number.isFinite(cleanAttrs.x) ? cleanAttrs.x : objOriginal.x || 0,\n                                                                                radius: Number.isFinite(cleanAttrs.radius) ? cleanAttrs.radius : objOriginal.radius || 60,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"galeria\") {\n                                                                            const galleryMetrics = normalizarMedidasGaleria(objOriginal, cleanAttrs.width, cleanAttrs.x);\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: galleryMetrics.x,\n                                                                                width: galleryMetrics.width,\n                                                                                height: galleryMetrics.height,\n                                                                                widthPct: galleryMetrics.widthPct,\n                                                                                rotation: objOriginal.rotation || 0,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                        }\n                                                                        // ? offsetY solo para debug (evita ReferenceError)\n                                                                        let offsetY = 0;\n                                                                        try {\n                                                                            const idx = seccionesOrdenadas.findIndex((s)=>s.id === objOriginal.seccionId);\n                                                                            const safe = idx >= 0 ? idx : 0;\n                                                                            // Nota: en tu código lo llamás a veces con 2 params, a veces con 3.\n                                                                            // Acá usamos 3, consistente con otras partes del archivo.\n                                                                            offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, safe, altoCanvas) || 0;\n                                                                        } catch (e) {\n                                                                            offsetY = 0;\n                                                                        }\n                                                                        if (objOriginal.tipo === \"countdown\" || objOriginal.tipo === \"texto\") {\n                                                                            if (objOriginal.tipo === \"texto\") {\n                                                                                var _objOriginal_id2, _finalAttrs_fontSize1, _finalAttrs_x1, _finalAttrs_y1, _objOriginal_seccionId;\n                                                                                const commitSnapshot = {\n                                                                                    id: (_objOriginal_id2 = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id2 !== void 0 ? _objOriginal_id2 : null,\n                                                                                    finalFontSize: (_finalAttrs_fontSize1 = finalAttrs.fontSize) !== null && _finalAttrs_fontSize1 !== void 0 ? _finalAttrs_fontSize1 : null,\n                                                                                    finalX: (_finalAttrs_x1 = finalAttrs.x) !== null && _finalAttrs_x1 !== void 0 ? _finalAttrs_x1 : null,\n                                                                                    finalY: (_finalAttrs_y1 = finalAttrs.y) !== null && _finalAttrs_y1 !== void 0 ? _finalAttrs_y1 : null,\n                                                                                    seccionId: (_objOriginal_seccionId = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.seccionId) !== null && _objOriginal_seccionId !== void 0 ? _objOriginal_seccionId : null\n                                                                                };\n                                                                                textResizeDebug(\"transform-final:commit\", {\n                                                                                    ...commitSnapshot\n                                                                                });\n                                                                                if (isTextResizeDebugEnabled()) {\n                                                                                    requestAnimationFrame(()=>{\n                                                                                        requestAnimationFrame(()=>{\n                                                                                            var _elementRefs_current;\n                                                                                            const nodeAfterCommit = (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[commitSnapshot.id];\n                                                                                            if (!nodeAfterCommit) {\n                                                                                                textResizeDebug(\"transform-final:post-render:no-node\", {\n                                                                                                    id: commitSnapshot.id\n                                                                                                });\n                                                                                                return;\n                                                                                            }\n                                                                                            try {\n                                                                                                const rectAfterCommit = nodeAfterCommit.getClientRect({\n                                                                                                    skipTransform: false,\n                                                                                                    skipShadow: true,\n                                                                                                    skipStroke: true\n                                                                                                });\n                                                                                                textResizeDebug(\"transform-final:post-render\", {\n                                                                                                    ...commitSnapshot,\n                                                                                                    nodeX: typeof nodeAfterCommit.x === \"function\" ? nodeAfterCommit.x() : null,\n                                                                                                    nodeY: typeof nodeAfterCommit.y === \"function\" ? nodeAfterCommit.y() : null,\n                                                                                                    nodeScaleX: typeof nodeAfterCommit.scaleX === \"function\" ? nodeAfterCommit.scaleX() : null,\n                                                                                                    nodeScaleY: typeof nodeAfterCommit.scaleY === \"function\" ? nodeAfterCommit.scaleY() : null,\n                                                                                                    nodeFontSize: typeof nodeAfterCommit.fontSize === \"function\" ? nodeAfterCommit.fontSize() : null,\n                                                                                                    nodeRectWidth: Number.isFinite(rectAfterCommit === null || rectAfterCommit === void 0 ? void 0 : rectAfterCommit.width) ? rectAfterCommit.width : null,\n                                                                                                    nodeRectHeight: Number.isFinite(rectAfterCommit === null || rectAfterCommit === void 0 ? void 0 : rectAfterCommit.height) ? rectAfterCommit.height : null\n                                                                                                });\n                                                                                            } catch (err) {\n                                                                                                textResizeDebug(\"transform-final:post-render:error\", {\n                                                                                                    id: commitSnapshot.id,\n                                                                                                    message: (err === null || err === void 0 ? void 0 : err.message) || String(err)\n                                                                                                });\n                                                                                            }\n                                                                                        });\n                                                                                    });\n                                                                                }\n                                                                            }\n                                                                            actualizarObjeto(objIndex, finalAttrs);\n                                                                        } else {\n                                                                            requestAnimationFrame(()=>{\n                                                                                actualizarObjeto(objIndex, finalAttrs);\n                                                                            });\n                                                                        }\n                                                                    }\n                                                                }\n                                                            }\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3830,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                })(),\n                                                !((_window__resizeData = window._resizeData) === null || _window__resizeData === void 0 ? void 0 : _window__resizeData.isResizing) && !isDragging && !window._isDragging && !window._grupoLider && !editing.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HoverIndicator__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    hoveredElement: hoverId,\n                                                    elementRefs: elementRefs,\n                                                    objetos: objetos\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 4149,\n                                                    columnNumber: 21\n                                                }, this),\n                                                elementosSeleccionados.length === 1 && (()=>{\n                                                    const elementoSeleccionado = objetos.find((obj)=>obj.id === elementosSeleccionados[0]);\n                                                    if ((elementoSeleccionado === null || elementoSeleccionado === void 0 ? void 0 : elementoSeleccionado.tipo) === 'forma' && (elementoSeleccionado === null || elementoSeleccionado === void 0 ? void 0 : elementoSeleccionado.figura) === 'line') {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LineControls__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                            name: \"ui\",\n                                                            lineElement: elementoSeleccionado,\n                                                            elementRefs: elementRefs,\n                                                            onUpdateLine: actualizarLinea,\n                                                            altoCanvas: altoCanvasDinamico,\n                                                            isMobile: isMobile,\n                                                            // ?? NUEVA PROP: Pasar información sobre drag grupal\n                                                            isDragGrupalActive: window._grupoLider !== null,\n                                                            elementosSeleccionados: elementosSeleccionados\n                                                        }, \"line-controls-\".concat(elementoSeleccionado.id, \"-\").concat(JSON.stringify(elementoSeleccionado.points)), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 4159,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    return null;\n                                                })(),\n                                                guiaLineas.map((linea, i)=>{\n                                                    // Determinar el estilo visual según el tipo\n                                                    const esLineaSeccion = linea.priority === 'seccion';\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Line, {\n                                                        name: \"ui\",\n                                                        points: linea.points,\n                                                        stroke: esLineaSeccion ? \"#773dbe\" : \"#9333ea\",\n                                                        strokeWidth: esLineaSeccion ? 2 : 1,\n                                                        dash: linea.style === 'dashed' ? [\n                                                            8,\n                                                            6\n                                                        ] : undefined,\n                                                        opacity: esLineaSeccion ? 0.9 : 0.7,\n                                                        listening: false,\n                                                        perfectDrawEnabled: false,\n                                                        // Efecto sutil de resplandor para líneas de sección\n                                                        shadowColor: esLineaSeccion ? \"rgba(119, 61, 190, 0.3)\" : undefined,\n                                                        shadowBlur: esLineaSeccion ? 4 : 0,\n                                                        shadowEnabled: esLineaSeccion\n                                                    }, \"\".concat(linea.type, \"-\").concat(i), false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 4186,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 3134,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                            children: (()=>{\n                                                if (!seccionActivaId) return null;\n                                                const index = seccionesOrdenadas.findIndex((s)=>s.id === seccionActivaId);\n                                                if (index === -1) return null;\n                                                const seccion = seccionesOrdenadas[index];\n                                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                    x: 0,\n                                                    y: offsetY,\n                                                    width: 800,\n                                                    height: seccion.altura,\n                                                    fill: \"transparent\",\n                                                    stroke: \"#773dbe\",\n                                                    strokeWidth: estaAnimando ? 4 : 3,\n                                                    cornerRadius: 0,\n                                                    shadowColor: estaAnimando ? \"rgba(119, 61, 190, 0.4)\" : \"rgba(119, 61, 190, 0.25)\",\n                                                    shadowBlur: estaAnimando ? 16 : 12,\n                                                    shadowOffset: {\n                                                        x: 0,\n                                                        y: estaAnimando ? 4 : 3\n                                                    },\n                                                    listening: false\n                                                }, \"overlay-border-seccion-\".concat(seccion.id), false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 4220,\n                                                    columnNumber: 23\n                                                }, this);\n                                            })()\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 4208,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 3105,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                lineNumber: 3097,\n                                columnNumber: 13\n                            }, this),\n                            editing.id && elementRefs.current[editing.id] && (()=>{\n                                const objetoEnEdicion = objetos.find((o)=>o.id === editing.id);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_InlineTextEditor__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    editingId: editing.id,\n                                    node: elementRefs.current[editing.id],\n                                    value: editing.value,\n                                    textAlign: (objetoEnEdicion === null || objetoEnEdicion === void 0 ? void 0 : objetoEnEdicion.align) || 'left',\n                                    onOverlayMountChange: handleInlineOverlayMountChange,\n                                    onChange: (nextValue)=>{\n                                        const nextText = String(nextValue !== null && nextValue !== void 0 ? nextValue : \"\");\n                                        const prevStats = getInlineLineStats(editing.value);\n                                        const nextStats = getInlineLineStats(nextText);\n                                        if (prevStats.lineCount !== nextStats.lineCount || prevStats.trailingNewlines !== nextStats.trailingNewlines) {\n                                            inlineDebugLog(\"linebreak-model-sync\", {\n                                                id: editing.id || window._currentEditingId || null,\n                                                prevLength: prevStats.length,\n                                                nextLength: nextStats.length,\n                                                prevLineCount: prevStats.lineCount,\n                                                nextLineCount: nextStats.lineCount,\n                                                prevTrailingNewlines: prevStats.trailingNewlines,\n                                                nextTrailingNewlines: nextStats.trailingNewlines\n                                            });\n                                        }\n                                        captureInlineSnapshot(\"input: before-render\", {\n                                            id: editing.id || window._currentEditingId || null,\n                                            valueLength: nextText.length\n                                        });\n                                        updateEdit(nextValue);\n                                    },\n                                    onDebugEvent: function(eventName) {\n                                        let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n                                        captureInlineSnapshot(eventName, {\n                                            id: (payload === null || payload === void 0 ? void 0 : payload.id) || editing.id || null,\n                                            ...payload\n                                        });\n                                    },\n                                    onFinish: ()=>{\n                                        var _stageRef_current_getStage, _stageRef_current;\n                                        const finishId = editing.id;\n                                        var _editing_value;\n                                        captureInlineSnapshot(\"finish: blur\", {\n                                            id: finishId,\n                                            valueLength: String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\").length\n                                        });\n                                        var _editing_value1;\n                                        const textoNuevoRaw = String((_editing_value1 = editing.value) !== null && _editing_value1 !== void 0 ? _editing_value1 : \"\");\n                                        const textoNuevoValidado = textoNuevoRaw.trim();\n                                        const index = objetos.findIndex((o)=>o.id === finishId);\n                                        const objeto = objetos[index];\n                                        const liveNodeAtFinish = elementRefs.current[finishId];\n                                        const liveMetricsAtFinish = obtenerMetricasNodoInline(liveNodeAtFinish);\n                                        var _objeto_x, _objeto_y;\n                                        inlineDebugLog(\"finish-start\", {\n                                            id: finishId,\n                                            rawLength: textoNuevoRaw.length,\n                                            trimmedLength: textoNuevoValidado.length,\n                                            objectX: (_objeto_x = objeto === null || objeto === void 0 ? void 0 : objeto.x) !== null && _objeto_x !== void 0 ? _objeto_x : null,\n                                            objectY: (_objeto_y = objeto === null || objeto === void 0 ? void 0 : objeto.y) !== null && _objeto_y !== void 0 ? _objeto_y : null,\n                                            previewRef: {\n                                                ...inlineEditPreviewRef.current\n                                            },\n                                            liveMetricsAtFinish\n                                        });\n                                        if (index === -1) {\n                                            console.warn(\"? El objeto ya no existe. Cancelando guardado.\");\n                                            inlineDebugLog(\"finish-abort-missing-object\", {\n                                                id: finishId\n                                            });\n                                            inlineCommitDebugRef.current = {\n                                                id: null\n                                            };\n                                            finishEdit();\n                                            return;\n                                        }\n                                        // ?? Podés permitir texto vacío en formas si querés (yo lo permitiría)\n                                        if (textoNuevoValidado === \"\" && objeto.tipo === \"texto\") {\n                                            console.warn(\"?? El texto está vacío. No se actualiza.\");\n                                            inlineDebugLog(\"finish-abort-empty\", {\n                                                id: finishId,\n                                                rawLength: textoNuevoRaw.length,\n                                                trimmedLength: textoNuevoValidado.length\n                                            });\n                                            inlineCommitDebugRef.current = {\n                                                id: null\n                                            };\n                                            inlineEditPreviewRef.current = {\n                                                id: null,\n                                                centerX: null\n                                            };\n                                            finishEdit();\n                                            return;\n                                        }\n                                        const actualizado = [\n                                            ...objetos\n                                        ];\n                                        const patch = {\n                                            texto: textoNuevoRaw\n                                        };\n                                        const shouldKeepCenterX = objeto.tipo === \"texto\" && !objeto.__groupAlign && !Number.isFinite(objeto.width) && objeto.__autoWidth !== false;\n                                        if (shouldKeepCenterX) {\n                                            const nextX = calcularXTextoCentrado(objeto, textoNuevoRaw);\n                                            const currentX = Number.isFinite(objeto.x) ? objeto.x : 0;\n                                            if (Number.isFinite(nextX) && Math.abs(nextX - currentX) > 0.01) {\n                                                patch.x = nextX;\n                                            }\n                                            var _patch_x;\n                                            inlineDebugLog(\"finish-center-computed\", {\n                                                id: finishId,\n                                                shouldKeepCenterX,\n                                                currentX,\n                                                nextX,\n                                                patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                            });\n                                        }\n                                        actualizado[index] = {\n                                            ...actualizado[index],\n                                            ...patch\n                                        };\n                                        const expectedX = Number.isFinite(patch.x) ? patch.x : Number.isFinite(objeto.x) ? objeto.x : null;\n                                        inlineCommitDebugRef.current = {\n                                            id: finishId,\n                                            expectedX,\n                                            objectXBeforeCommit: Number.isFinite(objeto.x) ? objeto.x : null,\n                                            liveNodeXAtFinish: Number.isFinite(liveMetricsAtFinish === null || liveMetricsAtFinish === void 0 ? void 0 : liveMetricsAtFinish.x) ? liveMetricsAtFinish.x : null,\n                                            previewCenterX: null,\n                                            textLength: textoNuevoRaw.length\n                                        };\n                                        inlineDebugLog(\"finish-apply-patch\", {\n                                            id: finishId,\n                                            patch,\n                                            expectedX\n                                        });\n                                        const logFinishVisibilityCheck = (phase)=>{\n                                            var _window_editing;\n                                            const safeId = String(finishId || \"\").replace(/\"/g, '\\\\\"');\n                                            const overlayDomPresent = safeId ? Boolean(document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'))) : false;\n                                            const liveNode = elementRefs.current[finishId];\n                                            var _window_editing_id, _window__currentEditingId;\n                                            inlineDebugLog(\"finish-visibility-check\", {\n                                                phase,\n                                                id: finishId,\n                                                reactiveEditingId: editing.id || null,\n                                                globalEditingId: (_window_editing_id = (_window_editing = window.editing) === null || _window_editing === void 0 ? void 0 : _window_editing.id) !== null && _window_editing_id !== void 0 ? _window_editing_id : null,\n                                                currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null,\n                                                overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                                                overlayDomPresent,\n                                                nodeOpacity: typeof (liveNode === null || liveNode === void 0 ? void 0 : liveNode.opacity) === \"function\" ? liveNode.opacity() : null,\n                                                nodeVisible: typeof (liveNode === null || liveNode === void 0 ? void 0 : liveNode.visible) === \"function\" ? liveNode.visible() : null,\n                                                nodeMetrics: obtenerMetricasNodoInline(liveNode)\n                                            });\n                                        };\n                                        logFinishVisibilityCheck(\"before-commit\");\n                                        var _patch_x1;\n                                        captureInlineSnapshot(\"finish: before-flush\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x1 = patch.x) !== null && _patch_x1 !== void 0 ? _patch_x1 : null\n                                        });\n                                        (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                            setObjetos(actualizado);\n                                        });\n                                        var _patch_x2;\n                                        captureInlineSnapshot(\"finish: after-flush\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x2 = patch.x) !== null && _patch_x2 !== void 0 ? _patch_x2 : null\n                                        });\n                                        logFinishVisibilityCheck(\"after-commit-before-finishEdit\");\n                                        inlineEditPreviewRef.current = {\n                                            id: null,\n                                            centerX: null\n                                        };\n                                        (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                            finishEdit();\n                                        });\n                                        const stageAfterFinishEdit = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n                                        if (typeof (stageAfterFinishEdit === null || stageAfterFinishEdit === void 0 ? void 0 : stageAfterFinishEdit.batchDraw) === \"function\") {\n                                            stageAfterFinishEdit.batchDraw();\n                                        }\n                                        logFinishVisibilityCheck(\"after-finishEdit-sync\");\n                                        if (window._currentEditingId === finishId) {\n                                            window._currentEditingId = null;\n                                        }\n                                        var _patch_x3;\n                                        captureInlineSnapshot(\"finish: after-finishEdit\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x3 = patch.x) !== null && _patch_x3 !== void 0 ? _patch_x3 : null\n                                        });\n                                        requestAnimationFrame(()=>{\n                                            logFinishVisibilityCheck(\"after-finishEdit-raf1\");\n                                            var _patch_x;\n                                            captureInlineSnapshot(\"finish: raf1\", {\n                                                id: finishId,\n                                                expectedX,\n                                                patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                            });\n                                            requestAnimationFrame(()=>{\n                                                var _patch_x;\n                                                captureInlineSnapshot(\"finish: raf2\", {\n                                                    id: finishId,\n                                                    expectedX,\n                                                    patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                                });\n                                            });\n                                        });\n                                    },\n                                    scaleVisual: escalaVisual,\n                                    finishMode: inlineDebugAB.finishMode,\n                                    widthMode: inlineDebugAB.overlayWidthMode\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 4248,\n                                    columnNumber: 17\n                                }, this);\n                            })(),\n                            !isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_DividersOverlayStage__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                zoom: zoom,\n                                altoCanvasDinamico: altoCanvasDinamico,\n                                seccionesOrdenadas: seccionesOrdenadas\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                lineNumber: 4464,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                        lineNumber: 2815,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                    lineNumber: 2805,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 2792,\n                columnNumber: 7\n            }, this),\n            elementosSeleccionados.length === 1 && !editing.id && !isSelectionRotating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: botonOpcionesRef,\n                \"data-option-button\": \"true\",\n                className: \"absolute z-50 bg-white border-2 border-purple-500 rounded-full shadow-lg hover:shadow-xl transition-shadow duration-200\",\n                style: {\n                    left: \"0px\",\n                    top: \"0px\",\n                    width: \"\".concat(optionButtonSize, \"px\"),\n                    height: \"\".concat(optionButtonSize, \"px\"),\n                    display: \"none\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    pointerEvents: \"auto\",\n                    transition: \"none\",\n                    backgroundColor: \"rgba(255, 255, 255, 0.95)\",\n                    backdropFilter: \"blur(4px)\",\n                    border: \"2px solid #773dbe\",\n                    touchAction: \"manipulation\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onPointerDown: (e)=>{\n                        e.preventDefault();\n                        e.stopPropagation();\n                        togglePanelOpciones(\"gear-pointerdown\", e.nativeEvent || e);\n                    },\n                    onClick: (e)=>{\n                        // Click de teclado (Enter/Espacio) cuando no hay pointer interaction.\n                        if (e.detail !== 0) return;\n                        e.stopPropagation();\n                        togglePanelOpciones(\"gear-keyboard-click\", e.nativeEvent || e);\n                    },\n                    className: \"hover:bg-purple-50 w-full h-full rounded-full flex items-center justify-center transition-colors\",\n                    title: \"Opciones del elemento\",\n                    \"aria-label\": \"Opciones del elemento\",\n                    style: {\n                        touchAction: \"manipulation\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Settings, {\n                        className: \"text-purple-700\",\n                        style: {\n                            width: isMobile ? 18 : 14,\n                            height: isMobile ? 18 : 14\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                        lineNumber: 4522,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                    lineNumber: 4504,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4484,\n                columnNumber: 9\n            }, this),\n            mostrarPanelZ && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MenuOpcionesElemento__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                isOpen: mostrarPanelZ,\n                botonOpcionesRef: botonOpcionesRef,\n                elementoSeleccionado: objetos.find((o)=>o.id === elementosSeleccionados[0]),\n                onCopiar: onCopiar,\n                onPegar: onPegar,\n                onDuplicar: onDuplicar,\n                onEliminar: onEliminar,\n                moverElemento: moverElemento,\n                onCerrar: ()=>setMostrarPanelZ(false),\n                reemplazarFondo: _utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__.reemplazarFondoSeccion,\n                secciones: secciones,\n                objetos: objetos,\n                setSecciones: setSecciones,\n                setObjetos: setObjetos,\n                setElementosSeleccionados: setElementosSeleccionados\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4533,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_toolbar_FloatingTextToolbar__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                objetoSeleccionado: objetoSeleccionado,\n                setObjetos: setObjetos,\n                elementosSeleccionados: elementosSeleccionados,\n                mostrarSelectorFuente: mostrarSelectorFuente,\n                setMostrarSelectorFuente: setMostrarSelectorFuente,\n                mostrarSelectorTamano: mostrarSelectorTamano,\n                setMostrarSelectorTamano: setMostrarSelectorTamano,\n                ALL_FONTS: _config_fonts__WEBPACK_IMPORTED_MODULE_33__.ALL_FONTS,\n                fontManager: _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager,\n                tamaniosDisponibles: tamaniosDisponibles,\n                onCambiarAlineacion: onCambiarAlineacion\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4553,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_sections_ConfirmDeleteSectionModal__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                isOpen: deleteSectionModal.isOpen,\n                sectionName: seccionPendienteEliminar === null || seccionPendienteEliminar === void 0 ? void 0 : seccionPendienteEliminar.tipo,\n                itemCount: cantidadElementosSeccionPendiente,\n                isDeleting: isDeletingSection,\n                onCancel: cerrarModalBorrarSeccion,\n                onConfirm: confirmarBorrarSeccion\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4567,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n        lineNumber: 2771,\n        columnNumber: 5\n    }, this);\n}\n_s(CanvasEditor, \"amPB2ep2otLxo6/ucJlMYhldwtU=\", false, function() {\n    return [\n        _components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__[\"default\"],\n        _hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__.useImperativeObjects,\n        _hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n        _hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__.useAuthClaims,\n        _editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__[\"default\"],\n        _editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__[\"default\"],\n        _editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__[\"default\"],\n        _hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n        _components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__[\"default\"],\n        _hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n        _editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__[\"default\"],\n        _hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        _editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__[\"default\"],\n        _hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__[\"default\"],\n        _components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__[\"default\"],\n        _editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__[\"default\"]\n    ];\n});\n_c = CanvasEditor;\nvar _c;\n$RefreshReg$(_c, \"CanvasEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NhbnZhc0VkaXRvci5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4QkFBOEI7OztBQUM0QztBQUN0QjtBQUNzQztBQUM1QztBQUNKO0FBQ2lEO0FBQ2pDO0FBQ1U7QUFDQTtBQUNwQjtBQUNGO0FBQ047QUFDd0I7QUFDYjtBQUNHO0FBQ1o7QUFDZ0I7QUFDUjtBQUNSO0FBQ3dDO0FBQ0Q7QUFDQTtBQUNGO0FBQ21CO0FBQ2pDO0FBQ0w7QUFDWDtBQUNTO0FBQ0w7QUFDcUI7QUFDbEI7QUFDMEI7QUFDeEI7QUFDaEM7QUFDa0I7QUFDVTtBQVloQztBQUM2QztBQUNHO0FBQ3lCO0FBQ2pDO0FBQ1k7QUFDUDtBQUNnQjtBQUNVO0FBQzdCO0FBQzJCO0FBQ2pCO0FBQ0U7QUFJNUVvRCw0REFBa0IsR0FBRztBQUVyQixTQUFTMEI7SUFDUCxJQUFJLEtBQTZCLEVBQUUsRUFBUztJQUU1QyxNQUFNQyxNQUFNQyxPQUFPQyxPQUFPQyxnQkFBZ0IsSUFBSTtJQUM5QyxNQUFNQyxnQkFDSixPQUFPRixPQUFPRyxVQUFVLEtBQUssY0FDN0JILE9BQU9HLFVBQVUsQ0FBQyxxQkFBcUJDLE9BQU87SUFDaEQsTUFBTUMsVUFBVUMsS0FBS0MsR0FBRyxDQUFDUixPQUFPQyxPQUFPUSxVQUFVLElBQUksSUFBSVQsT0FBT0MsT0FBT1MsV0FBVyxJQUFJO0lBQ3RGLE1BQU1DLGFBQWFSLGlCQUFrQkcsVUFBVSxLQUFLQSxXQUFXO0lBRS9ELElBQUlLLFlBQVksT0FBTztJQUN2QixPQUFPSixLQUFLQyxHQUFHLENBQUNULEtBQUs7QUFDdkI7QUFFQTNCLDBEQUFnQixHQUFHMEI7QUFFbkIsTUFBTWUsNkJBQTZCO0FBQ25DLE1BQU1DLHlCQUF5QjtBQUUvQixTQUFTQyxtQkFBbUJDLElBQUk7SUFDOUIsTUFBTUMsSUFBSUMsT0FB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VTVXO2dCQUNWNlcsV0FBVzVXOzs7Ozs7Ozs7Ozs7QUFRbkI7R0F2d0l3QnpmOztRQWdCMEN2Ryw0RkFBeUJBO1FBQy9EbEQsNkVBQW9CQTtRQVdNRCxxRUFBc0JBO1FBa0J2Q2lDLGdFQUFhQTtRQXFCaERXLDRFQUFlQTtRQTJCWEMsNEVBQWtCQTtRQW9CdEJFLHVFQUFlQTtRQTBMWHhDLCtEQUFlQTtRQW1HZjJDLHVGQUFvQkE7UUE2aEJwQnpDLGlFQUFpQkE7UUFlckJ3QywwRUFBaUJBO1FBazRCakI1QyxvRUFBb0JBO1FBa0NwQjJDLDZFQUFxQkE7UUE2T2pCcEIsZ0VBQWdCQTtRQWdCd0J5Qiw0RkFBdUJBO1FBaVg3Q0Qsd0VBQWdCQTs7O0tBNzhFaEJzRyIsInNvdXJjZXMiOlsiQzpcXFJlc2VydmFlbGRpYVxcc3JjXFxjb21wb25lbnRzXFxDYW52YXNFZGl0b3IuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbXBvbmVudHMvQ2FudmFzRWRpdG9yLmpzeFxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCwgZmx1c2hTeW5jIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xyXG5pbXBvcnQgeyBTdGFnZSwgTGluZSwgUmVjdCwgVGV4dCwgSW1hZ2UgYXMgS29udmFJbWFnZSwgR3JvdXAsIENpcmNsZSB9IGZyb20gXCJyZWFjdC1rb252YVwiO1xyXG5pbXBvcnQgRWxlbWVudG9DYW52YXMgZnJvbSBcIi4vRWxlbWVudG9DYW52YXNcIjtcclxuaW1wb3J0IExpbmVDb250cm9scyBmcm9tIFwiLi9MaW5lQ29udHJvbHNcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXJPZmZzZXRZLCBjb252ZXJ0aXJBYnNBUmVsLCBkZXRlcm1pbmFyTnVldmFTZWNjaW9uIH0gZnJvbSBcIkAvdXRpbHMvbGF5b3V0XCI7XHJcbmltcG9ydCB7IGNyZWFyU2VjY2lvbiB9IGZyb20gXCJAL21vZGVscy9lc3RydWN0dXJhSW5pY2lhbFwiO1xyXG5pbXBvcnQgdXNlUGxhbnRpbGxhc0RlU2VjY2lvbiBmcm9tIFwiQC9ob29rcy91c2VQbGFudGlsbGFzRGVTZWNjaW9uXCI7XHJcbmltcG9ydCB7IHVzZUltcGVyYXRpdmVPYmplY3RzIH0gZnJvbSAnQC9ob29rcy91c2VJbXBlcmF0aXZlT2JqZWN0cyc7XHJcbmltcG9ydCBTZWxlY3Rpb25Cb3VuZHMgZnJvbSAnLi9TZWxlY3Rpb25Cb3VuZHMnO1xyXG5pbXBvcnQgSG92ZXJJbmRpY2F0b3IgZnJvbSAnLi9Ib3ZlckluZGljYXRvcic7XHJcbmltcG9ydCBMaW5lVG9vbGJhciBmcm9tIFwiLi9MaW5lVG9vbGJhclwiO1xyXG5pbXBvcnQgdXNlS2V5Ym9hcmRTaG9ydGN1dHMgZnJvbSAnQC9ob29rcy91c2VLZXlib2FyZFNob3J0Y3V0cyc7XHJcbmltcG9ydCB7IGZvbnRNYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvZm9udE1hbmFnZXInO1xyXG5pbXBvcnQgdXNlSW5saW5lRWRpdG9yIGZyb20gXCJAL2hvb2tzL3VzZUlubGluZUVkaXRvclwiO1xyXG5pbXBvcnQgU2hhcGVUb29sYmFyIGZyb20gJy4vU2hhcGVUb29sYmFyJztcclxuaW1wb3J0IHVzZUVkaXRvckhhbmRsZXJzIGZyb20gJ0AvaG9va3MvdXNlRWRpdG9ySGFuZGxlcnMnO1xyXG5pbXBvcnQgSW5saW5lVGV4dEVkaXRvciBmcm9tIFwiLi9JbmxpbmVUZXh0RWRpdG9yXCI7XHJcbmltcG9ydCBGb250U2VsZWN0b3IgZnJvbSAnLi9Gb250U2VsZWN0b3InO1xyXG5pbXBvcnQgeyByZWVtcGxhemFyRm9uZG9TZWNjaW9uIGFzIHJlZW1wbGF6YXJGb25kbyB9IGZyb20gXCJAL3V0aWxzL2FjY2lvbmVzRm9uZG9cIjtcclxuaW1wb3J0IHsgZGVzYW5jbGFySW1hZ2VuRGVGb25kbyBhcyBkZXNhbmNsYXJGb25kbyB9IGZyb20gXCJAL3V0aWxzL2FjY2lvbmVzRm9uZG9cIjtcclxuaW1wb3J0IHsgYm9ycmFyU2VjY2lvbiBhcyBib3JyYXJTZWNjaW9uRXh0ZXJuYWwgfSBmcm9tIFwiQC91dGlscy9lZGl0b3JTZWNjaW9uZXNcIjtcclxuaW1wb3J0IHsgbW92ZXJTZWNjaW9uIGFzIG1vdmVyU2VjY2lvbkV4dGVybmFsIH0gZnJvbSBcIkAvdXRpbHMvZWRpdG9yU2VjY2lvbmVzXCI7XHJcbmltcG9ydCB7IHZhbGlkYXJQdW50b3NMaW5lYSwgZGV0ZWN0YXJJbnRlcnNlY2Npb25MaW5lYSB9IGZyb20gXCIuL2VkaXRvci9zZWxlY3Rpb24vc2VsZWN0aW9uVXRpbHNcIjtcclxuaW1wb3J0IHsgZ3VhcmRhclNlY2Npb25Db21vUGxhbnRpbGxhIH0gZnJvbSBcIkAvdXRpbHMvcGxhbnRpbGxhc1wiO1xyXG5pbXBvcnQgR2FsZXJpYUtvbnZhIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL0dhbGVyaWFLb252YVwiO1xyXG5pbXBvcnQgRm9uZG9TZWNjaW9uIGZyb20gJy4vZWRpdG9yL0ZvbmRvU2VjY2lvbic7XHJcbmltcG9ydCBNZW51T3BjaW9uZXNFbGVtZW50byBmcm9tIFwiLi9NZW51T3BjaW9uZXNFbGVtZW50b1wiO1xyXG5pbXBvcnQgeyBjYWxjR2FsbGVyeUxheW91dCB9IGZyb20gXCJAL3V0aWxzL2NhbGNHcmlkXCI7XHJcbmltcG9ydCBDb3VudGRvd25Lb252YSBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9jb3VudGRvd24vQ291bnRkb3duS29udmFcIjtcclxuaW1wb3J0IHVzZUd1aWFzQ2VudHJhZG8gZnJvbSAnQC9ob29rcy91c2VHdWlhc0NlbnRyYWRvJztcclxuaW1wb3J0IEZsb2F0aW5nVGV4dFRvb2xiYXIgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3IvdG9vbGJhci9GbG9hdGluZ1RleHRUb29sYmFyXCI7XHJcbmltcG9ydCBTZWxlY3RvckNvbG9yU2VjY2lvbiBmcm9tIFwiLi9TZWxlY3RvckNvbG9yU2VjY2lvblwiO1xyXG5pbXBvcnQgS29udmEgZnJvbSBcImtvbnZhXCI7XHJcbmltcG9ydCB7IEFMTF9GT05UUyB9IGZyb20gJy4uL2NvbmZpZy9mb250cyc7XHJcbmltcG9ydCB7IHVzZUF1dGhDbGFpbXMgfSBmcm9tIFwiQC9ob29rcy91c2VBdXRoQ2xhaW1zXCI7XHJcbmltcG9ydCB7XHJcbiAgVHJhc2gyLFxyXG4gIExheWVycyxcclxuICBNb3ZlVXAsXHJcbiAgTW92ZURvd24sXHJcbiAgUGx1c0NpcmNsZSxcclxuICBTZXR0aW5ncyxcclxuICBVbmxpbmsyLFxyXG4gIE1vbml0b3IsXHJcbiAgQ2hldnJvbkRvd24sXHJcbiAgQ2hldnJvblVwLFxyXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcclxuaW1wb3J0IHVzZUJvcnJhZG9yU3luYyBmcm9tIFwiLi9lZGl0b3IvcGVyc2lzdGVuY2UvdXNlQm9ycmFkb3JTeW5jXCI7XHJcbmltcG9ydCB1c2VTZWN0aW9uc01hbmFnZXIgZnJvbSBcIi4vZWRpdG9yL3NlY3Rpb25zL3VzZVNlY3Rpb25zTWFuYWdlclwiO1xyXG5pbXBvcnQgQ29uZmlybURlbGV0ZVNlY3Rpb25Nb2RhbCBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9zZWN0aW9ucy9Db25maXJtRGVsZXRlU2VjdGlvbk1vZGFsXCI7XHJcbmltcG9ydCB1c2VFZGl0b3JFdmVudHMgZnJvbSBcIi4vZWRpdG9yL2V2ZW50cy91c2VFZGl0b3JFdmVudHNcIjtcclxuaW1wb3J0IHVzZUVkaXRvcldpbmRvd0JyaWRnZSBmcm9tIFwiLi9lZGl0b3Ivd2luZG93L3VzZUVkaXRvcldpbmRvd0JyaWRnZVwiO1xyXG5pbXBvcnQgdXNlSGlzdG9yeU1hbmFnZXIgZnJvbSBcIi4vZWRpdG9yL2hpc3RvcnkvdXNlSGlzdG9yeU1hbmFnZXJcIjtcclxuaW1wb3J0IHVzZUNhbnZhc1NjYWxlTGF5b3V0IGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL21vYmlsZS91c2VDYW52YXNTY2FsZUxheW91dFwiO1xyXG5pbXBvcnQgdXNlQ2FudmFzSW50ZXJhY3Rpb25TdGF0ZSBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9tb2JpbGUvdXNlQ2FudmFzSW50ZXJhY3Rpb25TdGF0ZVwiO1xyXG5pbXBvcnQgdXNlU3RhZ2VHZXN0dXJlcyBmcm9tIFwiLi9lZGl0b3IvbW9iaWxlL3VzZVN0YWdlR2VzdHVyZXNcIjtcclxuaW1wb3J0IHVzZU9wdGlvbkJ1dHRvblBvc2l0aW9uIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL292ZXJsYXlzL3VzZU9wdGlvbkJ1dHRvblBvc2l0aW9uXCI7XHJcbmltcG9ydCBDYW52YXNFbGVtZW50c0xheWVyIGZyb20gXCJAL2NvbXBvbmVudHMvY2FudmFzL0NhbnZhc0VsZW1lbnRzTGF5ZXJcIjtcclxuaW1wb3J0IERpdmlkZXJzT3ZlcmxheVN0YWdlIGZyb20gXCJAL2NvbXBvbmVudHMvY2FudmFzL0RpdmlkZXJzT3ZlcmxheVN0YWdlXCI7XHJcblxyXG5cclxuXHJcbktvbnZhLmRyYWdEaXN0YW5jZSA9IDg7XHJcblxyXG5mdW5jdGlvbiByZXNvbHZlS29udmFQaXhlbFJhdGlvKCkge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gMTtcclxuXHJcbiAgY29uc3QgZHByID0gTnVtYmVyKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpO1xyXG4gIGNvbnN0IGNvYXJzZVBvaW50ZXIgPVxyXG4gICAgdHlwZW9mIHdpbmRvdy5tYXRjaE1lZGlhID09PSBcImZ1bmN0aW9uXCIgJiZcclxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHBvaW50ZXI6IGNvYXJzZSlcIikubWF0Y2hlcztcclxuICBjb25zdCBtaW5TaWRlID0gTWF0aC5taW4oTnVtYmVyKHdpbmRvdy5pbm5lcldpZHRoIHx8IDApLCBOdW1iZXIod2luZG93LmlubmVySGVpZ2h0IHx8IDApKTtcclxuICBjb25zdCBtb2JpbGVMaWtlID0gY29hcnNlUG9pbnRlciB8fCAobWluU2lkZSA+IDAgJiYgbWluU2lkZSA8PSAxMDI0KTtcclxuXHJcbiAgaWYgKG1vYmlsZUxpa2UpIHJldHVybiAxO1xyXG4gIHJldHVybiBNYXRoLm1pbihkcHIsIDIpO1xyXG59XHJcblxyXG5Lb252YS5waXhlbFJhdGlvID0gcmVzb2x2ZUtvbnZhUGl4ZWxSYXRpbygpO1xyXG5cclxuY29uc3QgQUxUVVJBX1JFRkVSRU5DSUFfUEFOVEFMTEEgPSA1MDA7XHJcbmNvbnN0IEFMVFVSQV9QQU5UQUxMQV9FRElUT1IgPSA1MDA7XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemFyQWx0b01vZG8obW9kbykge1xyXG4gIGNvbnN0IG0gPSBTdHJpbmcobW9kbyB8fCBcImZpam9cIikudG9Mb3dlckNhc2UoKTtcclxuICByZXR1cm4gKG0gPT09IFwicGFudGFsbGFcIikgPyBcInBhbnRhbGxhXCIgOiBcImZpam9cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNCb2xkRm9udFdlaWdodCh3ZWlnaHQpIHtcclxuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKHdlaWdodCB8fCBcIm5vcm1hbFwiKS50b0xvd2VyQ2FzZSgpO1xyXG4gIHJldHVybiAoXHJcbiAgICBub3JtYWxpemVkID09PSBcImJvbGRcIiB8fFxyXG4gICAgbm9ybWFsaXplZCA9PT0gXCJib2xkZXJcIiB8fFxyXG4gICAgW1wiNTAwXCIsIFwiNjAwXCIsIFwiNzAwXCIsIFwiODAwXCIsIFwiOTAwXCJdLmluY2x1ZGVzKG5vcm1hbGl6ZWQpXHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzb2x2ZUtvbnZhRm9udFN0eWxlKGZvbnRTdHlsZSwgZm9udFdlaWdodCkge1xyXG4gIGNvbnN0IHN0eWxlID0gU3RyaW5nKGZvbnRTdHlsZSB8fCBcIm5vcm1hbFwiKS50b0xvd2VyQ2FzZSgpO1xyXG4gIGNvbnN0IGlzSXRhbGljID0gc3R5bGUuaW5jbHVkZXMoXCJpdGFsaWNcIikgfHwgc3R5bGUuaW5jbHVkZXMoXCJvYmxpcXVlXCIpO1xyXG4gIGNvbnN0IGlzQm9sZCA9IHN0eWxlLmluY2x1ZGVzKFwiYm9sZFwiKSB8fCBpc0JvbGRGb250V2VpZ2h0KGZvbnRXZWlnaHQpO1xyXG5cclxuICBpZiAoaXNCb2xkICYmIGlzSXRhbGljKSByZXR1cm4gXCJib2xkIGl0YWxpY1wiO1xyXG4gIGlmIChpc0JvbGQpIHJldHVybiBcImJvbGRcIjtcclxuICBpZiAoaXNJdGFsaWMpIHJldHVybiBcIml0YWxpY1wiO1xyXG4gIHJldHVybiBcIm5vcm1hbFwiO1xyXG59XHJcblxyXG4vLyA/Pz8gRlVOQ0nDk04gSEVMUEVSIFBBUkEgTElNUElBUiBVTkRFRklORURcclxuY29uc3QgbGltcGlhck9iamV0b1VuZGVmaW5lZCA9IChvYmopID0+IHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XHJcbiAgICByZXR1cm4gb2JqLm1hcChsaW1waWFyT2JqZXRvVW5kZWZpbmVkKTtcclxuICB9XHJcblxyXG4gIGlmIChvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcclxuICAgIGNvbnN0IG9iakxpbXBpbyA9IHt9O1xyXG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhbG9yID0gb2JqW2tleV07XHJcbiAgICAgIGlmICh2YWxvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgb2JqTGltcGlvW2tleV0gPSBsaW1waWFyT2JqZXRvVW5kZWZpbmVkKHZhbG9yKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gb2JqTGltcGlvO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9iajtcclxufTtcclxuXHJcbi8vIFV0aWxzIGRlIGN1cnNvciBnbG9iYWwgKGFycmliYSBkZWwgY29tcG9uZW50ZSlcclxuZnVuY3Rpb24gc2V0R2xvYmFsQ3Vyc29yKGN1cnNvciA9ICcnLCBzdGFnZVJlZiA9IG51bGwpIHtcclxuICB0cnkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBjdXJzb3IgfHwgJyc7XHJcbiAgICAvLyA/PyBsaW1waWFtb3MgdGFtYmnDqW4gZWwgY29udGVuZWRvciBkZWwgU3RhZ2Ugc2kgZXhpc3RlXHJcbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmPy5jdXJyZW50Py5jb250YWluZXI/LigpIHx8IG51bGw7XHJcbiAgICBpZiAoc3RhZ2UpIHN0YWdlLnN0eWxlLmN1cnNvciA9IGN1cnNvciB8fCAnJztcclxuICAgIC8vIGZhbGxiYWNrOiBjYW52YXMgcHJpbmNpcGFsXHJcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcclxuICAgIGlmIChjYW52YXMgJiYgY2FudmFzLnBhcmVudEVsZW1lbnQpIGNhbnZhcy5wYXJlbnRFbGVtZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvciB8fCAnJztcclxuICB9IGNhdGNoIHsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckdsb2JhbEN1cnNvcihzdGFnZVJlZiA9IG51bGwpIHtcclxuICBzZXRHbG9iYWxDdXJzb3IoJycsIHN0YWdlUmVmKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbmxpbmVEZWJ1Z0VuYWJsZWQoKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93Ll9fSU5MSU5FX0RFQlVHICE9PSBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0SW5saW5lTG9nUGF5bG9hZChwYXlsb2FkID0ge30pIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gU3RyaW5nKGVycm9yIHx8IHBheWxvYWQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaW5saW5lRGVidWdMb2coZXZlbnQsIHBheWxvYWQgPSB7fSkge1xyXG4gIGlmICghaXNJbmxpbmVEZWJ1Z0VuYWJsZWQoKSkgcmV0dXJuO1xyXG4gIGNvbnN0IGVzc2VudGlhbEV2ZW50cyA9IG5ldyBTZXQoW1xyXG4gICAgXCJzdGFydC1pbmxpbmUtZWRpdFwiLFxyXG4gICAgXCJsaW5lYnJlYWstbW9kZWwtc3luY1wiLFxyXG4gICAgXCJsaW5lYnJlYWstdHJhbnNmb3JtZXJcIixcclxuICBdKTtcclxuICBpZiAoIWVzc2VudGlhbEV2ZW50cy5oYXMoZXZlbnQpKSByZXR1cm47XHJcbiAgY29uc3QgdHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgY29uc3QgYm9keSA9IGZvcm1hdElubGluZUxvZ1BheWxvYWQocGF5bG9hZCk7XHJcbiAgY29uc29sZS5sb2coYFtJTkxJTkVdWyR7dHN9XSAke2V2ZW50fVxcbiR7Ym9keX1gKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmV4dElubGluZUZyYW1lTWV0YSgpIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgcmV0dXJuIHsgZnJhbWU6IG51bGwsIHBlcmZNczogbnVsbCB9O1xyXG4gIH1cclxuICBjb25zdCBwcmV2ID0gTnVtYmVyKHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEgfHwgMCk7XHJcbiAgY29uc3QgbmV4dCA9IHByZXYgKyAxO1xyXG4gIHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEgPSBuZXh0O1xyXG4gIGNvbnN0IHBlcmZNcyA9XHJcbiAgICB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlPy5ub3cgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICA/IE51bWJlcih3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkudG9GaXhlZCgzKSlcclxuICAgICAgOiBudWxsO1xyXG4gIHJldHVybiB7IGZyYW1lOiBuZXh0LCBwZXJmTXMgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SW5saW5lTGluZVN0YXRzKHZhbHVlKSB7XHJcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFN0cmluZyh2YWx1ZSA/PyBcIlwiKS5yZXBsYWNlKC9cXHJcXG4vZywgXCJcXG5cIik7XHJcbiAgY29uc3QgdHJhaWxpbmcgPSBub3JtYWxpemVkLm1hdGNoKC9cXG4rJC8pPy5bMF07XHJcbiAgcmV0dXJuIHtcclxuICAgIG5vcm1hbGl6ZWQsXHJcbiAgICBsZW5ndGg6IG5vcm1hbGl6ZWQubGVuZ3RoLFxyXG4gICAgbGluZUNvdW50OiBub3JtYWxpemVkID09PSBcIlwiID8gMSA6IG5vcm1hbGl6ZWQuc3BsaXQoXCJcXG5cIikubGVuZ3RoLFxyXG4gICAgdHJhaWxpbmdOZXdsaW5lczogdHJhaWxpbmcgPyB0cmFpbGluZy5sZW5ndGggOiAwLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlubGluZURlYnVnQUIocmF3Q29uZmlnKSB7XHJcbiAgY29uc3QgcmF3ID0gcmF3Q29uZmlnICYmIHR5cGVvZiByYXdDb25maWcgPT09IFwib2JqZWN0XCIgPyByYXdDb25maWcgOiB7fTtcclxuXHJcbiAgY29uc3QgdmlzaWJpbGl0eVNvdXJjZSA9XHJcbiAgICByYXcudmlzaWJpbGl0eVNvdXJjZSA9PT0gXCJ3aW5kb3dcIiA/IFwid2luZG93XCIgOiBcInJlYWN0aXZlXCI7XHJcblxyXG4gIGNvbnN0IGZpbmlzaE1vZGUgPVxyXG4gICAgcmF3LmZpbmlzaE1vZGUgPT09IFwiaW1tZWRpYXRlXCIgfHxcclxuICAgIHJhdy5maW5pc2hNb2RlID09PSBcInJhZlwiIHx8XHJcbiAgICByYXcuZmluaXNoTW9kZSA9PT0gXCJ0aW1lb3V0MTAwXCJcclxuICAgICAgPyByYXcuZmluaXNoTW9kZVxyXG4gICAgICA6IFwicmFmXCI7XHJcblxyXG4gIGNvbnN0IG92ZXJsYXlXaWR0aE1vZGUgPVxyXG4gICAgcmF3Lm92ZXJsYXlXaWR0aE1vZGUgPT09IFwiZml0LWNvbnRlbnRcIiA/IFwiZml0LWNvbnRlbnRcIiA6IFwibWVhc3VyZWRcIjtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHZpc2liaWxpdHlTb3VyY2UsXHJcbiAgICBmaW5pc2hNb2RlLFxyXG4gICAgb3ZlcmxheVdpZHRoTW9kZSxcclxuICB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FudmFzRWRpdG9yKHtcclxuICBzbHVnLFxyXG4gIHpvb20gPSAxLFxyXG4gIG9uSGlzdG9yaWFsQ2hhbmdlLFxyXG4gIG9uRnV0dXJvc0NoYW5nZSxcclxuICB1c2VySWQsXHJcbiAgb25TdGFydHVwU3RhdHVzQ2hhbmdlLFxyXG59KSB7XHJcbiAgY29uc3QgW29iamV0b3MsIHNldE9iamV0b3NdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtjZWxkYUdhbGVyaWFBY3RpdmEsIHNldENlbGRhR2FsZXJpYUFjdGl2YV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbc2VjY2lvbmVzLCBzZXRTZWNjaW9uZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtoaXN0b3JpYWwsIHNldEhpc3RvcmlhbF0gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2Z1dHVyb3MsIHNldEZ1dHVyb3NdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLCBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbY2FyZ2Fkbywgc2V0Q2FyZ2Fkb10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3Qgc3RhZ2VSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgeyBkcmFnU3RhcnRQb3MsIGhhc0RyYWdnZWQsIGlzRHJhZ2dpbmcsIHNldElzRHJhZ2dpbmcgfSA9IHVzZUNhbnZhc0ludGVyYWN0aW9uU3RhdGUoKTtcclxuICBjb25zdCBpbXBlcmF0aXZlT2JqZWN0cyA9IHVzZUltcGVyYXRpdmVPYmplY3RzKCk7XHJcbiAgY29uc3QgW2FuaW1hbmRvU2VjY2lvbiwgc2V0QW5pbWFuZG9TZWNjaW9uXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtzZWNjaW9uQWN0aXZhSWQsIHNldFNlY2Npb25BY3RpdmFJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbc2VsZWNjaW9uQWN0aXZhLCBzZXRTZWxlY2Npb25BY3RpdmFdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpbmljaW9TZWxlY2Npb24sIHNldEluaWNpb1NlbGVjY2lvbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbYXJlYVNlbGVjY2lvbiwgc2V0QXJlYVNlbGVjY2lvbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcywgc2V0RWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgZ3VpYUxheWVyUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IFtob3ZlcklkLCBzZXRIb3ZlcklkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IGFsdG9DYW52YXMgPSBzZWNjaW9uZXMucmVkdWNlKChhY2MsIHMpID0+IGFjYyArIHMuYWx0dXJhLCAwKSB8fCA4MDA7XHJcbiAgY29uc3QgW3NlY2Npb25lc0FuaW1hbmRvLCBzZXRTZWNjaW9uZXNBbmltYW5kb10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgeyByZWZyZXNjYXI6IHJlZnJlc2NhclBsYW50aWxsYXNEZVNlY2Npb24gfSA9IHVzZVBsYW50aWxsYXNEZVNlY2Npb24oKTtcclxuICBjb25zdCBbZWxlbWVudG9Db3BpYWRvLCBzZXRFbGVtZW50b0NvcGlhZG9dID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgZWxlbWVudFJlZnMgPSB1c2VSZWYoe30pO1xyXG4gIGNvbnN0IGlubGluZUVkaXRQcmV2aWV3UmVmID0gdXNlUmVmKHsgaWQ6IG51bGwsIGNlbnRlclg6IG51bGwgfSk7XHJcbiAgY29uc3QgaW5saW5lQ29tbWl0RGVidWdSZWYgPSB1c2VSZWYoeyBpZDogbnVsbCB9KTtcclxuICBjb25zdCBwcmV2RWRpdGluZ0lkUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IGlubGluZVJlbmRlclZhbHVlUmVmID0gdXNlUmVmKHsgaWQ6IG51bGwsIHZhbHVlOiBcIlwiIH0pO1xyXG4gIGNvbnN0IFtpbmxpbmVPdmVybGF5TW91bnRlZElkLCBzZXRJbmxpbmVPdmVybGF5TW91bnRlZElkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IGNvbnRlbmVkb3JSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgZWRpdG9yT3ZlcmxheVJvb3RSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgYXV0b1NlY3Rpb25WaWV3cG9ydFJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCBhdXRvU2VjdGlvblNjcm9sbFJhZlJlZiA9IHVzZVJlZigwKTtcclxuICBjb25zdCBzZWNjaW9uQWN0aXZhSWRSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgaWdub3JlTmV4dFVwZGF0ZVJlZiA9IHVzZVJlZigwKTtcclxuICBjb25zdCBbYW5jaG9TdGFnZSwgc2V0QW5jaG9TdGFnZV0gPSB1c2VTdGF0ZSg4MDApO1xyXG4gIGNvbnN0IFttb3N0cmFyU2VsZWN0b3JGdWVudGUsIHNldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW21vc3RyYXJTdWJtZW51Q2FwYSwgc2V0TW9zdHJhclN1Ym1lbnVDYXBhXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBmdWVudGVzRGlzcG9uaWJsZXMgPSBBTExfRk9OVFM7XHJcbiAgY29uc3QgeyBlc0FkbWluLCBsb2FkaW5nQ2xhaW1zIH0gPSB1c2VBdXRoQ2xhaW1zKCk7XHJcbiAgY29uc3QgW2JhY2tncm91bmRMb2FkQnlTZWN0aW9uLCBzZXRCYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbl0gPSB1c2VTdGF0ZSh7fSk7XHJcbiAgY29uc3Qgc3RhcnR1cFN0YXR1c0ZpbmFsaXplZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgY29uc3QgW21vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkLCBzZXRNb2JpbGVCYWNrZ3JvdW5kRWRpdFNlY3Rpb25JZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZGVsZXRlU2VjdGlvbk1vZGFsLCBzZXREZWxldGVTZWN0aW9uTW9kYWxdID0gdXNlU3RhdGUoeyBpc09wZW46IGZhbHNlLCBzZWN0aW9uSWQ6IG51bGwgfSk7XHJcbiAgY29uc3QgW2lzRGVsZXRpbmdTZWN0aW9uLCBzZXRJc0RlbGV0aW5nU2VjdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW21vYmlsZVNlY3Rpb25BY3Rpb25zT3Blbiwgc2V0TW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBzdXBwb3J0c1BvaW50ZXJFdmVudHMgPVxyXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LlBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIjtcclxuXHJcbiAgY29uc3QgaXNUZXh0UmVzaXplRGVidWdFbmFibGVkID0gKCkgPT5cclxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgQm9vbGVhbih3aW5kb3cuX19EQkdfVEVYVF9SRVNJWkUpO1xyXG5cclxuICBjb25zdCB0ZXh0UmVzaXplRGVidWcgPSAoLi4uYXJncykgPT4ge1xyXG4gICAgaWYgKCFpc1RleHRSZXNpemVEZWJ1Z0VuYWJsZWQoKSkgcmV0dXJuO1xyXG4gICAgY29uc29sZS5sb2coXCJbVEVYVC1DT01NSVRdXCIsIC4uLmFyZ3MpO1xyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUJvcnJhZG9yU3luYyh7XHJcbiAgICBzbHVnLFxyXG4gICAgdXNlcklkLFxyXG5cclxuICAgIG9iamV0b3MsXHJcbiAgICBzZWNjaW9uZXMsXHJcbiAgICBjYXJnYWRvLFxyXG5cclxuICAgIHNldE9iamV0b3MsXHJcbiAgICBzZXRTZWNjaW9uZXMsXHJcbiAgICBzZXRDYXJnYWRvLFxyXG4gICAgc2V0U2VjY2lvbkFjdGl2YUlkLFxyXG5cclxuICAgIGlnbm9yZU5leHRVcGRhdGVSZWYsXHJcbiAgICBzdGFnZVJlZixcclxuXHJcbiAgICBub3JtYWxpemFyQWx0b01vZG8sXHJcbiAgICB2YWxpZGFyUHVudG9zTGluZWEsXHJcblxyXG4gICAgQUxUVVJBX1BBTlRBTExBX0VESVRPUixcclxuICB9KTtcclxuICBjb25zdCB7XHJcbiAgICBjb250cm9sYW5kb0FsdHVyYSxcclxuICAgIGluaWNpYXJDb250cm9sQWx0dXJhLFxyXG4gICAgZmluYWxpemFyQ29udHJvbEFsdHVyYSxcclxuICAgIHRvZ2dsZVBhbnRhbGxhQ29tcGxldGFTZWNjaW9uLFxyXG4gICAgaGFuZGxlQ3JlYXJTZWNjaW9uLFxyXG4gIH0gPSB1c2VTZWN0aW9uc01hbmFnZXIoe1xyXG4gICAgc2x1ZyxcclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNldFNlY2Npb25lcyxcclxuICAgIG9iamV0b3MsXHJcbiAgICBzZXRPYmpldG9zLFxyXG4gICAgc2VjY2lvbkFjdGl2YUlkLFxyXG4gICAgc2V0U2VjY2lvbkFjdGl2YUlkLFxyXG5cclxuICAgIGNyZWFyU2VjY2lvbixcclxuICAgIG5vcm1hbGl6YXJBbHRvTW9kbyxcclxuICAgIGxpbXBpYXJPYmpldG9VbmRlZmluZWQsXHJcblxyXG4gICAgQUxUVVJBX1JFRkVSRU5DSUFfUEFOVEFMTEEsXHJcblxyXG4gICAgc3RhZ2VSZWYsXHJcbiAgICBzZXRHbG9iYWxDdXJzb3IsXHJcbiAgICBjbGVhckdsb2JhbEN1cnNvcixcclxuICB9KTtcclxuICBjb25zdCBudWV2b1RleHRvUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIHVzZUVkaXRvckV2ZW50cyh7XHJcbiAgICBjZWxkYUdhbGVyaWFBY3RpdmEsXHJcbiAgICBzZXRDZWxkYUdhbGVyaWFBY3RpdmEsXHJcbiAgICBzZXRPYmpldG9zLFxyXG5cclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNlY2Npb25BY3RpdmFJZCxcclxuXHJcbiAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zLFxyXG5cclxuICAgIG5vcm1hbGl6YXJBbHRvTW9kbyxcclxuICAgIEFMVFVSQV9QQU5UQUxMQV9FRElUT1IsXHJcblxyXG4gICAgbnVldm9UZXh0b1JlZixcclxuICB9KTtcclxuXHJcbiAgY29uc3Qgc2VjY2lvbmVzT3JkZW5hZGFzID0gdXNlTWVtbyhcclxuICAgICgpID0+IFsuLi5zZWNjaW9uZXNdLnNvcnQoKGEsIGIpID0+IGEub3JkZW4gLSBiLm9yZGVuKSxcclxuICAgIFtzZWNjaW9uZXNdXHJcbiAgKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldEJhY2tncm91bmRMb2FkQnlTZWN0aW9uKHt9KTtcclxuICAgIHN0YXJ0dXBTdGF0dXNGaW5hbGl6ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gIH0sIFtzbHVnXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUJhY2tncm91bmRJbWFnZVN0YXR1c0NoYW5nZSA9IHVzZUNhbGxiYWNrKChwYXlsb2FkKSA9PiB7XHJcbiAgICBjb25zdCBzZWN0aW9uSWQgPSBwYXlsb2FkPy5zZWN0aW9uSWQ7XHJcbiAgICBpZiAoIXNlY3Rpb25JZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGhhc0JhY2tncm91bmRJbWFnZSA9IHBheWxvYWQ/Lmhhc0JhY2tncm91bmRJbWFnZSA9PT0gdHJ1ZTtcclxuICAgIGNvbnN0IGltYWdlVXJsID0gdHlwZW9mIHBheWxvYWQ/LmltYWdlVXJsID09PSBcInN0cmluZ1wiID8gcGF5bG9hZC5pbWFnZVVybCA6IFwiXCI7XHJcbiAgICBjb25zdCBpbmNvbWluZ1N0YXR1cyA9IHR5cGVvZiBwYXlsb2FkPy5zdGF0dXMgPT09IFwic3RyaW5nXCIgPyBwYXlsb2FkLnN0YXR1cyA6IFwibG9hZGluZ1wiO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gaGFzQmFja2dyb3VuZEltYWdlXHJcbiAgICAgID8gKGluY29taW5nU3RhdHVzID09PSBcImxvYWRlZFwiIHx8IGluY29taW5nU3RhdHVzID09PSBcImZhaWxlZFwiXHJcbiAgICAgICAgPyBpbmNvbWluZ1N0YXR1c1xyXG4gICAgICAgIDogXCJsb2FkaW5nXCIpXHJcbiAgICAgIDogXCJub25lXCI7XHJcblxyXG4gICAgc2V0QmFja2dyb3VuZExvYWRCeVNlY3Rpb24oKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudCA9IHByZXZbc2VjdGlvbklkXTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGN1cnJlbnQgJiZcclxuICAgICAgICBjdXJyZW50LnN0YXR1cyA9PT0gc3RhdHVzICYmXHJcbiAgICAgICAgY3VycmVudC5oYXNCYWNrZ3JvdW5kSW1hZ2UgPT09IGhhc0JhY2tncm91bmRJbWFnZSAmJlxyXG4gICAgICAgIGN1cnJlbnQuaW1hZ2VVcmwgPT09IGltYWdlVXJsXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnByZXYsXHJcbiAgICAgICAgW3NlY3Rpb25JZF06IHtcclxuICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgIGhhc0JhY2tncm91bmRJbWFnZSxcclxuICAgICAgICAgIGltYWdlVXJsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGJhY2tncm91bmRMb2FkU3VtbWFyeSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb25zV2l0aEJhY2tncm91bmRJbWFnZSA9IChzZWNjaW9uZXMgfHwgW10pLmZpbHRlcigoc2VjY2lvbikgPT4gKFxyXG4gICAgICBzZWNjaW9uPy5mb25kb1RpcG8gPT09IFwiaW1hZ2VuXCIgJiZcclxuICAgICAgdHlwZW9mIHNlY2Npb24/LmZvbmRvSW1hZ2VuID09PSBcInN0cmluZ1wiICYmXHJcbiAgICAgIHNlY2Npb24uZm9uZG9JbWFnZW4udHJpbSgpLmxlbmd0aCA+IDBcclxuICAgICkpO1xyXG5cclxuICAgIGxldCBsb2FkZWQgPSAwO1xyXG4gICAgbGV0IGZhaWxlZCA9IDA7XHJcbiAgICBsZXQgcGVuZGluZyA9IDA7XHJcblxyXG4gICAgc2VjdGlvbnNXaXRoQmFja2dyb3VuZEltYWdlLmZvckVhY2goKHNlY2Npb24pID0+IHtcclxuICAgICAgY29uc3Qgc3RhdHVzID0gYmFja2dyb3VuZExvYWRCeVNlY3Rpb25bc2VjY2lvbi5pZF0/LnN0YXR1cztcclxuXHJcbiAgICAgIGlmICghc3RhdHVzIHx8IHN0YXR1cyA9PT0gXCJsb2FkaW5nXCIpIHtcclxuICAgICAgICBwZW5kaW5nICs9IDE7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3RhdHVzID09PSBcImxvYWRlZFwiKSB7XHJcbiAgICAgICAgbG9hZGVkICs9IDE7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3RhdHVzID09PSBcImZhaWxlZFwiKSB7XHJcbiAgICAgICAgZmFpbGVkICs9IDE7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwZW5kaW5nICs9IDE7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3RhbDogc2VjdGlvbnNXaXRoQmFja2dyb3VuZEltYWdlLmxlbmd0aCxcclxuICAgICAgbG9hZGVkLFxyXG4gICAgICBmYWlsZWQsXHJcbiAgICAgIHBlbmRpbmcsXHJcbiAgICB9O1xyXG4gIH0sIFtiYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbiwgc2VjY2lvbmVzXSk7XHJcblxyXG4gIGNvbnN0IGZpcnN0U2VjdGlvbkJhY2tncm91bmRSZWFkeSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGZpcnN0U2VjdGlvbiA9IHNlY2Npb25lc09yZGVuYWRhc1swXTtcbiAgICBpZiAoIWZpcnN0U2VjdGlvbikgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBoYXNCYWNrZ3JvdW5kSW1hZ2UgPVxuICAgICAgZmlyc3RTZWN0aW9uPy5mb25kb1RpcG8gPT09IFwiaW1hZ2VuXCIgJiZcbiAgICAgIHR5cGVvZiBmaXJzdFNlY3Rpb24/LmZvbmRvSW1hZ2VuID09PSBcInN0cmluZ1wiICYmXG4gICAgICBmaXJzdFNlY3Rpb24uZm9uZG9JbWFnZW4udHJpbSgpLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAoIWhhc0JhY2tncm91bmRJbWFnZSkgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBzdGF0dXMgPSBiYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbltmaXJzdFNlY3Rpb24uaWRdPy5zdGF0dXM7XG4gICAgcmV0dXJuIHN0YXR1cyA9PT0gXCJsb2FkZWRcIiB8fCBzdGF0dXMgPT09IFwiZmFpbGVkXCI7XG4gIH0sIFtiYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbiwgc2VjY2lvbmVzT3JkZW5hZGFzXSk7XG5cbiAgY29uc3Qgc3RhcnR1cFJlYWR5ID0gY2FyZ2FkbyA9PT0gdHJ1ZSAmJiBmaXJzdFNlY3Rpb25CYWNrZ3JvdW5kUmVhZHk7XG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBvblN0YXJ0dXBTdGF0dXNDaGFuZ2UgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgaWYgKHN0YXJ0dXBTdGF0dXNGaW5hbGl6ZWRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIHNsdWcsXHJcbiAgICAgIGRyYWZ0TG9hZGVkOiBjYXJnYWRvID09PSB0cnVlLFxyXG4gICAgICB0b3RhbEJhY2tncm91bmRzOiBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkudG90YWwsXHJcbiAgICAgIGxvYWRlZEJhY2tncm91bmRzOiBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkubG9hZGVkLFxyXG4gICAgICBmYWlsZWRCYWNrZ3JvdW5kczogYmFja2dyb3VuZExvYWRTdW1tYXJ5LmZhaWxlZCxcclxuICAgICAgcGVuZGluZ0JhY2tncm91bmRzOiBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkucGVuZGluZyxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKCFzdGFydHVwUmVhZHkpIHtcclxuICAgICAgb25TdGFydHVwU3RhdHVzQ2hhbmdlKHtcclxuICAgICAgICAuLi5wYXlsb2FkLFxyXG4gICAgICAgIHN0YXR1czogXCJydW5uaW5nXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xyXG4gICAgbGV0IHJhZkEgPSAwO1xyXG4gICAgbGV0IHJhZkIgPSAwO1xyXG5cclxuICAgIHJhZkEgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICByYWZCID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICBpZiAoY2FuY2VsbGVkKSByZXR1cm47XHJcbiAgICAgICAgc3RhcnR1cFN0YXR1c0ZpbmFsaXplZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICBvblN0YXJ0dXBTdGF0dXNDaGFuZ2Uoe1xyXG4gICAgICAgICAgLi4ucGF5bG9hZCxcclxuICAgICAgICAgIHN0YXR1czogXCJyZWFkeVwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbGxlZCA9IHRydWU7XHJcbiAgICAgIGlmIChyYWZBKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZBKTtcclxuICAgICAgaWYgKHJhZkIpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZkIpO1xyXG4gICAgfTtcclxuICB9LCBbXHJcbiAgICBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkuZmFpbGVkLFxuICAgIGJhY2tncm91bmRMb2FkU3VtbWFyeS5sb2FkZWQsXG4gICAgYmFja2dyb3VuZExvYWRTdW1tYXJ5LnBlbmRpbmcsXG4gICAgYmFja2dyb3VuZExvYWRTdW1tYXJ5LnRvdGFsLFxuICAgIGZpcnN0U2VjdGlvbkJhY2tncm91bmRSZWFkeSxcbiAgICBjYXJnYWRvLFxuICAgIG9uU3RhcnR1cFN0YXR1c0NoYW5nZSxcbiAgICBzbHVnLFxuICAgIHN0YXJ0dXBSZWFkeSxcclxuICBdKTtcclxuXHJcbiAgY29uc3Qgc2VjY2lvblBlbmRpZW50ZUVsaW1pbmFyID0gdXNlTWVtbyhcclxuICAgICgpID0+IHNlY2Npb25lcy5maW5kKChzZWNjaW9uKSA9PiBzZWNjaW9uLmlkID09PSBkZWxldGVTZWN0aW9uTW9kYWwuc2VjdGlvbklkKSB8fCBudWxsLFxyXG4gICAgW3NlY2Npb25lcywgZGVsZXRlU2VjdGlvbk1vZGFsLnNlY3Rpb25JZF1cclxuICApO1xyXG5cclxuICBjb25zdCBjYW50aWRhZEVsZW1lbnRvc1NlY2Npb25QZW5kaWVudGUgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICghc2VjY2lvblBlbmRpZW50ZUVsaW1pbmFyPy5pZCkgcmV0dXJuIDA7XHJcbiAgICByZXR1cm4gb2JqZXRvcy5maWx0ZXIoKG9iaikgPT4gb2JqLnNlY2Npb25JZCA9PT0gc2VjY2lvblBlbmRpZW50ZUVsaW1pbmFyLmlkKS5sZW5ndGg7XHJcbiAgfSwgW29iamV0b3MsIHNlY2Npb25QZW5kaWVudGVFbGltaW5hcl0pO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICBlZGl0aW5nLCAgICAgIC8vIHsgaWQsIHZhbHVlIH1cclxuICAgIHN0YXJ0RWRpdCwgICAgLy8gKGlkLCBpbml0aWFsKVxyXG4gICAgdXBkYXRlRWRpdCwgICAvLyAobnVldm9WYWxvcilcclxuICAgIGZpbmlzaEVkaXQgICAgLy8gKCkgPT4gdm9pZFxyXG4gIH0gPSB1c2VJbmxpbmVFZGl0b3IoKTtcclxuXHJcbiAgY29uc3Qgb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZSA9IHVzZUNhbGxiYWNrKChub2RlKSA9PiB7XHJcbiAgICBpZiAoIW5vZGUpIHJldHVybiBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2xhc3NOYW1lID0gbm9kZS5nZXRDbGFzc05hbWU/LigpIHx8IG51bGw7XHJcbiAgICAgIGNvbnN0IHggPSB0eXBlb2Ygbm9kZS54ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLngoKSA6IG51bGw7XHJcbiAgICAgIGNvbnN0IHkgPSB0eXBlb2Ygbm9kZS55ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnkoKSA6IG51bGw7XHJcbiAgICAgIGNvbnN0IHRleHRXaWR0aCA9XHJcbiAgICAgICAgY2xhc3NOYW1lID09PSBcIlRleHRcIiAmJiB0eXBlb2Ygbm9kZS5nZXRUZXh0V2lkdGggPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgPyBNYXRoLmNlaWwobm9kZS5nZXRUZXh0V2lkdGgoKSB8fCAwKVxyXG4gICAgICAgICAgOiBudWxsO1xyXG4gICAgICBjb25zdCByZWN0ID1cclxuICAgICAgICB0eXBlb2Ygbm9kZS5nZXRDbGllbnRSZWN0ID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgID8gbm9kZS5nZXRDbGllbnRSZWN0KHtcclxuICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcclxuICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY2xhc3NOYW1lLFxyXG4gICAgICAgIHgsXHJcbiAgICAgICAgeSxcclxuICAgICAgICB0ZXh0V2lkdGgsXHJcbiAgICAgICAgcmVjdDogcmVjdFxyXG4gICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgeDogcmVjdC54LFxyXG4gICAgICAgICAgICAgIHk6IHJlY3QueSxcclxuICAgICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICA6IG51bGwsXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogU3RyaW5nKGVycm9yKSB9O1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgY2VycmFyTWVudXNGbG90YW50ZXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRNb3N0cmFyUGFuZWxaKGZhbHNlKTtcclxuICAgIHNldE1vc3RyYXJTdWJtZW51Q2FwYShmYWxzZSk7XHJcbiAgICBzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGUoZmFsc2UpO1xyXG4gICAgc2V0TW9zdHJhclNlbGVjdG9yVGFtYW5vKGZhbHNlKTtcclxuICAgIHNldEhvdmVySWQobnVsbCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyA/Pz9FbGVtZW50byBhY3R1YWxtZW50ZSBzZWxlY2Npb25hZG8gKG8gbnVsbClcclxuICBjb25zdCBvYmpldG9TZWxlY2Npb25hZG8gPVxyXG4gICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPT09IDFcclxuICAgICAgPyBvYmpldG9zLmZpbmQobyA9PiBvLmlkID09PSBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdKVxyXG4gICAgICA6IG51bGw7XHJcblxyXG4gIGNvbnN0IFttb3N0cmFyU2VsZWN0b3JUYW1hbm8sIHNldE1vc3RyYXJTZWxlY3RvclRhbWFub10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgdGFtYW5pb3NEaXNwb25pYmxlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6ICgyNjAgLSA2KSAvIDIgKyAxIH0sIChfLCBpKSA9PiA2ICsgaSAqIDIpO1xyXG4gIGNvbnN0IGJvdG9uT3BjaW9uZXNSZWYgPSB1c2VSZWYobnVsbCk7XHJcblxyXG4gIGNvbnN0IF9yZWZFdmVudFF1ZXVlZCA9IHVzZVJlZihuZXcgU2V0KCkpO1xyXG5cclxuICBjb25zdCByZWdpc3RlclJlZiA9IHVzZUNhbGxiYWNrKChpZCwgbm9kZSkgPT4ge1xyXG4gICAgaWYgKCFub2RlKSB7XHJcbiAgICAgIGRlbGV0ZSBlbGVtZW50UmVmcy5jdXJyZW50W2lkXTtcclxuICAgICAgaW1wZXJhdGl2ZU9iamVjdHMucmVnaXN0ZXJPYmplY3QoaWQsIG51bGwpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbWVudFJlZnMuY3VycmVudFtpZF0gPSBub2RlO1xyXG4gICAgaW1wZXJhdGl2ZU9iamVjdHMucmVnaXN0ZXJPYmplY3QoaWQsIG5vZGUpO1xyXG5cclxuICAgIC8vID8gRGVib3VuY2UgcG9yIGZyYW1lIHBhcmEgZXZpdGFyIHLDoWZhZ2FzIGRlIHJlLWF0dGFjaCBkZWwgVHJhbnNmb3JtZXJcclxuICAgIGlmIChfcmVmRXZlbnRRdWV1ZWQuY3VycmVudC5oYXMoaWQpKSByZXR1cm47XHJcbiAgICBfcmVmRXZlbnRRdWV1ZWQuY3VycmVudC5hZGQoaWQpO1xyXG5cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIF9yZWZFdmVudFF1ZXVlZC5jdXJyZW50LmRlbGV0ZShpZCk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJlbGVtZW50LXJlZi1yZWdpc3RyYWRvXCIsIHsgZGV0YWlsOiB7IGlkIH0gfSlcclxuICAgICAgICApO1xyXG4gICAgICB9IGNhdGNoIHsgfVxyXG4gICAgfSk7XHJcbiAgfSwgW2ltcGVyYXRpdmVPYmplY3RzXSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICBjb25zdCBsb2FkZWRGb250RmFtaWxpZXNSZWYgPSB1c2VSZWYobmV3IFNldCgpKTtcclxuXHJcblxyXG4gIGNvbnN0IHtcclxuICAgIGlzTW9iaWxlLFxyXG4gICAgaXNNb2JpbGVQb3J0cmFpdCxcclxuICAgIHNjYWxlLFxyXG4gICAgYW5jaG9Db250ZW5lZG9yLFxyXG4gICAgZXNjYWxhQWN0aXZhLFxyXG4gICAgZXNjYWxhVmlzdWFsLFxyXG4gICAgd3JhcHBlckJhc2VXaWR0aCxcclxuICAgIGVzY2FsYUZpdE1vYmlsZVBvcnRyYWl0LFxyXG4gIH0gPSB1c2VDYW52YXNTY2FsZUxheW91dCh7XHJcbiAgICBjb250ZW5lZG9yUmVmLFxyXG4gICAgem9vbSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgbW9iaWxlVHlwb2dyYXBoeVRvb2xiYXJWaXNpYmxlID0gaXNNb2JpbGUgJiYgQm9vbGVhbihcclxuICAgIG9iamV0b1NlbGVjY2lvbmFkbyAmJlxyXG4gICAgKFxyXG4gICAgICBvYmpldG9TZWxlY2Npb25hZG8udGlwbyA9PT0gXCJ0ZXh0b1wiIHx8XHJcbiAgICAgIChcclxuICAgICAgICBvYmpldG9TZWxlY2Npb25hZG8udGlwbyA9PT0gXCJmb3JtYVwiICYmXHJcbiAgICAgICAgb2JqZXRvU2VsZWNjaW9uYWRvLmZpZ3VyYSA9PT0gXCJyZWN0XCIgJiZcclxuICAgICAgICB0eXBlb2Ygb2JqZXRvU2VsZWNjaW9uYWRvLnRleHRvID09PSBcInN0cmluZ1wiXHJcbiAgICAgIClcclxuICAgIClcclxuICApO1xyXG5cclxuICBjb25zdCBtb2JpbGVUZXh0VG9vbGJhclZpc2libGUgPVxyXG4gICAgbW9iaWxlVHlwb2dyYXBoeVRvb2xiYXJWaXNpYmxlIHx8XHJcbiAgICAoaXNNb2JpbGUgJiYgb2JqZXRvU2VsZWNjaW9uYWRvPy50aXBvID09PSBcImljb25vXCIpO1xyXG5cclxuICBjb25zdCBtb2JpbGVGb250U3RyaXBWaXNpYmxlID1cclxuICAgIG1vYmlsZVR5cG9ncmFwaHlUb29sYmFyVmlzaWJsZSAmJiBtb3N0cmFyU2VsZWN0b3JGdWVudGU7XHJcbiAgY29uc3QgbW9iaWxlU2l6ZVN0cmlwVmlzaWJsZSA9XHJcbiAgICBtb2JpbGVUeXBvZ3JhcGh5VG9vbGJhclZpc2libGUgJiYgbW9zdHJhclNlbGVjdG9yVGFtYW5vO1xyXG4gIGNvbnN0IG1vYmlsZUJvdHRvbVR5cG9ncmFwaHlTdHJpcFZpc2libGUgPVxyXG4gICAgbW9iaWxlRm9udFN0cmlwVmlzaWJsZSB8fCBtb2JpbGVTaXplU3RyaXBWaXNpYmxlO1xyXG4gIGNvbnN0IG9wdGlvbkJ1dHRvblNpemUgPSBpc01vYmlsZSA/IDM4IDogMjQ7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBkZXNpcmVkUmF0aW8gPSBpc01vYmlsZSA/IDEgOiByZXNvbHZlS29udmFQaXhlbFJhdGlvKCk7XHJcbiAgICBpZiAoS29udmEucGl4ZWxSYXRpbyAhPT0gZGVzaXJlZFJhdGlvKSB7XHJcbiAgICAgIEtvbnZhLnBpeGVsUmF0aW8gPSBkZXNpcmVkUmF0aW87XHJcbiAgICAgIHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKT8uYmF0Y2hEcmF3Py4oKTtcclxuICAgIH1cclxuICB9LCBbaXNNb2JpbGVdKTtcclxuXHJcbiAgY29uc3QgaW5saW5lRGVidWdBQiA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZUlubGluZURlYnVnQUIobnVsbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplSW5saW5lRGVidWdBQih3aW5kb3cuX19JTkxJTkVfQUIpO1xyXG4gIH0sIFtlZGl0aW5nLmlkLCBlZGl0aW5nLnZhbHVlXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzTW9iaWxlICYmIG1vYmlsZVNlY3Rpb25BY3Rpb25zT3Blbikge1xyXG4gICAgICBzZXRNb2JpbGVTZWN0aW9uQWN0aW9uc09wZW4oZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtpc01vYmlsZSwgbW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzTW9iaWxlKSByZXR1cm47XHJcbiAgICBzZXRNb2JpbGVTZWN0aW9uQWN0aW9uc09wZW4oZmFsc2UpO1xyXG4gIH0sIFtzZWNjaW9uQWN0aXZhSWQsIGlzTW9iaWxlXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUlubGluZU92ZXJsYXlNb3VudENoYW5nZSA9IHVzZUNhbGxiYWNrKChpZCwgbW91bnRlZCkgPT4ge1xyXG4gICAgY29uc3Qgc2FmZUlkID0gaWQgfHwgbnVsbDtcclxuICAgIGlmICghc2FmZUlkKSByZXR1cm47XHJcblxyXG4gICAgc2V0SW5saW5lT3ZlcmxheU1vdW50ZWRJZCgocHJldmlvdXMpID0+IHtcclxuICAgICAgY29uc3QgbmV4dCA9IG1vdW50ZWQgPyBzYWZlSWQgOiAocHJldmlvdXMgPT09IHNhZmVJZCA/IG51bGwgOiBwcmV2aW91cyk7XHJcbiAgICAgIGlubGluZURlYnVnTG9nKFwib3ZlcmxheS1tb3VudGVkLXN0YXRlXCIsIHtcclxuICAgICAgICBpZDogc2FmZUlkLFxyXG4gICAgICAgIG1vdW50ZWQsXHJcbiAgICAgICAgcHJldmlvdXNPdmVybGF5TW91bnRlZElkOiBwcmV2aW91cyxcclxuICAgICAgICBuZXh0T3ZlcmxheU1vdW50ZWRJZDogbmV4dCxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBjYXB0dXJlSW5saW5lU25hcHNob3QgPSB1c2VDYWxsYmFjaygoZXZlbnROYW1lLCBleHRyYSA9IHt9KSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xyXG4gICAgaWYgKCFpc0lubGluZURlYnVnRW5hYmxlZCgpKSByZXR1cm47XHJcbiAgICBpZiAod2luZG93Ll9fSU5MSU5FX1NOQVBTSE9UICE9PSB0cnVlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgc25hcHNob3RBbGxvd2xpc3QgPSBuZXcgU2V0KFtcclxuICAgICAgXCJlbnRlcjogcHJlLXN0YXJ0XCIsXHJcbiAgICAgIFwiZW50ZXI6IGFmdGVyLXN0YXJ0LXN5bmNcIixcclxuICAgICAgXCJmaW5pc2g6IGJsdXJcIixcclxuICAgICAgXCJmaW5pc2g6IGFmdGVyLWZpbmlzaEVkaXRcIixcclxuICAgICAgXCJleGl0OiBpbW1lZGlhdGVcIixcclxuICAgIF0pO1xyXG4gICAgaWYgKCFzbmFwc2hvdEFsbG93bGlzdC5oYXMoZXZlbnROYW1lKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGZyYW1lTWV0YSA9IG5leHRJbmxpbmVGcmFtZU1ldGEoKTtcclxuICAgIGNvbnN0IHNuYXBzaG90SWQgPVxyXG4gICAgICBleHRyYS5pZCB8fFxyXG4gICAgICBlZGl0aW5nLmlkIHx8XHJcbiAgICAgIGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQ/LmlkIHx8XHJcbiAgICAgIHByZXZFZGl0aW5nSWRSZWYuY3VycmVudCB8fFxyXG4gICAgICBudWxsO1xyXG5cclxuICAgIGNvbnN0IG5vZGUgPSBzbmFwc2hvdElkID8gZWxlbWVudFJlZnMuY3VycmVudFtzbmFwc2hvdElkXSA6IG51bGw7XHJcbiAgICBjb25zdCBub2RlTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobm9kZSk7XHJcbiAgICBjb25zdCBvYmpNZXRyaWNzID0gc25hcHNob3RJZFxyXG4gICAgICA/ICgoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBvYmogPSBvYmpldG9zLmZpbmQoKG8pID0+IG8uaWQgPT09IHNuYXBzaG90SWQpO1xyXG4gICAgICAgICAgaWYgKCFvYmopIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IG9iai5pZCxcclxuICAgICAgICAgICAgdGlwbzogb2JqLnRpcG8gfHwgbnVsbCxcclxuICAgICAgICAgICAgeDogTnVtYmVyLmlzRmluaXRlKG9iai54KSA/IG9iai54IDogbnVsbCxcclxuICAgICAgICAgICAgeTogTnVtYmVyLmlzRmluaXRlKG9iai55KSA/IG9iai55IDogbnVsbCxcclxuICAgICAgICAgICAgdGV4dG9MZW5ndGg6IFN0cmluZyhvYmoudGV4dG8gPz8gXCJcIikubGVuZ3RoLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogTnVtYmVyLmlzRmluaXRlKG9iai5mb250U2l6ZSkgPyBvYmouZm9udFNpemUgOiBudWxsLFxyXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OlxyXG4gICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShvYmoubGluZUhlaWdodCkgJiYgb2JqLmxpbmVIZWlnaHQgPiAwXHJcbiAgICAgICAgICAgICAgICA/IG9iai5saW5lSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKClcclxuICAgICAgOiBudWxsO1xyXG5cclxuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQgfHwgbnVsbDtcclxuICAgIGxldCBzdGFnZVJlY3QgPSBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgciA9IHN0YWdlPy5jb250YWluZXI/LigpPy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xyXG4gICAgICBpZiAocikge1xyXG4gICAgICAgIHN0YWdlUmVjdCA9IHtcclxuICAgICAgICAgIHg6IHIueCxcclxuICAgICAgICAgIHk6IHIueSxcclxuICAgICAgICAgIHdpZHRoOiByLndpZHRoLFxyXG4gICAgICAgICAgaGVpZ2h0OiByLmhlaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgc3RhZ2VSZWN0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaW5saW5lUmVjdCA9IG51bGw7XHJcbiAgICBsZXQgaW5saW5lU3R5bGUgPSBudWxsO1xyXG4gICAgbGV0IGlubGluZUNvbnRlbnRSZWN0ID0gbnVsbDtcclxuICAgIGxldCBpbmxpbmVDb250ZW50TWV0cmljcyA9IG51bGw7XHJcbiAgICBpZiAoc25hcHNob3RJZCkge1xyXG4gICAgICBjb25zdCBzYWZlSWQgPSBTdHJpbmcoc25hcHNob3RJZCkucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xyXG4gICAgICBjb25zdCBvdmVybGF5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pbmxpbmUtZWRpdG9yLWlkPVwiJHtzYWZlSWR9XCJdYCk7XHJcbiAgICAgIGlmIChvdmVybGF5RWwpIHtcclxuICAgICAgICBjb25zdCByID0gb3ZlcmxheUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlubGluZVJlY3QgPSB7XHJcbiAgICAgICAgICB4OiByLngsXHJcbiAgICAgICAgICB5OiByLnksXHJcbiAgICAgICAgICB3aWR0aDogci53aWR0aCxcclxuICAgICAgICAgIGhlaWdodDogci5oZWlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbmxpbmVTdHlsZSA9IHtcclxuICAgICAgICAgIGxlZnQ6IG92ZXJsYXlFbC5zdHlsZS5sZWZ0LFxyXG4gICAgICAgICAgdG9wOiBvdmVybGF5RWwuc3R5bGUudG9wLFxyXG4gICAgICAgICAgbWluV2lkdGg6IG92ZXJsYXlFbC5zdHlsZS5taW5XaWR0aCxcclxuICAgICAgICAgIG1heFdpZHRoOiBvdmVybGF5RWwuc3R5bGUubWF4V2lkdGgsXHJcbiAgICAgICAgICB3aWR0aDogb3ZlcmxheUVsLnN0eWxlLndpZHRoLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IG92ZXJsYXlFbC5xdWVyeVNlbGVjdG9yKCdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXScpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRSZWN0ID0gY29udGVudEVsPy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xyXG4gICAgICAgIGlmIChjb250ZW50UmVjdCkge1xyXG4gICAgICAgICAgaW5saW5lQ29udGVudFJlY3QgPSB7XHJcbiAgICAgICAgICAgIHg6IGNvbnRlbnRSZWN0LngsXHJcbiAgICAgICAgICAgIHk6IGNvbnRlbnRSZWN0LnksXHJcbiAgICAgICAgICAgIHdpZHRoOiBjb250ZW50UmVjdC53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBjb250ZW50UmVjdC5oZWlnaHQsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmxpbmVDb250ZW50TWV0cmljcyA9IGNvbnRlbnRFbFxyXG4gICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgc2Nyb2xsV2lkdGg6IGNvbnRlbnRFbC5zY3JvbGxXaWR0aCxcclxuICAgICAgICAgICAgICBjbGllbnRXaWR0aDogY29udGVudEVsLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgIGlzRm9jdXNlZDogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gY29udGVudEVsLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgdHJhbnNmb3JtZXJSZWN0ID0gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gc3RhZ2U/LmZpbmRPbmU/LihcIlRyYW5zZm9ybWVyXCIpO1xyXG4gICAgICBpZiAodHJhbnNmb3JtZXIpIHtcclxuICAgICAgICBjb25zdCB0clJlY3QgPSB0cmFuc2Zvcm1lci5nZXRDbGllbnRSZWN0KHtcclxuICAgICAgICAgIHNraXBUcmFuc2Zvcm06IGZhbHNlLFxyXG4gICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcclxuICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0cmFuc2Zvcm1lci5ub2Rlcz8uKCkgfHwgW107XHJcbiAgICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gdHJSZWN0XHJcbiAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICB4OiB0clJlY3QueCxcclxuICAgICAgICAgICAgICB5OiB0clJlY3QueSxcclxuICAgICAgICAgICAgICB3aWR0aDogdHJSZWN0LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogdHJSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgICBub2Rlc0NvdW50OiBub2Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgaW5jbHVkZXNTbmFwc2hvdE5vZGU6ICEhKG5vZGUgJiYgbm9kZXMuaW5jbHVkZXMobm9kZSkpLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlubGluZURlYnVnTG9nKGBzbmFwc2hvdC0ke2V2ZW50TmFtZX1gLCB7XHJcbiAgICAgIC4uLmZyYW1lTWV0YSxcclxuICAgICAgLi4uZXh0cmEsXHJcbiAgICAgIGlkOiBzbmFwc2hvdElkLFxyXG4gICAgICBldmVudE5hbWUsXHJcbiAgICAgIGVkaXRpbmdJZDogZWRpdGluZy5pZCA/PyBudWxsLFxyXG4gICAgICBjdXJyZW50RWRpdGluZ0lkOiB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbCxcclxuICAgICAgb3ZlcmxheU1vdW50ZWRJZDogaW5saW5lT3ZlcmxheU1vdW50ZWRJZCA/PyBudWxsLFxyXG4gICAgICBpbmxpbmVBQjogaW5saW5lRGVidWdBQixcclxuICAgICAgZXNjYWxhVmlzdWFsLFxyXG4gICAgICBzdGFnZVJlY3QsXHJcbiAgICAgIG5vZGVNZXRyaWNzLFxyXG4gICAgICBvYmpNZXRyaWNzLFxyXG4gICAgICB0cmFuc2Zvcm1lclJlY3QsXHJcbiAgICAgIGlubGluZVJlY3QsXHJcbiAgICAgIGlubGluZVN0eWxlLFxyXG4gICAgICBpbmxpbmVDb250ZW50UmVjdCxcclxuICAgICAgaW5saW5lQ29udGVudE1ldHJpY3MsXHJcbiAgICAgIHNjcm9sbFg6IHdpbmRvdy5zY3JvbGxYLFxyXG4gICAgICBzY3JvbGxZOiB3aW5kb3cuc2Nyb2xsWSxcclxuICAgICAgaW5uZXJXaWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgIGlubmVySGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICB9KTtcclxuICB9LCBbZWRpdGluZy5pZCwgZXNjYWxhVmlzdWFsLCBpbmxpbmVEZWJ1Z0FCLCBpbmxpbmVPdmVybGF5TW91bnRlZElkLCBvYmpldG9zLCBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50SWQgPSBlZGl0aW5nLmlkIHx8IG51bGw7XHJcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuICAgIGNvbnN0IHByZXYgPSBpbmxpbmVSZW5kZXJWYWx1ZVJlZi5jdXJyZW50O1xyXG5cclxuICAgIGlmIChjdXJyZW50SWQgJiYgcHJldi5pZCA9PT0gY3VycmVudElkICYmIHByZXYudmFsdWUgIT09IGN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICBjb25zdCBwcmV2U3RhdHMgPSBnZXRJbmxpbmVMaW5lU3RhdHMocHJldi52YWx1ZSk7XHJcbiAgICAgIGNvbnN0IG5leHRTdGF0cyA9IGdldElubGluZUxpbmVTdGF0cyhjdXJyZW50VmFsdWUpO1xyXG4gICAgICBjb25zdCBsaW5lYnJlYWtDaGFuZ2VkID1cclxuICAgICAgICBwcmV2U3RhdHMubGluZUNvdW50ICE9PSBuZXh0U3RhdHMubGluZUNvdW50IHx8XHJcbiAgICAgICAgcHJldlN0YXRzLnRyYWlsaW5nTmV3bGluZXMgIT09IG5leHRTdGF0cy50cmFpbGluZ05ld2xpbmVzO1xyXG5cclxuICAgICAgaWYgKGxpbmVicmVha0NoYW5nZWQpIHtcclxuICAgICAgICBjb25zdCBmcmFtZU1ldGEgPSBuZXh0SW5saW5lRnJhbWVNZXRhKCk7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbY3VycmVudElkXSB8fCBudWxsO1xyXG4gICAgICAgIGNvbnN0IG5vZGVNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShub2RlKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCkgfHwgc3RhZ2VSZWYuY3VycmVudCB8fCBudWxsO1xyXG4gICAgICAgIGxldCB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IHN0YWdlPy5maW5kT25lPy4oXCJUcmFuc2Zvcm1lclwiKTtcclxuICAgICAgICAgIGlmICh0cmFuc2Zvcm1lcikge1xyXG4gICAgICAgICAgICBjb25zdCB0clJlY3QgPSB0cmFuc2Zvcm1lci5nZXRDbGllbnRSZWN0KHtcclxuICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcclxuICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IHRyYW5zZm9ybWVyLm5vZGVzPy4oKSB8fCBbXTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gdHJSZWN0XHJcbiAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgIHg6IHRyUmVjdC54LFxyXG4gICAgICAgICAgICAgICAgICB5OiB0clJlY3QueSxcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6IHRyUmVjdC53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0clJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICBub2Rlc0NvdW50OiBub2Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgIGluY2x1ZGVzRWRpdGluZ05vZGU6ICEhKG5vZGUgJiYgbm9kZXMuaW5jbHVkZXMobm9kZSkpLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIHRyYW5zZm9ybWVyUmVjdCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb3ZlcmxheVJlY3QgPSBudWxsO1xyXG4gICAgICAgIGxldCBjb250ZW50UmVjdCA9IG51bGw7XHJcbiAgICAgICAgY29uc3Qgc2FmZUlkID0gU3RyaW5nKGN1cnJlbnRJZCkucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlubGluZS1lZGl0b3ItaWQ9XCIke3NhZmVJZH1cIl1gKTtcclxuICAgICAgICBpZiAob3ZlcmxheUVsKSB7XHJcbiAgICAgICAgICBjb25zdCByID0gb3ZlcmxheUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgb3ZlcmxheVJlY3QgPSB7XHJcbiAgICAgICAgICAgIHg6IHIueCxcclxuICAgICAgICAgICAgeTogci55LFxyXG4gICAgICAgICAgICB3aWR0aDogci53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiByLmhlaWdodCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBjb25zdCBjb250ZW50RWwgPSBvdmVybGF5RWwucXVlcnlTZWxlY3RvcignW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nKTtcclxuICAgICAgICAgIGNvbnN0IGNyID0gY29udGVudEVsPy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xyXG4gICAgICAgICAgaWYgKGNyKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRSZWN0ID0ge1xyXG4gICAgICAgICAgICAgIHg6IGNyLngsXHJcbiAgICAgICAgICAgICAgeTogY3IueSxcclxuICAgICAgICAgICAgICB3aWR0aDogY3Iud2lkdGgsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiBjci5oZWlnaHQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImxpbmVicmVhay10cmFuc2Zvcm1lclwiLCB7XHJcbiAgICAgICAgICAuLi5mcmFtZU1ldGEsXHJcbiAgICAgICAgICBpZDogY3VycmVudElkLFxyXG4gICAgICAgICAgcHJldkxlbmd0aDogcHJldlN0YXRzLmxlbmd0aCxcclxuICAgICAgICAgIG5leHRMZW5ndGg6IG5leHRTdGF0cy5sZW5ndGgsXHJcbiAgICAgICAgICBwcmV2TGluZUNvdW50OiBwcmV2U3RhdHMubGluZUNvdW50LFxyXG4gICAgICAgICAgbmV4dExpbmVDb3VudDogbmV4dFN0YXRzLmxpbmVDb3VudCxcclxuICAgICAgICAgIHByZXZUcmFpbGluZ05ld2xpbmVzOiBwcmV2U3RhdHMudHJhaWxpbmdOZXdsaW5lcyxcclxuICAgICAgICAgIG5leHRUcmFpbGluZ05ld2xpbmVzOiBuZXh0U3RhdHMudHJhaWxpbmdOZXdsaW5lcyxcclxuICAgICAgICAgIG92ZXJsYXlNb3VudGVkSWQ6IGlubGluZU92ZXJsYXlNb3VudGVkSWQgPz8gbnVsbCxcclxuICAgICAgICAgIG92ZXJsYXlSZWN0LFxyXG4gICAgICAgICAgY29udGVudFJlY3QsXHJcbiAgICAgICAgICBub2RlTWV0cmljcyxcclxuICAgICAgICAgIHRyYW5zZm9ybWVyUmVjdCxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiaW5wdXQ6IGFmdGVyLXJlbmRlclwiLCB7XHJcbiAgICAgICAgaWQ6IGN1cnJlbnRJZCxcclxuICAgICAgICBwcmV2aW91c0xlbmd0aDogcHJldi52YWx1ZS5sZW5ndGgsXHJcbiAgICAgICAgdmFsdWVMZW5ndGg6IGN1cnJlbnRWYWx1ZS5sZW5ndGgsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlubGluZVJlbmRlclZhbHVlUmVmLmN1cnJlbnQgPSB7XHJcbiAgICAgIGlkOiBjdXJyZW50SWQsXHJcbiAgICAgIHZhbHVlOiBjdXJyZW50VmFsdWUsXHJcbiAgICB9O1xyXG4gIH0sIFtcclxuICAgIGVkaXRpbmcuaWQsXHJcbiAgICBlZGl0aW5nLnZhbHVlLFxyXG4gICAgY2FwdHVyZUlubGluZVNuYXBzaG90LFxyXG4gICAgaW5saW5lT3ZlcmxheU1vdW50ZWRJZCxcclxuICAgIG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUsXHJcbiAgXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xyXG4gICAgaWYgKHdpbmRvdy5fX0lOTElORV9ERUJVRyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHdpbmRvdy5fX0lOTElORV9ERUJVRyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB3aW5kb3cuX19JTkxJTkVfRlJBTUVfU0VRID0gMDtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRBQiA9IG5vcm1hbGl6ZUlubGluZURlYnVnQUIod2luZG93Ll9fSU5MSU5FX0FCKTtcclxuICAgIHdpbmRvdy5fX0lOTElORV9BQiA9IHsgLi4ubm9ybWFsaXplZEFCIH07XHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcImRlYnVnLWVuYWJsZWRcIiwge1xyXG4gICAgICBlbmFibGVkOiB3aW5kb3cuX19JTkxJTkVfREVCVUcsXHJcbiAgICAgIGlubGluZUFCOiB3aW5kb3cuX19JTkxJTkVfQUIsXHJcbiAgICAgIGZyYW1lU2VxOiB3aW5kb3cuX19JTkxJTkVfRlJBTUVfU0VRLFxyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudElkID0gZWRpdGluZy5pZCB8fCBudWxsO1xyXG4gICAgY29uc3QgcHJldmlvdXNJZCA9IHByZXZFZGl0aW5nSWRSZWYuY3VycmVudDtcclxuXHJcbiAgICBpZiAoY3VycmVudElkICYmIGN1cnJlbnRJZCAhPT0gcHJldmlvdXNJZCkge1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImVudGVyOiByYWYxXCIsIHsgaWQ6IGN1cnJlbnRJZCwgcHJldmlvdXNJZCB9KTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZW50ZXI6IHJhZjJcIiwgeyBpZDogY3VycmVudElkLCBwcmV2aW91c0lkIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWN1cnJlbnRJZCAmJiBwcmV2aW91c0lkKSB7XHJcbiAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImV4aXQ6IGltbWVkaWF0ZVwiLCB7IGlkOiBwcmV2aW91c0lkIH0pO1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImV4aXQ6IHJhZjFcIiwgeyBpZDogcHJldmlvdXNJZCB9KTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZXhpdDogcmFmMlwiLCB7IGlkOiBwcmV2aW91c0lkIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcmV2RWRpdGluZ0lkUmVmLmN1cnJlbnQgPSBjdXJyZW50SWQ7XHJcbiAgfSwgW2VkaXRpbmcuaWQsIGNhcHR1cmVJbmxpbmVTbmFwc2hvdF0pO1xyXG5cclxuICBjb25zdCBmdWVudGVzTmVjZXNhcmlhcyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgLy8gZnVlbnRlcyB1c2FkYXMgZW4gdGV4dG9zICsgY291bnRkb3duIChzaSBhcGxpY2EpICsgZm9ybWFzIGNvbiB0ZXh0byAocmVjdClcclxuICAgIGNvbnN0IGZvbnRzID0gKG9iamV0b3MgfHwgW10pXHJcbiAgICAgIC5maWx0ZXIobyA9PiAoby50aXBvID09PSBcInRleHRvXCIgfHwgby50aXBvID09PSBcImNvdW50ZG93blwiIHx8IChvLnRpcG8gPT09IFwiZm9ybWFcIiAmJiBvLmZpZ3VyYSA9PT0gXCJyZWN0XCIpKSAmJiBvLmZvbnRGYW1pbHkpXHJcbiAgICAgIC5tYXAobyA9PiBTdHJpbmcoby5mb250RmFtaWx5KS5yZXBsYWNlKC9bJ1wiXS9nLCBcIlwiKS5zcGxpdChcIixcIilbMF0udHJpbSgpKVxyXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pO1xyXG5cclxuICAgIHJldHVybiBbLi4ubmV3IFNldChmb250cyldO1xyXG4gIH0sIFtvYmpldG9zXSk7XHJcblxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcclxuICAgIHdpbmRvdy5lZGl0aW5nID0gZWRpdGluZztcclxuICB9LCBbZWRpdGluZy5pZCwgZWRpdGluZy52YWx1ZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQgPSB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbDtcclxuICAgIHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA9IGVkaXRpbmc/LmlkIHx8IG51bGw7XHJcblxyXG4gICAgaW5saW5lRGVidWdMb2coXCJzeW5jLWdsb2JhbC1lZGl0aW5nXCIsIHtcclxuICAgICAgZWRpdGluZ0lkOiBlZGl0aW5nPy5pZCB8fCBudWxsLFxyXG4gICAgICB2YWx1ZUxlbmd0aDogU3RyaW5nKGVkaXRpbmc/LnZhbHVlID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgcHJldmlvdXNDdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICBuZXh0Q3VycmVudEVkaXRpbmdJZDogd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaW5saW5lRGVidWdMb2coXCJzeW5jLWdsb2JhbC1lZGl0aW5nLWNsZWFudXBcIiwge1xyXG4gICAgICAgIGVkaXRpbmdJZDogZWRpdGluZz8uaWQgfHwgbnVsbCxcclxuICAgICAgICBjdXJyZW50RWRpdGluZ0lkOiB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbCxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh3aW5kb3cuZWRpdGluZyAmJiB3aW5kb3cuZWRpdGluZy5pZCA9PT0gZWRpdGluZy5pZCkge1xyXG4gICAgICAgIGRlbGV0ZSB3aW5kb3cuZWRpdGluZztcclxuICAgICAgfVxyXG4gICAgICBpZiAod2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID09PSBlZGl0aW5nLmlkKSB7XHJcbiAgICAgICAgd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbZWRpdGluZy5pZF0pO1xyXG5cclxuXHJcbiAgLy8gPz8gRnVuY2nDs24gcGFyYSBhY3R1YWxpemFyIG9mZnNldHMgZGUgaW1hZ2VuIGRlIGZvbmRvIChTSU4gVU5ERUZJTkVEKVxyXG4gIGNvbnN0IGFjdHVhbGl6YXJPZmZzZXRGb25kbyA9IHVzZUNhbGxiYWNrKChzZWNjaW9uSWQsIG51ZXZvc09mZnNldHMsIGVzUHJldmlldyA9IGZhbHNlKSA9PiB7XHJcbiAgICBzZXRTZWNjaW9uZXMocHJldiA9PlxyXG4gICAgICBwcmV2Lm1hcChzID0+IHtcclxuICAgICAgICBpZiAocy5pZCAhPT0gc2VjY2lvbklkKSByZXR1cm4gcztcclxuXHJcbiAgICAgICAgLy8gPz8gQ1JFQVIgT0JKRVRPIExJTVBJT1xyXG4gICAgICAgIGNvbnN0IHNlY2Npb25BY3R1YWxpemFkYSA9IHsgLi4ucyB9O1xyXG5cclxuICAgICAgICAvLyA/PyBTT0xPIEFHUkVHQVIgQ0FNUE9TIFNJIFRJRU5FTiBWQUxPUkVTIFbDgUxJRE9TXHJcbiAgICAgICAgaWYgKG51ZXZvc09mZnNldHMub2Zmc2V0WCAhPT0gdW5kZWZpbmVkICYmIG51ZXZvc09mZnNldHMub2Zmc2V0WCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2VjY2lvbkFjdHVhbGl6YWRhLmZvbmRvSW1hZ2VuT2Zmc2V0WCA9IG51ZXZvc09mZnNldHMub2Zmc2V0WDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG51ZXZvc09mZnNldHMub2Zmc2V0WSAhPT0gdW5kZWZpbmVkICYmIG51ZXZvc09mZnNldHMub2Zmc2V0WSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2VjY2lvbkFjdHVhbGl6YWRhLmZvbmRvSW1hZ2VuT2Zmc2V0WSA9IG51ZXZvc09mZnNldHMub2Zmc2V0WTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZWNjaW9uQWN0dWFsaXphZGE7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH0sIFtzZXRTZWNjaW9uZXNdKTtcclxuXHJcbiAgLy8gQXNpZ25hIHVuYSBpbWFnZW4gKHBvciBVUkwpIGEgbGEgY2VsZGEgYWN0aXZhXHJcbiAgZnVuY3Rpb24gYXNpZ25hckltYWdlbkFHYWxlcmlhKHVybCkge1xyXG4gICAgc2V0T2JqZXRvcygocHJldikgPT4ge1xyXG4gICAgICBpZiAoIWNlbGRhR2FsZXJpYUFjdGl2YSkgcmV0dXJuIHByZXY7XHJcbiAgICAgIGNvbnN0IHsgb2JqSWQsIGluZGV4IH0gPSBjZWxkYUdhbGVyaWFBY3RpdmE7XHJcbiAgICAgIGNvbnN0IGkgPSBwcmV2LmZpbmRJbmRleChvID0+IG8uaWQgPT09IG9iaklkICYmIG8udGlwbyA9PT0gXCJnYWxlcmlhXCIpO1xyXG4gICAgICBpZiAoaSA9PT0gLTEpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgY29uc3QgY29waWEgPSBzdHJ1Y3R1cmVkQ2xvbmUocHJldik7XHJcbiAgICAgIGNvbnN0IGcgPSBjb3BpYVtpXTtcclxuICAgICAgLy8gU2VndXJpZGFkOiBxdWUgZXhpc3RhIHkgcXVlIGhheWEgY2VsbHNbaW5kZXhdXHJcbiAgICAgIGlmICghZz8uY2VsbHMgfHwgIWcuY2VsbHNbaW5kZXhdKSByZXR1cm4gcHJldjtcclxuXHJcbiAgICAgIGcuY2VsbHNbaW5kZXhdID0ge1xyXG4gICAgICAgIC4uLihnLmNlbGxzW2luZGV4XSA/PyB7fSksXHJcbiAgICAgICAgbWVkaWFVcmw6IHVybCxcclxuICAgICAgICBmaXQ6IGcuY2VsbHNbaW5kZXhdPy5maXQgPz8gXCJjb3ZlclwiLFxyXG4gICAgICAgIGJnOiBnLmNlbGxzW2luZGV4XT8uYmcgPz8gXCIjZWVlXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBjb3BpYTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gTGltcGlhciBmbGFnIGRlIHJlc2l6ZSBhbCBtb250YXIgZWwgY29tcG9uZW50ZVxyXG4gICAgd2luZG93Ll9yZXNpemVEYXRhID0gbnVsbDtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IFttb3N0cmFyUGFuZWxaLCBzZXRNb3N0cmFyUGFuZWxaXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNTZWxlY3Rpb25Sb3RhdGluZywgc2V0SXNTZWxlY3Rpb25Sb3RhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIGNvbnN0IGxvZ09wdGlvbkJ1dHRvbk1lbnVEZWJ1ZyA9IHVzZUNhbGxiYWNrKChldmVudE5hbWUsIHBheWxvYWQgPSB7fSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgd2luZG93Ll9fREJHX09QVElPTl9CVVRUT04gIT09IHRydWUpIHJldHVybjtcclxuICAgIGNvbnNvbGUubG9nKGBbT1BUSU9OLUJVVFRPTl1bTUVOVV0gJHtldmVudE5hbWV9YCwge1xyXG4gICAgICB0czogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAuLi5wYXlsb2FkLFxyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCB0b2dnbGVQYW5lbE9wY2lvbmVzID0gdXNlQ2FsbGJhY2soKHNvdXJjZSA9IFwidW5rbm93blwiLCBuYXRpdmVFdmVudCA9IG51bGwpID0+IHtcclxuICAgIHNldE1vc3RyYXJQYW5lbFooKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgbmV4dCA9ICFwcmV2O1xyXG4gICAgICBsb2dPcHRpb25CdXR0b25NZW51RGVidWcoXCJ0b2dnbGVcIiwge1xyXG4gICAgICAgIHNvdXJjZSxcclxuICAgICAgICBwcmV2LFxyXG4gICAgICAgIG5leHQsXHJcbiAgICAgICAgc2VsZWN0ZWRJZDogZWxlbWVudG9zU2VsZWNjaW9uYWRvcz8uWzBdID8/IG51bGwsXHJcbiAgICAgICAgc2VsZWN0aW9uQ291bnQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoLFxyXG4gICAgICAgIGlzTW9iaWxlLFxyXG4gICAgICAgIG5hdGl2ZUV2ZW50VHlwZTogbmF0aXZlRXZlbnQ/LnR5cGUgPz8gbnVsbCxcclxuICAgICAgICBwb2ludGVyVHlwZTogbmF0aXZlRXZlbnQ/LnBvaW50ZXJUeXBlID8/IG51bGwsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gbmV4dDtcclxuICAgIH0pO1xyXG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLCBpc01vYmlsZSwgbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsb2dPcHRpb25CdXR0b25NZW51RGVidWcoXCJwYW5lbC1zdGF0ZVwiLCB7XHJcbiAgICAgIG9wZW46IG1vc3RyYXJQYW5lbFosXHJcbiAgICAgIHNlbGVjdGVkSWQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M/LlswXSA/PyBudWxsLFxyXG4gICAgICBzZWxlY3Rpb25Db3VudDogZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGgsXHJcbiAgICAgIGlzTW9iaWxlLFxyXG4gICAgfSk7XHJcbiAgfSwgW1xyXG4gICAgbW9zdHJhclBhbmVsWixcclxuICAgIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXHJcbiAgICBpc01vYmlsZSxcclxuICAgIGxvZ09wdGlvbkJ1dHRvbk1lbnVEZWJ1ZyxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgbW92ZXJFbGVtZW50byA9IChhY2Npb24pID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gb2JqZXRvcy5maW5kSW5kZXgoKG8pID0+IG8uaWQgPT09IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NbMF0pO1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG51ZXZvcyA9IFsuLi5vYmpldG9zXTtcclxuICAgIGNvbnN0IFtlbGVtZW50b10gPSBudWV2b3Muc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcbiAgICBpZiAoYWNjaW9uID09PSBcImFsLWZyZW50ZVwiKSB7XHJcbiAgICAgIG51ZXZvcy5wdXNoKGVsZW1lbnRvKTtcclxuICAgIH0gZWxzZSBpZiAoYWNjaW9uID09PSBcImFsLWZvbmRvXCIpIHtcclxuICAgICAgbnVldm9zLnVuc2hpZnQoZWxlbWVudG8pO1xyXG4gICAgfSBlbHNlIGlmIChhY2Npb24gPT09IFwic3ViaXJcIiAmJiBpbmRleCA8IG9iamV0b3MubGVuZ3RoIC0gMSkge1xyXG4gICAgICBudWV2b3Muc3BsaWNlKGluZGV4ICsgMSwgMCwgZWxlbWVudG8pO1xyXG4gICAgfSBlbHNlIGlmIChhY2Npb24gPT09IFwiYmFqYXJcIiAmJiBpbmRleCA+IDApIHtcclxuICAgICAgbnVldm9zLnNwbGljZShpbmRleCAtIDEsIDAsIGVsZW1lbnRvKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG51ZXZvcy5zcGxpY2UoaW5kZXgsIDAsIGVsZW1lbnRvKTsgLy8gc2luIGNhbWJpb3NcclxuICAgIH1cclxuXHJcbiAgICBzZXRPYmpldG9zKG51ZXZvcyk7XHJcbiAgICBzZXRNb3N0cmFyUGFuZWxaKGZhbHNlKTtcclxuICB9O1xyXG5cclxuXHJcblxyXG5cclxuICBjb25zdCB7XHJcbiAgICBvbkRlc2hhY2VyLFxyXG4gICAgb25SZWhhY2VyLFxyXG4gICAgb25EdXBsaWNhcixcclxuICAgIG9uRWxpbWluYXIsXHJcbiAgICBvbkNvcGlhcixcclxuICAgIG9uUGVnYXIsXHJcbiAgICBvbkNhbWJpYXJBbGluZWFjaW9uXHJcbiAgfSA9IHVzZUVkaXRvckhhbmRsZXJzKHtcclxuICAgIG9iamV0b3MsXHJcbiAgICBzZXRPYmpldG9zLFxyXG4gICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcyxcclxuICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXHJcbiAgICBoaXN0b3JpYWwsXHJcbiAgICBzZXRIaXN0b3JpYWwsXHJcbiAgICBmdXR1cm9zLFxyXG4gICAgc2V0RnV0dXJvcyxcclxuICAgIHNldFNlY2Npb25lcyxcclxuICAgIGlnbm9yZU5leHRVcGRhdGVSZWYsXHJcbiAgICBzZXRNb3N0cmFyUGFuZWxaXHJcbiAgfSk7XHJcblxyXG5cclxuICB1c2VIaXN0b3J5TWFuYWdlcih7XHJcbiAgICBjYXJnYWRvLFxyXG4gICAgb2JqZXRvcyxcclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNldEhpc3RvcmlhbCxcclxuICAgIHNldEZ1dHVyb3MsXHJcbiAgICBpZ25vcmVOZXh0VXBkYXRlUmVmLFxyXG4gIH0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCk7XHJcbiAgICBpZiAoIXN0YWdlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IHN0YWdlLmNvbnRlbnQ7XHJcbiAgICBpZiAoIWNvbnRlbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyA/IEVzdGFkbyBiYXNlOiBzY3JvbGwgdmVydGljYWwgcGVybWl0aWRvIHNvYnJlIGNhbnZhcyB2YWPDrW9cclxuICAgIGNvbnN0IHNldFNjcm9sbE1vZGUgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnRlbnQuc3R5bGUudG91Y2hBY3Rpb24gPSBcInBhbi15XCI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vID8gRHVyYW50ZSBkcmFnOiBibG9xdWVhciBzY3JvbGwgcGFyYSBlZGl0YXIgZmlub1xyXG4gICAgY29uc3Qgc2V0RWRpdE1vZGUgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnRlbnQuc3R5bGUudG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcclxuICAgIH07XHJcblxyXG4gICAgLy8gPyBOVUVWTzogZXN0YWRvIFJlYWN0IGNvbmZpYWJsZSBwYXJhIFVJIChUcmFuc2Zvcm1lci9ob3Zlci9ldGMuKVxyXG4gICAgY29uc3Qgb25EcmFnU3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG9uRHJhZ0VuZCA9ICgpID0+IHtcclxuICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vID8gRmFpbHNhZmU6IHBvciBzaSB0ZXJtaW5hIOKAnHJhcm/igJ0gKHRvdWNoIGNhbmNlbCwgcG9pbnRlciB1cCwgZXRjLilcclxuICAgIGNvbnN0IHN0b3BEcmFnZ2luZyA9ICgpID0+IHtcclxuICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICAgIHNldFNjcm9sbE1vZGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gSW5pY2lhbFxyXG4gICAgc2V0U2Nyb2xsTW9kZSgpO1xyXG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7IC8vID8/IHBvciBsYXMgZHVkYXMsIGFsIG1vbnRhclxyXG4gICAgY29udGVudC5zdHlsZS5XZWJraXRVc2VyU2VsZWN0ID0gXCJub25lXCI7XHJcbiAgICBjb250ZW50LnN0eWxlLldlYmtpdFRvdWNoQ2FsbG91dCA9IFwibm9uZVwiO1xyXG5cclxuICAgIC8vIEtvbnZhIGV2ZW50c1xyXG4gICAgc3RhZ2Uub24oXCJkcmFnc3RhcnRcIiwgc2V0RWRpdE1vZGUpO1xyXG4gICAgc3RhZ2Uub24oXCJkcmFnZW5kXCIsIHNldFNjcm9sbE1vZGUpO1xyXG5cclxuICAgIC8vID8gTlVFVk8gKFVJIHN0YXRlKVxyXG4gICAgc3RhZ2Uub24oXCJkcmFnc3RhcnRcIiwgb25EcmFnU3RhcnQpO1xyXG4gICAgc3RhZ2Uub24oXCJkcmFnZW5kXCIsIG9uRHJhZ0VuZCk7XHJcblxyXG4gICAgLy8gRmFpbHNhZmVzIChzaSBlbCBkcmFnIHRlcm1pbmEgcmFybylcclxuICAgIHN0YWdlLm9uKFwidG91Y2hlbmRcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgIHN0YWdlLm9uKFwicG9pbnRlcnVwXCIsIHN0b3BEcmFnZ2luZyk7XHJcbiAgICBzdGFnZS5vbihcIm1vdXNldXBcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgIHN0YWdlLm9uKFwidG91Y2hjYW5jZWxcIiwgc3RvcERyYWdnaW5nKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBzdGFnZS5vZmYoXCJkcmFnc3RhcnRcIiwgc2V0RWRpdE1vZGUpO1xyXG4gICAgICBzdGFnZS5vZmYoXCJkcmFnZW5kXCIsIHNldFNjcm9sbE1vZGUpO1xyXG5cclxuICAgICAgc3RhZ2Uub2ZmKFwiZHJhZ3N0YXJ0XCIsIG9uRHJhZ1N0YXJ0KTtcclxuICAgICAgc3RhZ2Uub2ZmKFwiZHJhZ2VuZFwiLCBvbkRyYWdFbmQpO1xyXG5cclxuICAgICAgc3RhZ2Uub2ZmKFwidG91Y2hlbmRcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgICAgc3RhZ2Uub2ZmKFwicG9pbnRlcnVwXCIsIHN0b3BEcmFnZ2luZyk7XHJcbiAgICAgIHN0YWdlLm9mZihcIm1vdXNldXBcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgICAgc3RhZ2Uub2ZmKFwidG91Y2hjYW5jZWxcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgIH07XHJcbiAgfSwgW3NldElzRHJhZ2dpbmddKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCBjb250ZW50ID0gc3RhZ2U/LmNvbnRlbnQgfHwgc3RhZ2U/LmNvbnRhaW5lcj8uKCk7XHJcbiAgICBpZiAoIWNvbnRlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dCA9IChwb2ludGVyVHlwZSkgPT4ge1xyXG4gICAgICBjb25zdCBpc1RvdWNoTGlrZSA9XHJcbiAgICAgICAgcG9pbnRlclR5cGUgPT09IFwidG91Y2hcIiB8fFxyXG4gICAgICAgIHBvaW50ZXJUeXBlID09PSBcInBlblwiIHx8XHJcbiAgICAgICAgKHR5cGVvZiBwb2ludGVyVHlwZSAhPT0gXCJzdHJpbmdcIiAmJiBpc01vYmlsZSk7XHJcbiAgICAgIEtvbnZhLmRyYWdEaXN0YW5jZSA9IGlzVG91Y2hMaWtlID8gMTQgOiA1O1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBvblBvaW50ZXJEb3duID0gKGV2ZW50KSA9PiBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dChldmVudC5wb2ludGVyVHlwZSk7XHJcbiAgICBjb25zdCBvblRvdWNoU3RhcnQgPSAoKSA9PiBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dChcInRvdWNoXCIpO1xyXG4gICAgY29uc3Qgb25Nb3VzZURvd24gPSAoKSA9PiBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dChcIm1vdXNlXCIpO1xyXG5cclxuICAgIHNldERyYWdEaXN0YW5jZUZvcklucHV0KGlzTW9iaWxlID8gXCJ0b3VjaFwiIDogXCJtb3VzZVwiKTtcclxuXHJcbiAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBvblBvaW50ZXJEb3duLCB7IHBhc3NpdmU6IHRydWUgfSk7XHJcbiAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG9uVG91Y2hTdGFydCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xyXG4gICAgY29udGVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uTW91c2VEb3duLCB7IHBhc3NpdmU6IHRydWUgfSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgb25Qb2ludGVyRG93bik7XHJcbiAgICAgIGNvbnRlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgb25Ub3VjaFN0YXJ0KTtcclxuICAgICAgY29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uTW91c2VEb3duKTtcclxuICAgIH07XHJcbiAgfSwgW2lzTW9iaWxlXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIC8vIFJlY29yZGFyIMO6bHRpbWEgc2VjY2nDs24gYWN0aXZhXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNlY2Npb25BY3RpdmFJZFJlZi5jdXJyZW50ID0gc2VjY2lvbkFjdGl2YUlkO1xyXG4gIH0sIFtzZWNjaW9uQWN0aXZhSWRdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChzZWNjaW9uQWN0aXZhSWQpIHdpbmRvdy5fbGFzdFNlY2Npb25BY3RpdmFJZCA9IHNlY2Npb25BY3RpdmFJZDtcclxuICB9LCBbc2VjY2lvbkFjdGl2YUlkXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkKSB7XHJcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInNhbGlyLW1vZG8tbW92ZXItZm9uZG9cIikpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImFjdGl2YXItbW9kby1tb3Zlci1mb25kb1wiLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7IHNlY3Rpb25JZDogbW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgfSxcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfSwgW21vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkXSk7XHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghbnVldm9UZXh0b1JlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgb2JqID0gb2JqZXRvcy5maW5kKChvKSA9PiBvLmlkID09PSBudWV2b1RleHRvUmVmLmN1cnJlbnQpO1xyXG4gICAgaWYgKG9iaikge1xyXG4gICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKFtvYmouaWRdKTtcclxuICAgICAgLy8gTk8gaW5pY2lhciBlZGljacOzbiBhdXRvbcOhdGljYW1lbnRlIC0gc29sbyBzZWxlY2Npb25hclxyXG4gICAgICBudWV2b1RleHRvUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH0sIFtvYmpldG9zXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVDbGlja0Z1ZXJhID0gKGUpID0+IHtcclxuICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KFwiLnBvcHVwLWZ1ZW50ZVwiKSkge1xyXG4gICAgICAgIHNldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZShmYWxzZSk7XHJcbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yVGFtYW5vKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2tGdWVyYSk7XHJcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja0Z1ZXJhKTtcclxuICB9LCBbXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAob25IaXN0b3JpYWxDaGFuZ2UpIHtcclxuXHJcbiAgICAgIG9uSGlzdG9yaWFsQ2hhbmdlKGhpc3RvcmlhbCk7XHJcbiAgICB9XHJcbiAgfSwgW2hpc3RvcmlhbCwgb25IaXN0b3JpYWxDaGFuZ2VdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChvbkZ1dHVyb3NDaGFuZ2UpIHtcclxuXHJcbiAgICAgIG9uRnV0dXJvc0NoYW5nZShmdXR1cm9zKTtcclxuICAgIH1cclxuICB9LCBbZnV0dXJvcywgb25GdXR1cm9zQ2hhbmdlXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBQcmUtY2FyZ2FyIGZ1ZW50ZXMgcG9wdWxhcmVzIGFsIGluaWNpYXJcclxuICAgIGZvbnRNYW5hZ2VyLnByZWxvYWRQb3B1bGFyRm9udHMoKTtcclxuXHJcbiAgICAvLyBFc2N1Y2hhciBldmVudG8gZGUgZnVlbnRlcyBjYXJnYWRhcyBwYXJhIHJlZGlidWphclxyXG4gICAgY29uc3QgaGFuZGxlRm9udHNMb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChzdGFnZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgc3RhZ2VSZWYuY3VycmVudC5iYXRjaERyYXcoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9udHMtbG9hZGVkJywgaGFuZGxlRm9udHNMb2FkZWQpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdmb250cy1sb2FkZWQnLCBoYW5kbGVGb250c0xvYWRlZCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBhbGl2ZSA9IHRydWU7XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gcHJlY2FyZ2FyKCkge1xyXG4gICAgICAvLyBTb2xvIHByZWNhcmdhciBmdWVudGVzIG51ZXZhcyBwYXJhIGV2aXRhciByZS1yZW5kZXJzIGdsb2JhbGVzIGRlbCBzdGFnZVxyXG4gICAgICBpZiAoIWZ1ZW50ZXNOZWNlc2FyaWFzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCBwZW5kaWVudGVzID0gZnVlbnRlc05lY2VzYXJpYXMuZmlsdGVyKFxyXG4gICAgICAgIChmb250TmFtZSkgPT4gIWxvYWRlZEZvbnRGYW1pbGllc1JlZi5jdXJyZW50Lmhhcyhmb250TmFtZSlcclxuICAgICAgKTtcclxuICAgICAgaWYgKCFwZW5kaWVudGVzLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyA/IElkZWFsOiBxdWUgZm9udE1hbmFnZXIubG9hZEZvbnRzIGRldnVlbHZhIFByb21pc2VcclxuICAgICAgICAvLyBTaSBob3kgbm8gZGV2dWVsdmUsIGlndWFsIGxvIHJlc29sdmVtb3MgY29uIGRvY3VtZW50LmZvbnRzIG3DoXMgYWJham8uXHJcbiAgICAgICAgY29uc3QgbWF5YmVQcm9taXNlID0gZm9udE1hbmFnZXIubG9hZEZvbnRzPy4ocGVuZGllbnRlcyk7XHJcblxyXG4gICAgICAgIC8vIFNpIGRldnVlbHZlIHByb21pc2UsIGVzcGVyYW1vc1xyXG4gICAgICAgIGlmIChtYXliZVByb21pc2UgJiYgdHlwZW9mIG1heWJlUHJvbWlzZS50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgIGF3YWl0IG1heWJlUHJvbWlzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID8gU2VndW5kbyBzZWd1cm86IGVzcGVyYXIgYSBxdWUgZWwgYnJvd3NlciBjb25maXJtZVxyXG4gICAgICAgIC8vIChlc3RvIGdhcmFudGl6YSBxdWUgbm8gaGF5YSBmYWxsYmFjaylcclxuICAgICAgICBpZiAoZG9jdW1lbnQ/LmZvbnRzPy5sb2FkKSB7XHJcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgcGVuZGllbnRlcy5tYXAoZiA9PlxyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmxvYWQoYDE2cHggXCIke2Z9XCJgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFsaXZlKSByZXR1cm47XHJcbiAgICAgICAgcGVuZGllbnRlcy5mb3JFYWNoKChmb250TmFtZSkgPT4gbG9hZGVkRm9udEZhbWlsaWVzUmVmLmN1cnJlbnQuYWRkKGZvbnROYW1lKSk7XHJcblxyXG4gICAgICAgIC8vIFJlZHJhdyBwb3Igc2kgYWNhc29cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgc3RhZ2VSZWYuY3VycmVudD8uYmF0Y2hEcmF3Py4oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIj8/IEVycm9yIHByZWNhcmdhbmRvIGZ1ZW50ZXM6XCIsIGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU29sbyBwcmVjYXJnYXIgY3VhbmRvIHlhIGNhcmdhc3RlIGVsIGJvcnJhZG9yIChwYXJhIGV2aXRhciBvdmVybGF5IHJhcm8pXHJcbiAgICBpZiAoY2FyZ2FkbykgcHJlY2FyZ2FyKCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHsgYWxpdmUgPSBmYWxzZTsgfTtcclxuICB9LCBbY2FyZ2FkbywgZnVlbnRlc05lY2VzYXJpYXNdKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcblxyXG4gIH0sIFtzZWxlY2Npb25BY3RpdmEsIGFyZWFTZWxlY2Npb24sIGluaWNpb1NlbGVjY2lvbl0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICBjb25zdCBhY3R1YWxpemFyT2JqZXRvID0gKGluZGV4LCBudWV2bykgPT4ge1xyXG4gICAgY29uc3QgbnVldm9zID0gWy4uLm9iamV0b3NdO1xyXG4gICAgY29uc3QgeyBmcm9tVHJhbnNmb3JtLCAuLi5jbGVhbk51ZXZvIH0gPSBudWV2bztcclxuXHJcbiAgICAvLyBQcmVzZXJ2YXIgZGF0b3MgZXNwZWPDrWZpY29zIHNlZ8O6biBlbCB0aXBvIGRlIG9iamV0b1xyXG4gICAgaWYgKG51ZXZvc1tpbmRleF0udGlwbyA9PT0gJ2Zvcm1hJyAmJiBudWV2b3NbaW5kZXhdLmZpZ3VyYSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgIC8vIFBhcmEgbMOtbmVhcywgYXNlZ3VyYXIgcXVlIGxvcyBwdW50b3Mgc2UgcHJlc2VydmVuXHJcbiAgICAgIG51ZXZvc1tpbmRleF0gPSB7XHJcbiAgICAgICAgLi4ubnVldm9zW2luZGV4XSxcclxuICAgICAgICAuLi5jbGVhbk51ZXZvLFxyXG4gICAgICAgIHBvaW50czogY2xlYW5OdWV2by5wb2ludHMgfHwgbnVldm9zW2luZGV4XS5wb2ludHMgfHwgWzAsIDAsIDEwMCwgMF1cclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG51ZXZvc1tpbmRleF0gPSB7IC4uLm51ZXZvc1tpbmRleF0sIC4uLmNsZWFuTnVldm8gfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPYmpldG9zKG51ZXZvcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IGFjdHVhbGl6YXJPYmpldG9Qb3JJZCA9IChpZCwgY2FtYmlvcykgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSBvYmpldG9zLmZpbmRJbmRleCgobykgPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGNvbnNvbGUud2FybihcIj8gTm8gc2UgZW5jb250csOzIGVsIG9iamV0byBjb24gSUQ6XCIsIGlkKTtcclxuICAgIGFjdHVhbGl6YXJPYmpldG8oaW5kZXgsIGNhbWJpb3MpO1xyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG4gIGNvbnN0IG5vcm1hbGl6YXJNZWRpZGFzR2FsZXJpYSA9IHVzZUNhbGxiYWNrKChnYWxlcmlhLCB3aWR0aENhbmRpZGF0ZSwgeENhbmRpZGF0ZSkgPT4ge1xyXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSA4MDA7XHJcbiAgICBjb25zdCByb3dzID0gTWF0aC5tYXgoMSwgTnVtYmVyKGdhbGVyaWE/LnJvd3MpIHx8IDEpO1xyXG4gICAgY29uc3QgY29scyA9IE1hdGgubWF4KDEsIE51bWJlcihnYWxlcmlhPy5jb2xzKSB8fCAxKTtcclxuICAgIGNvbnN0IGdhcCA9IE1hdGgubWF4KDAsIE51bWJlcihnYWxlcmlhPy5nYXApIHx8IDApO1xyXG4gICAgY29uc3QgY2VsbFJhdGlvID1cclxuICAgICAgZ2FsZXJpYT8ucmF0aW8gPT09IFwiNDozXCJcclxuICAgICAgICA/IDMgLyA0XHJcbiAgICAgICAgOiBnYWxlcmlhPy5yYXRpbyA9PT0gXCIxNjo5XCJcclxuICAgICAgICAgID8gOSAvIDE2XHJcbiAgICAgICAgICA6IDE7XHJcblxyXG4gICAgY29uc3QgbWluR3JpZFdpZHRoID0gZ2FwICogKGNvbHMgLSAxKSArIGNvbHM7XHJcbiAgICBsZXQgd2lkdGhQY3QgPSAoTnVtYmVyKHdpZHRoQ2FuZGlkYXRlKSAvIGNhbnZhc1dpZHRoKSAqIDEwMDtcclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHdpZHRoUGN0KSkgd2lkdGhQY3QgPSBOdW1iZXIoZ2FsZXJpYT8ud2lkdGhQY3QpO1xyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUod2lkdGhQY3QpKSB3aWR0aFBjdCA9IDcwO1xyXG4gICAgd2lkdGhQY3QgPSBNYXRoLm1heCgxMCwgTWF0aC5taW4oMTAwLCB3aWR0aFBjdCkpO1xyXG5cclxuICAgIGxldCB3aWR0aCA9IChjYW52YXNXaWR0aCAqIHdpZHRoUGN0KSAvIDEwMDtcclxuICAgIHdpZHRoID0gTWF0aC5taW4oY2FudmFzV2lkdGgsIE1hdGgubWF4KG1pbkdyaWRXaWR0aCwgd2lkdGgpKTtcclxuICAgIHdpZHRoUGN0ID0gTWF0aC5tYXgoMTAsIE1hdGgubWluKDEwMCwgKHdpZHRoIC8gY2FudmFzV2lkdGgpICogMTAwKSk7XHJcblxyXG4gICAgY29uc3QgbWF4WCA9IE1hdGgubWF4KDAsIGNhbnZhc1dpZHRoIC0gd2lkdGgpO1xyXG4gICAgY29uc3QgZmFsbGJhY2tYID0gTnVtYmVyLmlzRmluaXRlKE51bWJlcihnYWxlcmlhPy54KSkgPyBOdW1iZXIoZ2FsZXJpYS54KSA6IDA7XHJcbiAgICBjb25zdCByYXdYID0gTnVtYmVyLmlzRmluaXRlKE51bWJlcih4Q2FuZGlkYXRlKSkgPyBOdW1iZXIoeENhbmRpZGF0ZSkgOiBmYWxsYmFja1g7XHJcbiAgICBjb25zdCB4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocmF3WCwgbWF4WCkpO1xyXG5cclxuICAgIGNvbnN0IGNlbGxXID0gTWF0aC5tYXgoMSwgKHdpZHRoIC0gZ2FwICogKGNvbHMgLSAxKSkgLyBjb2xzKTtcclxuICAgIGNvbnN0IGNlbGxIID0gY2VsbFcgKiBjZWxsUmF0aW87XHJcbiAgICBjb25zdCBoZWlnaHQgPSByb3dzICogY2VsbEggKyBnYXAgKiAocm93cyAtIDEpO1xyXG5cclxuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQsIHdpZHRoUGN0LCB4IH07XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBhY3R1YWxpemFyTGluZWEgPSAobGluZUlkLCBudWV2YURhdGEpID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gb2JqZXRvcy5maW5kSW5kZXgob2JqID0+IG9iai5pZCA9PT0gbGluZUlkKTtcclxuXHJcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobnVldmFEYXRhLmlzUHJldmlldykge1xyXG4gICAgICAvLyBQcmV2aWV3OiBTb2xvIGFjdHVhbGl6YWNpw7NuIHZpc3VhbCBzaW4gaGlzdG9yaWFsXHJcbiAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgY29uc3QgbnVldm9zID0gWy4uLnByZXZdO1xyXG4gICAgICAgIGNvbnN0IHsgaXNQcmV2aWV3LCAuLi5jbGVhbkRhdGEgfSA9IG51ZXZhRGF0YTtcclxuXHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgcXVlIGxvcyBwdW50b3Mgc2llbXByZSBzZWFuIHVuIGFycmF5IHbDoWxpZG9cclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnBvaW50cykge1xyXG4gICAgICAgICAgY2xlYW5EYXRhLnBvaW50cyA9IGNsZWFuRGF0YS5wb2ludHMubWFwKHAgPT4gcGFyc2VGbG9hdChwKSB8fCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID8/IFBSRVNFUlZBUiBzdHJva2VXaWR0aCBzaSBleGlzdGVcclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnN0cm9rZVdpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNsZWFuRGF0YS5zdHJva2VXaWR0aCA9IHBhcnNlSW50KGNsZWFuRGF0YS5zdHJva2VXaWR0aCkgfHwgMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG51ZXZvc1tpbmRleF0gPSB7IC4uLm51ZXZvc1tpbmRleF0sIC4uLmNsZWFuRGF0YSB9O1xyXG4gICAgICAgIHJldHVybiBudWV2b3M7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChudWV2YURhdGEuaXNGaW5hbCkge1xyXG4gICAgICAvLyBGaW5hbDogR3VhcmRhciBlbiBoaXN0b3JpYWxcclxuICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICBjb25zdCBudWV2b3MgPSBbLi4ucHJldl07XHJcbiAgICAgICAgY29uc3QgeyBpc0ZpbmFsLCAuLi5jbGVhbkRhdGEgfSA9IG51ZXZhRGF0YTtcclxuXHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgcXVlIGxvcyBwdW50b3Mgc2llbXByZSBzZWFuIHVuIGFycmF5IHbDoWxpZG9cclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnBvaW50cykge1xyXG4gICAgICAgICAgY2xlYW5EYXRhLnBvaW50cyA9IGNsZWFuRGF0YS5wb2ludHMubWFwKHAgPT4gcGFyc2VGbG9hdChwKSB8fCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID8/IFBSRVNFUlZBUiBzdHJva2VXaWR0aCBzaSBleGlzdGVcclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnN0cm9rZVdpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNsZWFuRGF0YS5zdHJva2VXaWR0aCA9IHBhcnNlSW50KGNsZWFuRGF0YS5zdHJva2VXaWR0aCkgfHwgMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG51ZXZvc1tpbmRleF0gPSB7IC4uLm51ZXZvc1tpbmRleF0sIC4uLmNsZWFuRGF0YSB9O1xyXG4gICAgICAgIHJldHVybiBudWV2b3M7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAvLyA/PyBNw6l0cmljYXMgZGUgdGV4dG8gY29uc2lzdGVudGVzIGNvbiBlbCByZW5kZXIgZGUgRWxlbWVudG9DYW52YXNcclxuICBjb25zdCBvYnRlbmVyTWV0cmljYXNUZXh0byA9ICh0ZXh0bywge1xyXG4gICAgZm9udFNpemUgPSAyNCxcclxuICAgIGZvbnRGYW1pbHkgPSBcInNhbnMtc2VyaWZcIixcclxuICAgIGZvbnRXZWlnaHQgPSBcIm5vcm1hbFwiLFxyXG4gICAgZm9udFN0eWxlID0gXCJub3JtYWxcIixcclxuICAgIGxpbmVIZWlnaHQgPSAxLjIsXHJcbiAgfSA9IHt9KSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIGNvbnN0IGZhbGxiYWNrU2l6ZSA9IE51bWJlci5pc0Zpbml0ZShmb250U2l6ZSkgJiYgZm9udFNpemUgPiAwID8gZm9udFNpemUgOiAyNDtcclxuICAgICAgcmV0dXJuIHsgd2lkdGg6IE1hdGgubWF4KDIwLCBTdHJpbmcodGV4dG8gPz8gXCJcIikubGVuZ3RoICogKGZhbGxiYWNrU2l6ZSAqIDAuNTUpKSwgaGVpZ2h0OiBmYWxsYmFja1NpemUgKiBsaW5lSGVpZ2h0IH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2FmZUZvbnRTaXplID0gTnVtYmVyLmlzRmluaXRlKGZvbnRTaXplKSAmJiBmb250U2l6ZSA+IDAgPyBmb250U2l6ZSA6IDI0O1xyXG4gICAgY29uc3Qgc2FmZUxpbmVIZWlnaHQgPSBOdW1iZXIuaXNGaW5pdGUobGluZUhlaWdodCkgJiYgbGluZUhlaWdodCA+IDAgPyBsaW5lSGVpZ2h0IDogMS4yO1xyXG4gICAgY29uc3Qgc2FmZUZhbWlseSA9IFN0cmluZyhmb250RmFtaWx5IHx8IFwic2Fucy1zZXJpZlwiKTtcclxuICAgIGNvbnN0IGZvbnRGb3JDYW52YXMgPSBzYWZlRmFtaWx5LmluY2x1ZGVzKFwiLFwiKVxyXG4gICAgICA/IHNhZmVGYW1pbHlcclxuICAgICAgOiAoL1xccy8udGVzdChzYWZlRmFtaWx5KSA/IGBcIiR7c2FmZUZhbWlseX1cImAgOiBzYWZlRmFtaWx5KTtcclxuXHJcbiAgICBjdHguZm9udCA9IGAke2ZvbnRTdHlsZSB8fCBcIm5vcm1hbFwifSAke2ZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIn0gJHtzYWZlRm9udFNpemV9cHggJHtmb250Rm9yQ2FudmFzfWA7XHJcblxyXG4gICAgY29uc3QgcmF3VGV4dCA9IFN0cmluZyh0ZXh0byA/PyBcIlwiKTtcclxuICAgIGNvbnN0IHNhZmVUZXh0ID0gcmF3VGV4dC5yZXBsYWNlKC9bIFxcdF0rJC9nbSwgXCJcIik7XHJcbiAgICBjb25zdCBsaW5lcyA9IHNhZmVUZXh0LnNwbGl0KC9cXHI/XFxuLyk7XHJcbiAgICBjb25zdCBtYXhMaW5lV2lkdGggPSBNYXRoLm1heCguLi5saW5lcy5tYXAoKGxpbmUpID0+IGN0eC5tZWFzdXJlVGV4dChsaW5lKS53aWR0aCksIDIwKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB3aWR0aDogbWF4TGluZVdpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHNhZmVGb250U2l6ZSAqIHNhZmVMaW5lSGVpZ2h0ICogTWF0aC5tYXgobGluZXMubGVuZ3RoLCAxKSxcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWVkaXJBbmNob1RleHRvS29udmEgPSB1c2VDYWxsYmFjaygob2JqVGV4dG8sIHRleHRvT2JqZXRpdm8sIGZvbnRTaXplT3ZlcnJpZGUgPSBudWxsKSA9PiB7XHJcbiAgICBpZiAoIW9ialRleHRvIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHNhZmVUZXh0ID0gU3RyaW5nKHRleHRvT2JqZXRpdm8gPz8gXCJcIikucmVwbGFjZSgvWyBcXHRdKyQvZ20sIFwiXCIpO1xyXG4gICAgICBjb25zdCBzYWZlRm9udEZhbWlseSA9IGZvbnRNYW5hZ2VyLmlzRm9udEF2YWlsYWJsZShvYmpUZXh0by5mb250RmFtaWx5KVxyXG4gICAgICAgID8gb2JqVGV4dG8uZm9udEZhbWlseVxyXG4gICAgICAgIDogXCJzYW5zLXNlcmlmXCI7XHJcbiAgICAgIGNvbnN0IHNhZmVGb250U2l6ZSA9XHJcbiAgICAgICAgTnVtYmVyLmlzRmluaXRlKGZvbnRTaXplT3ZlcnJpZGUpICYmIGZvbnRTaXplT3ZlcnJpZGUgPiAwXHJcbiAgICAgICAgICA/IGZvbnRTaXplT3ZlcnJpZGVcclxuICAgICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwXHJcbiAgICAgICAgICAgID8gb2JqVGV4dG8uZm9udFNpemVcclxuICAgICAgICAgICAgOiAyNCk7XHJcbiAgICAgIGNvbnN0IGJhc2VMaW5lSGVpZ2h0ID1cclxuICAgICAgICBOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8ubGluZUhlaWdodCkgJiYgb2JqVGV4dG8ubGluZUhlaWdodCA+IDBcclxuICAgICAgICAgID8gb2JqVGV4dG8ubGluZUhlaWdodFxyXG4gICAgICAgICAgOiAxLjI7XHJcblxyXG4gICAgICBjb25zdCBwcm9iZSA9IG5ldyBLb252YS5UZXh0KHtcclxuICAgICAgICB0ZXh0OiBzYWZlVGV4dCxcclxuICAgICAgICBmb250U2l6ZTogc2FmZUZvbnRTaXplLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6IHNhZmVGb250RmFtaWx5LFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIixcclxuICAgICAgICBmb250U3R5bGU6IHJlc29sdmVLb252YUZvbnRTdHlsZShcclxuICAgICAgICAgIG9ialRleHRvLmZvbnRTdHlsZSB8fCBcIm5vcm1hbFwiLFxyXG4gICAgICAgICAgb2JqVGV4dG8uZm9udFdlaWdodCB8fCBcIm5vcm1hbFwiXHJcbiAgICAgICAgKSxcclxuICAgICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXHJcbiAgICAgICAgcGFkZGluZzogMCxcclxuICAgICAgICB3cmFwOiBcIm5vbmVcIixcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB3aWR0aCA9IE51bWJlcihwcm9iZS5nZXRUZXh0V2lkdGg/LigpIHx8IDApO1xyXG4gICAgICBwcm9iZS5kZXN0cm95KCk7XHJcblxyXG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHdpZHRoKSAmJiB3aWR0aCA+IDAgPyB3aWR0aCA6IG51bGw7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBtZWRpckFsdG9UZXh0b0tvbnZhID0gdXNlQ2FsbGJhY2soKG9ialRleHRvLCB0ZXh0b09iamV0aXZvLCBmb250U2l6ZU92ZXJyaWRlID0gbnVsbCkgPT4ge1xyXG4gICAgaWYgKCFvYmpUZXh0byB8fCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzYWZlVGV4dCA9IFN0cmluZyh0ZXh0b09iamV0aXZvID8/IFwiXCIpLnJlcGxhY2UoL1sgXFx0XSskL2dtLCBcIlwiKTtcclxuICAgICAgY29uc3Qgc2FmZUZvbnRGYW1pbHkgPSBmb250TWFuYWdlci5pc0ZvbnRBdmFpbGFibGUob2JqVGV4dG8uZm9udEZhbWlseSlcclxuICAgICAgICA/IG9ialRleHRvLmZvbnRGYW1pbHlcclxuICAgICAgICA6IFwic2Fucy1zZXJpZlwiO1xyXG4gICAgICBjb25zdCBzYWZlRm9udFNpemUgPVxyXG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShmb250U2l6ZU92ZXJyaWRlKSAmJiBmb250U2l6ZU92ZXJyaWRlID4gMFxyXG4gICAgICAgICAgPyBmb250U2l6ZU92ZXJyaWRlXHJcbiAgICAgICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8uZm9udFNpemUpICYmIG9ialRleHRvLmZvbnRTaXplID4gMFxyXG4gICAgICAgICAgICA/IG9ialRleHRvLmZvbnRTaXplXHJcbiAgICAgICAgICAgIDogMjQpO1xyXG4gICAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XHJcbiAgICAgICAgTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLmxpbmVIZWlnaHQpICYmIG9ialRleHRvLmxpbmVIZWlnaHQgPiAwXHJcbiAgICAgICAgICA/IG9ialRleHRvLmxpbmVIZWlnaHRcclxuICAgICAgICAgIDogMS4yO1xyXG5cclxuICAgICAgY29uc3QgcHJvYmUgPSBuZXcgS29udmEuVGV4dCh7XHJcbiAgICAgICAgdGV4dDogc2FmZVRleHQsXHJcbiAgICAgICAgZm9udFNpemU6IHNhZmVGb250U2l6ZSxcclxuICAgICAgICBmb250RmFtaWx5OiBzYWZlRm9udEZhbWlseSxcclxuICAgICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0IHx8IFwibm9ybWFsXCIsXHJcbiAgICAgICAgZm9udFN0eWxlOiByZXNvbHZlS29udmFGb250U3R5bGUoXHJcbiAgICAgICAgICBvYmpUZXh0by5mb250U3R5bGUgfHwgXCJub3JtYWxcIixcclxuICAgICAgICAgIG9ialRleHRvLmZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIlxyXG4gICAgICAgICksXHJcbiAgICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxyXG4gICAgICAgIHBhZGRpbmc6IDAsXHJcbiAgICAgICAgd3JhcDogXCJub25lXCIsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgaGVpZ2h0ID0gTnVtYmVyKHByb2JlLmhlaWdodD8uKCkgfHwgMCk7XHJcbiAgICAgIHByb2JlLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUoaGVpZ2h0KSAmJiBoZWlnaHQgPiAwID8gaGVpZ2h0IDogbnVsbDtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGNhbGN1bGFyWFRleHRvQ2VudHJhZG9Qb3JUYW1hbm8gPSB1c2VDYWxsYmFjaygob2JqVGV4dG8sIG5leHRGb250U2l6ZSkgPT4ge1xyXG4gICAgaWYgKCFvYmpUZXh0byB8fCBvYmpUZXh0by50aXBvICE9PSBcInRleHRvXCIpIHJldHVybiBOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8/LngpID8gb2JqVGV4dG8ueCA6IDA7XHJcblxyXG4gICAgY29uc3Qgc2FmZU5leHRTaXplID1cclxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRGb250U2l6ZSkgJiYgbmV4dEZvbnRTaXplID4gMFxyXG4gICAgICAgID8gbmV4dEZvbnRTaXplXHJcbiAgICAgICAgOiAoTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLmZvbnRTaXplKSAmJiBvYmpUZXh0by5mb250U2l6ZSA+IDAgPyBvYmpUZXh0by5mb250U2l6ZSA6IDI0KTtcclxuXHJcbiAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XHJcbiAgICAgIHR5cGVvZiBvYmpUZXh0by5saW5lSGVpZ2h0ID09PSBcIm51bWJlclwiICYmIG9ialRleHRvLmxpbmVIZWlnaHQgPiAwXHJcbiAgICAgICAgPyBvYmpUZXh0by5saW5lSGVpZ2h0XHJcbiAgICAgICAgOiAxLjI7XHJcblxyXG4gICAgY29uc3QgcHJldmlvdXNNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzVGV4dG8ob2JqVGV4dG8udGV4dG8sIHtcclxuICAgICAgZm9udFNpemU6IG9ialRleHRvLmZvbnRTaXplLFxyXG4gICAgICBmb250RmFtaWx5OiBvYmpUZXh0by5mb250RmFtaWx5LFxyXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxyXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcclxuICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbmV4dE1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xyXG4gICAgICBmb250U2l6ZTogc2FmZU5leHRTaXplLFxyXG4gICAgICBmb250RmFtaWx5OiBvYmpUZXh0by5mb250RmFtaWx5LFxyXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxyXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcclxuICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcHJldmlvdXNXaWR0aEZyb21Lb252YSA9IG1lZGlyQW5jaG9UZXh0b0tvbnZhKFxyXG4gICAgICBvYmpUZXh0byxcclxuICAgICAgb2JqVGV4dG8udGV4dG8sXHJcbiAgICAgIG9ialRleHRvLmZvbnRTaXplXHJcbiAgICApO1xyXG4gICAgY29uc3QgbmV4dFdpZHRoRnJvbUtvbnZhID0gbWVkaXJBbmNob1RleHRvS29udmEoXHJcbiAgICAgIG9ialRleHRvLFxyXG4gICAgICBvYmpUZXh0by50ZXh0byxcclxuICAgICAgc2FmZU5leHRTaXplXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzV2lkdGggPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUocHJldmlvdXNXaWR0aEZyb21Lb252YSkgJiYgcHJldmlvdXNXaWR0aEZyb21Lb252YSA+IDBcclxuICAgICAgICA/IHByZXZpb3VzV2lkdGhGcm9tS29udmFcclxuICAgICAgICA6IHByZXZpb3VzTWV0cmljcy53aWR0aDtcclxuICAgIGNvbnN0IG5leHRXaWR0aCA9XHJcbiAgICAgIE51bWJlci5pc0Zpbml0ZShuZXh0V2lkdGhGcm9tS29udmEpICYmIG5leHRXaWR0aEZyb21Lb252YSA+IDBcclxuICAgICAgICA/IG5leHRXaWR0aEZyb21Lb252YVxyXG4gICAgICAgIDogbmV4dE1ldHJpY3Mud2lkdGg7XHJcblxyXG4gICAgY29uc3QgY3VycmVudFggPSBOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8ueCkgPyBvYmpUZXh0by54IDogMDtcclxuICAgIGNvbnN0IGNlbnRlclggPSBjdXJyZW50WCArIChwcmV2aW91c1dpZHRoIC8gMik7XHJcbiAgICByZXR1cm4gY2VudGVyWCAtIChuZXh0V2lkdGggLyAyKTtcclxuICB9LCBbb2J0ZW5lck1ldHJpY2FzVGV4dG8sIG1lZGlyQW5jaG9UZXh0b0tvbnZhXSk7XHJcblxyXG4gIGNvbnN0IGNhbGN1bGFyWFRleHRvRGVzZGVDZW50cm8gPSB1c2VDYWxsYmFjaygob2JqVGV4dG8sIG5leHRGb250U2l6ZSwgY2VudGVyWCkgPT4ge1xyXG4gICAgaWYgKCFvYmpUZXh0byB8fCBvYmpUZXh0by50aXBvICE9PSBcInRleHRvXCIpIHtcclxuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueCkgPyBvYmpUZXh0by54IDogMDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzYWZlQ2VudGVyWCA9IE51bWJlcihjZW50ZXJYKTtcclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHNhZmVDZW50ZXJYKSkge1xyXG4gICAgICByZXR1cm4gY2FsY3VsYXJYVGV4dG9DZW50cmFkb1BvclRhbWFubyhvYmpUZXh0bywgbmV4dEZvbnRTaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzYWZlTmV4dFNpemUgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dEZvbnRTaXplKSAmJiBuZXh0Rm9udFNpemUgPiAwXHJcbiAgICAgICAgPyBuZXh0Rm9udFNpemVcclxuICAgICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8uZm9udFNpemUpICYmIG9ialRleHRvLmZvbnRTaXplID4gMCA/IG9ialRleHRvLmZvbnRTaXplIDogMjQpO1xyXG4gICAgY29uc3QgYmFzZUxpbmVIZWlnaHQgPVxyXG4gICAgICB0eXBlb2Ygb2JqVGV4dG8ubGluZUhlaWdodCA9PT0gXCJudW1iZXJcIiAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxyXG4gICAgICAgID8gb2JqVGV4dG8ubGluZUhlaWdodFxyXG4gICAgICAgIDogMS4yO1xyXG5cclxuICAgIGNvbnN0IG5leHRNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzVGV4dG8ob2JqVGV4dG8udGV4dG8sIHtcclxuICAgICAgZm9udFNpemU6IHNhZmVOZXh0U2l6ZSxcclxuICAgICAgZm9udEZhbWlseTogb2JqVGV4dG8uZm9udEZhbWlseSxcclxuICAgICAgZm9udFdlaWdodDogb2JqVGV4dG8uZm9udFdlaWdodCxcclxuICAgICAgZm9udFN0eWxlOiBvYmpUZXh0by5mb250U3R5bGUsXHJcbiAgICAgIGxpbmVIZWlnaHQ6IGJhc2VMaW5lSGVpZ2h0ICogMC45MixcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbmV4dFdpZHRoRnJvbUtvbnZhID0gbWVkaXJBbmNob1RleHRvS29udmEoXHJcbiAgICAgIG9ialRleHRvLFxyXG4gICAgICBvYmpUZXh0by50ZXh0byxcclxuICAgICAgc2FmZU5leHRTaXplXHJcbiAgICApO1xyXG4gICAgY29uc3QgbmV4dFdpZHRoID1cclxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRXaWR0aEZyb21Lb252YSkgJiYgbmV4dFdpZHRoRnJvbUtvbnZhID4gMFxyXG4gICAgICAgID8gbmV4dFdpZHRoRnJvbUtvbnZhXHJcbiAgICAgICAgOiBuZXh0TWV0cmljcy53aWR0aDtcclxuXHJcbiAgICByZXR1cm4gc2FmZUNlbnRlclggLSAobmV4dFdpZHRoIC8gMik7XHJcbiAgfSwgW1xyXG4gICAgY2FsY3VsYXJYVGV4dG9DZW50cmFkb1BvclRhbWFubyxcclxuICAgIG9idGVuZXJNZXRyaWNhc1RleHRvLFxyXG4gICAgbWVkaXJBbmNob1RleHRvS29udmEsXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IGNhbGN1bGFyWVRleHRvRGVzZGVDZW50cm8gPSB1c2VDYWxsYmFjaygob2JqVGV4dG8sIG5leHRGb250U2l6ZSwgY2VudGVyWSkgPT4ge1xyXG4gICAgaWYgKCFvYmpUZXh0byB8fCBvYmpUZXh0by50aXBvICE9PSBcInRleHRvXCIpIHtcclxuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueSkgPyBvYmpUZXh0by55IDogMDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzYWZlQ2VudGVyWSA9IE51bWJlcihjZW50ZXJZKTtcclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHNhZmVDZW50ZXJZKSkge1xyXG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLnkpID8gb2JqVGV4dG8ueSA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2FmZU5leHRTaXplID1cclxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRGb250U2l6ZSkgJiYgbmV4dEZvbnRTaXplID4gMFxyXG4gICAgICAgID8gbmV4dEZvbnRTaXplXHJcbiAgICAgICAgOiAoTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLmZvbnRTaXplKSAmJiBvYmpUZXh0by5mb250U2l6ZSA+IDAgPyBvYmpUZXh0by5mb250U2l6ZSA6IDI0KTtcclxuICAgIGNvbnN0IGJhc2VMaW5lSGVpZ2h0ID1cclxuICAgICAgdHlwZW9mIG9ialRleHRvLmxpbmVIZWlnaHQgPT09IFwibnVtYmVyXCIgJiYgb2JqVGV4dG8ubGluZUhlaWdodCA+IDBcclxuICAgICAgICA/IG9ialRleHRvLmxpbmVIZWlnaHRcclxuICAgICAgICA6IDEuMjtcclxuXHJcbiAgICBjb25zdCBuZXh0TWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc1RleHRvKG9ialRleHRvLnRleHRvLCB7XHJcbiAgICAgIGZvbnRTaXplOiBzYWZlTmV4dFNpemUsXHJcbiAgICAgIGZvbnRGYW1pbHk6IG9ialRleHRvLmZvbnRGYW1pbHksXHJcbiAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQsXHJcbiAgICAgIGZvbnRTdHlsZTogb2JqVGV4dG8uZm9udFN0eWxlLFxyXG4gICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5leHRIZWlnaHRGcm9tS29udmEgPSBtZWRpckFsdG9UZXh0b0tvbnZhKFxyXG4gICAgICBvYmpUZXh0byxcclxuICAgICAgb2JqVGV4dG8udGV4dG8sXHJcbiAgICAgIHNhZmVOZXh0U2l6ZVxyXG4gICAgKTtcclxuICAgIGNvbnN0IG5leHRIZWlnaHQgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dEhlaWdodEZyb21Lb252YSkgJiYgbmV4dEhlaWdodEZyb21Lb252YSA+IDBcclxuICAgICAgICA/IG5leHRIZWlnaHRGcm9tS29udmFcclxuICAgICAgICA6IG5leHRNZXRyaWNzLmhlaWdodDtcclxuXHJcbiAgICByZXR1cm4gc2FmZUNlbnRlclkgLSAobmV4dEhlaWdodCAvIDIpO1xyXG4gIH0sIFtvYnRlbmVyTWV0cmljYXNUZXh0bywgbWVkaXJBbHRvVGV4dG9Lb252YV0pO1xyXG5cclxuICBjb25zdCBjYWxjdWxhclBvc1RleHRvRGVzZGVDZW50cm8gPSB1c2VDYWxsYmFjaygoXHJcbiAgICBvYmpUZXh0byxcclxuICAgIG5leHRGb250U2l6ZSxcclxuICAgIGNlbnRlclgsXHJcbiAgICBjZW50ZXJZLFxyXG4gICAgcm90YXRpb25EZWcgPSAwXHJcbiAgKSA9PiB7XHJcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHg6IE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueCkgPyBvYmpUZXh0by54IDogMCxcclxuICAgICAgICB5OiBudWxsLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNhZmVOZXh0U2l6ZSA9XHJcbiAgICAgIE51bWJlci5pc0Zpbml0ZShuZXh0Rm9udFNpemUpICYmIG5leHRGb250U2l6ZSA+IDBcclxuICAgICAgICA/IG5leHRGb250U2l6ZVxyXG4gICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwID8gb2JqVGV4dG8uZm9udFNpemUgOiAyNCk7XHJcbiAgICBjb25zdCBzYWZlQ2VudGVyWCA9IE51bWJlcihjZW50ZXJYKTtcclxuICAgIGNvbnN0IHNhZmVDZW50ZXJZID0gTnVtYmVyKGNlbnRlclkpO1xyXG4gICAgY29uc3Qgc2FmZVJvdGF0aW9uID0gTnVtYmVyKHJvdGF0aW9uRGVnKTtcclxuICAgIGNvbnN0IHRoZXRhID0gKE51bWJlci5pc0Zpbml0ZShzYWZlUm90YXRpb24pID8gc2FmZVJvdGF0aW9uIDogMCkgKiAoTWF0aC5QSSAvIDE4MCk7XHJcblxyXG4gICAgY29uc3QgYmFzZUxpbmVIZWlnaHQgPVxyXG4gICAgICB0eXBlb2Ygb2JqVGV4dG8ubGluZUhlaWdodCA9PT0gXCJudW1iZXJcIiAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxyXG4gICAgICAgID8gb2JqVGV4dG8ubGluZUhlaWdodFxyXG4gICAgICAgIDogMS4yO1xyXG5cclxuICAgIGNvbnN0IG1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xyXG4gICAgICBmb250U2l6ZTogc2FmZU5leHRTaXplLFxyXG4gICAgICBmb250RmFtaWx5OiBvYmpUZXh0by5mb250RmFtaWx5LFxyXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxyXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcclxuICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB3aWR0aEZyb21Lb252YSA9IG1lZGlyQW5jaG9UZXh0b0tvbnZhKFxyXG4gICAgICBvYmpUZXh0byxcclxuICAgICAgb2JqVGV4dG8udGV4dG8sXHJcbiAgICAgIHNhZmVOZXh0U2l6ZVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGhlaWdodEZyb21Lb252YSA9IG1lZGlyQWx0b1RleHRvS29udmEoXHJcbiAgICAgIG9ialRleHRvLFxyXG4gICAgICBvYmpUZXh0by50ZXh0byxcclxuICAgICAgc2FmZU5leHRTaXplXHJcbiAgICApO1xyXG4gICAgY29uc3Qgd2lkdGggPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUod2lkdGhGcm9tS29udmEpICYmIHdpZHRoRnJvbUtvbnZhID4gMFxyXG4gICAgICAgID8gd2lkdGhGcm9tS29udmFcclxuICAgICAgICA6IG1ldHJpY3Mud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUoaGVpZ2h0RnJvbUtvbnZhKSAmJiBoZWlnaHRGcm9tS29udmEgPiAwXHJcbiAgICAgICAgPyBoZWlnaHRGcm9tS29udmFcclxuICAgICAgICA6IG1ldHJpY3MuaGVpZ2h0O1xyXG5cclxuICAgIGNvbnN0IGhhbGZXID0gd2lkdGggLyAyO1xyXG4gICAgY29uc3QgaGFsZkggPSBoZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgY2VudGVyT2Zmc2V0WCA9IChoYWxmVyAqIE1hdGguY29zKHRoZXRhKSkgLSAoaGFsZkggKiBNYXRoLnNpbih0aGV0YSkpO1xyXG4gICAgY29uc3QgY2VudGVyT2Zmc2V0WSA9IChoYWxmVyAqIE1hdGguc2luKHRoZXRhKSkgKyAoaGFsZkggKiBNYXRoLmNvcyh0aGV0YSkpO1xyXG4gICAgY29uc3QgZmFsbGJhY2tYID0gY2FsY3VsYXJYVGV4dG9EZXNkZUNlbnRybyhvYmpUZXh0bywgc2FmZU5leHRTaXplLCBzYWZlQ2VudGVyWCk7XHJcbiAgICBjb25zdCBmYWxsYmFja1kgPSBjYWxjdWxhcllUZXh0b0Rlc2RlQ2VudHJvKG9ialRleHRvLCBzYWZlTmV4dFNpemUsIHNhZmVDZW50ZXJZKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiBOdW1iZXIuaXNGaW5pdGUoc2FmZUNlbnRlclgpXHJcbiAgICAgICAgPyBzYWZlQ2VudGVyWCAtIGNlbnRlck9mZnNldFhcclxuICAgICAgICA6IGZhbGxiYWNrWCxcclxuICAgICAgeTogTnVtYmVyLmlzRmluaXRlKHNhZmVDZW50ZXJZKVxyXG4gICAgICAgID8gc2FmZUNlbnRlclkgLSBjZW50ZXJPZmZzZXRZXHJcbiAgICAgICAgOiBmYWxsYmFja1ksXHJcbiAgICAgIHdpZHRoLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICB9O1xyXG4gIH0sIFtcclxuICAgIG9idGVuZXJNZXRyaWNhc1RleHRvLFxyXG4gICAgbWVkaXJBbmNob1RleHRvS29udmEsXHJcbiAgICBtZWRpckFsdG9UZXh0b0tvbnZhLFxyXG4gICAgY2FsY3VsYXJYVGV4dG9EZXNkZUNlbnRybyxcclxuICAgIGNhbGN1bGFyWVRleHRvRGVzZGVDZW50cm8sXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IGFqdXN0YXJGb250U2l6ZUFBbmNob1Zpc3VhbCA9IHVzZUNhbGxiYWNrKChvYmpUZXh0bywgcHJvcG9zZWRGb250U2l6ZSwgdGFyZ2V0VmlzdWFsV2lkdGgpID0+IHtcclxuICAgIGNvbnN0IHNhZmVQcm9wb3NlZCA9IE51bWJlcihwcm9wb3NlZEZvbnRTaXplKTtcclxuICAgIGNvbnN0IHNhZmVUYXJnZXRXaWR0aCA9IE51bWJlcih0YXJnZXRWaXN1YWxXaWR0aCk7XHJcbiAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6c3RhcnRcIiwge1xyXG4gICAgICBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwsXHJcbiAgICAgIHByb3Bvc2VkRm9udFNpemU6IHNhZmVQcm9wb3NlZCxcclxuICAgICAgdGFyZ2V0VmlzdWFsV2lkdGg6IHNhZmVUYXJnZXRXaWR0aCxcclxuICAgICAgY3VycmVudEZvbnRTaXplOiBvYmpUZXh0bz8uZm9udFNpemUgPz8gbnVsbCxcclxuICAgIH0pO1xyXG4gICAgaWYgKCFvYmpUZXh0byB8fCBvYmpUZXh0by50aXBvICE9PSBcInRleHRvXCIpIHtcclxuICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOnNraXAtaW52YWxpZC1vYmpcIiwgeyBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwgfSk7XHJcbiAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUoc2FmZVByb3Bvc2VkKSAmJiBzYWZlUHJvcG9zZWQgPiAwID8gc2FmZVByb3Bvc2VkIDogMjQ7XHJcbiAgICB9XHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzYWZlUHJvcG9zZWQpIHx8IHNhZmVQcm9wb3NlZCA8PSAwKSB7XHJcbiAgICAgIHRleHRSZXNpemVEZWJ1ZyhcImZpdC13aWR0aDpza2lwLWludmFsaWQtc2l6ZVwiLCB7IGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCB9KTtcclxuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwID8gb2JqVGV4dG8uZm9udFNpemUgOiAyNDtcclxuICAgIH1cclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHNhZmVUYXJnZXRXaWR0aCkgfHwgc2FmZVRhcmdldFdpZHRoIDw9IDApIHtcclxuICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOnNraXAtaW52YWxpZC13aWR0aFwiLCB7IGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCB9KTtcclxuICAgICAgcmV0dXJuIHNhZmVQcm9wb3NlZDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV4dFNpemUgPSBNYXRoLm1heCg2LCBzYWZlUHJvcG9zZWQpO1xyXG5cclxuICAgIC8vIERvcyBpdGVyYWNpb25lcyBhbGNhbnphbiBwYXJhIGNvbXBlbnNhciBlbCBkZXNhanVzdGUgZW50cmUgcHJldmlldyBlc2NhbGFkbyB5IHJlbmRlciBmaW5hbC5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSArPSAxKSB7XHJcbiAgICAgIGNvbnN0IG1lYXN1cmVkV2lkdGggPSBtZWRpckFuY2hvVGV4dG9Lb252YShcclxuICAgICAgICBvYmpUZXh0byxcclxuICAgICAgICBvYmpUZXh0by50ZXh0byxcclxuICAgICAgICBuZXh0U2l6ZVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShtZWFzdXJlZFdpZHRoKSB8fCBtZWFzdXJlZFdpZHRoIDw9IDApIHtcclxuICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6YnJlYWstbm8tbWVhc3VyZVwiLCB7XHJcbiAgICAgICAgICBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwsXHJcbiAgICAgICAgICBpdGVyYXRpb246IGksXHJcbiAgICAgICAgICBtZWFzdXJlZFdpZHRoLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByYXRpbyA9IHNhZmVUYXJnZXRXaWR0aCAvIG1lYXN1cmVkV2lkdGg7XHJcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHJhdGlvKSB8fCByYXRpbyA8PSAwKSB7XHJcbiAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOmJyZWFrLWludmFsaWQtcmF0aW9cIiwge1xyXG4gICAgICAgICAgaWQ6IG9ialRleHRvPy5pZCA/PyBudWxsLFxyXG4gICAgICAgICAgaXRlcmF0aW9uOiBpLFxyXG4gICAgICAgICAgcmF0aW8sXHJcbiAgICAgICAgICBtZWFzdXJlZFdpZHRoLFxyXG4gICAgICAgICAgdGFyZ2V0VmlzdWFsV2lkdGg6IHNhZmVUYXJnZXRXaWR0aCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2FuZGlkYXRlID0gTWF0aC5tYXgoNiwgbmV4dFNpemUgKiByYXRpbyk7XHJcbiAgICAgIHRleHRSZXNpemVEZWJ1ZyhcImZpdC13aWR0aDppdGVyXCIsIHtcclxuICAgICAgICBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwsXHJcbiAgICAgICAgaXRlcmF0aW9uOiBpLFxyXG4gICAgICAgIG1lYXN1cmVkV2lkdGgsXHJcbiAgICAgICAgcmF0aW8sXHJcbiAgICAgICAgcHJldlNpemU6IG5leHRTaXplLFxyXG4gICAgICAgIGNhbmRpZGF0ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChNYXRoLmFicyhjYW5kaWRhdGUgLSBuZXh0U2l6ZSkgPD0gMC4wMSkge1xyXG4gICAgICAgIG5leHRTaXplID0gY2FuZGlkYXRlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIG5leHRTaXplID0gY2FuZGlkYXRlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZmluYWxTaXplID0gTnVtYmVyKG5leHRTaXplLnRvRml4ZWQoMykpO1xyXG4gICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOmVuZFwiLCB7XHJcbiAgICAgIGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCxcclxuICAgICAgZmluYWxTaXplLFxyXG4gICAgICB0YXJnZXRWaXN1YWxXaWR0aDogc2FmZVRhcmdldFdpZHRoLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZmluYWxTaXplO1xyXG4gIH0sIFttZWRpckFuY2hvVGV4dG9Lb252YSwgdGV4dFJlc2l6ZURlYnVnXSk7XHJcblxyXG4gIGNvbnN0IGNhbGN1bGFyWFRleHRvQ2VudHJhZG8gPSB1c2VDYWxsYmFjaygob2JqVGV4dG8sIHRleHRvT2JqZXRpdm8pID0+IHtcclxuICAgIGlmICghb2JqVGV4dG8gfHwgb2JqVGV4dG8udGlwbyAhPT0gXCJ0ZXh0b1wiKSByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG9ialRleHRvPy54KSA/IG9ialRleHRvLnggOiAwO1xyXG5cclxuICAgIGNvbnN0IGJhc2VMaW5lSGVpZ2h0ID1cclxuICAgICAgdHlwZW9mIG9ialRleHRvLmxpbmVIZWlnaHQgPT09IFwibnVtYmVyXCIgJiYgb2JqVGV4dG8ubGluZUhlaWdodCA+IDBcclxuICAgICAgICA/IG9ialRleHRvLmxpbmVIZWlnaHRcclxuICAgICAgICA6IDEuMjtcclxuXHJcbiAgICBjb25zdCBwcmV2aW91c01ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xyXG4gICAgICBmb250U2l6ZTogb2JqVGV4dG8uZm9udFNpemUsXHJcbiAgICAgIGZvbnRGYW1pbHk6IG9ialRleHRvLmZvbnRGYW1pbHksXHJcbiAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQsXHJcbiAgICAgIGZvbnRTdHlsZTogb2JqVGV4dG8uZm9udFN0eWxlLFxyXG4gICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBuZXh0TWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc1RleHRvKHRleHRvT2JqZXRpdm8sIHtcclxuICAgICAgZm9udFNpemU6IG9ialRleHRvLmZvbnRTaXplLFxyXG4gICAgICBmb250RmFtaWx5OiBvYmpUZXh0by5mb250RmFtaWx5LFxyXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxyXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcclxuICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcHJldmlvdXNXaWR0aEZyb21Lb252YSA9IG1lZGlyQW5jaG9UZXh0b0tvbnZhKG9ialRleHRvLCBvYmpUZXh0by50ZXh0byk7XHJcbiAgICBjb25zdCBuZXh0V2lkdGhGcm9tS29udmEgPSBtZWRpckFuY2hvVGV4dG9Lb252YShvYmpUZXh0bywgdGV4dG9PYmpldGl2byk7XHJcblxyXG4gICAgY29uc3QgcHJldmlvdXNXaWR0aCA9XHJcbiAgICAgIE51bWJlci5pc0Zpbml0ZShwcmV2aW91c1dpZHRoRnJvbUtvbnZhKSAmJiBwcmV2aW91c1dpZHRoRnJvbUtvbnZhID4gMFxyXG4gICAgICAgID8gcHJldmlvdXNXaWR0aEZyb21Lb252YVxyXG4gICAgICAgIDogcHJldmlvdXNNZXRyaWNzLndpZHRoO1xyXG4gICAgY29uc3QgbmV4dFdpZHRoID1cclxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRXaWR0aEZyb21Lb252YSkgJiYgbmV4dFdpZHRoRnJvbUtvbnZhID4gMFxyXG4gICAgICAgID8gbmV4dFdpZHRoRnJvbUtvbnZhXHJcbiAgICAgICAgOiBuZXh0TWV0cmljcy53aWR0aDtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50WCA9IE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by54KSA/IG9ialRleHRvLnggOiAwO1xyXG4gICAgY29uc3QgY2VudGVyWCA9IGN1cnJlbnRYICsgKHByZXZpb3VzV2lkdGggLyAyKTtcclxuICAgIHJldHVybiBjZW50ZXJYIC0gKG5leHRXaWR0aCAvIDIpO1xyXG4gIH0sIFtvYnRlbmVyTWV0cmljYXNUZXh0bywgbWVkaXJBbmNob1RleHRvS29udmFdKTtcclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBkZXNjcmliZVRhcmdldCA9ICh0YXJnZXQpID0+IHtcclxuICAgICAgaWYgKHRhcmdldCA9PT0gd2luZG93KSByZXR1cm4gXCJ3aW5kb3dcIjtcclxuICAgICAgaWYgKHRhcmdldCA9PT0gZG9jdW1lbnQpIHJldHVybiBcImRvY3VtZW50XCI7XHJcbiAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm4gXCJ1bmtub3duXCI7XHJcbiAgICAgIGNvbnN0IHRhZyA9IFN0cmluZyh0YXJnZXQudGFnTmFtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBjb25zdCBpZCA9IHRhcmdldC5pZCA/IGAjJHt0YXJnZXQuaWR9YCA6IFwiXCI7XHJcbiAgICAgIGNvbnN0IGNsYXNzZXMgPSB0YXJnZXQuY2xhc3NMaXN0Py5sZW5ndGhcclxuICAgICAgICA/IGAuJHtBcnJheS5mcm9tKHRhcmdldC5jbGFzc0xpc3QpLnNsaWNlKDAsIDIpLmpvaW4oXCIuXCIpfWBcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICAgIHJldHVybiBgJHt0YWd9JHtpZH0ke2NsYXNzZXN9YCB8fCBcImVsZW1lbnRcIjtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaXNJbnNpZGVGbG9hdGluZ1VpID0gKHRhcmdldCkgPT4ge1xyXG4gICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICByZXR1cm4gQm9vbGVhbihcclxuICAgICAgICB0YXJnZXQuY2xvc2VzdChcIi5tZW51LXotaW5kZXhcIikgfHxcclxuICAgICAgICB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtb3B0aW9uLWJ1dHRvbj1cInRydWVcIl0nKVxyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVQb2ludGVyT3V0c2lkZSA9IChldmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnNpZGVGbG9hdGluZ1VpID0gaXNJbnNpZGVGbG9hdGluZ1VpKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgIGlmIChpbnNpZGVGbG9hdGluZ1VpKSB7XHJcbiAgICAgICAgbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnKFwib3V0c2lkZS1pZ25vcmVcIiwge1xyXG4gICAgICAgICAgc291cmNlOiBcImdsb2JhbC1wb2ludGVyZG93blwiLFxyXG4gICAgICAgICAgdGFyZ2V0OiBkZXNjcmliZVRhcmdldChldmVudC50YXJnZXQpLFxyXG4gICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50eXBlLFxyXG4gICAgICAgICAgcG9pbnRlclR5cGU6IGV2ZW50LnBvaW50ZXJUeXBlID8/IG51bGwsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRNb3N0cmFyUGFuZWxaKChwcmV2KSA9PiB7XHJcbiAgICAgICAgaWYgKCFwcmV2KSByZXR1cm4gcHJldjtcclxuICAgICAgICBsb2dPcHRpb25CdXR0b25NZW51RGVidWcoXCJvdXRzaWRlLWNsb3NlXCIsIHtcclxuICAgICAgICAgIHNvdXJjZTogXCJnbG9iYWwtcG9pbnRlcmRvd25cIixcclxuICAgICAgICAgIHRhcmdldDogZGVzY3JpYmVUYXJnZXQoZXZlbnQudGFyZ2V0KSxcclxuICAgICAgICAgIGV2ZW50VHlwZTogZXZlbnQudHlwZSxcclxuICAgICAgICAgIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSA/PyBudWxsLFxyXG4gICAgICAgICAgcHJldixcclxuICAgICAgICAgIG5leHQ6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIFwiUG9pbnRlckV2ZW50XCIgaW4gd2luZG93KSB7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyT3V0c2lkZSwgdHJ1ZSk7XHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGhhbmRsZVBvaW50ZXJPdXRzaWRlLCB0cnVlKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZVBvaW50ZXJPdXRzaWRlLCB0cnVlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGhhbmRsZVBvaW50ZXJPdXRzaWRlLCB7XHJcbiAgICAgIGNhcHR1cmU6IHRydWUsXHJcbiAgICAgIHBhc3NpdmU6IHRydWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZVBvaW50ZXJPdXRzaWRlLCB0cnVlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgaGFuZGxlUG9pbnRlck91dHNpZGUsIHRydWUpO1xyXG4gICAgfTtcclxuICB9LCBbbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnXSk7XHJcblxyXG5cclxuXHJcbiAgY29uc3QgYWN0dWFsaXphckZvbmRvU2VjY2lvbiA9IChpZCwgbnVldm9Gb25kbykgPT4ge1xyXG4gICAgc2V0U2VjY2lvbmVzKChwcmV2KSA9PlxyXG4gICAgICBwcmV2Lm1hcCgocykgPT4gcy5pZCA9PT0gaWQgPyB7IC4uLnMsIGZvbmRvOiBudWV2b0ZvbmRvIH0gOiBzKVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICB1c2VLZXlib2FyZFNob3J0Y3V0cyh7XHJcbiAgICBvbkRlc2hhY2VyLFxyXG4gICAgb25SZWhhY2VyLFxyXG4gICAgb25EdXBsaWNhcixcclxuICAgIG9uRWxpbWluYXIsXHJcbiAgICBvbkRlc2VsZWNjaW9uYXI6ICgpID0+IHtcclxuICAgICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW10pO1xyXG4gICAgICAgIHNldE1vc3RyYXJQYW5lbFooZmFsc2UpO1xyXG4gICAgICAgIHNldE1vc3RyYXJTdWJtZW51Q2FwYShmYWxzZSk7XHJcbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yRnVlbnRlKGZhbHNlKTtcclxuICAgICAgICBzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm8oZmFsc2UpO1xyXG4gICAgICAgIHNldEhvdmVySWQobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkNvcGlhcixcclxuICAgIG9uUGVnYXIsXHJcbiAgICBvbkNhbWJpYXJBbGluZWFjaW9uLFxyXG4gICAgaXNFZGl0aW5nOiAhIWVkaXRpbmcuaWQsXHJcbiAgICB0aWVuZVNlbGVjY2lvbjogZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPiAwXHJcbiAgfSk7XHJcblxyXG5cclxuICBjb25zdCBjYW1iaWFyQ29sb3JGb25kb1NlY2Npb24gPSB1c2VDYWxsYmFjaygoc2VjY2lvbklkLCBudWV2b0NvbG9yKSA9PiB7XHJcblxyXG4gICAgc2V0U2VjY2lvbmVzKHByZXYgPT5cclxuICAgICAgcHJldi5tYXAocyA9PiB7XHJcbiAgICAgICAgaWYgKHMuaWQgIT09IHNlY2Npb25JZCkgcmV0dXJuIHM7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4ucywgZm9uZG86IG51ZXZvQ29sb3IgfTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfSwgW3NldFNlY2Npb25lc10pO1xyXG5cclxuXHJcbiAgdXNlRWRpdG9yV2luZG93QnJpZGdlKHtcclxuICAgIHNlY2Npb25lc09yZGVuYWRhcyxcclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNlY2Npb25BY3RpdmFJZCxcclxuICAgIG9iamV0b3MsXHJcbiAgICBhbHRvQ2FudmFzLFxyXG4gICAgY2FsY3VsYXJPZmZzZXRZLFxyXG5cclxuICAgIGNhbWJpYXJDb2xvckZvbmRvU2VjY2lvbixcclxuXHJcbiAgICBvbkRlc2hhY2VyLFxyXG4gICAgb25SZWhhY2VyLFxyXG4gICAgaGlzdG9yaWFsTGVuZ3RoOiBoaXN0b3JpYWwubGVuZ3RoLFxyXG4gICAgZnV0dXJvc0xlbmd0aDogZnV0dXJvcy5sZW5ndGgsXHJcblxyXG4gICAgc3RhZ2VSZWYsXHJcbiAgfSk7XHJcblxyXG5cclxuICBjb25zdCBlc1NlY2Npb25QYW50YWxsYUJ5SWQgPSB1c2VDYWxsYmFjaygoc2VjY2lvbklkKSA9PiB7XHJcbiAgICBjb25zdCBzID0gc2VjY2lvbmVzT3JkZW5hZGFzLmZpbmQoeCA9PiB4LmlkID09PSBzZWNjaW9uSWQpO1xyXG4gICAgcmV0dXJuIHMgJiYgbm9ybWFsaXphckFsdG9Nb2RvKHMuYWx0b01vZG8pID09PSBcInBhbnRhbGxhXCI7XHJcbiAgfSwgW3NlY2Npb25lc09yZGVuYWRhc10pO1xyXG5cclxuXHJcbiAgY29uc3QgYWx0b0NhbnZhc0RpbmFtaWNvID0gc2VjY2lvbmVzT3JkZW5hZGFzLnJlZHVjZSgoYWNjLCBzKSA9PiBhY2MgKyBzLmFsdHVyYSwgMCkgfHwgODAwO1xyXG5cclxuICBjb25zdCBhYnJpck1vZGFsQm9ycmFyU2VjY2lvbiA9IHVzZUNhbGxiYWNrKChzZWNjaW9uSWQpID0+IHtcclxuICAgIGlmICghc2VjY2lvbklkIHx8IGlzRGVsZXRpbmdTZWN0aW9uKSByZXR1cm47XHJcbiAgICBzZXREZWxldGVTZWN0aW9uTW9kYWwoeyBpc09wZW46IHRydWUsIHNlY3Rpb25JZDogc2VjY2lvbklkIH0pO1xyXG4gIH0sIFtpc0RlbGV0aW5nU2VjdGlvbl0pO1xyXG5cclxuICBjb25zdCBjZXJyYXJNb2RhbEJvcnJhclNlY2Npb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoaXNEZWxldGluZ1NlY3Rpb24pIHJldHVybjtcclxuICAgIHNldERlbGV0ZVNlY3Rpb25Nb2RhbCh7IGlzT3BlbjogZmFsc2UsIHNlY3Rpb25JZDogbnVsbCB9KTtcclxuICB9LCBbaXNEZWxldGluZ1NlY3Rpb25dKTtcclxuXHJcbiAgY29uc3QgY29uZmlybWFyQm9ycmFyU2VjY2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHNlY2Npb25JZCA9IGRlbGV0ZVNlY3Rpb25Nb2RhbC5zZWN0aW9uSWQ7XHJcbiAgICBpZiAoIXNlY2Npb25JZCB8fCBpc0RlbGV0aW5nU2VjdGlvbikgcmV0dXJuO1xyXG5cclxuICAgIHNldElzRGVsZXRpbmdTZWN0aW9uKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgYm9ycmFyU2VjY2lvbkV4dGVybmFsKHtcclxuICAgICAgICBzZWNjaW9uSWQsXHJcbiAgICAgICAgc2VjY2lvbmVzLFxyXG4gICAgICAgIG9iamV0b3MsXHJcbiAgICAgICAgc2x1ZyxcclxuICAgICAgICBzZWNjaW9uQWN0aXZhSWQsXHJcbiAgICAgICAgc2V0U2VjY2lvbmVzLFxyXG4gICAgICAgIHNldE9iamV0b3MsXHJcbiAgICAgICAgc2V0U2VjY2lvbkFjdGl2YUlkLFxyXG4gICAgICB9KTtcclxuICAgICAgc2V0RGVsZXRlU2VjdGlvbk1vZGFsKHsgaXNPcGVuOiBmYWxzZSwgc2VjdGlvbklkOiBudWxsIH0pO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNEZWxldGluZ1NlY3Rpb24oZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtcclxuICAgIGRlbGV0ZVNlY3Rpb25Nb2RhbC5zZWN0aW9uSWQsXHJcbiAgICBpc0RlbGV0aW5nU2VjdGlvbixcclxuICAgIHNlY2Npb25lcyxcclxuICAgIG9iamV0b3MsXHJcbiAgICBzbHVnLFxyXG4gICAgc2VjY2lvbkFjdGl2YUlkLFxyXG4gICAgc2V0U2VjY2lvbmVzLFxyXG4gICAgc2V0T2JqZXRvcyxcclxuICAgIHNldFNlY2Npb25BY3RpdmFJZCxcclxuICBdKTtcclxuXHJcblxyXG4gIC8vIDMpIENhZGEgdmV6IHF1ZSBlbCB1c3VhcmlvIHNlbGVjY2lvbmEgdW5hIHNlY2Npw7NuLCBhY3R1YWxpemFtb3MgZ2xvYmFsIHkgbm90aWZpY2Ftb3NcclxuICBjb25zdCBvblNlbGVjdFNlY2Npb24gPSB1c2VDYWxsYmFjaygoaWQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldFNlY2Npb25BY3RpdmFJZChpZCk7XHJcbiAgICAgIHdpbmRvdy5fc2VjY2lvbkFjdGl2YUlkID0gaWQ7XHJcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcInNlY2Npb24tYWN0aXZhXCIsIHsgZGV0YWlsOiB7IGlkIH0gfSkpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXCJObyBwdWRlIGVtaXRpciBzZWNjaW9uLWFjdGl2YTpcIiwgZSk7XHJcbiAgICB9XHJcbiAgfSwgW3NldFNlY2Npb25BY3RpdmFJZF0pO1xyXG5cclxuICBjb25zdCByZXNvbHZlclZpZXdwb3J0U2Nyb2xsU2VjY2lvbmVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCkgfHwgc3RhZ2VSZWYuY3VycmVudCB8fCBudWxsO1xyXG4gICAgY29uc3Qgc3RhZ2VDb250YWluZXIgPSBzdGFnZT8uY29udGFpbmVyPy4oKTtcclxuICAgIGlmICghc3RhZ2VDb250YWluZXIgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3QgbWFpbkVsZW1lbnQgPSBzdGFnZUNvbnRhaW5lci5jbG9zZXN0Py4oXCJtYWluXCIpO1xyXG4gICAgaWYgKG1haW5FbGVtZW50KSByZXR1cm4gbWFpbkVsZW1lbnQ7XHJcblxyXG4gICAgbGV0IGN1cnJlbnQgPSBzdGFnZUNvbnRhaW5lci5wYXJlbnRFbGVtZW50O1xyXG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGN1cnJlbnQpO1xyXG4gICAgICBjb25zdCBvdmVyZmxvd1kgPSBTdHJpbmcoc3R5bGUub3ZlcmZsb3dZIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gU3RyaW5nKHN0eWxlLm92ZXJmbG93IHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGNvbnN0IGlzU2Nyb2xsYWJsZSA9XHJcbiAgICAgICAgb3ZlcmZsb3dZID09PSBcImF1dG9cIiB8fFxyXG4gICAgICAgIG92ZXJmbG93WSA9PT0gXCJzY3JvbGxcIiB8fFxyXG4gICAgICAgIG92ZXJmbG93WSA9PT0gXCJvdmVybGF5XCIgfHxcclxuICAgICAgICBvdmVyZmxvdyA9PT0gXCJhdXRvXCIgfHxcclxuICAgICAgICBvdmVyZmxvdyA9PT0gXCJzY3JvbGxcIiB8fFxyXG4gICAgICAgIG92ZXJmbG93ID09PSBcIm92ZXJsYXlcIjtcclxuXHJcbiAgICAgIGlmIChpc1Njcm9sbGFibGUgJiYgY3VycmVudC5zY3JvbGxIZWlnaHQgPiBjdXJyZW50LmNsaWVudEhlaWdodCArIDEpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgfVxyXG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB3aW5kb3c7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFzZWNjaW9uZXNPcmRlbmFkYXMubGVuZ3RoIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKSB8fCBzdGFnZVJlZi5jdXJyZW50IHx8IG51bGw7XHJcbiAgICBjb25zdCBzdGFnZUNvbnRhaW5lciA9IHN0YWdlPy5jb250YWluZXI/LigpO1xyXG4gICAgaWYgKCFzdGFnZUNvbnRhaW5lcikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHN0YWdlUmVjdCA9IHN0YWdlQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdD8uKCk7XHJcbiAgICBpZiAoIXN0YWdlUmVjdCB8fCAhTnVtYmVyLmlzRmluaXRlKHN0YWdlUmVjdC50b3ApIHx8ICFOdW1iZXIuaXNGaW5pdGUoc3RhZ2VSZWN0LmhlaWdodCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZpZXdwb3J0ID0gYXV0b1NlY3Rpb25WaWV3cG9ydFJlZi5jdXJyZW50IHx8IHJlc29sdmVyVmlld3BvcnRTY3JvbGxTZWNjaW9uZXMoKTtcclxuICAgIGlmICghdmlld3BvcnQpIHJldHVybjtcclxuXHJcbiAgICBsZXQgdmlld3BvcnRUb3AgPSAwO1xyXG4gICAgbGV0IHZpZXdwb3J0Qm90dG9tID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgMDtcclxuXHJcbiAgICBpZiAodmlld3BvcnQgIT09IHdpbmRvdykge1xyXG4gICAgICBjb25zdCB2aWV3cG9ydFJlY3QgPSB2aWV3cG9ydC5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xyXG4gICAgICBpZiAoIXZpZXdwb3J0UmVjdCkgcmV0dXJuO1xyXG4gICAgICB2aWV3cG9ydFRvcCA9IHZpZXdwb3J0UmVjdC50b3A7XHJcbiAgICAgIHZpZXdwb3J0Qm90dG9tID0gdmlld3BvcnRSZWN0LmJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2aWV3cG9ydFRvcCkgfHwgIU51bWJlci5pc0Zpbml0ZSh2aWV3cG9ydEJvdHRvbSkgfHwgdmlld3BvcnRCb3R0b20gPD0gdmlld3BvcnRUb3ApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFsdHVyYVN0YWdlUHggPSBOdW1iZXIoc3RhZ2VSZWN0LmhlaWdodCB8fCAwKTtcclxuICAgIGNvbnN0IGFsdHVyYUNhbnZhcyA9IE1hdGgubWF4KDEsIE51bWJlcihhbHRvQ2FudmFzRGluYW1pY28pIHx8IDEpO1xyXG4gICAgaWYgKCEoYWx0dXJhU3RhZ2VQeCA+IDApKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgcHhQb3JVbmlkYWQgPSBhbHR1cmFTdGFnZVB4IC8gYWx0dXJhQ2FudmFzO1xyXG4gICAgaWYgKCEocHhQb3JVbmlkYWQgPiAwKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNlbnRyb1ZpZXdwb3J0ID0gKHZpZXdwb3J0VG9wICsgdmlld3BvcnRCb3R0b20pIC8gMjtcclxuICAgIGxldCBtZWpvcklkID0gbnVsbDtcclxuICAgIGxldCBtZWpvclZpc2libGUgPSAwO1xyXG4gICAgbGV0IG1lam9yUmF0aW8gPSAtMTtcclxuICAgIGxldCBtZWpvckRpc3RhbmNpYUNlbnRybyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuXHJcbiAgICBzZWNjaW9uZXNPcmRlbmFkYXMuZm9yRWFjaCgoc2VjY2lvbiwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3QgYWx0dXJhU2VjY2lvbiA9IE1hdGgubWF4KDEsIE51bWJlcihzZWNjaW9uLmFsdHVyYSkgfHwgMSk7XHJcbiAgICAgIGNvbnN0IG9mZnNldFkgPSBjYWxjdWxhck9mZnNldFkoc2VjY2lvbmVzT3JkZW5hZGFzLCBpbmRleCk7XHJcbiAgICAgIGNvbnN0IHRvcCA9IHN0YWdlUmVjdC50b3AgKyBvZmZzZXRZICogcHhQb3JVbmlkYWQ7XHJcbiAgICAgIGNvbnN0IGJvdHRvbSA9IHRvcCArIGFsdHVyYVNlY2Npb24gKiBweFBvclVuaWRhZDtcclxuXHJcbiAgICAgIGNvbnN0IHZpc2libGUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihib3R0b20sIHZpZXdwb3J0Qm90dG9tKSAtIE1hdGgubWF4KHRvcCwgdmlld3BvcnRUb3ApKTtcclxuICAgICAgaWYgKHZpc2libGUgPD0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgcmF0aW9WaXNpYmxlID0gdmlzaWJsZSAvIChhbHR1cmFTZWNjaW9uICogcHhQb3JVbmlkYWQpO1xyXG4gICAgICBjb25zdCBkaXN0YW5jaWFDZW50cm8gPSBNYXRoLmFicygodG9wICsgYm90dG9tKSAvIDIgLSBjZW50cm9WaWV3cG9ydCk7XHJcblxyXG4gICAgICBjb25zdCBtZWpvcmFQb3JWaXNpYmxlID0gdmlzaWJsZSA+IG1lam9yVmlzaWJsZSArIDE7XHJcbiAgICAgIGNvbnN0IGVtcGF0ZVZpc2libGUgPSBNYXRoLmFicyh2aXNpYmxlIC0gbWVqb3JWaXNpYmxlKSA8PSAxO1xyXG4gICAgICBjb25zdCBtZWpvcmFQb3JSYXRpbyA9IGVtcGF0ZVZpc2libGUgJiYgcmF0aW9WaXNpYmxlID4gbWVqb3JSYXRpbyArIDAuMDAxO1xyXG4gICAgICBjb25zdCBlbXBhdGVSYXRpbyA9IGVtcGF0ZVZpc2libGUgJiYgTWF0aC5hYnMocmF0aW9WaXNpYmxlIC0gbWVqb3JSYXRpbykgPD0gMC4wMDE7XHJcbiAgICAgIGNvbnN0IG1lam9yYVBvckNlbnRybyA9IGVtcGF0ZVJhdGlvICYmIGRpc3RhbmNpYUNlbnRybyA8IG1lam9yRGlzdGFuY2lhQ2VudHJvO1xyXG5cclxuICAgICAgaWYgKG1lam9yYVBvclZpc2libGUgfHwgbWVqb3JhUG9yUmF0aW8gfHwgbWVqb3JhUG9yQ2VudHJvKSB7XHJcbiAgICAgICAgbWVqb3JJZCA9IHNlY2Npb24uaWQ7XHJcbiAgICAgICAgbWVqb3JWaXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICBtZWpvclJhdGlvID0gcmF0aW9WaXNpYmxlO1xyXG4gICAgICAgIG1lam9yRGlzdGFuY2lhQ2VudHJvID0gZGlzdGFuY2lhQ2VudHJvO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIW1lam9ySWQpIHJldHVybjtcclxuICAgIGlmIChzZWNjaW9uQWN0aXZhSWRSZWYuY3VycmVudCA9PT0gbWVqb3JJZCkgcmV0dXJuO1xyXG5cclxuICAgIG9uU2VsZWN0U2VjY2lvbihtZWpvcklkKTtcclxuICB9LCBbYWx0b0NhbnZhc0RpbmFtaWNvLCBvblNlbGVjdFNlY2Npb24sIHJlc29sdmVyVmlld3BvcnRTY3JvbGxTZWNjaW9uZXMsIHNlY2Npb25lc09yZGVuYWRhc10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICBpZiAoIXNlY2Npb25lc09yZGVuYWRhcy5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XHJcblxyXG4gICAgYXV0b1NlY3Rpb25WaWV3cG9ydFJlZi5jdXJyZW50ID0gcmVzb2x2ZXJWaWV3cG9ydFNjcm9sbFNlY2Npb25lcygpO1xyXG4gICAgY29uc3Qgc2Nyb2xsVGFyZ2V0ID0gYXV0b1NlY3Rpb25WaWV3cG9ydFJlZi5jdXJyZW50IHx8IHdpbmRvdztcclxuXHJcbiAgICBjb25zdCBzY2hlZHVsZVN5bmMgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChhdXRvU2VjdGlvblNjcm9sbFJhZlJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgIGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICBhdXRvU2VjdGlvblNjcm9sbFJhZlJlZi5jdXJyZW50ID0gMDtcclxuICAgICAgICBzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBzY2hlZHVsZVN5bmMoKTtcclxuXHJcbiAgICBjb25zdCBldmVudFRhcmdldCA9IHNjcm9sbFRhcmdldCA9PT0gd2luZG93ID8gd2luZG93IDogc2Nyb2xsVGFyZ2V0O1xyXG4gICAgZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVN5bmMsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlU3luYyk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIHNjaGVkdWxlU3luYyk7XHJcblxyXG4gICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xyXG4gICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVN5bmMpO1xyXG4gICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY2hlZHVsZVN5bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2NoZWR1bGVTeW5jKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgc2NoZWR1bGVTeW5jKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBzY2hlZHVsZVN5bmMpO1xyXG4gICAgICBpZiAod2luZG93LnZpc3VhbFZpZXdwb3J0KSB7XHJcbiAgICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2NoZWR1bGVTeW5jKTtcclxuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY2hlZHVsZVN5bmMpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhdXRvU2VjdGlvblNjcm9sbFJhZlJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtyZXNvbHZlclZpZXdwb3J0U2Nyb2xsU2VjY2lvbmVzLCBzZWNjaW9uZXNPcmRlbmFkYXMubGVuZ3RoLCBzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsXSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAvLyA/PyBOVUVWTyBIT09LIFBBUkEgR1XDjUFTXHJcbiAgY29uc3Qge1xyXG4gICAgZ3VpYUxpbmVhcyxcclxuICAgIG1vc3RyYXJHdWlhcyxcclxuICAgIGxpbXBpYXJHdWlhcyxcclxuICAgIGNvbmZpZ3VyYXJEcmFnRW5kXHJcbiAgfSA9IHVzZUd1aWFzQ2VudHJhZG8oe1xyXG4gICAgYW5jaG9DYW52YXM6IDgwMCxcclxuICAgIGFsdG9DYW52YXM6IGFsdG9DYW52YXNEaW5hbWljbyxcclxuICAgIC8vIFVYOiBndcOtYSBkZSBzZWNjacOzbiBzb2xvIGFsIGNlbnRyYXIsIGNvbiBpbcOhbiBzdXRpbC5cclxuICAgIG1hcmdlblNlbnNpYmlsaWRhZDogOCxcclxuICAgIG1hZ25ldFJhZGl1czogMTAsXHJcbiAgICBzZWN0aW9uTWFnbmV0UmFkaXVzOiA2LFxyXG4gICAgc25hcFN0cmVuZ3RoOiAwLjgsXHJcbiAgICBzZWN0aW9uU25hcFN0cmVuZ3RoOiAxLFxyXG4gICAgc2VjdGlvbkxpbmVUb2xlcmFuY2U6IDAuNzUsXHJcbiAgICBzbmFwVG9FZGdlczogdHJ1ZSxcclxuICAgIHNuYXBUb0NlbnRlcnM6IHRydWUsXHJcbiAgICBzZWNjaW9uZXNPcmRlbmFkYXNcclxuICB9KTtcclxuXHJcbiAgLy8gPz8gRnVuY2nDs24gcGFyYSBhY3R1YWxpemFyIHBvc2ljacOzbiBkZWwgYm90w7NuIFNJTiByZS1yZW5kZXJcclxuICBjb25zdCB7IGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgfSA9IHVzZU9wdGlvbkJ1dHRvblBvc2l0aW9uKHtcclxuICAgIGJvdG9uT3BjaW9uZXNSZWYsXHJcbiAgICBsYXlvdXRSb290UmVmOiBlZGl0b3JPdmVybGF5Um9vdFJlZixcclxuICAgIGVsZW1lbnRSZWZzLFxyXG4gICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcyxcclxuICAgIHN0YWdlUmVmLFxyXG4gICAgZXNjYWxhVmlzdWFsLFxyXG4gICAgZXNjYWxhQWN0aXZhLFxyXG4gICAgaXNNb2JpbGUsXHJcbiAgICBidXR0b25TaXplOiBvcHRpb25CdXR0b25TaXplLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUcmFuc2Zvcm1JbnRlcmFjdGlvblN0YXJ0ID0gdXNlQ2FsbGJhY2soKHBheWxvYWQgPSB7fSkgPT4ge1xyXG4gICAgY29uc3Qgcm90YXRpbmcgPSBwYXlsb2FkPy5pc1JvdGF0ZSA9PT0gdHJ1ZTtcclxuICAgIHNldElzU2VsZWN0aW9uUm90YXRpbmcocm90YXRpbmcpO1xyXG4gICAgaWYgKHJvdGF0aW5nKSB7XHJcbiAgICAgIHNldE1vc3RyYXJQYW5lbFooZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVHJhbnNmb3JtSW50ZXJhY3Rpb25FbmQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRJc1NlbGVjdGlvblJvdGF0aW5nKGZhbHNlKTtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIGlmICh0eXBlb2YgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyhcInRyYW5zZm9ybS1pbnRlcmFjdGlvbi1lbmRcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sIFthY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPT09IDEgJiYgIWVkaXRpbmcuaWQpIHJldHVybjtcclxuICAgIHNldElzU2VsZWN0aW9uUm90YXRpbmcoZmFsc2UpO1xyXG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCwgZWRpdGluZy5pZF0pO1xyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBvbkRyYWdTdGFydEdsb2JhbCA9ICgpID0+IHtcclxuICAgICAgLy8gbGltcGlhciBob3Zlci9wcmVzZWxlY2Npw7NuIGlubWVkaWF0YW1lbnRlIHBhcmEgZXZpdGFyIFwiZmxhc2hcIiB2aXN1YWxcclxuICAgICAgZmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICBzZXRIb3ZlcklkKG51bGwpO1xyXG4gICAgICAgIHNldEVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MoW10pO1xyXG4gICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRHJhZ0VuZEdsb2JhbCA9ICgpID0+IHtcclxuICAgICAgLy8gbmFkYSBwb3IgYWhvcmE7IHNpIHF1aXNpZXJhcywgcG9kcsOtYXMgcmVjYWxjdWxhciBhbGdvIGFjw6FcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZ2luZy1zdGFydFwiLCBvbkRyYWdTdGFydEdsb2JhbCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdnaW5nLWVuZFwiLCBvbkRyYWdFbmRHbG9iYWwpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnZ2luZy1zdGFydFwiLCBvbkRyYWdTdGFydEdsb2JhbCk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ2dpbmctZW5kXCIsIG9uRHJhZ0VuZEdsb2JhbCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gIC8vID8/IE9QVElNSVpBQ0nDk046IExpbXBpYXIgY2FjaGUgZGUgaW50ZXJzZWNjacOzbiBhbCBjYW1iaWFyIHNlbGVjY2nDs25cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gTGltcGlhciBjYWNoZSBjdWFuZG8gY2FtYmlhIGxhIHNlbGVjY2nDs25cclxuICAgIGlmICh3aW5kb3cuX2xpbmVJbnRlcnNlY3Rpb25DYWNoZSkge1xyXG4gICAgICB3aW5kb3cuX2xpbmVJbnRlcnNlY3Rpb25DYWNoZSA9IHt9O1xyXG4gICAgfVxyXG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aF0pO1xyXG5cclxuICAvLyA/PyBPUFRJTUlaQUNJw5NOOiBGb3J6YXIgYWN0dWFsaXphY2nDs24gZGUgbMOtbmVhcyBkZXNwdcOpcyBkZSBkcmFnIGdydXBhbFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAod2luZG93Ll9ncnVwb0xpZGVyIHx8IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgLy8gU29sbyBjb3JyZXIgZXN0YSBvcHRpbWl6YWNpw7NuIGN1YW5kbyBhY2FiYSBkZSBmaW5hbGl6YXIgdW4gZHJhZyBncnVwYWwuXHJcbiAgICBjb25zdCBub3cgPVxyXG4gICAgICB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgPyBwZXJmb3JtYW5jZS5ub3coKVxyXG4gICAgICAgIDogRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHJlY2VudGx5RW5kZWRHcm91cERyYWcgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUod2luZG93Ll9za2lwVW50aWwpICYmIHdpbmRvdy5fc2tpcFVudGlsID4gbm93O1xyXG4gICAgaWYgKCFyZWNlbnRseUVuZGVkR3JvdXBEcmFnKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaGF5TGluZWFzID0gb2JqZXRvcy5zb21lKG9iaiA9PlxyXG4gICAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmluY2x1ZGVzKG9iai5pZCkgJiZcclxuICAgICAgb2JqLnRpcG8gPT09ICdmb3JtYScgJiZcclxuICAgICAgb2JqLmZpZ3VyYSA9PT0gJ2xpbmUnXHJcbiAgICApO1xyXG4gICAgaWYgKCFoYXlMaW5lYXMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmZvckVhY2goaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBlbGVtZW50UmVmcy5jdXJyZW50W2lkXTtcclxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLmdldExheWVyKSB7XHJcbiAgICAgICAgICBub2RlLmdldExheWVyKCk/LmJhdGNoRHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9LCA1MCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgfSwgW2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MsIG9iamV0b3NdKTtcclxuXHJcblxyXG4gIGNvbnN0IGRldGVjdGFySW50ZXJzZWNjaW9uTGluZWEgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIHJldHVybiAobGluZU9iaiwgYXJlYSwgc3RhZ2UpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoIWxpbmVPYmogfHwgIWFyZWEgfHwgIWxpbmVPYmoucG9pbnRzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBwb2ludHMgPSBsaW5lT2JqLnBvaW50cztcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSB8fCBwb2ludHMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgcG9pbnRzID0gWzAsIDAsIDEwMCwgMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwdW50b3NMaW1waW9zID0gW1xyXG4gICAgICAgICAgcGFyc2VGbG9hdChwb2ludHNbMF0pIHx8IDAsXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvaW50c1sxXSkgfHwgMCxcclxuICAgICAgICAgIHBhcnNlRmxvYXQocG9pbnRzWzJdKSB8fCAxMDAsXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvaW50c1szXSkgfHwgMFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vID8/IFVTQVIgTEEgUE9TSUNJw5NOIERFTCBOT0RPIFJFQUwgRU4gRUwgU1RBR0VcclxuICAgICAgICBjb25zdCBub2RlID0gd2luZG93Ll9lbGVtZW50UmVmcz8uW2xpbmVPYmouaWRdO1xyXG4gICAgICAgIGNvbnN0IGxpbmVYID0gbm9kZSA/IG5vZGUueCgpIDogKGxpbmVPYmoueCB8fCAwKTtcclxuICAgICAgICBjb25zdCBsaW5lWSA9IG5vZGUgPyBub2RlLnkoKSA6IChsaW5lT2JqLnkgfHwgMCk7XHJcblxyXG4gICAgICAgIC8vIENvb3JkZW5hZGFzIGFic29sdXRhcyBkZSBsb3MgcHVudG9zXHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gbGluZVggKyBwdW50b3NMaW1waW9zWzBdO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGxpbmVZICsgcHVudG9zTGltcGlvc1sxXTtcclxuICAgICAgICBjb25zdCBlbmRYID0gbGluZVggKyBwdW50b3NMaW1waW9zWzJdO1xyXG4gICAgICAgIGNvbnN0IGVuZFkgPSBsaW5lWSArIHB1bnRvc0xpbXBpb3NbM107XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gPz8gTcOJVE9ETyAxOiBWZXJpZmljYXIgc2kgYWxnw7puIHB1bnRvIGVzdMOhIGRlbnRybyBkZWwgw6FyZWFcclxuICAgICAgICBjb25zdCBzdGFydERlbnRybyA9IChcclxuICAgICAgICAgIHN0YXJ0WCA+PSBhcmVhLnggJiYgc3RhcnRYIDw9IGFyZWEueCArIGFyZWEud2lkdGggJiZcclxuICAgICAgICAgIHN0YXJ0WSA+PSBhcmVhLnkgJiYgc3RhcnRZIDw9IGFyZWEueSArIGFyZWEuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgZW5kRGVudHJvID0gKFxyXG4gICAgICAgICAgZW5kWCA+PSBhcmVhLnggJiYgZW5kWCA8PSBhcmVhLnggKyBhcmVhLndpZHRoICYmXHJcbiAgICAgICAgICBlbmRZID49IGFyZWEueSAmJiBlbmRZIDw9IGFyZWEueSArIGFyZWEuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChzdGFydERlbnRybyB8fCBlbmREZW50cm8pIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gPz8gTcOJVE9ETyAyOiBWZXJpZmljYXIgaW50ZXJzZWNjacOzbiBsw61uZWEtcmVjdMOhbmd1bG9cclxuICAgICAgICBjb25zdCBpbnRlcnNlY3RhID0gbGluZUludGVyc2VjdHNSZWN0KFxyXG4gICAgICAgICAgc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksXHJcbiAgICAgICAgICBhcmVhLngsIGFyZWEueSwgYXJlYS54ICsgYXJlYS53aWR0aCwgYXJlYS55ICsgYXJlYS5oZWlnaHRcclxuICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKGludGVyc2VjdGEpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBGdW5jacOzbiBhdXhpbGlhciBwYXJhIHZlcmlmaWNhciBpbnRlcnNlY2Npw7NuIGzDrW5lYS1yZWN0w6FuZ3Vsb1xyXG4gIGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzUmVjdCh4MSwgeTEsIHgyLCB5MiwgcmVjdExlZnQsIHJlY3RUb3AsIHJlY3RSaWdodCwgcmVjdEJvdHRvbSkge1xyXG4gICAgLy8gVmVyaWZpY2FyIHNpIGxhIGzDrW5lYSBpbnRlcnNlY3RhIGNvbiBhbGd1bm8gZGUgbG9zIDQgbGFkb3MgZGVsIHJlY3TDoW5ndWxvXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0VG9wLCByZWN0UmlnaHQsIHJlY3RUb3ApIHx8IC8vIFRvcFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RSaWdodCwgcmVjdFRvcCwgcmVjdFJpZ2h0LCByZWN0Qm90dG9tKSB8fCAvLyBSaWdodFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0Qm90dG9tLCByZWN0UmlnaHQsIHJlY3RCb3R0b20pIHx8IC8vIEJvdHRvbVxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0VG9wLCByZWN0TGVmdCwgcmVjdEJvdHRvbSkgLy8gTGVmdFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEZ1bmNpw7NuIGF1eGlsaWFyIHBhcmEgdmVyaWZpY2FyIGludGVyc2VjY2nDs24gbMOtbmVhLWzDrW5lYVxyXG4gIGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzTGluZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcclxuICAgIGNvbnN0IGRlbm9tID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xyXG4gICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMDAwMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHQgPSAoKHgxIC0geDMpICogKHkzIC0geTQpIC0gKHkxIC0geTMpICogKHgzIC0geDQpKSAvIGRlbm9tO1xyXG4gICAgY29uc3QgdSA9IC0oKHgxIC0geDIpICogKHkxIC0geTMpIC0gKHkxIC0geTIpICogKHgxIC0geDMpKSAvIGRlbm9tO1xyXG5cclxuICAgIHJldHVybiB0ID49IDAgJiYgdCA8PSAxICYmIHUgPj0gMCAmJiB1IDw9IDE7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gPz8gQWp1c3RhciBlbCB0cmFuc2Zvcm1lciBjdWFuZG8gY2FtYmlhIGVsIHRleHRvIGlubGluZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWVkaXRpbmcuaWQgfHwgIWVsZW1lbnRSZWZzLmN1cnJlbnRbZWRpdGluZy5pZF0pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBub2RlID0gZWxlbWVudFJlZnMuY3VycmVudFtlZGl0aW5nLmlkXTtcclxuICAgIGNvbnN0IG9iamV0b0VuRWRpY2lvbiA9IG9iamV0b3MuZmluZCgobykgPT4gby5pZCA9PT0gZWRpdGluZy5pZCk7XHJcbiAgICBpZiAoIW9iamV0b0VuRWRpY2lvbikgcmV0dXJuO1xyXG4gICAgY29uc3Qgbm9kZUNsYXNzID0gbm9kZS5nZXRDbGFzc05hbWU/LigpO1xyXG4gICAgY29uc3QgYmVmb3JlTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobm9kZSk7XHJcbiAgICBjb25zdCBlZGl0aW5nVmFsdWUgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuXHJcbiAgICBjb25zdCBzaG91bGRLZWVwQ2VudGVyUHJldmlldyA9XHJcbiAgICAgIG9iamV0b0VuRWRpY2lvbi50aXBvID09PSBcInRleHRvXCIgJiZcclxuICAgICAgIW9iamV0b0VuRWRpY2lvbi5fX2dyb3VwQWxpZ24gJiZcclxuICAgICAgIU51bWJlci5pc0Zpbml0ZShvYmpldG9FbkVkaWNpb24ud2lkdGgpICYmXHJcbiAgICAgIG9iamV0b0VuRWRpY2lvbi5fX2F1dG9XaWR0aCAhPT0gZmFsc2U7XHJcblxyXG4gICAgY29uc3QgZXhwZWN0ZWRYID0gc2hvdWxkS2VlcENlbnRlclByZXZpZXdcclxuICAgICAgPyBjYWxjdWxhclhUZXh0b0NlbnRyYWRvKG9iamV0b0VuRWRpY2lvbiwgZWRpdGluZ1ZhbHVlKVxyXG4gICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqZXRvRW5FZGljaW9uLngpID8gb2JqZXRvRW5FZGljaW9uLnggOiBudWxsKTtcclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcInByZXZpZXctZWZmZWN0LXN0YXJ0XCIsIHtcclxuICAgICAgaWQ6IGVkaXRpbmcuaWQsXHJcbiAgICAgIHZhbHVlTGVuZ3RoOiBlZGl0aW5nVmFsdWUubGVuZ3RoLFxyXG4gICAgICBub2RlQ2xhc3MsXHJcbiAgICAgIG9ialg6IG9iamV0b0VuRWRpY2lvbi54ID8/IG51bGwsXHJcbiAgICAgIG9ialk6IG9iamV0b0VuRWRpY2lvbi55ID8/IG51bGwsXHJcbiAgICAgIHNob3VsZEtlZXBDZW50ZXJQcmV2aWV3LFxyXG4gICAgICBleHBlY3RlZFgsXHJcbiAgICAgIGJlZm9yZU1ldHJpY3MsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyA/PyBBY3R1YWxpemFyIGVsIHRyYW5zZm9ybWVyIHNpIGVzdMOhIHByZXNlbnRlXHJcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG5vZGUuZ2V0U3RhZ2UoKT8uZmluZE9uZSgnVHJhbnNmb3JtZXInKTtcclxuICAgIGlmICh0cmFuc2Zvcm1lciAmJiB0cmFuc2Zvcm1lci5ub2RlcyAmJiB0cmFuc2Zvcm1lci5ub2RlcygpLmluY2x1ZGVzKG5vZGUpKSB7XHJcbiAgICAgIHRyYW5zZm9ybWVyLmZvcmNlVXBkYXRlKCk7IC8vIEFjdHVhbGl6YSBtYW51YWxtZW50ZSBlbCB0cmFuc2Zvcm1lclxyXG4gICAgICB0cmFuc2Zvcm1lci5nZXRMYXllcigpPy5iYXRjaERyYXcoKTsgLy8gUmVkaWJ1amFcclxuXHJcbiAgICAgIGxldCB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVjdCA9IHRyYW5zZm9ybWVyLmdldENsaWVudFJlY3Qoe1xyXG4gICAgICAgICAgc2tpcFRyYW5zZm9ybTogZmFsc2UsXHJcbiAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgc2tpcFN0cm9rZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW5saW5lRGVidWdMb2coXCJwcmV2aWV3LXRyYW5zZm9ybWVyLXVwZGF0ZWRcIiwge1xyXG4gICAgICAgIGlkOiBlZGl0aW5nLmlkLFxyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVjdDogdHJhbnNmb3JtZXJSZWN0XHJcbiAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICB4OiB0cmFuc2Zvcm1lclJlY3QueCxcclxuICAgICAgICAgICAgICB5OiB0cmFuc2Zvcm1lclJlY3QueSxcclxuICAgICAgICAgICAgICB3aWR0aDogdHJhbnNmb3JtZXJSZWN0LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogdHJhbnNmb3JtZXJSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhZnRlck1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lKG5vZGUpO1xyXG4gICAgY29uc3QgYWZ0ZXJYID1cclxuICAgICAgdHlwZW9mIG5vZGUueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS54KCkgOiBhZnRlck1ldHJpY3M/LnggPz8gbnVsbDtcclxuICAgIGlubGluZURlYnVnTG9nKFwicHJldmlldy1wcm9wcy1zeW5jXCIsIHtcclxuICAgICAgaWQ6IGVkaXRpbmcuaWQsXHJcbiAgICAgIHZhbHVlTGVuZ3RoOiBlZGl0aW5nVmFsdWUubGVuZ3RoLFxyXG4gICAgICBleHBlY3RlZFgsXHJcbiAgICAgIGFmdGVyWCxcclxuICAgICAgZGVsdGFYOlxyXG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShhZnRlclgpICYmIE51bWJlci5pc0Zpbml0ZShleHBlY3RlZFgpXHJcbiAgICAgICAgICA/IGFmdGVyWCAtIGV4cGVjdGVkWFxyXG4gICAgICAgICAgOiBudWxsLFxyXG4gICAgICBiZWZvcmVNZXRyaWNzLFxyXG4gICAgICBhZnRlck1ldHJpY3MsXHJcbiAgICB9KTtcclxuICB9LCBbZWRpdGluZy5pZCwgZWRpdGluZy52YWx1ZSwgb2JqZXRvcywgb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZSwgY2FsY3VsYXJYVGV4dG9DZW50cmFkb10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgcGVuZGluZyA9IGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXBlbmRpbmc/LmlkKSByZXR1cm47XHJcbiAgICBpZiAoZWRpdGluZy5pZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGZpbmFsT2JqID0gb2JqZXRvcy5maW5kKChvKSA9PiBvLmlkID09PSBwZW5kaW5nLmlkKTtcclxuICAgIGNvbnN0IGZpbmFsTm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbcGVuZGluZy5pZF07XHJcbiAgICBjb25zdCBmaW5hbE5vZGVNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShmaW5hbE5vZGUpO1xyXG4gICAgY29uc3QgZmluYWxYID0gTnVtYmVyLmlzRmluaXRlKGZpbmFsT2JqPy54KSA/IGZpbmFsT2JqLnggOiBudWxsO1xyXG4gICAgY29uc3QgZGVsdGFGaW5hbFZzRXhwZWN0ZWQgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUoZmluYWxYKSAmJiBOdW1iZXIuaXNGaW5pdGUocGVuZGluZy5leHBlY3RlZFgpXHJcbiAgICAgICAgPyBmaW5hbFggLSBwZW5kaW5nLmV4cGVjdGVkWFxyXG4gICAgICAgIDogbnVsbDtcclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1wb3N0LWNvbW1pdFwiLCB7XHJcbiAgICAgIC4uLnBlbmRpbmcsXHJcbiAgICAgIGZpbmFsWCxcclxuICAgICAgZGVsdGFGaW5hbFZzRXhwZWN0ZWQsXHJcbiAgICAgIGZpbmFsTm9kZU1ldHJpY3MsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpbmxpbmVDb21taXREZWJ1Z1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCB9O1xyXG4gIH0sIFtlZGl0aW5nLmlkLCBvYmpldG9zLCBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB3aW5kb3cuX2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MgPSBlbGVtZW50b3NTZWxlY2Npb25hZG9zO1xyXG4gICAgd2luZG93Ll9vYmpldG9zQWN0dWFsZXMgPSBvYmpldG9zO1xyXG4gICAgd2luZG93Ll9lbGVtZW50UmVmcyA9IGVsZW1lbnRSZWZzLmN1cnJlbnQ7XHJcbiAgICB3aW5kb3cuX3NlY2Npb25lc09yZGVuYWRhcyA9IFsuLi5zZWNjaW9uZXNdLnNvcnQoKGEsIGIpID0+IGEub3JkZW4gLSBiLm9yZGVuKTtcclxuICAgIHdpbmRvdy5fYWx0b0NhbnZhcyA9IGFsdG9DYW52YXM7XHJcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiZWRpdG9yLXNlbGVjdGlvbi1jaGFuZ2VcIiwge1xyXG4gICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgaWRzOiBbLi4uZWxlbWVudG9zU2VsZWNjaW9uYWRvc10sXHJcbiAgICAgICAgICBhY3RpdmVTZWN0aW9uSWQ6IHNlY2Npb25BY3RpdmFJZCB8fCBudWxsLFxyXG4gICAgICAgICAgZ2FsbGVyeUNlbGw6IGNlbGRhR2FsZXJpYUFjdGl2YSB8fCBudWxsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLCBvYmpldG9zLCBzZWNjaW9uZXMsIGFsdG9DYW52YXMsIHNlY2Npb25BY3RpdmFJZCwgY2VsZGFHYWxlcmlhQWN0aXZhXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWNlbGRhR2FsZXJpYUFjdGl2YSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHsgb2JqSWQgfSA9IGNlbGRhR2FsZXJpYUFjdGl2YTtcclxuICAgIGNvbnN0IGdhbGVyaWFFeGlzdGUgPSBvYmpldG9zLnNvbWUoKG8pID0+IG8uaWQgPT09IG9iaklkICYmIG8udGlwbyA9PT0gXCJnYWxlcmlhXCIpO1xyXG4gICAgaWYgKCFnYWxlcmlhRXhpc3RlKSB7XHJcbiAgICAgIHNldENlbGRhR2FsZXJpYUFjdGl2YShudWxsKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCAhPT0gMSB8fCBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdICE9PSBvYmpJZCkge1xyXG4gICAgICBzZXRDZWxkYUdhbGVyaWFBY3RpdmEobnVsbCk7XHJcbiAgICB9XHJcbiAgfSwgW2NlbGRhR2FsZXJpYUFjdGl2YSwgZWxlbWVudG9zU2VsZWNjaW9uYWRvcywgb2JqZXRvc10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgd2luZG93Ll9jZWxkYUdhbGVyaWFBY3RpdmEgPSBjZWxkYUdhbGVyaWFBY3RpdmEgfHwgbnVsbDtcclxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJlZGl0b3ItZ2FsbGVyeS1jZWxsLWNoYW5nZVwiLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7IGNlbGw6IGNlbGRhR2FsZXJpYUFjdGl2YSB8fCBudWxsIH0sXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH0sIFtjZWxkYUdhbGVyaWFBY3RpdmFdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJzZWNjaW9uLWFjdGl2YVwiLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7IGlkOiBzZWNjaW9uQWN0aXZhSWQgfHwgbnVsbCB9LFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9LCBbc2VjY2lvbkFjdGl2YUlkXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIHdpbmRvdy5zZXRIb3ZlcklkR2xvYmFsID0gc2V0SG92ZXJJZDtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmICh3aW5kb3cuc2V0SG92ZXJJZEdsb2JhbCA9PT0gc2V0SG92ZXJJZCkge1xyXG4gICAgICAgIGRlbGV0ZSB3aW5kb3cuc2V0SG92ZXJJZEdsb2JhbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWhvdmVySWQpIHJldHVybjtcclxuICAgIGNvbnN0IGV4aXN0cyA9IG9iamV0b3Muc29tZSgobykgPT4gby5pZCA9PT0gaG92ZXJJZCk7XHJcbiAgICBpZiAoIWV4aXN0cykgc2V0SG92ZXJJZChudWxsKTtcclxuICB9LCBbaG92ZXJJZCwgb2JqZXRvc10pO1xyXG5cclxuXHJcblxyXG4gIC8vIENsZWFudXAgZGVsIHNpc3RlbWEgaW1wZXJhdGl2b1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpbXBlcmF0aXZlT2JqZWN0cy5jbGVhbnVwKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuICBjb25zdCBzdGFnZUdlc3R1cmVzID0gdXNlU3RhZ2VHZXN0dXJlcyh7XHJcbiAgICBzZWNjaW9uZXMsXHJcbiAgICBvYmpldG9zLFxyXG4gICAgZWxlbWVudFJlZnMsXHJcbiAgICBkcmFnU3RhcnRQb3MsXHJcbiAgICBoYXNEcmFnZ2VkLFxyXG4gICAgc2VsZWNjaW9uQWN0aXZhLFxyXG4gICAgaW5pY2lvU2VsZWNjaW9uLFxyXG4gICAgYXJlYVNlbGVjY2lvbixcclxuICAgIGRldGVjdGFySW50ZXJzZWNjaW9uTGluZWEsXHJcbiAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zLFxyXG4gICAgc2V0RWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcyxcclxuICAgIHNldFNlbGVjY2lvbkFjdGl2YSxcclxuICAgIHNldEluaWNpb1NlbGVjY2lvbixcclxuICAgIHNldEFyZWFTZWxlY2Npb24sXHJcbiAgICBvblNlbGVjdFNlY2Npb24sXHJcbiAgICBjZXJyYXJNZW51c0Zsb3RhbnRlcyxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgbW9iaWxlQ2FudmFzVG9vbGJhck9mZnNldCA9IG1vYmlsZVRleHRUb29sYmFyVmlzaWJsZVxyXG4gICAgPyBtb2JpbGVCb3R0b21UeXBvZ3JhcGh5U3RyaXBWaXNpYmxlXHJcbiAgICAgID8gODhcclxuICAgICAgOiAzMlxyXG4gICAgOiAwO1xyXG5cclxuICBjb25zdCBtb2JpbGVTZWN0aW9uQWN0aW9uc1RvcCA9IG1vYmlsZUJvdHRvbVR5cG9ncmFwaHlTdHJpcFZpc2libGVcclxuICAgID8gXCJjYWxjKDE3MnB4ICsgZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDBweCkpXCJcclxuICAgIDogbW9iaWxlVGV4dFRvb2xiYXJWaXNpYmxlXHJcbiAgICAgID8gXCJjYWxjKDExOHB4ICsgZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDBweCkpXCJcclxuICAgICAgOiBcImNhbGMoNjRweCArIGVudihzYWZlLWFyZWEtaW5zZXQtdG9wLCAwcHgpKVwiO1xyXG5cclxuICBjb25zdCBzY2FsZWRDYW52YXNIZWlnaHRDb21wZW5zYXRpb24gPSBpc01vYmlsZSAmJlxyXG4gICAgTnVtYmVyLmlzRmluaXRlKGVzY2FsYVZpc3VhbCkgJiZcclxuICAgIE51bWJlci5pc0Zpbml0ZShhbHRvQ2FudmFzRGluYW1pY28pXHJcbiAgICA/IChlc2NhbGFWaXN1YWwgLSAxKSAqIGFsdG9DYW52YXNEaW5hbWljb1xyXG4gICAgOiAwO1xyXG5cclxuXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIHJlZj17ZWRpdG9yT3ZlcmxheVJvb3RSZWZ9XHJcbiAgICAgIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIlxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIC8vID8gRGVqYW1vcyBxdWUgZWwgc2Nyb2xsIGxvIG1hbmVqZSBlbCA8bWFpbj4gZGVsIERhc2hib2FyZExheW91dCAodW4gc29sbyBzY3JvbGwpXHJcbiAgICAgICAgbWFyZ2luVG9wOiAwLFxyXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxyXG5cclxuICAgICAgICAvLyA/IFVYIG1vYmlsZTogcGVybWl0aXIgc2Nyb2xsIHZlcnRpY2FsIG5hdHVyYWwgYWxyZWRlZG9yIGRlbCBjYW52YXNcclxuICAgICAgICB0b3VjaEFjdGlvbjogXCJwYW4teVwiLFxyXG4gICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiBcInRvdWNoXCIsXHJcblxyXG4gICAgICAgIC8vID8gZXNwYWNpbyBwYXJhIHF1ZSBubyDigJxjaG9xdWXigJ0gY29uIGhlYWRlciAvIGJhcnJhc1xyXG4gICAgICAgIHBhZGRpbmdUb3A6IDEyICsgbW9iaWxlQ2FudmFzVG9vbGJhck9mZnNldCxcclxuICAgICAgICBwYWRkaW5nQm90dG9tOiBcImNhbGMoOTZweCArIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tLCAwcHgpKVwiLFxyXG4gICAgICAgIHRyYW5zaXRpb246IFwicGFkZGluZy10b3AgMTgwbXMgZWFzZVwiLFxyXG4gICAgICB9fVxyXG4gICAgPlxyXG5cclxuXHJcbiAgICAgIDxkaXZcclxuICAgICAgICByZWY9e2NvbnRlbmVkb3JSZWZ9XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgIG1heFdpZHRoOiBcIjEyMDBweFwiLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNWY1ZjVcIixcclxuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICBwYWRkaW5nVG9wOiBcIjIwcHhcIiwgLy8gPyBNRU5PUyBQQURESU5HIElOVEVSTk9cclxuICAgICAgICAgIHBhZGRpbmdCb3R0b206IFwiY2FsYyg0MHB4ICsgZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20sIDBweCkpXCIsIC8vID8gRVNQQUNJTyBJTkZFUklPUlxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtlc2NhbGFWaXN1YWx9KWAsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ3RvcCBjZW50ZXInLFxyXG4gICAgICAgICAgICB3aWR0aDogem9vbSA9PT0gMC44ID8gXCIxMjIwcHhcIiA6IFwiMTAwMHB4XCIsIC8vID8gOTIwcHggY2FudmFzICsgMTUwcHggY2FkYSBsYWRvXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogc2NhbGVkQ2FudmFzSGVpZ2h0Q29tcGVuc2F0aW9uLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcblxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IHpvb20gPT09IDAuOCA/IFwiMTIyMHB4XCIgOiBcIjEwMDBweFwiLCAvLyA/IEFKVVNUQVIgU0VHw5pOIFpPT01cclxuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuXHJcbiAgICAgICAgICAgIHsvKiBCb3RvbmVzIGRlIG9yZGVuIGRlIHNlY2Npw7NuICovfVxyXG4gICAgICAgICAgICB7c2VjY2lvbkFjdGl2YUlkICYmIHNlY2Npb25lc09yZGVuYWRhcy5tYXAoKHNlY2Npb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHNlY2Npb24uaWQgIT09IHNlY2Npb25BY3RpdmFJZCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSBjYWxjdWxhck9mZnNldFkoc2VjY2lvbmVzT3JkZW5hZGFzLCBpbmRleCwgYWx0b0NhbnZhcyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgZXNQcmltZXJhID0gaW5kZXggPT09IDA7XHJcbiAgICAgICAgICAgICAgY29uc3QgZXNVbHRpbWEgPSBpbmRleCA9PT0gc2VjY2lvbmVzT3JkZW5hZGFzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgY29uc3QgZXN0YUFuaW1hbmRvID0gc2VjY2lvbmVzQW5pbWFuZG8uaW5jbHVkZXMoc2VjY2lvbi5pZCk7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkJ1dHRvbkJhc2UgPVxyXG4gICAgICAgICAgICAgICAgXCJweC0zIHB5LTIgcm91bmRlZC14bCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJvcmRlciBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLVsjZGNjYWY3XVwiO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25EaXNhYmxlZCA9XHJcbiAgICAgICAgICAgICAgICBcImN1cnNvci1ub3QtYWxsb3dlZCBib3JkZXItZ3JheS0yMDAgYmctZ3JheS0xMDAgdGV4dC1ncmF5LTQwMCBzaGFkb3ctbm9uZVwiO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25QcmltYXJ5ID1cclxuICAgICAgICAgICAgICAgIFwiYm9yZGVyLVsjY2NiNmVmXSBiZy1ncmFkaWVudC10by1yIGZyb20tWyM4YTU3Y2ZdIHZpYS1bIzc3M2RiZV0gdG8tWyM2NzM3YjNdIHRleHQtd2hpdGUgc2hhZG93LVswXzEwcHhfMjJweF9yZ2JhKDExOSw2MSwxOTAsMC4zMCldIGhvdmVyOi10cmFuc2xhdGUteS1bMXB4XSBob3Zlcjpmcm9tLVsjN2Y0ZmM1XSBob3Zlcjp2aWEtWyM2ZjNiYmNdIGhvdmVyOnRvLVsjNWYzMWE4XSBob3ZlcjpzaGFkb3ctWzBfMTRweF8yOHB4X3JnYmEoMTE5LDYxLDE5MCwwLjM4KV1cIjtcclxuICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uQnV0dG9uTmV1dHJhbCA9XHJcbiAgICAgICAgICAgICAgICBcImJvcmRlci1bI2U0ZDdmNl0gYmctd2hpdGUvOTUgdGV4dC1bIzVmMzU5Nl0gc2hhZG93LVswXzZweF8xNnB4X3JnYmEoMTUsMjMsNDIsMC4wNildIGhvdmVyOi10cmFuc2xhdGUteS1bMXB4XSBob3Zlcjpib3JkZXItWyNjZGI5ZWVdIGhvdmVyOmJnLVsjZmFmNmZmXSBob3ZlcjpzaGFkb3ctWzBfMTJweF8yNHB4X3JnYmEoMTE5LDYxLDE5MCwwLjE2KV1cIjtcclxuICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uQnV0dG9uU3VjY2VzcyA9XHJcbiAgICAgICAgICAgICAgICBcImJvcmRlci1lbWVyYWxkLTMwMCBiZy1ncmFkaWVudC10by1yIGZyb20tZW1lcmFsZC01MDAgdG8tZW1lcmFsZC02MDAgdGV4dC13aGl0ZSBzaGFkb3ctWzBfMTBweF8yMnB4X3JnYmEoNSwxNTAsMTA1LDAuMjgpXSBob3ZlcjotdHJhbnNsYXRlLXktWzFweF0gaG92ZXI6ZnJvbS1lbWVyYWxkLTYwMCBob3Zlcjp0by1lbWVyYWxkLTcwMCBob3ZlcjpzaGFkb3ctWzBfMTRweF8yOHB4X3JnYmEoNSwxNTAsMTA1LDAuMzYpXVwiO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25EYW5nZXIgPVxyXG4gICAgICAgICAgICAgICAgXCJib3JkZXItcm9zZS0zMDAgYmctZ3JhZGllbnQtdG8tciBmcm9tLXJvc2UtNTAwIHRvLXJlZC02MDAgdGV4dC13aGl0ZSBzaGFkb3ctWzBfMTBweF8yMnB4X3JnYmEoMjI1LDI5LDcyLDAuMjgpXSBob3ZlcjotdHJhbnNsYXRlLXktWzFweF0gaG92ZXI6ZnJvbS1yb3NlLTYwMCBob3Zlcjp0by1yZWQtNzAwIGhvdmVyOnNoYWRvdy1bMF8xNHB4XzI4cHhfcmdiYSgyMjUsMjksNzIsMC4zNildXCI7XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkJ1dHRvbnMgPSAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICB7LyogQm90w7NuIFN1YmlyICovfVxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgIG1vdmVyU2VjY2lvbkV4dGVybmFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBzZWNjaW9uLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY2Npb246IFwic3ViaXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbHVnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlY2Npb25lc0FuaW1hbmRvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VzUHJpbWVyYSB8fCBlc3RhQW5pbWFuZG99XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc1ByaW1lcmEgfHwgZXN0YUFuaW1hbmRvXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25EaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBzZWN0aW9uQnV0dG9uUHJpbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSAke2VzdGFBbmltYW5kbyA/IFwiYW5pbWF0ZS1wdWxzZVwiIDogXCJcIn1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtlc1ByaW1lcmEgPyBcIllhIGVzIGxhIHByaW1lcmEgc2VjY2nDs25cIiA6IFwiU3ViaXIgc2VjY2nDs25cIn1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE1vdmVVcCBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN1YmlyIHNlY2Npw7NuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7LyogQm90w7NuIEJhamFyICovfVxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgIG1vdmVyU2VjY2lvbkV4dGVybmFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBzZWNjaW9uLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY2Npb246IFwiYmFqYXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbHVnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlY2Npb25lc0FuaW1hbmRvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VzVWx0aW1hIHx8IGVzdGFBbmltYW5kb31cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke2VzVWx0aW1hIHx8IGVzdGFBbmltYW5kb1xyXG4gICAgICAgICAgICAgICAgICAgICAgPyBzZWN0aW9uQnV0dG9uRGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvblByaW1hcnlcclxuICAgICAgICAgICAgICAgICAgICAgIH0gJHtlc3RhQW5pbWFuZG8gPyBcImFuaW1hdGUtcHVsc2VcIiA6IFwiXCJ9YH1cclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17ZXNVbHRpbWEgPyBcIllhIGVzIGxhIMO6bHRpbWEgc2VjY2nDs25cIiA6IFwiQmFqYXIgc2VjY2nDs25cIn1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8TW92ZURvd24gY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgQmFqYXIgc2VjY2nDs25cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIEJvdMOzbiBBw7FhZGlyIHNlY2Npw7NuICovfVxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JlYXJTZWNjaW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtlc3RhQW5pbWFuZG99XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc3RhQW5pbWFuZG9cclxuICAgICAgICAgICAgICAgICAgICAgID8gYCR7c2VjdGlvbkJ1dHRvbkRpc2FibGVkfSBhbmltYXRlLXB1bHNlYFxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBzZWN0aW9uQnV0dG9uUHJpbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBw7FhZGlyIHVuYSBudWV2YSBzZWNjacOzbiBkZWJham9cIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxQbHVzQ2lyY2xlIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIEHDsWFkaXIgc2VjY2nDs25cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c2VjdGlvbkJ1dHRvbkJhc2V9ICR7c2VjdGlvbkJ1dHRvbk5ldXRyYWx9IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMmB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDYW1iaWFyIGNvbG9yIGRlIGZvbmRvIGRlIGVzdGEgc2VjY2nDs25cIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMy41IHctMy41IHJvdW5kZWQgYm9yZGVyIGJvcmRlci13aGl0ZS84MCBzaGFkb3ctc21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IHNlY2Npb24uZm9uZG8gfHwgXCIjZmZmZmZmXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICBGb25kbyBzZWNjacOzblxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0b3JDb2xvclNlY2Npb25cclxuICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb249e3NlY2Npb259XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZXN0YUFuaW1hbmRvIHx8IGlzRGVsZXRpbmdTZWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpZCwgY29sb3IpID0+IGNhbWJpYXJDb2xvckZvbmRvU2VjY2lvbihpZCwgY29sb3IpfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kb1NlY2Npb24gPSBub3JtYWxpemFyQWx0b01vZG8oc2VjY2lvbi5hbHRvTW9kbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXNQYW50YWxsYSA9IG1vZG9TZWNjaW9uID09PSBcInBhbnRhbGxhXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogVG9nZ2xlIFBhbnRhbGxhIGNvbXBsZXRhICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlUGFudGFsbGFDb21wbGV0YVNlY2Npb24oc2VjY2lvbi5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc1BhbnRhbGxhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25QcmltYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlY3Rpb25CdXR0b25OZXV0cmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkhhY2UgcXVlIGVzdGEgc2VjY2nDs24gc2VhIGRlIHBhbnRhbGxhIGNvbXBsZXRhICgxMDB2aCkgYWwgcHVibGljYXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNb25pdG9yIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlc1BhbnRhbGxhID8gXCJQYW50YWxsYSBjb21wbGV0YTogT05cIiA6IFwiUGFudGFsbGEgY29tcGxldGE6IE9GRlwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQm90w7NuIERlc2FuY2xhciBmb25kbyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAge3NlY2Npb24uZm9uZG9UaXBvID09PSBcImltYWdlblwiICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNhbmNsYXJGb25kbyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBzZWNjaW9uLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpldG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlY2Npb25lcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRPYmpldG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke3NlY3Rpb25CdXR0b25OZXV0cmFsfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlc2FuY2xhciBpbWFnZW4gZGUgZm9uZG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVbmxpbmsyIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzYW5jbGFyIGZvbmRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VjY2lvbi5mb25kb1RpcG8gPT09IFwiaW1hZ2VuXCIgJiYgaXNNb2JpbGUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQoKHByZXYpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9PT0gc2VjY2lvbi5pZCA/IG51bGwgOiBzZWNjaW9uLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgPT09IHNlY2Npb24uaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYm9yZGVyLWluZGlnby0zMDAgYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby01MDAgdG8taW5kaWdvLTYwMCB0ZXh0LXdoaXRlIHNoYWRvdy1bMF8xMHB4XzIycHhfcmdiYSg3OSw3MCwyMjksMC4yOCldIGhvdmVyOi10cmFuc2xhdGUteS1bMXB4XSBob3Zlcjpmcm9tLWluZGlnby02MDAgaG92ZXI6dG8taW5kaWdvLTcwMCBob3ZlcjpzaGFkb3ctWzBfMTRweF8yOHB4X3JnYmEoNzksNzAsMjI5LDAuMzYpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWN0aW9uQnV0dG9uTmV1dHJhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIk1vZG8gbW92ZXIgZm9uZG8gZW4gbW9iaWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgPT09IHNlY2Npb24uaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIk1vdmVyIGZvbmRvOiBPTlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJNb3ZlciBmb25kb1wifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSkoKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gR3VhcmRhciBjb21vIHBsYW50aWxsYSAqL31cclxuICAgICAgICAgICAgICAgICAgeyFsb2FkaW5nQ2xhaW1zICYmIGVzQWRtaW4gJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkYXJTZWNjaW9uQ29tb1BsYW50aWxsYSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBzZWNjaW9uLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpldG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2NhclBsYW50aWxsYXNEZVNlY2Npb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZXN0YUFuaW1hbmRvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc3RhQW5pbWFuZG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWN0aW9uQnV0dG9uRGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWN0aW9uQnV0dG9uU3VjY2Vzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICR7ZXN0YUFuaW1hbmRvID8gXCJhbmltYXRlLXB1bHNlXCIgOiBcIlwifWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkd1YXJkYXIgZXN0YSBzZWNjacOzbiBjb21vIHBsYW50aWxsYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPExheWVycyBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYW50aWxsYVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIEJvdMOzbiBCb3JyYXIgc2VjY2nDs24gKi99XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGFicmlyTW9kYWxCb3JyYXJTZWNjaW9uKHNlY2Npb24uaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VzdGFBbmltYW5kbyB8fCBpc0RlbGV0aW5nU2VjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke2VzdGFBbmltYW5kbyB8fCBpc0RlbGV0aW5nU2VjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgPyBzZWN0aW9uQnV0dG9uRGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvbkRhbmdlclxyXG4gICAgICAgICAgICAgICAgICAgICAgfSAke2VzdGFBbmltYW5kbyB8fCBpc0RlbGV0aW5nU2VjdGlvbiA/IFwiYW5pbWF0ZS1wdWxzZVwiIDogXCJcIn1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQm9ycmFyIGVzdGEgc2VjY2nDs24geSB0b2RvcyBzdXMgZWxlbWVudG9zXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIEJvcnJhciBzZWNjacOzblxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoaXNNb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChcclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIHotWzkwXSBmbGV4IGZsZXgtY29sIGl0ZW1zLWVuZCBnYXAtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogbW9iaWxlU2VjdGlvbkFjdGlvbnNUb3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICByaWdodDogXCJtYXgoOHB4LCBlbnYoc2FmZS1hcmVhLWluc2V0LXJpZ2h0LCAwcHgpKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbigocHJldikgPT4gIXByZXYpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1bI2NjYjZlZl0gYmctZ3JhZGllbnQtdG8tciBmcm9tLVsjOGE1N2NmXSB2aWEtWyM3NzNkYmVdIHRvLVsjNjczN2IzXSB0ZXh0LXdoaXRlIHNoYWRvdy1bMF8xMHB4XzIycHhfcmdiYSgxMTksNjEsMTkwLDAuMzUpXSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6LXRyYW5zbGF0ZS15LVsxcHhdIGhvdmVyOmZyb20tWyM3ZjRmYzVdIGhvdmVyOnZpYS1bIzZmM2JiY10gaG92ZXI6dG8tWyM1ZjMxYThdIGhvdmVyOnNoYWRvdy1bMF8xNHB4XzI4cHhfcmdiYSgxMTksNjEsMTkwLDAuNDIpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkFjY2lvbmVzIGRlIHNlY2Npw7NuXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7bW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvblVwIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAge21vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctW21pbig4NHZ3LDIzMHB4KV0gbWF4LWgtWzYydmhdIG92ZXJmbG93LXktYXV0byByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCBiZy13aGl0ZS85NSBwLTIgc2hhZG93LTJ4bCBiYWNrZHJvcC1ibHVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMlwiPnthY3Rpb25CdXR0b25zfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+LFxyXG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LFxyXG4gICAgICAgICAgICAgICAgICBgb3JkZW4tbW9iaWxlLSR7c2VjY2lvbi5pZH1gXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAga2V5PXtgb3JkZW4tJHtzZWNjaW9uLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGZsZXggZmxleC1jb2wgZ2FwLTJcIlxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0WSArIDIwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtMTUwLFxyXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogMjUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDI2MCxcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge2FjdGlvbkJ1dHRvbnN9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KX1cclxuXHJcblxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogODAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhbHRvQ2FudmFzRGluYW1pY28sXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG5cclxuICAgICAgICAgICAgICA8U3RhZ2VcclxuICAgICAgICAgICAgICAgIHJlZj17c3RhZ2VSZWZ9XHJcbiAgICAgICAgICAgICAgICB3aWR0aD17ODAwfVxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0PXthbHRvQ2FudmFzRGluYW1pY299XHJcbiAgICAgICAgICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgbGlzdGVuaW5nPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0PXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIGhpdEdyYXBoRW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwidmlzaWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFwiMCA0cHggMjBweCByZ2JhKDAsMCwwLDAuNSlcIixcclxuICAgICAgICAgICAgICAgIH19XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXtzdGFnZUdlc3R1cmVzLm9uTW91c2VEb3dufVxyXG5cclxuICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydD17c3RhZ2VHZXN0dXJlcy5vblRvdWNoU3RhcnR9XHJcblxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaE1vdmU9e3N0YWdlR2VzdHVyZXMub25Ub3VjaE1vdmV9XHJcblxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaEVuZD17c3RhZ2VHZXN0dXJlcy5vblRvdWNoRW5kfVxyXG5cclxuICAgICAgICAgICAgICAgIG9uTW91c2VNb3ZlPXtzdGFnZUdlc3R1cmVzLm9uTW91c2VNb3ZlfVxyXG5cclxuICAgICAgICAgICAgICAgIG9uTW91c2VVcD17c3RhZ2VHZXN0dXJlcy5vbk1vdXNlVXB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPENhbnZhc0VsZW1lbnRzTGF5ZXI+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7c2VjY2lvbmVzT3JkZW5hZGFzLmZsYXRNYXAoKHNlY2Npb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWx0dXJhUHggPSBzZWNjaW9uLmFsdHVyYTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgaW5kZXgsIGFsdG9DYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzQWN0aXZhID0gc2VjY2lvbi5pZCA9PT0gc2VjY2lvbkFjdGl2YUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzdGFBbmltYW5kbyA9IHNlY2Npb25lc0FuaW1hbmRvLmluY2x1ZGVzKHNlY2Npb24uaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50b3MgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGb25kbyBkZSBzZWNjacOzbiAtIHB1ZWRlIHNlciBjb2xvciBvIGltYWdlblxyXG4gICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbi5mb25kb1RpcG8gPT09IFwiaW1hZ2VuXCIgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb25kb1NlY2Npb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Bmb25kby0ke3NlY2Npb24uaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uPXtzZWNjaW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFk9e29mZnNldFl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0dXJhUHg9e2FsdHVyYVB4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiBvblNlbGVjdFNlY2Npb24oc2VjY2lvbi5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVGb25kb09mZnNldD17YWN0dWFsaXphck9mZnNldEZvbmRvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTW9iaWxlPXtpc01vYmlsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVCYWNrZ3JvdW5kRWRpdEVuYWJsZWQ9e21vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkID09PSBzZWNjaW9uLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQmFja2dyb3VuZEltYWdlU3RhdHVzQ2hhbmdlPXtoYW5kbGVCYWNrZ3JvdW5kSW1hZ2VTdGF0dXNDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YHNlY2Npb24tJHtzZWNjaW9uLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3NlY2Npb24uaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeD17MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB5PXtvZmZzZXRZfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs4MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXthbHR1cmFQeH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPXtzZWNjaW9uLmZvbmRvIHx8IFwiI2ZmZmZmZlwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cInRyYW5zcGFyZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0U2VjY2lvbihzZWNjaW9uLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblRhcD17KCkgPT4gb25TZWxlY3RTZWNjaW9uKHNlY2Npb24uaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudG9zO1xyXG4gICAgICAgICAgICAgICAgICB9KX1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICB7LyogQ29udHJvbCBkZSBhbHR1cmEgcGFyYSBzZWNjacOzbiBhY3RpdmEgKi99XHJcbiAgICAgICAgICAgICAgICAgIHtzZWNjaW9uQWN0aXZhSWQgJiYgc2VjY2lvbmVzT3JkZW5hZGFzLm1hcCgoc2VjY2lvbiwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VjY2lvbi5pZCAhPT0gc2VjY2lvbkFjdGl2YUlkKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGluZGV4LCBhbHRvQ2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sWSA9IG9mZnNldFkgKyBzZWNjaW9uLmFsdHVyYSAtIDU7IC8vIDVweCBhbnRlcyBkZWwgZmluYWxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kb1NlY2Npb24gPSBub3JtYWxpemFyQWx0b01vZG8oc2VjY2lvbi5hbHRvTW9kbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVybWl0ZVJlc2l6ZUFsdHVyYSA9IChtb2RvU2VjY2lvbiAhPT0gXCJwYW50YWxsYVwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAgbmFtZT1cInVpXCIga2V5PXtgY29udHJvbC1hbHR1cmEtJHtzZWNjaW9uLmlkfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTMOtbmVhIGluZGljYWRvcmEgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInVpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludHM9e1s1MCwgY29udHJvbFksIDc1MCwgY29udHJvbFldfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM3NzNkYmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhc2g9e1s1LCA1XX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvbnRyb2wgY2VudHJhbCBtZWpvcmFkbyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeD17NDAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk9e2NvbnRyb2xZfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17cGVybWl0ZVJlc2l6ZUFsdHVyYX0gICAgICAgICAgICAgICAgIC8vID8gY2xhdmU6IHNpIGVzIGZhbHNlLCBubyBjYXB0dXJhIGV2ZW50b3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5PXtwZXJtaXRlUmVzaXplQWx0dXJhID8gMSA6IDAuMjV9ICAgICAgICAvLyA/IHZpc3VhbCBkZXNoYWJpbGl0YWRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qb2ludGVyRG93bj17cGVybWl0ZVJlc2l6ZUFsdHVyYSA/IChlKSA9PiBpbmljaWFyQ29udHJvbEFsdHVyYShlLCBzZWNjaW9uLmlkKSA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXRlUmVzaXplQWx0dXJhICYmICFzdXBwb3J0c1BvaW50ZXJFdmVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoZSkgPT4gaW5pY2lhckNvbnRyb2xBbHR1cmEoZSwgc2VjY2lvbi5pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ub3VjaFN0YXJ0PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pdGVSZXNpemVBbHR1cmEgJiYgIXN1cHBvcnRzUG9pbnRlckV2ZW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChlKSA9PiBpbmljaWFyQ29udHJvbEFsdHVyYShlLCBzZWNjaW9uLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udHJvbGFuZG9BbHR1cmEgJiYgcGVybWl0ZVJlc2l6ZUFsdHVyYSkgc2V0R2xvYmFsQ3Vyc29yKFwibnMtcmVzaXplXCIsIHN0YWdlUmVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250cm9sYW5kb0FsdHVyYSAmJiBwZXJtaXRlUmVzaXplQWx0dXJhKSBjbGVhckdsb2JhbEN1cnNvcihzdGFnZVJlZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyogw4FyZWEgZGUgZGV0ZWNjacOzbiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17LTQ1fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeT17LTIyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezkwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXs0NH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEZvbmRvIGRlbCBjb250cm9sIGNvbiBlc3RhZG8gYWN0aXZvICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXstMjV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstNn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs1MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPXtjb250cm9sYW5kb0FsdHVyYSA9PT0gc2VjY2lvbi5pZCA/IFwiIzc3M2RiZVwiIDogXCJyZ2JhKDExOSwgNjEsIDE5MCwgMC45KVwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzPXs2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Q29sb3I9XCJyZ2JhKDAsMCwwLDAuMylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Qmx1cj17Y29udHJvbGFuZG9BbHR1cmEgPT09IHNlY2Npb24uaWQgPyA4IDogNn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldD17eyB4OiAwLCB5OiBjb250cm9sYW5kb0FsdHVyYSA9PT0gc2VjY2lvbi5pZCA/IDQgOiAzIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBbmltYWNpw7NuIGRlIHB1bHNvIGR1cmFudGUgZWwgY29udHJvbCAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udHJvbGFuZG9BbHR1cmEgPT09IHNlY2Npb24uaWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17LTMwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstOH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezYwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezE2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjNzczZGJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1cz17OH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eT17MC42fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogSW5kaWNhZG9yIHZpc3VhbCAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17LTZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstM31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9XCI/P1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZT17MTB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseT1cIkFyaWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFB1bnRvcyBkZSBhZ2FycmUgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmNsZSB4PXstMTV9IHk9ezB9IHJhZGl1cz17MS41fSBmaWxsPVwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCIgbGlzdGVuaW5nPXtmYWxzZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY2xlIHg9ey0xMH0geT17MH0gcmFkaXVzPXsxLjV9IGZpbGw9XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIiBsaXN0ZW5pbmc9e2ZhbHNlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjbGUgeD17MTB9IHk9ezB9IHJhZGl1cz17MS41fSBmaWxsPVwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCIgbGlzdGVuaW5nPXtmYWxzZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY2xlIHg9ezE1fSB5PXswfSByYWRpdXM9ezEuNX0gZmlsbD1cInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiIGxpc3RlbmluZz17ZmFsc2V9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEZvbmRvIGRlbCBpbmRpY2Fkb3IgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeD17NzU1fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk9e2NvbnRyb2xZIC0gMTB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezQwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MjB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cInJnYmEoMTE5LCA2MSwgMTkwLCAwLjEpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJyZ2JhKDExOSwgNjEsIDE5MCwgMC4zKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzPXs0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogVGV4dG8gZGVsIGluZGljYWRvciAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB4PXs3NjB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeT17Y29udHJvbFkgLSA2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e2Ake01hdGgucm91bmQoc2VjY2lvbi5hbHR1cmEpfXB4YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZT17MTF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiM3NzNkYmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk9XCJBcmlhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodD1cImJvbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pfVxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIE92ZXJsYXkgbWVqb3JhZG8gZHVyYW50ZSBjb250cm9sIGRlIGFsdHVyYSAqL31cclxuICAgICAgICAgICAgICAgICAge2NvbnRyb2xhbmRvQWx0dXJhICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8R3JvdXAgbmFtZT1cInVpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7LyogT3ZlcmxheSBzdXRpbCAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs4MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17YWx0b0NhbnZhc0RpbmFtaWNvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwicmdiYSgxMTksIDYxLCAxOTAsIDAuMDUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgey8qIEluZGljYWRvciBkZSBsYSBzZWNjacOzbiBxdWUgc2UgZXN0w6EgbW9kaWZpY2FuZG8gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICB7c2VjY2lvbmVzT3JkZW5hZGFzLm1hcCgoc2VjY2lvbiwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGluZGV4LCBhbHRvQ2FudmFzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZG9TZWNjaW9uID0gbm9ybWFsaXphckFsdG9Nb2RvKHNlY2Npb24uYWx0b01vZG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXRlUmVzaXplQWx0dXJhID0gKG1vZG9TZWNjaW9uICE9PSBcInBhbnRhbGxhXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAga2V5PXtzZWNjaW9uLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZWN0IOKAnGZvbmRv4oCdIGNsaWNrZWFibGUgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXtvZmZzZXRZfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17ODAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3NlY2Npb24uYWx0dXJhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPXtzZWNjaW9uLmZvbmRvIHx8IFwidHJhbnNwYXJlbnRcIn0gLy8gcG9kw6lzIHBvbmVyIGJsYW5jbyB1IG90cm8gY29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZWxlY3RTZWNjaW9uKHNlY2Npb24uaWQpfSAgIC8vID8/IGRpc3BhcmEgZWwgZXZlbnRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZWN0IGhpZ2hsaWdodCBzaSBlc3TDoXMgY29udHJvbGFuZG8gbGEgYWx0dXJhICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY2Npb24uaWQgPT09IGNvbnRyb2xhbmRvQWx0dXJhICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9e29mZnNldFl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezgwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3NlY2Npb24uYWx0dXJhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzc3M2RiZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFzaD17WzgsIDRdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAge29iamV0b3MubWFwKChvYmosIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyA/PyBEZXRlcm1pbmFyIHNpIGVzdMOhIGVuIG1vZG8gZWRpY2nDs25cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0luRWRpdE1vZGUgPSBlZGl0aW5nLmlkID09PSBvYmouaWQgJiYgZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSA9PT0gb2JqLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyA/Pz8gQ2FzbyBlc3BlY2lhbDogbGEgZ2FsZXLDrWEgbGEgcmVuZGVyaXphbW9zIGFjw6EgKG5vIHVzYSBFbGVtZW50b0NhbnZhcylcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwiZ2FsZXJpYVwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbGVyaWFLb252YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17b2JqLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9iaj17b2JqfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUmVmPXtyZWdpc3RlclJlZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkhvdmVyPXtzZXRIb3ZlcklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMob2JqLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxkYUdhbGVyaWFBY3RpdmE9e2NlbGRhR2FsZXJpYUFjdGl2YX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblBpY2tDZWxsPXsoaW5mbykgPT4gc2V0Q2VsZGFHYWxlcmlhQWN0aXZhKGluZm8pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhcz17c2VjY2lvbmVzT3JkZW5hZGFzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdG9DYW52YXM9e2FsdG9DYW52YXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhpZCwgZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZT8uZXZ0ICYmIChlLmV2dC5jYW5jZWxCdWJibGUgPSB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2lkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbz17KHBvcywgaWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuX2lzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vc3RyYXJHdWlhcyhwb3MsIGlkLCBvYmpldG9zLCBlbGVtZW50UmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydFBlcnNvbmFsaXphZG89eyhkcmFnSWQgPSBvYmouaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhkcmFnSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2RyYWdJZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SG92ZXJJZChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmRQZXJzb25hbGl6YWRvPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbXBpYXJHdWlhcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpZCwgbnVldm8pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MoKHByZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHByZXYuZmluZEluZGV4KChvKSA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaV0gPSB7IC4uLnVwZGF0ZWRbaV0sIC4uLm51ZXZvIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoudGlwbyA9PT0gXCJjb3VudGRvd25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPENvdW50ZG93bktvbnZhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtvYmouaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqPXtvYmp9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWY9e3JlZ2lzdGVyUmVmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uSG92ZXI9e3NldEhvdmVySWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17ZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhvYmouaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhcz17c2VjY2lvbmVzT3JkZW5hZGFzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdG9DYW52YXM9e2FsdG9DYW52YXN9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gc2VsZWNjacOzblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoaWQsIGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU/LmV2dCAmJiAoZS5ldnQuY2FuY2VsQnViYmxlID0gdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKFtpZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gUFJFVklFVyBsaXZpYW5vIChubyB0b2NhciBlc3RhZG8gZGVsIG9iamV0byBwYXJhIHF1ZSBubyBoYXlhIGxhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydFBlcnNvbmFsaXphZG89eyhkcmFnSWQgPSBvYmouaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhkcmFnSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2RyYWdJZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SG92ZXJJZChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbz17KHBvcywgaWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3N0cmFyR3VpYXMocG9zLCBpZCwgb2JqZXRvcywgZWxlbWVudFJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gRklOIGRlIGRyYWc6IGxpbXBpYXIgZ3XDrWFzIC8gVUkgYXV4aWxpYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmRQZXJzb25hbGl6YWRvPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbXBpYXJHdWlhcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gcmVmcyBwYXJhIGVsIG1vdG9yIGRlIGRyYWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnU3RhcnRQb3M9e2RyYWdTdGFydFBvc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNEcmFnZ2VkPXtoYXNEcmFnZ2VkfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/IMKhQ2xhdmUhIEFsIGZpbmFsaXphciwgdHJhdGFtb3MgeC95IGFic29sdXRhcyBjb21vIGVuIEVsZW1lbnRvQ2FudmFzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoaWQsIGNhbWJpb3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBwcmV2LmZpbmRJbmRleChvID0+IG8uaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSByZXR1cm4gcHJldjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iak9yaWdpbmFsID0gcHJldltpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IFNpIG5vIGVzIGZpbmFsIGRlIGRyYWcsIG1lcmdlYW1vcyBzaW4gbcOhcyAobm8gdG9jYXIgY29vcmRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbWJpb3MuZmluYWxpem9EcmFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2ldID0geyAuLi51cGRhdGVkW2ldLCAuLi5jYW1iaW9zIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IEZpbmFsIGRlIGRyYWc6ICdjYW1iaW9zLnknIHZpZW5lIEFCU09MVVRBIChTdGFnZSBjb29yZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbnVldmFTZWNjaW9uLCBjb29yZGVuYWRhc0FqdXN0YWRhcyB9ID0gZGV0ZXJtaW5hck51ZXZhU2VjY2lvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW1iaW9zLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwuc2VjY2lvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSB7IC4uLmNhbWJpb3MgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5leHQuZmluYWxpem9EcmFnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZhU2VjY2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSB7IC4uLm5leHQsIC4uLmNvb3JkZW5hZGFzQWp1c3RhZGFzLCBzZWNjaW9uSWQ6IG51ZXZhU2VjY2lvbiB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnRpciB5IGFic29sdXRhID8geSByZWxhdGl2YSBhIGxhIHNlY2Npw7NuIGFjdHVhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQueSA9IGNvbnZlcnRpckFic0FSZWwoY2FtYmlvcy55LCBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsIHNlY2Npb25lc09yZGVuYWRhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaV0gPSB7IC4uLnVwZGF0ZWRbaV0sIC4uLm5leHQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpQcmV2aWV3ID1cclxuICAgICAgICAgICAgICAgICAgICAgIGVkaXRpbmcuaWQgPT09IG9iai5pZCAmJiBvYmoudGlwbyA9PT0gXCJ0ZXh0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0b1ByZXZpZXcgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3T2JqID0geyAuLi5vYmosIHRleHRvOiB0ZXh0b1ByZXZpZXcgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRLZWVwQ2VudGVyUHJldmlldyA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhb2JqLl9fZ3JvdXBBbGlnbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIU51bWJlci5pc0Zpbml0ZShvYmoud2lkdGgpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouX19hdXRvV2lkdGggIT09IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkS2VlcENlbnRlclByZXZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpZXdYID0gY2FsY3VsYXJYVGV4dG9DZW50cmFkbyhvYmosIHRleHRvUHJldmlldyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHByZXZpZXdYKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3T2JqLnggPSBwcmV2aWV3WDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aWV3T2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPEVsZW1lbnRvQ2FudmFzXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e29iai5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5vYmpQcmV2aWV3LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IHlMb2NhbDogZW4gc2VjY2nDs24gcGFudGFsbGEgdXNhbW9zIHlOb3JtICogNTAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsbGJhY2sgbGVnYWN5OiBzaSBubyBoYXkgeU5vcm0sIHVzYW1vcyBvYmoueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk6ICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhTZWMgPSBzZWNjaW9uZXNPcmRlbmFkYXMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gb2JqUHJldmlldy5zZWNjaW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGlkeFNlYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeUxvY2FsID0gZXNTZWNjaW9uUGFudGFsbGFCeUlkKG9ialByZXZpZXcuc2VjY2lvbklkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChOdW1iZXIuaXNGaW5pdGUob2JqUHJldmlldy55Tm9ybSkgPyAob2JqUHJldmlldy55Tm9ybSAqIEFMVFVSQV9QQU5UQUxMQV9FRElUT1IpIDogb2JqUHJldmlldy55KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9ialByZXZpZXcueTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geUxvY2FsICsgb2Zmc2V0WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob0NhbnZhcz17ODAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXshaXNJbkVkaXRNb2RlICYmIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMob2JqLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkNvdW50PXtlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByZVNlbGVjY2lvbmFkbz17IWlzSW5FZGl0TW9kZSAmJiBlbGVtZW50b3NQcmVTZWxlY2Npb25hZG9zLmluY2x1ZGVzKG9iai5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luRWRpdE1vZGU9e2lzSW5FZGl0TW9kZX0gLy8gPz8gTlVFVkEgUFJPUFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkhvdmVyPXtpc0luRWRpdE1vZGUgPyBudWxsIDogc2V0SG92ZXJJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWY9e3JlZ2lzdGVyUmVmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblN0YXJ0VGV4dEVkaXQ9e2lzSW5FZGl0TW9kZSA/IG51bGwgOiAoaWQsIHRleHRvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQgPSB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbmxpbmVPdmVybGF5TW91bnRlZElkKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImVudGVyOiBwcmUtc3RhcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0lkOiBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0b0xlbmd0aDogU3RyaW5nKHRleHRvID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPSBpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVFZGl0UHJldmlld1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCwgY2VudGVyWDogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwic3RhcnQtaW5saW5lLWVkaXRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0b0xlbmd0aDogU3RyaW5nKHRleHRvID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFg6IG9iaj8ueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0WTogb2JqPy55ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q3VycmVudEVkaXRpbmdJZDogd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU1ldHJpY3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RWRpdChpZCwgdGV4dG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU/LmRyYWdnYWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZT8uZ2V0TGF5ZXI/LigpPy5iYXRjaERyYXc/LigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImVudGVyOiBhZnRlci1zdGFydC1zeW5jXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNJZDogcHJldmlvdXNDdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEN1cnJlbnRFZGl0aW5nSWQ6IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0aW5nSWQ9e2VkaXRpbmcuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZU92ZXJsYXlNb3VudGVkSWQ9e2lubGluZU92ZXJsYXlNb3VudGVkSWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZVZpc2liaWxpdHlNb2RlPXtpbmxpbmVEZWJ1Z0FCLnZpc2liaWxpdHlTb3VyY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaElubGluZUVkaXQ9e2ZpbmlzaEVkaXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXtpc0luRWRpdE1vZGUgPyBudWxsIDogKGlkLCBvYmosIGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwicnN2cC1ib3RvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGluZy5pZCAmJiBlZGl0aW5nLmlkICE9PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoRWRpdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZT8uZXZ0ICYmIChlLmV2dC5jYW5jZWxCdWJibGUgPSB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXNTaGlmdCA9IGU/LmV2dD8uc2hpZnRLZXk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoKHByZXYpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXNTaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldi5pbmNsdWRlcyhpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5maWx0ZXIoKHgpID0+IHggIT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIGlkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpZCwgbnVldm8pID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IE5VRVZPOiBNYW5lamFyIHByZXZpZXcgaW5tZWRpYXRvIGRlIGRyYWcgZ3J1cGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZvLmlzRHJhZ1ByZXZpZXcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRPYmpldG9zKHByZXYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHByZXYuZmluZEluZGV4KG8gPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gcHJldjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaXNEcmFnUHJldmlldywgc2tpcEhpc3RvcmlhbCwgLi4uY2xlYW5OdWV2byB9ID0gbnVldm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaW5kZXhdID0geyAuLi51cGRhdGVkW2luZGV4XSwgLi4uY2xlYW5OdWV2byB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gTUFORUpBUiBTT0xPIGJhdGNoIHVwZGF0ZSBmaW5hbCBkZSBkcmFnIGdydXBhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWV2by5pc0JhdGNoVXBkYXRlRmluYWwgJiYgaWQgPT09ICdCQVRDSF9VUERBVEVfR1JPVVBfRklOQUwnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50b3MsIGRyYWdJbmljaWFsLCBkZWx0YVgsIGRlbHRhWSB9ID0gbnVldm87XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYubWFwKG9iamV0byA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvcy5pbmNsdWRlcyhvYmpldG8uaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ0luaWNpYWwgJiYgZHJhZ0luaWNpYWxbb2JqZXRvLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NJbmljaWFsID0gZHJhZ0luaWNpYWxbb2JqZXRvLmlkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5vYmpldG8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcG9zSW5pY2lhbC54ICsgZGVsdGFYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHBvc0luaWNpYWwueSArIGRlbHRhWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gTk8gcHJvY2VzYXIgc2kgdmllbmUgZGVsIFRyYW5zZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWV2by5mcm9tVHJhbnNmb3JtKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqT3JpZ2luYWwgPSBvYmpldG9zLmZpbmQoKG8pID0+IG8uaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9iak9yaWdpbmFsKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IFBhcmEgZHJhZyBmaW5hbCwgcHJvY2VzYXIgaW5tZWRpYXRhbWVudGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVldm8uZmluYWxpem9EcmFnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBudWV2YVNlY2Npb24sIGNvb3JkZW5hZGFzQWp1c3RhZGFzIH0gPSBkZXRlcm1pbmFyTnVldmFTZWNjaW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWV2by55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29vcmRlbmFkYXNGaW5hbGVzID0geyAuLi5udWV2byB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvb3JkZW5hZGFzRmluYWxlcy5maW5hbGl6b0RyYWc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZhU2VjY2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGVuYWRhc0ZpbmFsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29vcmRlbmFkYXNGaW5hbGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvb3JkZW5hZGFzQWp1c3RhZGFzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25JZDogbnVldmFTZWNjaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGVuYWRhc0ZpbmFsZXMueSA9IGNvbnZlcnRpckFic0FSZWwoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVldm8ueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzT3JkZW5hZGFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSkgRGV0ZXJtaW5hciBzZWNjacOzbiBmaW5hbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjY2lvbkZpbmFsSWQgPSBjb29yZGVuYWRhc0ZpbmFsZXMuc2VjY2lvbklkIHx8IG9iak9yaWdpbmFsLnNlY2Npb25JZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyKSBPYnRlbmVyIHlSZWxQeCAoeSByZWxhdGl2YSBkZW50cm8gZGUgbGEgc2VjY2nDs24gZW4gcHgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeVJlbFB4O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWV2YVNlY2Npb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29vcmRlbmFkYXNBanVzdGFkYXMgbm9ybWFsbWVudGUgeWEgdHJhZSB5IHJlbGF0aXZhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlSZWxQeCA9IE51bWJlci5pc0Zpbml0ZShjb29yZGVuYWRhc0ZpbmFsZXMueSkgPyBjb29yZGVuYWRhc0ZpbmFsZXMueSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaSBubyBjYW1iacOzIGRlIHNlY2Npw7NuLCBjb252ZXJ0aW1vcyBkZXNkZSB5IGFic29sdXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlSZWxQeCA9IE51bWJlci5pc0Zpbml0ZShjb29yZGVuYWRhc0ZpbmFsZXMueSkgPyBjb29yZGVuYWRhc0ZpbmFsZXMueSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMykgQXBsaWNhciBwb2zDrXRpY2EgcGFudGFsbGE6IGd1YXJkYXIgeU5vcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlc1NlY2Npb25QYW50YWxsYUJ5SWQoc2VjY2lvbkZpbmFsSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHlOb3JtID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgeVJlbFB4IC8gQUxUVVJBX1BBTlRBTExBX0VESVRPUikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGVuYWRhc0ZpbmFsZXMueU5vcm0gPSB5Tm9ybTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvb3JkZW5hZGFzRmluYWxlcy55OyAvLyA/IGNsYXZlOiBldml0YW1vcyBtZXpjbGFyIHNpc3RlbWFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWpvOiBndWFyZGFyIHkgZW4gcHhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRlbmFkYXNGaW5hbGVzLnkgPSB5UmVsUHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb29yZGVuYWRhc0ZpbmFsZXMueU5vcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBY3R1YWxpemFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRPYmpldG9zKHByZXYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHByZXYuZmluZEluZGV4KG8gPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gcHJldjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaW5kZXhdID0geyAuLi51cGRhdGVkW2luZGV4XSwgLi4uY29vcmRlbmFkYXNGaW5hbGVzIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gUGFyYSBvdHJvcyBjYW1iaW9zICh0cmFuc2Zvcm0sIGV0Yy4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGF5RGlmZXJlbmNpYXMgPSBPYmplY3Qua2V5cyhudWV2bykuc29tZShrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsb3JBbnRlcmlvciA9IG9iak9yaWdpbmFsW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxvck51ZXZvID0gbnVldm9ba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbG9yQW50ZXJpb3IgPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWxvck51ZXZvID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModmFsb3JBbnRlcmlvciAtIHZhbG9yTnVldm8pID4gMC4wMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsb3JBbnRlcmlvciAhPT0gdmFsb3JOdWV2bztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXlEaWZlcmVuY2lhcykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNjaW9uSWQgPSBudWV2by5zZWNjaW9uSWQgfHwgb2JqT3JpZ2luYWwuc2VjY2lvbklkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY2Npb24gPSBzZWNjaW9uZXNPcmRlbmFkYXMuZmluZCgocykgPT4gcy5pZCA9PT0gc2VjY2lvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlY2Npb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJldi5maW5kSW5kZXgobyA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gcHJldjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpbmRleF0gPSB7IC4uLnVwZGF0ZWRbaW5kZXhdLCAuLi5udWV2byB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0UGVyc29uYWxpemFkbz17aXNJbkVkaXRNb2RlID8gbnVsbCA6IChkcmFnSWQgPSBvYmouaWQsIGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY2Npb25BY3R1YWwgPSBBcnJheS5pc0FycmF5KHdpbmRvdy5fZWxlbWVudG9zU2VsZWNjaW9uYWRvcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93Ll9lbGVtZW50b3NTZWxlY2Npb25hZG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWNjaW9uQWN0dWFsLmluY2x1ZGVzKGRyYWdJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2RyYWdJZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEhvdmVySWQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50b3NQcmVTZWxlY2Npb25hZG9zKFtdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZFBlcnNvbmFsaXphZG89e2lzSW5FZGl0TW9kZSA/IG51bGwgOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhckRyYWdFbmQoW10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbz17aXNJbkVkaXRNb2RlID8gbnVsbCA6IChwb3MsIGVsZW1lbnRJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtb3N0cmFyR3VpYXMocG9zLCBlbGVtZW50SWQsIG9iamV0b3MsIGVsZW1lbnRSZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMoZWxlbWVudElkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnU3RhcnRQb3M9e2RyYWdTdGFydFBvc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRHJhZ2dlZD17aGFzRHJhZ2dlZH1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSl9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHtzZWxlY2Npb25BY3RpdmEgJiYgYXJlYVNlbGVjY2lvbiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ1aVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICB4PXthcmVhU2VsZWNjaW9uLnh9XHJcbiAgICAgICAgICAgICAgICAgICAgICB5PXthcmVhU2VsZWNjaW9uLnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17YXJlYVNlbGVjY2lvbi53aWR0aH1cclxuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17YXJlYVNlbGVjY2lvbi5oZWlnaHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwicmdiYSgxMTksIDYxLCAxOTAsIDAuMSlcIiAvLyB2aW9sZXRhIGNsYXJvXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjNzczZGJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsxfVxyXG4gICAgICAgICAgICAgICAgICAgICAgZGFzaD17WzQsIDRdfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAge2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID4gMCAmJiAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0aW9uQm91bmRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHM9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRSZWZzPXtlbGVtZW50UmVmc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZXRvcz17b2JqZXRvc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEcmFnZ2luZz17aXNEcmFnZ2luZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNb2JpbGU9e2lzTW9iaWxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblRyYW5zZm9ybUludGVyYWN0aW9uU3RhcnQ9e2hhbmRsZVRyYW5zZm9ybUludGVyYWN0aW9uU3RhcnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhbnNmb3JtSW50ZXJhY3Rpb25FbmQ9e2hhbmRsZVRyYW5zZm9ybUludGVyYWN0aW9uRW5kfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblRyYW5zZm9ybT17KG5ld0F0dHJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpJbmRleCA9IG9iamV0b3MuZmluZEluZGV4KG8gPT4gby5pZCA9PT0gaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpJbmRleCAhPT0gLTEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdHRycy5pc1ByZXZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2aWV3OiBhY3R1YWxpemFjacOzbiBzaW4gaGlzdG9yaWFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZvcyA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRvID0gbnVldm9zW29iakluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50ZG93bjogZHVyYW50ZSBwcmV2aWV3IGRlamFtb3MgcXVlIEtvbnZhIGVzY2FsZSBlbCBub2RvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW4gdG9jYXIgZXN0YWRvIFJlYWN0IHBhcmEgZXZpdGFyIGRlc2luY3Jvbml6YWNpw7NuIGNvbiBUcmFuc2Zvcm1lci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudG8udGlwbyA9PT0gXCJjb3VudGRvd25cIiB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudG8udGlwbyA9PT0gXCJmb3JtYVwiICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVsZW1lbnRvLmZpZ3VyYSA9PT0gXCJjaXJjbGVcIiB8fCBlbGVtZW50by5maWd1cmEgPT09IFwidHJpYW5nbGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50by50aXBvID09PSBcInRleHRvXCIgJiYgTnVtYmVyLmlzRmluaXRlKG5ld0F0dHJzLmZvbnRTaXplKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJhIHRleHRvIGRlamFtb3MgcXVlIEtvbnZhIGhhZ2EgZWwgcHJldmlldyBkZSBlc2NhbGEgZW4gdml2by5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsaXphciBlc3RhZG8gUmVhY3QgZW4gY2FkYSBmcmFtZSBnZW5lcmEgbWljcm8taml0dGVyIHZpc3VhbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEVsZW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmVsZW1lbnRvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogbmV3QXR0cnMucm90YXRpb24gfHwgZWxlbWVudG8ucm90YXRpb24gfHwgMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudG8udGlwbyA9PT0gXCJnYWxlcmlhXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FsbGVyeU1ldHJpY3MgPSBub3JtYWxpemFyTWVkaWRhc0dhbGVyaWEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudG8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXR0cnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXR0cnMueFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC53aWR0aCA9IGdhbGxlcnlNZXRyaWNzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5oZWlnaHQgPSBnYWxsZXJ5TWV0cmljcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LndpZHRoUGN0ID0gZ2FsbGVyeU1ldHJpY3Mud2lkdGhQY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnggPSBnYWxsZXJ5TWV0cmljcy54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5yb3RhdGlvbiA9IGVsZW1lbnRvLnJvdGF0aW9uIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnNjYWxlWCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnNjYWxlWSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXR0cnMud2lkdGggIT09IHVuZGVmaW5lZCkgdXBkYXRlZEVsZW1lbnQud2lkdGggPSBuZXdBdHRycy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F0dHJzLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB1cGRhdGVkRWxlbWVudC5oZWlnaHQgPSBuZXdBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdHRycy5yYWRpdXMgIT09IHVuZGVmaW5lZCkgdXBkYXRlZEVsZW1lbnQucmFkaXVzID0gbmV3QXR0cnMucmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5zY2FsZVggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5zY2FsZVkgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51ZXZvc1tvYmpJbmRleF0gPSB1cGRhdGVkRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWV2b3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IEFDVFVBTElaQVIgUE9TSUNJw5NOIERFTCBCT1TDk04gRFVSQU5URSBUUkFOU0ZPUk1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3QXR0cnMuaXNGaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmFsOiBhY3R1YWxpemFjacOzbiBjb21wbGV0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5fcmVzaXplRGF0YSA9IHsgaXNSZXNpemluZzogZmFsc2UgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpc1ByZXZpZXcsIGlzRmluYWwsIC4uLmNsZWFuQXR0cnMgfSA9IG5ld0F0dHJzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBDT05WRVJUSVIgY29vcmRlbmFkYXMgYWJzb2x1dGFzIGEgcmVsYXRpdmFzIEFOVEVTIGRlIGd1YXJkYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpPcmlnaW5hbCA9IG9iamV0b3Nbb2JqSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbEF0dHJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2xlYW5BdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNvbnZlcnRpckFic0FSZWwoY2xlYW5BdHRycy55LCBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsIHNlY2Npb25lc09yZGVuYWRhcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tVHJhbnNmb3JtOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPyBDT1VOVERPV046IGNvbnNlcnZhciBlc2NhbGEgZmluYWwgZGVsIGRyYWcgKHNpbiByZWNvbnZlcnNpw7NuIGEgY2hpcFdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmEgcXVlIGVsIHRhbWHDsW8gZmluYWwgY29pbmNpZGEgZXhhY3RhbWVudGUgY29uIGxvIHNvbHRhZG8uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iak9yaWdpbmFsLnRpcG8gPT09IFwidGV4dG9cIiAmJiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy5mb250U2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZEZvbnRTaXplID0gTWF0aC5tYXgoNiwgTnVtYmVyKGNsZWFuQXR0cnMuZm9udFNpemUpIHx8IDYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGb250U2l6ZSA9IE51bWJlci5pc0Zpbml0ZShvYmpPcmlnaW5hbC5mb250U2l6ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBvYmpPcmlnaW5hbC5mb250U2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDI0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm90YXRpb25GaW5hbCA9IE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLnJvdGF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNsZWFuQXR0cnMucm90YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoTnVtYmVyLmlzRmluaXRlKG9iak9yaWdpbmFsLnJvdGF0aW9uKSA/IG9iak9yaWdpbmFsLnJvdGF0aW9uIDogMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1JvdGF0aW9uID0gTnVtYmVyLmlzRmluaXRlKG9iak9yaWdpbmFsLnJvdGF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG9iak9yaWdpbmFsLnJvdGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uQ2hhbmdlZCA9IE1hdGguYWJzKHJvdGF0aW9uRmluYWwgLSBwcmV2aW91c1JvdGF0aW9uKSA+IDAuMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRTaXplQ2hhbmdlZCA9IE1hdGguYWJzKHJlcXVlc3RlZEZvbnRTaXplIC0gb3JpZ2luYWxGb250U2l6ZSkgPiAwLjA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkTWF0Y2hWaXN1YWxXaWR0aCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iak9yaWdpbmFsLl9fYXV0b1dpZHRoICE9PSBmYWxzZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKG9iak9yaWdpbmFsLndpZHRoKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcm90YXRpb25DaGFuZ2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dEZvbnRTaXplID0gc2hvdWxkTWF0Y2hWaXN1YWxXaWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFqdXN0YXJGb250U2l6ZUFBbmNob1Zpc3VhbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpPcmlnaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRGb250U2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkF0dHJzLnRleHRWaXN1YWxXaWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVxdWVzdGVkRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRVc2VOb2RlUG9zZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uQ2hhbmdlZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZm9udFNpemVDaGFuZ2VkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLngpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyZWRQb3NBYnMgPSBzaG91bGRVc2VOb2RlUG9zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgeDogTnVtYmVyKGNsZWFuQXR0cnMueCksIHk6IE51bWJlcihjbGVhbkF0dHJzLnkpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYWxjdWxhclBvc1RleHRvRGVzZGVDZW50cm8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZvbnRTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMudGV4dENlbnRlclgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5BdHRycy50ZXh0Q2VudGVyWSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbkZpbmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJlZFggPSBjZW50ZXJlZFBvc0Ficy54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyZWRZQWJzID0gY2VudGVyZWRQb3NBYnMueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlcmVkWSA9IE51bWJlci5pc0Zpbml0ZShjZW50ZXJlZFlBYnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29udmVydGlyQWJzQVJlbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFlBYnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwuc2VjY2lvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpPcmlnaW5hbC55KSA/IG9iak9yaWdpbmFsLnkgOiAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcInRyYW5zZm9ybS1maW5hbDp0ZXh0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG9iak9yaWdpbmFsPy5pZCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRGb250U2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZvbnRTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRNYXRjaFZpc3VhbFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkZvbnRTaXplOiBjbGVhbkF0dHJzLmZvbnRTaXplID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRWaXN1YWxXaWR0aDogY2xlYW5BdHRycy50ZXh0VmlzdWFsV2lkdGggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENlbnRlclg6IGNsZWFuQXR0cnMudGV4dENlbnRlclggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENlbnRlclk6IGNsZWFuQXR0cnMudGV4dENlbnRlclkgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb25GaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb25DaGFuZ2VkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZUNoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFVzZU5vZGVQb3NlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkWUFicyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFg6IG9iak9yaWdpbmFsPy54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsWTogb2JqT3JpZ2luYWw/LnkgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxBdHRycyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmluYWxBdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IG5leHRGb250U2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogTnVtYmVyLmlzRmluaXRlKGNlbnRlcmVkWClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNlbnRlcmVkWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpPcmlnaW5hbC54KSA/IG9iak9yaWdpbmFsLnggOiAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogY2VudGVyZWRZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy50ZXh0Q2VudGVyWDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaW5hbEF0dHJzLnRleHRDZW50ZXJZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMudGV4dFZpc3VhbFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwidHJhbnNmb3JtLWZpbmFsOnRleHQtYXR0cnNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogb2JqT3JpZ2luYWw/LmlkID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsRm9udFNpemU6IGZpbmFsQXR0cnMuZm9udFNpemUgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxYOiBmaW5hbEF0dHJzLnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxZOiBmaW5hbEF0dHJzLnkgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJjb3VudGRvd25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxBdHRycyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmluYWxBdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy5zY2FsZVgpID8gY2xlYW5BdHRycy5zY2FsZVggOiAob2JqT3JpZ2luYWwuc2NhbGVYID8/IDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLnNjYWxlWSkgPyBjbGVhbkF0dHJzLnNjYWxlWSA6IChvYmpPcmlnaW5hbC5zY2FsZVkgPz8gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmpPcmlnaW5hbC50aXBvID09PSBcImZvcm1hXCIgJiYgb2JqT3JpZ2luYWwuZmlndXJhID09PSBcImNpcmNsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEF0dHJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5maW5hbEF0dHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy54KSA/IGNsZWFuQXR0cnMueCA6IChvYmpPcmlnaW5hbC54IHx8IDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLnJhZGl1cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNsZWFuQXR0cnMucmFkaXVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAob2JqT3JpZ2luYWwucmFkaXVzIHx8IDUwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmpPcmlnaW5hbC50aXBvID09PSBcImZvcm1hXCIgJiYgb2JqT3JpZ2luYWwuZmlndXJhID09PSBcInRyaWFuZ2xlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQXR0cnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpbmFsQXR0cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLngpID8gY2xlYW5BdHRycy54IDogKG9iak9yaWdpbmFsLnggfHwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogTnVtYmVyLmlzRmluaXRlKGNsZWFuQXR0cnMucmFkaXVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2xlYW5BdHRycy5yYWRpdXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChvYmpPcmlnaW5hbC5yYWRpdXMgfHwgNjApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaW5hbEF0dHJzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iak9yaWdpbmFsLnRpcG8gPT09IFwiZ2FsZXJpYVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYWxsZXJ5TWV0cmljcyA9IG5vcm1hbGl6YXJNZWRpZGFzR2FsZXJpYShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMueFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQXR0cnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpbmFsQXR0cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGdhbGxlcnlNZXRyaWNzLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBnYWxsZXJ5TWV0cmljcy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBnYWxsZXJ5TWV0cmljcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoUGN0OiBnYWxsZXJ5TWV0cmljcy53aWR0aFBjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IG9iak9yaWdpbmFsLnJvdGF0aW9uIHx8IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gb2Zmc2V0WSBzb2xvIHBhcmEgZGVidWcgKGV2aXRhIFJlZmVyZW5jZUVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvZmZzZXRZID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gc2VjY2lvbmVzT3JkZW5hZGFzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IG9iak9yaWdpbmFsLnNlY2Npb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWZlID0gaWR4ID49IDAgPyBpZHggOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90YTogZW4gdHUgY8OzZGlnbyBsbyBsbGFtw6FzIGEgdmVjZXMgY29uIDIgcGFyYW1zLCBhIHZlY2VzIGNvbiAzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWPDoSB1c2Ftb3MgMywgY29uc2lzdGVudGUgY29uIG90cmFzIHBhcnRlcyBkZWwgYXJjaGl2by5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFkgPSBjYWxjdWxhck9mZnNldFkoc2VjY2lvbmVzT3JkZW5hZGFzLCBzYWZlLCBhbHRvQ2FudmFzKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJjb3VudGRvd25cIiB8fCBvYmpPcmlnaW5hbC50aXBvID09PSBcInRleHRvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpPcmlnaW5hbC50aXBvID09PSBcInRleHRvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWl0U25hcHNob3QgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG9iak9yaWdpbmFsPy5pZCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsRm9udFNpemU6IGZpbmFsQXR0cnMuZm9udFNpemUgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFg6IGZpbmFsQXR0cnMueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsWTogZmluYWxBdHRycy55ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBvYmpPcmlnaW5hbD8uc2VjY2lvbklkID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcInRyYW5zZm9ybS1maW5hbDpjb21taXRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbW1pdFNuYXBzaG90LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGV4dFJlc2l6ZURlYnVnRW5hYmxlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVBZnRlckNvbW1pdCA9IGVsZW1lbnRSZWZzLmN1cnJlbnQ/Lltjb21taXRTbmFwc2hvdC5pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZUFmdGVyQ29tbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwidHJhbnNmb3JtLWZpbmFsOnBvc3QtcmVuZGVyOm5vLW5vZGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbW1pdFNuYXBzaG90LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY3RBZnRlckNvbW1pdCA9IG5vZGVBZnRlckNvbW1pdC5nZXRDbGllbnRSZWN0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwidHJhbnNmb3JtLWZpbmFsOnBvc3QtcmVuZGVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbW1pdFNuYXBzaG90LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVg6IHR5cGVvZiBub2RlQWZ0ZXJDb21taXQueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZUFmdGVyQ29tbWl0LngoKSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlWTogdHlwZW9mIG5vZGVBZnRlckNvbW1pdC55ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlQWZ0ZXJDb21taXQueSgpIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVTY2FsZVg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBub2RlQWZ0ZXJDb21taXQuc2NhbGVYID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5vZGVBZnRlckNvbW1pdC5zY2FsZVgoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVTY2FsZVk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBub2RlQWZ0ZXJDb21taXQuc2NhbGVZID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5vZGVBZnRlckNvbW1pdC5zY2FsZVkoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVGb250U2l6ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG5vZGVBZnRlckNvbW1pdC5mb250U2l6ZSA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBub2RlQWZ0ZXJDb21taXQuZm9udFNpemUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZWN0V2lkdGg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShyZWN0QWZ0ZXJDb21taXQ/LndpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVjdEFmdGVyQ29tbWl0LndpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVJlY3RIZWlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShyZWN0QWZ0ZXJDb21taXQ/LmhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlY3RBZnRlckNvbW1pdC5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcInRyYW5zZm9ybS1maW5hbDpwb3N0LXJlbmRlcjplcnJvclwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY29tbWl0U25hcHNob3QuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnI/Lm1lc3NhZ2UgfHwgU3RyaW5nKGVyciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxpemFyT2JqZXRvKG9iakluZGV4LCBmaW5hbEF0dHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphck9iamV0byhvYmpJbmRleCwgZmluYWxBdHRycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9KSgpfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBObyBtb3N0cmFyIGhvdmVyIGR1cmFudGUgZHJhZy9yZXNpemUvZWRpY2nDs24gTkkgY3VhbmRvIGhheSBsw61kZXIgZGUgZ3J1cG8gKi99XHJcbiAgICAgICAgICAgICAgICAgIHshd2luZG93Ll9yZXNpemVEYXRhPy5pc1Jlc2l6aW5nICYmICFpc0RyYWdnaW5nICYmICF3aW5kb3cuX2lzRHJhZ2dpbmcgJiYgIXdpbmRvdy5fZ3J1cG9MaWRlciAmJiAhZWRpdGluZy5pZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPEhvdmVySW5kaWNhdG9yIGhvdmVyZWRFbGVtZW50PXtob3ZlcklkfSBlbGVtZW50UmVmcz17ZWxlbWVudFJlZnN9IG9iamV0b3M9e29iamV0b3N9IC8+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiA/PyBDb250cm9sZXMgZXNwZWNpYWxlcyBwYXJhIGzDrW5lYXMgc2VsZWNjaW9uYWRhcyAqL31cclxuICAgICAgICAgICAgICAgICAge2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAxICYmICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudG9TZWxlY2Npb25hZG8gPSBvYmpldG9zLmZpbmQob2JqID0+IG9iai5pZCA9PT0gZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvU2VsZWNjaW9uYWRvPy50aXBvID09PSAnZm9ybWEnICYmIGVsZW1lbnRvU2VsZWNjaW9uYWRvPy5maWd1cmEgPT09ICdsaW5lJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmVDb250cm9sc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ1aVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgbGluZS1jb250cm9scy0ke2VsZW1lbnRvU2VsZWNjaW9uYWRvLmlkfS0ke0pTT04uc3RyaW5naWZ5KGVsZW1lbnRvU2VsZWNjaW9uYWRvLnBvaW50cyl9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lRWxlbWVudD17ZWxlbWVudG9TZWxlY2Npb25hZG99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFJlZnM9e2VsZW1lbnRSZWZzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlTGluZT17YWN0dWFsaXphckxpbmVhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdG9DYW52YXM9e2FsdG9DYW52YXNEaW5hbWljb31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc01vYmlsZT17aXNNb2JpbGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gTlVFVkEgUFJPUDogUGFzYXIgaW5mb3JtYWNpw7NuIHNvYnJlIGRyYWcgZ3J1cGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEcmFnR3J1cGFsQWN0aXZlPXt3aW5kb3cuX2dydXBvTGlkZXIgIT09IG51bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcz17ZWxlbWVudG9zU2VsZWNjaW9uYWRvc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICB9KSgpfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBMw61uZWFzIGRlIGd1w61hIGRpbsOhbWljYXMgbWVqb3JhZGFzICovfVxyXG4gICAgICAgICAgICAgICAgICB7Z3VpYUxpbmVhcy5tYXAoKGxpbmVhLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5hciBlbCBlc3RpbG8gdmlzdWFsIHNlZ8O6biBlbCB0aXBvXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXNMaW5lYVNlY2Npb24gPSBsaW5lYS5wcmlvcml0eSA9PT0gJ3NlY2Npb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPExpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInVpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtsaW5lYS50eXBlfS0ke2l9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzPXtsaW5lYS5wb2ludHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT17ZXNMaW5lYVNlY2Npb24gPyBcIiM3NzNkYmVcIiA6IFwiIzkzMzNlYVwifSAvLyBWaW9sZXRhIG3DoXMgaW50ZW5zbyBwYXJhIHNlY2Npw7NuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXtlc0xpbmVhU2VjY2lvbiA/IDIgOiAxfSAvLyBMw61uZWFzIGRlIHNlY2Npw7NuIG3DoXMgZ3J1ZXNhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXNoPXtsaW5lYS5zdHlsZSA9PT0gJ2Rhc2hlZCcgPyBbOCwgNl0gOiB1bmRlZmluZWR9IC8vIFB1bnRlYWRvIHBhcmEgZWxlbWVudG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk9e2VzTGluZWFTZWNjaW9uID8gMC45IDogMC43fSAvLyBMw61uZWFzIGRlIHNlY2Npw7NuIG3DoXMgb3BhY2FzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZlY3REcmF3RW5hYmxlZD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVmZWN0byBzdXRpbCBkZSByZXNwbGFuZG9yIHBhcmEgbMOtbmVhcyBkZSBzZWNjacOzblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcj17ZXNMaW5lYVNlY2Npb24gPyBcInJnYmEoMTE5LCA2MSwgMTkwLCAwLjMpXCIgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0JsdXI9e2VzTGluZWFTZWNjaW9uID8gNCA6IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0VuYWJsZWQ9e2VzTGluZWFTZWNjaW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9KX1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgPC9DYW52YXNFbGVtZW50c0xheWVyPlxyXG5cclxuICAgICAgICAgICAgICAgIHsvKiA/IE92ZXJsYXkgc3VwZXJpb3I6IGJvcmRlIGRlIHNlY2Npw7NuIGFjdGl2YSBTSUVNUFJFIGFycmliYSBkZSB0b2RvICovfVxyXG4gICAgICAgICAgICAgICAgPENhbnZhc0VsZW1lbnRzTGF5ZXI+XHJcbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VjY2lvbkFjdGl2YUlkKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZWNjaW9uZXNPcmRlbmFkYXMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gc2VjY2lvbkFjdGl2YUlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjY2lvbiA9IHNlY2Npb25lc09yZGVuYWRhc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGluZGV4LCBhbHRvQ2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlc3RhQW5pbWFuZG8gPSBzZWNjaW9uZXNBbmltYW5kby5pbmNsdWRlcyhzZWNjaW9uLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YG92ZXJsYXktYm9yZGVyLXNlY2Npb24tJHtzZWNjaW9uLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk9e29mZnNldFl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs4MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17c2VjY2lvbi5hbHR1cmF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM3NzNkYmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17ZXN0YUFuaW1hbmRvID8gNCA6IDN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1cz17MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Q29sb3I9e2VzdGFBbmltYW5kbyA/IFwicmdiYSgxMTksIDYxLCAxOTAsIDAuNClcIiA6IFwicmdiYSgxMTksIDYxLCAxOTAsIDAuMjUpXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0JsdXI9e2VzdGFBbmltYW5kbyA/IDE2IDogMTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldD17eyB4OiAwLCB5OiBlc3RhQW5pbWFuZG8gPyA0IDogMyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9KSgpfVxyXG4gICAgICAgICAgICAgICAgPC9DYW52YXNFbGVtZW50c0xheWVyPlxyXG5cclxuICAgICAgICAgICAgICA8L1N0YWdlPlxyXG5cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAge2VkaXRpbmcuaWQgJiYgZWxlbWVudFJlZnMuY3VycmVudFtlZGl0aW5nLmlkXSAmJiAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG9iamV0b0VuRWRpY2lvbiA9IG9iamV0b3MuZmluZChvID0+IG8uaWQgPT09IGVkaXRpbmcuaWQpO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPElubGluZVRleHRFZGl0b3JcclxuICAgICAgICAgICAgICAgICAgZWRpdGluZ0lkPXtlZGl0aW5nLmlkfVxyXG4gICAgICAgICAgICAgICAgICBub2RlPXtlbGVtZW50UmVmcy5jdXJyZW50W2VkaXRpbmcuaWRdfVxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdGluZy52YWx1ZX1cclxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduPXtvYmpldG9FbkVkaWNpb24/LmFsaWduIHx8ICdsZWZ0J30gLy8gPz8gU29sbyBwYXNhciBhbGluZWFjacOzblxyXG4gICAgICAgICAgICAgICAgICBvbk92ZXJsYXlNb3VudENoYW5nZT17aGFuZGxlSW5saW5lT3ZlcmxheU1vdW50Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KG5leHRWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUZXh0ID0gU3RyaW5nKG5leHRWYWx1ZSA/PyBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2U3RhdHMgPSBnZXRJbmxpbmVMaW5lU3RhdHMoZWRpdGluZy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFN0YXRzID0gZ2V0SW5saW5lTGluZVN0YXRzKG5leHRUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2U3RhdHMubGluZUNvdW50ICE9PSBuZXh0U3RhdHMubGluZUNvdW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2U3RhdHMudHJhaWxpbmdOZXdsaW5lcyAhPT0gbmV4dFN0YXRzLnRyYWlsaW5nTmV3bGluZXNcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwibGluZWJyZWFrLW1vZGVsLXN5bmNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWRpdGluZy5pZCB8fCB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkxlbmd0aDogcHJldlN0YXRzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExlbmd0aDogbmV4dFN0YXRzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkxpbmVDb3VudDogcHJldlN0YXRzLmxpbmVDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExpbmVDb3VudDogbmV4dFN0YXRzLmxpbmVDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlRyYWlsaW5nTmV3bGluZXM6IHByZXZTdGF0cy50cmFpbGluZ05ld2xpbmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0VHJhaWxpbmdOZXdsaW5lczogbmV4dFN0YXRzLnRyYWlsaW5nTmV3bGluZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiaW5wdXQ6IGJlZm9yZS1yZW5kZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGVkaXRpbmcuaWQgfHwgd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUxlbmd0aDogbmV4dFRleHQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUVkaXQobmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgb25EZWJ1Z0V2ZW50PXsoZXZlbnROYW1lLCBwYXlsb2FkID0ge30pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoZXZlbnROYW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogcGF5bG9hZD8uaWQgfHwgZWRpdGluZy5pZCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgb25GaW5pc2g9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5pc2hJZCA9IGVkaXRpbmcuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZmluaXNoOiBibHVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlTGVuZ3RoOiBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dG9OdWV2b1JhdyA9IFN0cmluZyhlZGl0aW5nLnZhbHVlID8/IFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRvTnVldm9WYWxpZGFkbyA9IHRleHRvTnVldm9SYXcudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gb2JqZXRvcy5maW5kSW5kZXgobyA9PiBvLmlkID09PSBmaW5pc2hJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqZXRvID0gb2JqZXRvc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGl2ZU5vZGVBdEZpbmlzaCA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbZmluaXNoSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpdmVNZXRyaWNzQXRGaW5pc2ggPSBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lKGxpdmVOb2RlQXRGaW5pc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1zdGFydFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICByYXdMZW5ndGg6IHRleHRvTnVldm9SYXcubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHJpbW1lZExlbmd0aDogdGV4dG9OdWV2b1ZhbGlkYWRvLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFg6IG9iamV0bz8ueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb2JqZWN0WTogb2JqZXRvPy55ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3UmVmOiB7IC4uLmlubGluZUVkaXRQcmV2aWV3UmVmLmN1cnJlbnQgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIGxpdmVNZXRyaWNzQXRGaW5pc2gsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIj8gRWwgb2JqZXRvIHlhIG5vIGV4aXN0ZS4gQ2FuY2VsYW5kbyBndWFyZGFkby5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1hYm9ydC1taXNzaW5nLW9iamVjdFwiLCB7IGlkOiBmaW5pc2hJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQgPSB7IGlkOiBudWxsIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hFZGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyA/PyBQb2TDqXMgcGVybWl0aXIgdGV4dG8gdmFjw61vIGVuIGZvcm1hcyBzaSBxdWVyw6lzICh5byBsbyBwZXJtaXRpcsOtYSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dG9OdWV2b1ZhbGlkYWRvID09PSBcIlwiICYmIG9iamV0by50aXBvID09PSBcInRleHRvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIj8/IEVsIHRleHRvIGVzdMOhIHZhY8Otby4gTm8gc2UgYWN0dWFsaXphLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwiZmluaXNoLWFib3J0LWVtcHR5XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdMZW5ndGg6IHRleHRvTnVldm9SYXcubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmltbWVkTGVuZ3RoOiB0ZXh0b051ZXZvVmFsaWRhZG8ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVDb21taXREZWJ1Z1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lRWRpdFByZXZpZXdSZWYuY3VycmVudCA9IHsgaWQ6IG51bGwsIGNlbnRlclg6IG51bGwgfTtcclxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaEVkaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbGl6YWRvID0gWy4uLm9iamV0b3NdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoID0geyB0ZXh0bzogdGV4dG9OdWV2b1JhdyB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRLZWVwQ2VudGVyWCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvYmpldG8udGlwbyA9PT0gXCJ0ZXh0b1wiICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAhb2JqZXRvLl9fZ3JvdXBBbGlnbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgIU51bWJlci5pc0Zpbml0ZShvYmpldG8ud2lkdGgpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICBvYmpldG8uX19hdXRvV2lkdGggIT09IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkS2VlcENlbnRlclgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRYID0gY2FsY3VsYXJYVGV4dG9DZW50cmFkbyhvYmpldG8sIHRleHRvTnVldm9SYXcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFggPSBOdW1iZXIuaXNGaW5pdGUob2JqZXRvLngpID8gb2JqZXRvLnggOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShuZXh0WCkgJiYgTWF0aC5hYnMobmV4dFggLSBjdXJyZW50WCkgPiAwLjAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoLnggPSBuZXh0WDtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1jZW50ZXItY29tcHV0ZWRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEtlZXBDZW50ZXJYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50WCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoWDogcGF0Y2gueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBhY3R1YWxpemFkb1tpbmRleF0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAuLi5hY3R1YWxpemFkb1tpbmRleF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAuLi5wYXRjaFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkWCA9IE51bWJlci5pc0Zpbml0ZShwYXRjaC54KVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyBwYXRjaC54XHJcbiAgICAgICAgICAgICAgICAgICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqZXRvLngpID8gb2JqZXRvLnggOiBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVDb21taXREZWJ1Z1JlZi5jdXJyZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb2JqZWN0WEJlZm9yZUNvbW1pdDogTnVtYmVyLmlzRmluaXRlKG9iamV0by54KSA/IG9iamV0by54IDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIGxpdmVOb2RlWEF0RmluaXNoOiBOdW1iZXIuaXNGaW5pdGUobGl2ZU1ldHJpY3NBdEZpbmlzaD8ueClcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBsaXZlTWV0cmljc0F0RmluaXNoLnhcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJldmlld0NlbnRlclg6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGVuZ3RoOiB0ZXh0b051ZXZvUmF3Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1hcHBseS1wYXRjaFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkWCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dGaW5pc2hWaXNpYmlsaXR5Q2hlY2sgPSAocGhhc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVJZCA9IFN0cmluZyhmaW5pc2hJZCB8fCBcIlwiKS5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvdmVybGF5RG9tUHJlc2VudCA9IHNhZmVJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEJvb2xlYW4oZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaW5saW5lLWVkaXRvci1pZD1cIiR7c2FmZUlkfVwiXWApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGl2ZU5vZGUgPSBlbGVtZW50UmVmcy5jdXJyZW50W2ZpbmlzaElkXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwiZmluaXNoLXZpc2liaWxpdHktY2hlY2tcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaGFzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFjdGl2ZUVkaXRpbmdJZDogZWRpdGluZy5pZCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFZGl0aW5nSWQ6IHdpbmRvdy5lZGl0aW5nPy5pZCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWRpdGluZ0lkOiB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheU1vdW50ZWRJZDogaW5saW5lT3ZlcmxheU1vdW50ZWRJZCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5RG9tUHJlc2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU9wYWNpdHk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGxpdmVOb2RlPy5vcGFjaXR5ID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbGl2ZU5vZGUub3BhY2l0eSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVWaXNpYmxlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBsaXZlTm9kZT8udmlzaWJsZSA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxpdmVOb2RlLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlTWV0cmljczogb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShsaXZlTm9kZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0ZpbmlzaFZpc2liaWxpdHlDaGVjayhcImJlZm9yZS1jb21taXRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImZpbmlzaDogYmVmb3JlLWZsdXNoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkWCxcclxuICAgICAgICAgICAgICAgICAgICAgIHBhdGNoWDogcGF0Y2gueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoU3luYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXRPYmpldG9zKGFjdHVhbGl6YWRvKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJmaW5pc2g6IGFmdGVyLWZsdXNoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkWCxcclxuICAgICAgICAgICAgICAgICAgICAgIHBhdGNoWDogcGF0Y2gueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0ZpbmlzaFZpc2liaWxpdHlDaGVjayhcImFmdGVyLWNvbW1pdC1iZWZvcmUtZmluaXNoRWRpdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVFZGl0UHJldmlld1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCwgY2VudGVyWDogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoU3luYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hFZGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhZ2VBZnRlckZpbmlzaEVkaXQgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQgfHwgbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0YWdlQWZ0ZXJGaW5pc2hFZGl0Py5iYXRjaERyYXcgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3RhZ2VBZnRlckZpbmlzaEVkaXQuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0ZpbmlzaFZpc2liaWxpdHlDaGVjayhcImFmdGVyLWZpbmlzaEVkaXQtc3luY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID09PSBmaW5pc2hJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZmluaXNoOiBhZnRlci1maW5pc2hFZGl0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkWCxcclxuICAgICAgICAgICAgICAgICAgICAgIHBhdGNoWDogcGF0Y2gueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBsb2dGaW5pc2hWaXNpYmlsaXR5Q2hlY2soXCJhZnRlci1maW5pc2hFZGl0LXJhZjFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJmaW5pc2g6IHJhZjFcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hYOiBwYXRjaC54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImZpbmlzaDogcmFmMlwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFg6IHBhdGNoLnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgc2NhbGVWaXN1YWw9e2VzY2FsYVZpc3VhbH1cclxuICAgICAgICAgICAgICAgICAgZmluaXNoTW9kZT17aW5saW5lRGVidWdBQi5maW5pc2hNb2RlfVxyXG4gICAgICAgICAgICAgICAgICB3aWR0aE1vZGU9e2lubGluZURlYnVnQUIub3ZlcmxheVdpZHRoTW9kZX1cclxuXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pKCl9XHJcblxyXG5cclxuICAgICAgICAgICAgey8qIFN0YWdlIGV4dHJhIHNvbG8gZW4gZGVza3RvcCBwYXJhIG5vIGR1cGxpY2FyIG1lbW9yaWEgZW4gbW9iaWxlICovfVxyXG4gICAgICAgICAgICB7IWlzTW9iaWxlICYmIChcclxuICAgICAgICAgICAgICA8RGl2aWRlcnNPdmVybGF5U3RhZ2VcclxuICAgICAgICAgICAgICAgIHpvb209e3pvb219XHJcbiAgICAgICAgICAgICAgICBhbHRvQ2FudmFzRGluYW1pY289e2FsdG9DYW52YXNEaW5hbWljb31cclxuICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhcz17c2VjY2lvbmVzT3JkZW5hZGFzfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuXHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG5cclxuICAgICAgPC9kaXY+XHJcblxyXG5cclxuXHJcbiAgICAgIHsvKiA/IEJvdMOzbiBkZSBvcGNpb25lcyBQRUdBRE8gYSBsYSBlc3F1aW5hIHN1cGVyaW9yIGRlcmVjaGEgZGVsIGVsZW1lbnRvICovfVxyXG4gICAgICB7ZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPT09IDEgJiYgIWVkaXRpbmcuaWQgJiYgIWlzU2VsZWN0aW9uUm90YXRpbmcgJiYgKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIHJlZj17Ym90b25PcGNpb25lc1JlZn1cclxuICAgICAgICAgIGRhdGEtb3B0aW9uLWJ1dHRvbj1cInRydWVcIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgei01MCBiZy13aGl0ZSBib3JkZXItMiBib3JkZXItcHVycGxlLTUwMCByb3VuZGVkLWZ1bGwgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLXNoYWRvdyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgbGVmdDogXCIwcHhcIixcclxuICAgICAgICAgICAgdG9wOiBcIjBweFwiLFxyXG4gICAgICAgICAgICB3aWR0aDogYCR7b3B0aW9uQnV0dG9uU2l6ZX1weGAsXHJcbiAgICAgICAgICAgIGhlaWdodDogYCR7b3B0aW9uQnV0dG9uU2l6ZX1weGAsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiLFxyXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgcG9pbnRlckV2ZW50czogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IFwibm9uZVwiLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjk1KVwiLFxyXG4gICAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogXCJibHVyKDRweClcIixcclxuICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjNzczZGJlXCIsXHJcbiAgICAgICAgICAgIHRvdWNoQWN0aW9uOiBcIm1hbmlwdWxhdGlvblwiLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICBvblBvaW50ZXJEb3duPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgIHRvZ2dsZVBhbmVsT3BjaW9uZXMoXCJnZWFyLXBvaW50ZXJkb3duXCIsIGUubmF0aXZlRXZlbnQgfHwgZSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gQ2xpY2sgZGUgdGVjbGFkbyAoRW50ZXIvRXNwYWNpbykgY3VhbmRvIG5vIGhheSBwb2ludGVyIGludGVyYWN0aW9uLlxyXG4gICAgICAgICAgICAgIGlmIChlLmRldGFpbCAhPT0gMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgdG9nZ2xlUGFuZWxPcGNpb25lcyhcImdlYXIta2V5Ym9hcmQtY2xpY2tcIiwgZS5uYXRpdmVFdmVudCB8fCBlKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaG92ZXI6YmctcHVycGxlLTUwIHctZnVsbCBoLWZ1bGwgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgdGl0bGU9XCJPcGNpb25lcyBkZWwgZWxlbWVudG9cIlxyXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiT3BjaW9uZXMgZGVsIGVsZW1lbnRvXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgdG91Y2hBY3Rpb246IFwibWFuaXB1bGF0aW9uXCIgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFNldHRpbmdzXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1wdXJwbGUtNzAwXCJcclxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogaXNNb2JpbGUgPyAxOCA6IDE0LCBoZWlnaHQ6IGlzTW9iaWxlID8gMTggOiAxNCB9fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG5cclxuXHJcbiAgICAgIHttb3N0cmFyUGFuZWxaICYmIChcclxuICAgICAgICA8TWVudU9wY2lvbmVzRWxlbWVudG9cclxuICAgICAgICAgIGlzT3Blbj17bW9zdHJhclBhbmVsWn1cclxuICAgICAgICAgIGJvdG9uT3BjaW9uZXNSZWY9e2JvdG9uT3BjaW9uZXNSZWZ9XHJcbiAgICAgICAgICBlbGVtZW50b1NlbGVjY2lvbmFkbz17b2JqZXRvcy5maW5kKG8gPT4gby5pZCA9PT0gZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSl9XHJcbiAgICAgICAgICBvbkNvcGlhcj17b25Db3BpYXJ9XHJcbiAgICAgICAgICBvblBlZ2FyPXtvblBlZ2FyfVxyXG4gICAgICAgICAgb25EdXBsaWNhcj17b25EdXBsaWNhcn1cclxuICAgICAgICAgIG9uRWxpbWluYXI9e29uRWxpbWluYXJ9XHJcbiAgICAgICAgICBtb3ZlckVsZW1lbnRvPXttb3ZlckVsZW1lbnRvfVxyXG4gICAgICAgICAgb25DZXJyYXI9eygpID0+IHNldE1vc3RyYXJQYW5lbFooZmFsc2UpfVxyXG4gICAgICAgICAgcmVlbXBsYXphckZvbmRvPXtyZWVtcGxhemFyRm9uZG99XHJcbiAgICAgICAgICBzZWNjaW9uZXM9e3NlY2Npb25lc31cclxuICAgICAgICAgIG9iamV0b3M9e29iamV0b3N9XHJcbiAgICAgICAgICBzZXRTZWNjaW9uZXM9e3NldFNlY2Npb25lc31cclxuICAgICAgICAgIHNldE9iamV0b3M9e3NldE9iamV0b3N9XHJcbiAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zPXtzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcblxyXG5cclxuICAgICAgPEZsb2F0aW5nVGV4dFRvb2xiYXJcclxuICAgICAgICBvYmpldG9TZWxlY2Npb25hZG89e29iamV0b1NlbGVjY2lvbmFkb31cclxuICAgICAgICBzZXRPYmpldG9zPXtzZXRPYmpldG9zfVxyXG4gICAgICAgIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3N9XHJcbiAgICAgICAgbW9zdHJhclNlbGVjdG9yRnVlbnRlPXttb3N0cmFyU2VsZWN0b3JGdWVudGV9XHJcbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yRnVlbnRlPXtzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGV9XHJcbiAgICAgICAgbW9zdHJhclNlbGVjdG9yVGFtYW5vPXttb3N0cmFyU2VsZWN0b3JUYW1hbm99XHJcbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yVGFtYW5vPXtzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm99XHJcbiAgICAgICAgQUxMX0ZPTlRTPXtBTExfRk9OVFN9XHJcbiAgICAgICAgZm9udE1hbmFnZXI9e2ZvbnRNYW5hZ2VyfVxyXG4gICAgICAgIHRhbWFuaW9zRGlzcG9uaWJsZXM9e3RhbWFuaW9zRGlzcG9uaWJsZXN9XHJcbiAgICAgICAgb25DYW1iaWFyQWxpbmVhY2lvbj17b25DYW1iaWFyQWxpbmVhY2lvbn1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIDxDb25maXJtRGVsZXRlU2VjdGlvbk1vZGFsXHJcbiAgICAgICAgaXNPcGVuPXtkZWxldGVTZWN0aW9uTW9kYWwuaXNPcGVufVxyXG4gICAgICAgIHNlY3Rpb25OYW1lPXtzZWNjaW9uUGVuZGllbnRlRWxpbWluYXI/LnRpcG99XHJcbiAgICAgICAgaXRlbUNvdW50PXtjYW50aWRhZEVsZW1lbnRvc1NlY2Npb25QZW5kaWVudGV9XHJcbiAgICAgICAgaXNEZWxldGluZz17aXNEZWxldGluZ1NlY3Rpb259XHJcbiAgICAgICAgb25DYW5jZWw9e2NlcnJhck1vZGFsQm9ycmFyU2VjY2lvbn1cclxuICAgICAgICBvbkNvbmZpcm09e2NvbmZpcm1hckJvcnJhclNlY2Npb259XHJcbiAgICAgIC8+XHJcblxyXG5cclxuXHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG5cclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJjcmVhdGVQb3J0YWwiLCJmbHVzaFN5bmMiLCJTdGFnZSIsIkxpbmUiLCJSZWN0IiwiVGV4dCIsIkltYWdlIiwiS29udmFJbWFnZSIsIkdyb3VwIiwiQ2lyY2xlIiwiRWxlbWVudG9DYW52YXMiLCJMaW5lQ29udHJvbHMiLCJjYWxjdWxhck9mZnNldFkiLCJjb252ZXJ0aXJBYnNBUmVsIiwiZGV0ZXJtaW5hck51ZXZhU2VjY2lvbiIsImNyZWFyU2VjY2lvbiIsInVzZVBsYW50aWxsYXNEZVNlY2Npb24iLCJ1c2VJbXBlcmF0aXZlT2JqZWN0cyIsIlNlbGVjdGlvbkJvdW5kcyIsIkhvdmVySW5kaWNhdG9yIiwiTGluZVRvb2xiYXIiLCJ1c2VLZXlib2FyZFNob3J0Y3V0cyIsImZvbnRNYW5hZ2VyIiwidXNlSW5saW5lRWRpdG9yIiwiU2hhcGVUb29sYmFyIiwidXNlRWRpdG9ySGFuZGxlcnMiLCJJbmxpbmVUZXh0RWRpdG9yIiwiRm9udFNlbGVjdG9yIiwicmVlbXBsYXphckZvbmRvU2VjY2lvbiIsInJlZW1wbGF6YXJGb25kbyIsImRlc2FuY2xhckltYWdlbkRlRm9uZG8iLCJkZXNhbmNsYXJGb25kbyIsImJvcnJhclNlY2Npb24iLCJib3JyYXJTZWNjaW9uRXh0ZXJuYWwiLCJtb3ZlclNlY2Npb24iLCJtb3ZlclNlY2Npb25FeHRlcm5hbCIsInZhbGlkYXJQdW50b3NMaW5lYSIsImRldGVjdGFySW50ZXJzZWNjaW9uTGluZWEiLCJndWFyZGFyU2VjY2lvbkNvbW9QbGFudGlsbGEiLCJHYWxlcmlhS29udmEiLCJGb25kb1NlY2Npb24iLCJNZW51T3BjaW9uZXNFbGVtZW50byIsImNhbGNHYWxsZXJ5TGF5b3V0IiwiQ291bnRkb3duS29udmEiLCJ1c2VHdWlhc0NlbnRyYWRvIiwiRmxvYXRpbmdUZXh0VG9vbGJhciIsIlNlbGVjdG9yQ29sb3JTZWNjaW9uIiwiS29udmEiLCJBTExfRk9OVFMiLCJ1c2VBdXRoQ2xhaW1zIiwiVHJhc2gyIiwiTGF5ZXJzIiwiTW92ZVVwIiwiTW92ZURvd24iLCJQbHVzQ2lyY2xlIiwiU2V0dGluZ3MiLCJVbmxpbmsyIiwiTW9uaXRvciIsIkNoZXZyb25Eb3duIiwiQ2hldnJvblVwIiwidXNlQm9ycmFkb3JTeW5jIiwidXNlU2VjdGlvbnNNYW5hZ2VyIiwiQ29uZmlybURlbGV0ZVNlY3Rpb25Nb2RhbCIsInVzZUVkaXRvckV2ZW50cyIsInVzZUVkaXRvcldpbmRvd0JyaWRnZSIsInVzZUhpc3RvcnlNYW5hZ2VyIiwidXNlQ2FudmFzU2NhbGVMYXlvdXQiLCJ1c2VDYW52YXNJbnRlcmFjdGlvblN0YXRlIiwidXNlU3RhZ2VHZXN0dXJlcyIsInVzZU9wdGlvbkJ1dHRvblBvc2l0aW9uIiwiQ2FudmFzRWxlbWVudHNMYXllciIsIkRpdmlkZXJzT3ZlcmxheVN0YWdlIiwiZHJhZ0Rpc3RhbmNlIiwicmVzb2x2ZUtvbnZhUGl4ZWxSYXRpbyIsImRwciIsIk51bWJlciIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJjb2Fyc2VQb2ludGVyIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJtaW5TaWRlIiwiTWF0aCIsIm1pbiIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm1vYmlsZUxpa2UiLCJwaXhlbFJhdGlvIiwiQUxUVVJBX1JFRkVSRU5DSUFfUEFOVEFMTEEiLCJBTFRVUkFfUEFOVEFMTEFfRURJVE9SIiwibm9ybWFsaXphckFsdG9Nb2RvIiwibW9kbyIsIm0iLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImlzQm9sZEZvbnRXZWlnaHQiLCJ3ZWlnaHQiLCJub3JtYWxpemVkIiwiaW5jbHVkZXMiLCJyZXNvbHZlS29udmFGb250U3R5bGUiLCJmb250U3R5bGUiLCJmb250V2VpZ2h0Iiwic3R5bGUiLCJpc0l0YWxpYyIsImlzQm9sZCIsImxpbXBpYXJPYmpldG9VbmRlZmluZWQiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJvYmpMaW1waW8iLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInZhbG9yIiwidW5kZWZpbmVkIiwic2V0R2xvYmFsQ3Vyc29yIiwiY3Vyc29yIiwic3RhZ2VSZWYiLCJkb2N1bWVudCIsImJvZHkiLCJzdGFnZSIsImN1cnJlbnQiLCJjb250YWluZXIiLCJjYW52YXMiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50RWxlbWVudCIsImNsZWFyR2xvYmFsQ3Vyc29yIiwiaXNJbmxpbmVEZWJ1Z0VuYWJsZWQiLCJfX0lOTElORV9ERUJVRyIsImZvcm1hdElubGluZUxvZ1BheWxvYWQiLCJwYXlsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwiaW5saW5lRGVidWdMb2ciLCJldmVudCIsImVzc2VudGlhbEV2ZW50cyIsIlNldCIsImhhcyIsInRzIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY29uc29sZSIsImxvZyIsIm5leHRJbmxpbmVGcmFtZU1ldGEiLCJmcmFtZSIsInBlcmZNcyIsInByZXYiLCJfX0lOTElORV9GUkFNRV9TRVEiLCJuZXh0IiwicGVyZm9ybWFuY2UiLCJub3ciLCJ0b0ZpeGVkIiwiZ2V0SW5saW5lTGluZVN0YXRzIiwidmFsdWUiLCJyZXBsYWNlIiwidHJhaWxpbmciLCJtYXRjaCIsImxlbmd0aCIsImxpbmVDb3VudCIsInNwbGl0IiwidHJhaWxpbmdOZXdsaW5lcyIsIm5vcm1hbGl6ZUlubGluZURlYnVnQUIiLCJyYXdDb25maWciLCJyYXciLCJ2aXNpYmlsaXR5U291cmNlIiwiZmluaXNoTW9kZSIsIm92ZXJsYXlXaWR0aE1vZGUiLCJDYW52YXNFZGl0b3IiLCJzbHVnIiwiem9vbSIsIm9uSGlzdG9yaWFsQ2hhbmdlIiwib25GdXR1cm9zQ2hhbmdlIiwidXNlcklkIiwib25TdGFydHVwU3RhdHVzQ2hhbmdlIiwib2JqZXRvcyIsInNldE9iamV0b3MiLCJjZWxkYUdhbGVyaWFBY3RpdmEiLCJzZXRDZWxkYUdhbGVyaWFBY3RpdmEiLCJzZWNjaW9uZXMiLCJzZXRTZWNjaW9uZXMiLCJoaXN0b3JpYWwiLCJzZXRIaXN0b3JpYWwiLCJmdXR1cm9zIiwic2V0RnV0dXJvcyIsImVsZW1lbnRvc1NlbGVjY2lvbmFkb3MiLCJzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zIiwiY2FyZ2FkbyIsInNldENhcmdhZG8iLCJkcmFnU3RhcnRQb3MiLCJoYXNEcmFnZ2VkIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJpbXBlcmF0aXZlT2JqZWN0cyIsImFuaW1hbmRvU2VjY2lvbiIsInNldEFuaW1hbmRvU2VjY2lvbiIsInNlY2Npb25BY3RpdmFJZCIsInNldFNlY2Npb25BY3RpdmFJZCIsInNlbGVjY2lvbkFjdGl2YSIsInNldFNlbGVjY2lvbkFjdGl2YSIsImluaWNpb1NlbGVjY2lvbiIsInNldEluaWNpb1NlbGVjY2lvbiIsImFyZWFTZWxlY2Npb24iLCJzZXRBcmVhU2VsZWNjaW9uIiwiZWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcyIsInNldEVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MiLCJndWlhTGF5ZXJSZWYiLCJob3ZlcklkIiwic2V0SG92ZXJJZCIsImFsdG9DYW52YXMiLCJyZWR1Y2UiLCJhY2MiLCJzIiwiYWx0dXJhIiwic2VjY2lvbmVzQW5pbWFuZG8iLCJzZXRTZWNjaW9uZXNBbmltYW5kbyIsInJlZnJlc2NhciIsInJlZnJlc2NhclBsYW50aWxsYXNEZVNlY2Npb24iLCJlbGVtZW50b0NvcGlhZG8iLCJzZXRFbGVtZW50b0NvcGlhZG8iLCJlbGVtZW50UmVmcyIsImlubGluZUVkaXRQcmV2aWV3UmVmIiwiaWQiLCJjZW50ZXJYIiwiaW5saW5lQ29tbWl0RGVidWdSZWYiLCJwcmV2RWRpdGluZ0lkUmVmIiwiaW5saW5lUmVuZGVyVmFsdWVSZWYiLCJpbmxpbmVPdmVybGF5TW91bnRlZElkIiwic2V0SW5saW5lT3ZlcmxheU1vdW50ZWRJZCIsImNvbnRlbmVkb3JSZWYiLCJlZGl0b3JPdmVybGF5Um9vdFJlZiIsImF1dG9TZWN0aW9uVmlld3BvcnRSZWYiLCJhdXRvU2VjdGlvblNjcm9sbFJhZlJlZiIsInNlY2Npb25BY3RpdmFJZFJlZiIsImlnbm9yZU5leHRVcGRhdGVSZWYiLCJhbmNob1N0YWdlIiwic2V0QW5jaG9TdGFnZSIsIm1vc3RyYXJTZWxlY3RvckZ1ZW50ZSIsInNldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZSIsIm1vc3RyYXJTdWJtZW51Q2FwYSIsInNldE1vc3RyYXJTdWJtZW51Q2FwYSIsImZ1ZW50ZXNEaXNwb25pYmxlcyIsImVzQWRtaW4iLCJsb2FkaW5nQ2xhaW1zIiwiYmFja2dyb3VuZExvYWRCeVNlY3Rpb24iLCJzZXRCYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbiIsInN0YXJ0dXBTdGF0dXNGaW5hbGl6ZWRSZWYiLCJtb2JpbGVCYWNrZ3JvdW5kRWRpdFNlY3Rpb25JZCIsInNldE1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkIiwiZGVsZXRlU2VjdGlvbk1vZGFsIiwic2V0RGVsZXRlU2VjdGlvbk1vZGFsIiwiaXNPcGVuIiwic2VjdGlvbklkIiwiaXNEZWxldGluZ1NlY3Rpb24iLCJzZXRJc0RlbGV0aW5nU2VjdGlvbiIsIm1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiIsInNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsImlzVGV4dFJlc2l6ZURlYnVnRW5hYmxlZCIsIkJvb2xlYW4iLCJfX0RCR19URVhUX1JFU0laRSIsInRleHRSZXNpemVEZWJ1ZyIsImFyZ3MiLCJjb250cm9sYW5kb0FsdHVyYSIsImluaWNpYXJDb250cm9sQWx0dXJhIiwiZmluYWxpemFyQ29udHJvbEFsdHVyYSIsInRvZ2dsZVBhbnRhbGxhQ29tcGxldGFTZWNjaW9uIiwiaGFuZGxlQ3JlYXJTZWNjaW9uIiwibnVldm9UZXh0b1JlZiIsInNlY2Npb25lc09yZGVuYWRhcyIsInNvcnQiLCJhIiwiYiIsIm9yZGVuIiwiaGFuZGxlQmFja2dyb3VuZEltYWdlU3RhdHVzQ2hhbmdlIiwiaGFzQmFja2dyb3VuZEltYWdlIiwiaW1hZ2VVcmwiLCJpbmNvbWluZ1N0YXR1cyIsInN0YXR1cyIsImJhY2tncm91bmRMb2FkU3VtbWFyeSIsInNlY3Rpb25zV2l0aEJhY2tncm91bmRJbWFnZSIsImZpbHRlciIsInNlY2Npb24iLCJmb25kb1RpcG8iLCJmb25kb0ltYWdlbiIsInRyaW0iLCJsb2FkZWQiLCJmYWlsZWQiLCJwZW5kaW5nIiwidG90YWwiLCJmaXJzdFNlY3Rpb25CYWNrZ3JvdW5kUmVhZHkiLCJmaXJzdFNlY3Rpb24iLCJzdGFydHVwUmVhZHkiLCJkcmFmdExvYWRlZCIsInRvdGFsQmFja2dyb3VuZHMiLCJsb2FkZWRCYWNrZ3JvdW5kcyIsImZhaWxlZEJhY2tncm91bmRzIiwicGVuZGluZ0JhY2tncm91bmRzIiwiY2FuY2VsbGVkIiwicmFmQSIsInJhZkIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInNlY2Npb25QZW5kaWVudGVFbGltaW5hciIsImZpbmQiLCJjYW50aWRhZEVsZW1lbnRvc1NlY2Npb25QZW5kaWVudGUiLCJzZWNjaW9uSWQiLCJlZGl0aW5nIiwic3RhcnRFZGl0IiwidXBkYXRlRWRpdCIsImZpbmlzaEVkaXQiLCJvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lIiwibm9kZSIsImNsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsIngiLCJ5IiwidGV4dFdpZHRoIiwiZ2V0VGV4dFdpZHRoIiwiY2VpbCIsInJlY3QiLCJnZXRDbGllbnRSZWN0Iiwic2tpcFRyYW5zZm9ybSIsInNraXBTaGFkb3ciLCJza2lwU3Ryb2tlIiwid2lkdGgiLCJoZWlnaHQiLCJjZXJyYXJNZW51c0Zsb3RhbnRlcyIsInNldE1vc3RyYXJQYW5lbFoiLCJzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm8iLCJvYmpldG9TZWxlY2Npb25hZG8iLCJvIiwibW9zdHJhclNlbGVjdG9yVGFtYW5vIiwidGFtYW5pb3NEaXNwb25pYmxlcyIsImZyb20iLCJfIiwiaSIsImJvdG9uT3BjaW9uZXNSZWYiLCJfcmVmRXZlbnRRdWV1ZWQiLCJyZWdpc3RlclJlZiIsInJlZ2lzdGVyT2JqZWN0IiwiYWRkIiwiZGVsZXRlIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwibG9hZGVkRm9udEZhbWlsaWVzUmVmIiwiaXNNb2JpbGUiLCJpc01vYmlsZVBvcnRyYWl0Iiwic2NhbGUiLCJhbmNob0NvbnRlbmVkb3IiLCJlc2NhbGFBY3RpdmEiLCJlc2NhbGFWaXN1YWwiLCJ3cmFwcGVyQmFzZVdpZHRoIiwiZXNjYWxhRml0TW9iaWxlUG9ydHJhaXQiLCJtb2JpbGVUeXBvZ3JhcGh5VG9vbGJhclZpc2libGUiLCJ0aXBvIiwiZmlndXJhIiwidGV4dG8iLCJtb2JpbGVUZXh0VG9vbGJhclZpc2libGUiLCJtb2JpbGVGb250U3RyaXBWaXNpYmxlIiwibW9iaWxlU2l6ZVN0cmlwVmlzaWJsZSIsIm1vYmlsZUJvdHRvbVR5cG9ncmFwaHlTdHJpcFZpc2libGUiLCJvcHRpb25CdXR0b25TaXplIiwiZGVzaXJlZFJhdGlvIiwiZ2V0U3RhZ2UiLCJiYXRjaERyYXciLCJpbmxpbmVEZWJ1Z0FCIiwiX19JTkxJTkVfQUIiLCJoYW5kbGVJbmxpbmVPdmVybGF5TW91bnRDaGFuZ2UiLCJtb3VudGVkIiwic2FmZUlkIiwicHJldmlvdXMiLCJwcmV2aW91c092ZXJsYXlNb3VudGVkSWQiLCJuZXh0T3ZlcmxheU1vdW50ZWRJZCIsImNhcHR1cmVJbmxpbmVTbmFwc2hvdCIsImV2ZW50TmFtZSIsImV4dHJhIiwiX19JTkxJTkVfU05BUFNIT1QiLCJzbmFwc2hvdEFsbG93bGlzdCIsImZyYW1lTWV0YSIsInNuYXBzaG90SWQiLCJub2RlTWV0cmljcyIsIm9iak1ldHJpY3MiLCJpc0Zpbml0ZSIsInRleHRvTGVuZ3RoIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0Iiwic3RhZ2VSZWN0IiwiciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlubGluZVJlY3QiLCJpbmxpbmVTdHlsZSIsImlubGluZUNvbnRlbnRSZWN0IiwiaW5saW5lQ29udGVudE1ldHJpY3MiLCJvdmVybGF5RWwiLCJjb250ZW50RWwiLCJsZWZ0IiwidG9wIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsImNvbnRlbnRSZWN0Iiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsImlzRm9jdXNlZCIsImFjdGl2ZUVsZW1lbnQiLCJ0cmFuc2Zvcm1lclJlY3QiLCJ0cmFuc2Zvcm1lciIsImZpbmRPbmUiLCJ0clJlY3QiLCJub2RlcyIsIm5vZGVzQ291bnQiLCJpbmNsdWRlc1NuYXBzaG90Tm9kZSIsImVkaXRpbmdJZCIsImN1cnJlbnRFZGl0aW5nSWQiLCJfY3VycmVudEVkaXRpbmdJZCIsIm92ZXJsYXlNb3VudGVkSWQiLCJpbmxpbmVBQiIsInNjcm9sbFgiLCJzY3JvbGxZIiwiY3VycmVudElkIiwiY3VycmVudFZhbHVlIiwicHJldlN0YXRzIiwibmV4dFN0YXRzIiwibGluZWJyZWFrQ2hhbmdlZCIsImluY2x1ZGVzRWRpdGluZ05vZGUiLCJvdmVybGF5UmVjdCIsImNyIiwicHJldkxlbmd0aCIsIm5leHRMZW5ndGgiLCJwcmV2TGluZUNvdW50IiwibmV4dExpbmVDb3VudCIsInByZXZUcmFpbGluZ05ld2xpbmVzIiwibmV4dFRyYWlsaW5nTmV3bGluZXMiLCJwcmV2aW91c0xlbmd0aCIsInZhbHVlTGVuZ3RoIiwibm9ybWFsaXplZEFCIiwiZW5hYmxlZCIsImZyYW1lU2VxIiwicHJldmlvdXNJZCIsImZ1ZW50ZXNOZWNlc2FyaWFzIiwiZm9udHMiLCJmb250RmFtaWx5IiwicHJldmlvdXNDdXJyZW50RWRpdGluZ0lkIiwibmV4dEN1cnJlbnRFZGl0aW5nSWQiLCJhY3R1YWxpemFyT2Zmc2V0Rm9uZG8iLCJudWV2b3NPZmZzZXRzIiwiZXNQcmV2aWV3Iiwic2VjY2lvbkFjdHVhbGl6YWRhIiwib2Zmc2V0WCIsImZvbmRvSW1hZ2VuT2Zmc2V0WCIsIm9mZnNldFkiLCJmb25kb0ltYWdlbk9mZnNldFkiLCJhc2lnbmFySW1hZ2VuQUdhbGVyaWEiLCJ1cmwiLCJnIiwib2JqSWQiLCJpbmRleCIsImZpbmRJbmRleCIsImNvcGlhIiwic3RydWN0dXJlZENsb25lIiwiY2VsbHMiLCJtZWRpYVVybCIsImZpdCIsImJnIiwiX3Jlc2l6ZURhdGEiLCJtb3N0cmFyUGFuZWxaIiwiaXNTZWxlY3Rpb25Sb3RhdGluZyIsInNldElzU2VsZWN0aW9uUm90YXRpbmciLCJsb2dPcHRpb25CdXR0b25NZW51RGVidWciLCJfX0RCR19PUFRJT05fQlVUVE9OIiwidG9nZ2xlUGFuZWxPcGNpb25lcyIsInNvdXJjZSIsIm5hdGl2ZUV2ZW50Iiwic2VsZWN0ZWRJZCIsInNlbGVjdGlvbkNvdW50IiwibmF0aXZlRXZlbnRUeXBlIiwidHlwZSIsInBvaW50ZXJUeXBlIiwib3BlbiIsIm1vdmVyRWxlbWVudG8iLCJhY2Npb24iLCJudWV2b3MiLCJlbGVtZW50byIsInNwbGljZSIsInB1c2giLCJ1bnNoaWZ0Iiwib25EZXNoYWNlciIsIm9uUmVoYWNlciIsIm9uRHVwbGljYXIiLCJvbkVsaW1pbmFyIiwib25Db3BpYXIiLCJvblBlZ2FyIiwib25DYW1iaWFyQWxpbmVhY2lvbiIsImNvbnRlbnQiLCJzZXRTY3JvbGxNb2RlIiwidG91Y2hBY3Rpb24iLCJzZXRFZGl0TW9kZSIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnRW5kIiwic3RvcERyYWdnaW5nIiwiV2Via2l0VXNlclNlbGVjdCIsIldlYmtpdFRvdWNoQ2FsbG91dCIsIm9uIiwib2ZmIiwic2V0RHJhZ0Rpc3RhbmNlRm9ySW5wdXQiLCJpc1RvdWNoTGlrZSIsIm9uUG9pbnRlckRvd24iLCJvblRvdWNoU3RhcnQiLCJvbk1vdXNlRG93biIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXNzaXZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9sYXN0U2VjY2lvbkFjdGl2YUlkIiwiRXZlbnQiLCJoYW5kbGVDbGlja0Z1ZXJhIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJwcmVsb2FkUG9wdWxhckZvbnRzIiwiaGFuZGxlRm9udHNMb2FkZWQiLCJhbGl2ZSIsInByZWNhcmdhciIsInBlbmRpZW50ZXMiLCJmb250TmFtZSIsIm1heWJlUHJvbWlzZSIsImxvYWRGb250cyIsInRoZW4iLCJsb2FkIiwiUHJvbWlzZSIsImFsbCIsImYiLCJ3YXJuIiwiYWN0dWFsaXphck9iamV0byIsIm51ZXZvIiwiZnJvbVRyYW5zZm9ybSIsImNsZWFuTnVldm8iLCJwb2ludHMiLCJhY3R1YWxpemFyT2JqZXRvUG9ySWQiLCJjYW1iaW9zIiwibm9ybWFsaXphck1lZGlkYXNHYWxlcmlhIiwiZ2FsZXJpYSIsIndpZHRoQ2FuZGlkYXRlIiwieENhbmRpZGF0ZSIsImNhbnZhc1dpZHRoIiwicm93cyIsIm1heCIsImNvbHMiLCJnYXAiLCJjZWxsUmF0aW8iLCJyYXRpbyIsIm1pbkdyaWRXaWR0aCIsIndpZHRoUGN0IiwibWF4WCIsImZhbGxiYWNrWCIsInJhd1giLCJjZWxsVyIsImNlbGxIIiwiYWN0dWFsaXphckxpbmVhIiwibGluZUlkIiwibnVldmFEYXRhIiwiaXNQcmV2aWV3IiwiY2xlYW5EYXRhIiwicCIsInBhcnNlRmxvYXQiLCJzdHJva2VXaWR0aCIsInBhcnNlSW50IiwiaXNGaW5hbCIsIm9idGVuZXJNZXRyaWNhc1RleHRvIiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJmYWxsYmFja1NpemUiLCJzYWZlRm9udFNpemUiLCJzYWZlTGluZUhlaWdodCIsInNhZmVGYW1pbHkiLCJmb250Rm9yQ2FudmFzIiwidGVzdCIsImZvbnQiLCJyYXdUZXh0Iiwic2FmZVRleHQiLCJsaW5lcyIsIm1heExpbmVXaWR0aCIsImxpbmUiLCJtZWFzdXJlVGV4dCIsIm1lZGlyQW5jaG9UZXh0b0tvbnZhIiwib2JqVGV4dG8iLCJ0ZXh0b09iamV0aXZvIiwiZm9udFNpemVPdmVycmlkZSIsInByb2JlIiwic2FmZUZvbnRGYW1pbHkiLCJpc0ZvbnRBdmFpbGFibGUiLCJiYXNlTGluZUhlaWdodCIsInRleHQiLCJwYWRkaW5nIiwid3JhcCIsImRlc3Ryb3kiLCJtZWRpckFsdG9UZXh0b0tvbnZhIiwiY2FsY3VsYXJYVGV4dG9DZW50cmFkb1BvclRhbWFubyIsIm5leHRGb250U2l6ZSIsInNhZmVOZXh0U2l6ZSIsInByZXZpb3VzTWV0cmljcyIsIm5leHRNZXRyaWNzIiwicHJldmlvdXNXaWR0aEZyb21Lb252YSIsIm5leHRXaWR0aEZyb21Lb252YSIsInByZXZpb3VzV2lkdGgiLCJuZXh0V2lkdGgiLCJjdXJyZW50WCIsImNhbGN1bGFyWFRleHRvRGVzZGVDZW50cm8iLCJzYWZlQ2VudGVyWCIsImNhbGN1bGFyWVRleHRvRGVzZGVDZW50cm8iLCJjZW50ZXJZIiwic2FmZUNlbnRlclkiLCJuZXh0SGVpZ2h0RnJvbUtvbnZhIiwibmV4dEhlaWdodCIsImNhbGN1bGFyUG9zVGV4dG9EZXNkZUNlbnRybyIsInJvdGF0aW9uRGVnIiwic2FmZVJvdGF0aW9uIiwidGhldGEiLCJQSSIsIm1ldHJpY3MiLCJ3aWR0aEZyb21Lb252YSIsImhlaWdodEZyb21Lb252YSIsImhhbGZXIiwiaGFsZkgiLCJjZW50ZXJPZmZzZXRYIiwiY29zIiwic2luIiwiY2VudGVyT2Zmc2V0WSIsImZhbGxiYWNrWSIsImFqdXN0YXJGb250U2l6ZUFBbmNob1Zpc3VhbCIsInByb3Bvc2VkRm9udFNpemUiLCJ0YXJnZXRWaXN1YWxXaWR0aCIsInNhZmVQcm9wb3NlZCIsInNhZmVUYXJnZXRXaWR0aCIsImN1cnJlbnRGb250U2l6ZSIsIm5leHRTaXplIiwibWVhc3VyZWRXaWR0aCIsIml0ZXJhdGlvbiIsImNhbmRpZGF0ZSIsInByZXZTaXplIiwiYWJzIiwiZmluYWxTaXplIiwiY2FsY3VsYXJYVGV4dG9DZW50cmFkbyIsImRlc2NyaWJlVGFyZ2V0IiwiRWxlbWVudCIsInRhZyIsInRhZ05hbWUiLCJjbGFzc2VzIiwiY2xhc3NMaXN0Iiwic2xpY2UiLCJqb2luIiwiaXNJbnNpZGVGbG9hdGluZ1VpIiwiaGFuZGxlUG9pbnRlck91dHNpZGUiLCJpbnNpZGVGbG9hdGluZ1VpIiwiZXZlbnRUeXBlIiwiY2FwdHVyZSIsImFjdHVhbGl6YXJGb25kb1NlY2Npb24iLCJudWV2b0ZvbmRvIiwiZm9uZG8iLCJvbkRlc2VsZWNjaW9uYXIiLCJpc0VkaXRpbmciLCJ0aWVuZVNlbGVjY2lvbiIsImNhbWJpYXJDb2xvckZvbmRvU2VjY2lvbiIsIm51ZXZvQ29sb3IiLCJoaXN0b3JpYWxMZW5ndGgiLCJmdXR1cm9zTGVuZ3RoIiwiZXNTZWNjaW9uUGFudGFsbGFCeUlkIiwiYWx0b01vZG8iLCJhbHRvQ2FudmFzRGluYW1pY28iLCJhYnJpck1vZGFsQm9ycmFyU2VjY2lvbiIsImNlcnJhck1vZGFsQm9ycmFyU2VjY2lvbiIsImNvbmZpcm1hckJvcnJhclNlY2Npb24iLCJvblNlbGVjdFNlY2Npb24iLCJfc2VjY2lvbkFjdGl2YUlkIiwicmVzb2x2ZXJWaWV3cG9ydFNjcm9sbFNlY2Npb25lcyIsInN0YWdlQ29udGFpbmVyIiwibWFpbkVsZW1lbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3ciLCJpc1Njcm9sbGFibGUiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsIiwidmlld3BvcnQiLCJ2aWV3cG9ydFRvcCIsInZpZXdwb3J0Qm90dG9tIiwiZG9jdW1lbnRFbGVtZW50Iiwidmlld3BvcnRSZWN0IiwiYm90dG9tIiwiYWx0dXJhU3RhZ2VQeCIsImFsdHVyYUNhbnZhcyIsInB4UG9yVW5pZGFkIiwiY2VudHJvVmlld3BvcnQiLCJtZWpvcklkIiwibWVqb3JWaXNpYmxlIiwibWVqb3JSYXRpbyIsIm1lam9yRGlzdGFuY2lhQ2VudHJvIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJhbHR1cmFTZWNjaW9uIiwidmlzaWJsZSIsInJhdGlvVmlzaWJsZSIsImRpc3RhbmNpYUNlbnRybyIsIm1lam9yYVBvclZpc2libGUiLCJlbXBhdGVWaXNpYmxlIiwibWVqb3JhUG9yUmF0aW8iLCJlbXBhdGVSYXRpbyIsIm1lam9yYVBvckNlbnRybyIsInNjcm9sbFRhcmdldCIsInNjaGVkdWxlU3luYyIsImV2ZW50VGFyZ2V0IiwidmlzdWFsVmlld3BvcnQiLCJndWlhTGluZWFzIiwibW9zdHJhckd1aWFzIiwibGltcGlhckd1aWFzIiwiY29uZmlndXJhckRyYWdFbmQiLCJhbmNob0NhbnZhcyIsIm1hcmdlblNlbnNpYmlsaWRhZCIsIm1hZ25ldFJhZGl1cyIsInNlY3Rpb25NYWduZXRSYWRpdXMiLCJzbmFwU3RyZW5ndGgiLCJzZWN0aW9uU25hcFN0cmVuZ3RoIiwic2VjdGlvbkxpbmVUb2xlcmFuY2UiLCJzbmFwVG9FZGdlcyIsInNuYXBUb0NlbnRlcnMiLCJhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzIiwibGF5b3V0Um9vdFJlZiIsImJ1dHRvblNpemUiLCJoYW5kbGVUcmFuc2Zvcm1JbnRlcmFjdGlvblN0YXJ0Iiwicm90YXRpbmciLCJpc1JvdGF0ZSIsImhhbmRsZVRyYW5zZm9ybUludGVyYWN0aW9uRW5kIiwib25EcmFnU3RhcnRHbG9iYWwiLCJvbkRyYWdFbmRHbG9iYWwiLCJfbGluZUludGVyc2VjdGlvbkNhY2hlIiwiX2dydXBvTGlkZXIiLCJyZWNlbnRseUVuZGVkR3JvdXBEcmFnIiwiX3NraXBVbnRpbCIsImhheUxpbmVhcyIsInNvbWUiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJnZXRMYXllciIsImNsZWFyVGltZW91dCIsImxpbmVPYmoiLCJhcmVhIiwicHVudG9zTGltcGlvcyIsIl9lbGVtZW50UmVmcyIsImxpbmVYIiwibGluZVkiLCJzdGFydFgiLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsInN0YXJ0RGVudHJvIiwiZW5kRGVudHJvIiwiaW50ZXJzZWN0YSIsImxpbmVJbnRlcnNlY3RzUmVjdCIsIngxIiwieTEiLCJ4MiIsInkyIiwicmVjdExlZnQiLCJyZWN0VG9wIiwicmVjdFJpZ2h0IiwicmVjdEJvdHRvbSIsImxpbmVJbnRlcnNlY3RzTGluZSIsIngzIiwieTMiLCJ4NCIsInk0IiwiZGVub20iLCJ0IiwidSIsIm9iamV0b0VuRWRpY2lvbiIsIm5vZGVDbGFzcyIsImJlZm9yZU1ldHJpY3MiLCJlZGl0aW5nVmFsdWUiLCJzaG91bGRLZWVwQ2VudGVyUHJldmlldyIsIl9fZ3JvdXBBbGlnbiIsIl9fYXV0b1dpZHRoIiwiZXhwZWN0ZWRYIiwib2JqWCIsIm9ialkiLCJmb3JjZVVwZGF0ZSIsImFmdGVyTWV0cmljcyIsImFmdGVyWCIsImRlbHRhWCIsImZpbmFsT2JqIiwiZmluYWxOb2RlIiwiZmluYWxOb2RlTWV0cmljcyIsImZpbmFsWCIsImRlbHRhRmluYWxWc0V4cGVjdGVkIiwiX2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MiLCJfb2JqZXRvc0FjdHVhbGVzIiwiX3NlY2Npb25lc09yZGVuYWRhcyIsIl9hbHRvQ2FudmFzIiwiaWRzIiwiYWN0aXZlU2VjdGlvbklkIiwiZ2FsbGVyeUNlbGwiLCJnYWxlcmlhRXhpc3RlIiwiX2NlbGRhR2FsZXJpYUFjdGl2YSIsImNlbGwiLCJzZXRIb3ZlcklkR2xvYmFsIiwiZXhpc3RzIiwiY2xlYW51cCIsInN0YWdlR2VzdHVyZXMiLCJtb2JpbGVDYW52YXNUb29sYmFyT2Zmc2V0IiwibW9iaWxlU2VjdGlvbkFjdGlvbnNUb3AiLCJzY2FsZWRDYW52YXNIZWlnaHRDb21wZW5zYXRpb24iLCJkaXYiLCJyZWYiLCJtYXJnaW5Ub3AiLCJwb3NpdGlvbiIsIm92ZXJmbG93WCIsIldlYmtpdE92ZXJmbG93U2Nyb2xsaW5nIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJ0cmFuc2l0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwidHJhbnNmb3JtIiwidHJhbnNmb3JtT3JpZ2luIiwibWFyZ2luQm90dG9tIiwiZXNQcmltZXJhIiwiZXNVbHRpbWEiLCJlc3RhQW5pbWFuZG8iLCJzZWN0aW9uQnV0dG9uQmFzZSIsInNlY3Rpb25CdXR0b25EaXNhYmxlZCIsInNlY3Rpb25CdXR0b25QcmltYXJ5Iiwic2VjdGlvbkJ1dHRvbk5ldXRyYWwiLCJzZWN0aW9uQnV0dG9uU3VjY2VzcyIsInNlY3Rpb25CdXR0b25EYW5nZXIiLCJhY3Rpb25CdXR0b25zIiwiYnV0dG9uIiwib25DbGljayIsImRpcmVjY2lvbiIsImRpc2FibGVkIiwidGl0bGUiLCJzcGFuIiwib25DaGFuZ2UiLCJjb2xvciIsIm1vZG9TZWNjaW9uIiwiZXNQYW50YWxsYSIsInJpZ2h0IiwiekluZGV4IiwicGVyZmVjdERyYXdFbmFibGVkIiwibGlzdGVuaW5nIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwicHJldmVudERlZmF1bHQiLCJoaXRHcmFwaEVuYWJsZWQiLCJiYWNrZ3JvdW5kIiwiYm94U2hhZG93Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJmbGF0TWFwIiwiYWx0dXJhUHgiLCJlc0FjdGl2YSIsImVsZW1lbnRvcyIsIm9uU2VsZWN0Iiwib25VcGRhdGVGb25kb09mZnNldCIsIm1vYmlsZUJhY2tncm91bmRFZGl0RW5hYmxlZCIsIm9uQmFja2dyb3VuZEltYWdlU3RhdHVzQ2hhbmdlIiwiZmlsbCIsInN0cm9rZSIsIm9uVGFwIiwiY29udHJvbFkiLCJwZXJtaXRlUmVzaXplQWx0dXJhIiwibmFtZSIsImRhc2giLCJvcGFjaXR5Iiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiZHJhZ2dhYmxlIiwiY29ybmVyUmFkaXVzIiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0IiwicmFkaXVzIiwicm91bmQiLCJpc0luRWRpdE1vZGUiLCJvbkhvdmVyIiwiaXNTZWxlY3RlZCIsIm9uUGlja0NlbGwiLCJpbmZvIiwiZXZ0IiwiY2FuY2VsQnViYmxlIiwib25EcmFnTW92ZVBlcnNvbmFsaXphZG8iLCJwb3MiLCJfaXNEcmFnZ2luZyIsIm9uRHJhZ1N0YXJ0UGVyc29uYWxpemFkbyIsImRyYWdJZCIsIm9uRHJhZ0VuZFBlcnNvbmFsaXphZG8iLCJ1cGRhdGVkIiwib2JqT3JpZ2luYWwiLCJmaW5hbGl6b0RyYWciLCJudWV2YVNlY2Npb24iLCJjb29yZGVuYWRhc0FqdXN0YWRhcyIsIm9ialByZXZpZXciLCJ0ZXh0b1ByZXZpZXciLCJwcmV2aWV3T2JqIiwicHJldmlld1giLCJpZHhTZWMiLCJ5TG9jYWwiLCJ5Tm9ybSIsInByZVNlbGVjY2lvbmFkbyIsIm9uU3RhcnRUZXh0RWRpdCIsIm9iamVjdFgiLCJvYmplY3RZIiwiaW5saW5lVmlzaWJpbGl0eU1vZGUiLCJmaW5pc2hJbmxpbmVFZGl0IiwiZXNTaGlmdCIsInNoaWZ0S2V5IiwiaXNEcmFnUHJldmlldyIsInNraXBIaXN0b3JpYWwiLCJpc0JhdGNoVXBkYXRlRmluYWwiLCJkcmFnSW5pY2lhbCIsImRlbHRhWSIsIm9iamV0byIsInBvc0luaWNpYWwiLCJjb29yZGVuYWRhc0ZpbmFsZXMiLCJzZWNjaW9uRmluYWxJZCIsInlSZWxQeCIsImhheURpZmVyZW5jaWFzIiwidmFsb3JBbnRlcmlvciIsInZhbG9yTnVldm8iLCJzZWxlY2Npb25BY3R1YWwiLCJlbGVtZW50SWQiLCJzZWxlY3RlZEVsZW1lbnRzIiwib25UcmFuc2Zvcm1JbnRlcmFjdGlvblN0YXJ0Iiwib25UcmFuc2Zvcm1JbnRlcmFjdGlvbkVuZCIsIm9uVHJhbnNmb3JtIiwibmV3QXR0cnMiLCJvYmpJbmRleCIsInVwZGF0ZWRFbGVtZW50Iiwicm90YXRpb24iLCJnYWxsZXJ5TWV0cmljcyIsInNjYWxlWCIsInNjYWxlWSIsImlzUmVzaXppbmciLCJjbGVhbkF0dHJzIiwiZmluYWxBdHRycyIsInJlcXVlc3RlZEZvbnRTaXplIiwib3JpZ2luYWxGb250U2l6ZSIsInJvdGF0aW9uRmluYWwiLCJwcmV2aW91c1JvdGF0aW9uIiwicm90YXRpb25DaGFuZ2VkIiwiZm9udFNpemVDaGFuZ2VkIiwic2hvdWxkTWF0Y2hWaXN1YWxXaWR0aCIsInRleHRWaXN1YWxXaWR0aCIsInNob3VsZFVzZU5vZGVQb3NlIiwiY2VudGVyZWRQb3NBYnMiLCJ0ZXh0Q2VudGVyWCIsInRleHRDZW50ZXJZIiwiY2VudGVyZWRYIiwiY2VudGVyZWRZQWJzIiwiY2VudGVyZWRZIiwiY2xlYW5Gb250U2l6ZSIsIm9yaWdpbmFsWCIsIm9yaWdpbmFsWSIsImZpbmFsRm9udFNpemUiLCJmaW5hbFkiLCJpZHgiLCJzYWZlIiwiY29tbWl0U25hcHNob3QiLCJub2RlQWZ0ZXJDb21taXQiLCJyZWN0QWZ0ZXJDb21taXQiLCJub2RlWCIsIm5vZGVZIiwibm9kZVNjYWxlWCIsIm5vZGVTY2FsZVkiLCJub2RlRm9udFNpemUiLCJub2RlUmVjdFdpZHRoIiwibm9kZVJlY3RIZWlnaHQiLCJlcnIiLCJtZXNzYWdlIiwiaG92ZXJlZEVsZW1lbnQiLCJlbGVtZW50b1NlbGVjY2lvbmFkbyIsImxpbmVFbGVtZW50Iiwib25VcGRhdGVMaW5lIiwiaXNEcmFnR3J1cGFsQWN0aXZlIiwibGluZWEiLCJlc0xpbmVhU2VjY2lvbiIsInByaW9yaXR5Iiwic2hhZG93RW5hYmxlZCIsInRleHRBbGlnbiIsImFsaWduIiwib25PdmVybGF5TW91bnRDaGFuZ2UiLCJuZXh0VmFsdWUiLCJuZXh0VGV4dCIsIm9uRGVidWdFdmVudCIsIm9uRmluaXNoIiwiZmluaXNoSWQiLCJ0ZXh0b051ZXZvUmF3IiwidGV4dG9OdWV2b1ZhbGlkYWRvIiwibGl2ZU5vZGVBdEZpbmlzaCIsImxpdmVNZXRyaWNzQXRGaW5pc2giLCJyYXdMZW5ndGgiLCJ0cmltbWVkTGVuZ3RoIiwicHJldmlld1JlZiIsImFjdHVhbGl6YWRvIiwicGF0Y2giLCJzaG91bGRLZWVwQ2VudGVyWCIsIm5leHRYIiwicGF0Y2hYIiwib2JqZWN0WEJlZm9yZUNvbW1pdCIsImxpdmVOb2RlWEF0RmluaXNoIiwicHJldmlld0NlbnRlclgiLCJ0ZXh0TGVuZ3RoIiwibG9nRmluaXNoVmlzaWJpbGl0eUNoZWNrIiwicGhhc2UiLCJvdmVybGF5RG9tUHJlc2VudCIsImxpdmVOb2RlIiwicmVhY3RpdmVFZGl0aW5nSWQiLCJnbG9iYWxFZGl0aW5nSWQiLCJub2RlT3BhY2l0eSIsIm5vZGVWaXNpYmxlIiwic3RhZ2VBZnRlckZpbmlzaEVkaXQiLCJzY2FsZVZpc3VhbCIsIndpZHRoTW9kZSIsImRhdGEtb3B0aW9uLWJ1dHRvbiIsImFsaWduSXRlbXMiLCJwb2ludGVyRXZlbnRzIiwiYmFja2Ryb3BGaWx0ZXIiLCJib3JkZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJhcmlhLWxhYmVsIiwib25DZXJyYXIiLCJzZWN0aW9uTmFtZSIsIml0ZW1Db3VudCIsImlzRGVsZXRpbmciLCJvbkNhbmNlbCIsIm9uQ29uZmlybSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/CanvasEditor.jsx\n"));

/***/ })

});