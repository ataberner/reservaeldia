"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_components_CanvasEditor_jsx",{

/***/ "(pages-dir-browser)/./src/components/CanvasEditor.jsx":
/*!*****************************************!*\
  !*** ./src/components/CanvasEditor.jsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(pages-dir-browser)/./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-konva */ \"(pages-dir-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var _ElementoCanvas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ElementoCanvas */ \"(pages-dir-browser)/./src/components/ElementoCanvas.jsx\");\n/* harmony import */ var _LineControls__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LineControls */ \"(pages-dir-browser)/./src/components/LineControls.jsx\");\n/* harmony import */ var _utils_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/layout */ \"(pages-dir-browser)/./src/utils/layout.ts\");\n/* harmony import */ var _models_estructuraInicial__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/models/estructuraInicial */ \"(pages-dir-browser)/./src/models/estructuraInicial.js\");\n/* harmony import */ var _hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/usePlantillasDeSeccion */ \"(pages-dir-browser)/./src/hooks/usePlantillasDeSeccion.js\");\n/* harmony import */ var _hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/hooks/useImperativeObjects */ \"(pages-dir-browser)/./src/hooks/useImperativeObjects.js\");\n/* harmony import */ var _SelectionBounds__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SelectionBounds */ \"(pages-dir-browser)/./src/components/SelectionBounds.jsx\");\n/* harmony import */ var _HoverIndicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./HoverIndicator */ \"(pages-dir-browser)/./src/components/HoverIndicator.jsx\");\n/* harmony import */ var _LineToolbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LineToolbar */ \"(pages-dir-browser)/./src/components/LineToolbar.jsx\");\n/* harmony import */ var _hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/hooks/useKeyboardShortcuts */ \"(pages-dir-browser)/./src/hooks/useKeyboardShortcuts.js\");\n/* harmony import */ var _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/fontManager */ \"(pages-dir-browser)/./src/utils/fontManager.js\");\n/* harmony import */ var _hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/hooks/useInlineEditor */ \"(pages-dir-browser)/./src/hooks/useInlineEditor.js\");\n/* harmony import */ var _ShapeToolbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ShapeToolbar */ \"(pages-dir-browser)/./src/components/ShapeToolbar.jsx\");\n/* harmony import */ var _hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/hooks/useEditorHandlers */ \"(pages-dir-browser)/./src/hooks/useEditorHandlers.js\");\n/* harmony import */ var _InlineTextEditor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./InlineTextEditor */ \"(pages-dir-browser)/./src/components/InlineTextEditor.jsx\");\n/* harmony import */ var _FontSelector__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./FontSelector */ \"(pages-dir-browser)/./src/components/FontSelector.jsx\");\n/* harmony import */ var _utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/utils/accionesFondo */ \"(pages-dir-browser)/./src/utils/accionesFondo.js\");\n/* harmony import */ var _utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/utils/editorSecciones */ \"(pages-dir-browser)/./src/utils/editorSecciones.js\");\n/* harmony import */ var _editor_selection_selectionUtils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./editor/selection/selectionUtils */ \"(pages-dir-browser)/./src/components/editor/selection/selectionUtils.js\");\n/* harmony import */ var _utils_plantillas__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @/utils/plantillas */ \"(pages-dir-browser)/./src/utils/plantillas.js\");\n/* harmony import */ var _components_editor_GaleriaKonva__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @/components/editor/GaleriaKonva */ \"(pages-dir-browser)/./src/components/editor/GaleriaKonva.jsx\");\n/* harmony import */ var _editor_FondoSeccion__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./editor/FondoSeccion */ \"(pages-dir-browser)/./src/components/editor/FondoSeccion.jsx\");\n/* harmony import */ var _MenuOpcionesElemento__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./MenuOpcionesElemento */ \"(pages-dir-browser)/./src/components/MenuOpcionesElemento.jsx\");\n/* harmony import */ var _utils_calcGrid__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @/utils/calcGrid */ \"(pages-dir-browser)/./src/utils/calcGrid.js\");\n/* harmony import */ var _components_editor_countdown_CountdownKonva__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @/components/editor/countdown/CountdownKonva */ \"(pages-dir-browser)/./src/components/editor/countdown/CountdownKonva.jsx\");\n/* harmony import */ var _hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @/hooks/useGuiasCentrado */ \"(pages-dir-browser)/./src/hooks/useGuiasCentrado.js\");\n/* harmony import */ var _components_editor_toolbar_FloatingTextToolbar__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @/components/editor/toolbar/FloatingTextToolbar */ \"(pages-dir-browser)/./src/components/editor/toolbar/FloatingTextToolbar.jsx\");\n/* harmony import */ var _SelectorColorSeccion__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./SelectorColorSeccion */ \"(pages-dir-browser)/./src/components/SelectorColorSeccion.jsx\");\n/* harmony import */ var konva__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! konva */ \"(pages-dir-browser)/./node_modules/konva/lib/index.js\");\n/* harmony import */ var konva__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(konva__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var _config_fonts__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../config/fonts */ \"(pages-dir-browser)/./src/config/fonts.js\");\n/* harmony import */ var _hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @/hooks/useAuthClaims */ \"(pages-dir-browser)/./src/hooks/useAuthClaims.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronUp,Layers,Monitor,MoveDown,MoveUp,PlusCircle,Settings,Trash2,Unlink2!=!lucide-react */ \"(pages-dir-browser)/__barrel_optimize__?names=ChevronDown,ChevronUp,Layers,Monitor,MoveDown,MoveUp,PlusCircle,Settings,Trash2,Unlink2!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./editor/persistence/useBorradorSync */ \"(pages-dir-browser)/./src/components/editor/persistence/useBorradorSync.js\");\n/* harmony import */ var _editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./editor/sections/useSectionsManager */ \"(pages-dir-browser)/./src/components/editor/sections/useSectionsManager.js\");\n/* harmony import */ var _components_editor_sections_ConfirmDeleteSectionModal__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @/components/editor/sections/ConfirmDeleteSectionModal */ \"(pages-dir-browser)/./src/components/editor/sections/ConfirmDeleteSectionModal.jsx\");\n/* harmony import */ var _editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./editor/events/useEditorEvents */ \"(pages-dir-browser)/./src/components/editor/events/useEditorEvents.js\");\n/* harmony import */ var _editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./editor/window/useEditorWindowBridge */ \"(pages-dir-browser)/./src/components/editor/window/useEditorWindowBridge.js\");\n/* harmony import */ var _editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./editor/history/useHistoryManager */ \"(pages-dir-browser)/./src/components/editor/history/useHistoryManager.js\");\n/* harmony import */ var _components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @/components/editor/mobile/useCanvasScaleLayout */ \"(pages-dir-browser)/./src/components/editor/mobile/useCanvasScaleLayout.js\");\n/* harmony import */ var _components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @/components/editor/mobile/useCanvasInteractionState */ \"(pages-dir-browser)/./src/components/editor/mobile/useCanvasInteractionState.js\");\n/* harmony import */ var _editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./editor/mobile/useStageGestures */ \"(pages-dir-browser)/./src/components/editor/mobile/useStageGestures.js\");\n/* harmony import */ var _components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @/components/editor/overlays/useOptionButtonPosition */ \"(pages-dir-browser)/./src/components/editor/overlays/useOptionButtonPosition.js\");\n/* harmony import */ var _components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @/components/canvas/CanvasElementsLayer */ \"(pages-dir-browser)/./src/components/canvas/CanvasElementsLayer.jsx\");\n/* harmony import */ var _components_canvas_DividersOverlayStage__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @/components/canvas/DividersOverlayStage */ \"(pages-dir-browser)/./src/components/canvas/DividersOverlayStage.jsx\");\n// components/CanvasEditor.jsx\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(konva__WEBPACK_IMPORTED_MODULE_32___default().dragDistance) = 8;\nfunction resolveKonvaPixelRatio() {\n    if (false) {}\n    const dpr = Number(window.devicePixelRatio || 1);\n    const coarsePointer = typeof window.matchMedia === \"function\" && window.matchMedia(\"(pointer: coarse)\").matches;\n    const minSide = Math.min(Number(window.innerWidth || 0), Number(window.innerHeight || 0));\n    const mobileLike = coarsePointer || minSide > 0 && minSide <= 1024;\n    if (mobileLike) return 1;\n    return Math.min(dpr, 2);\n}\n(konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) = resolveKonvaPixelRatio();\nconst ALTURA_REFERENCIA_PANTALLA = 500;\nconst ALTURA_PANTALLA_EDITOR = 500;\nfunction normalizarAltoModo(modo) {\n    const m = String(modo || \"fijo\").toLowerCase();\n    return m === \"pantalla\" ? \"pantalla\" : \"fijo\";\n}\nfunction isBoldFontWeight(weight) {\n    const normalized = String(weight || \"normal\").toLowerCase();\n    return normalized === \"bold\" || normalized === \"bolder\" || [\n        \"500\",\n        \"600\",\n        \"700\",\n        \"800\",\n        \"900\"\n    ].includes(normalized);\n}\nfunction resolveKonvaFontStyle(fontStyle, fontWeight) {\n    const style = String(fontStyle || \"normal\").toLowerCase();\n    const isItalic = style.includes(\"italic\") || style.includes(\"oblique\");\n    const isBold = style.includes(\"bold\") || isBoldFontWeight(fontWeight);\n    if (isBold && isItalic) return \"bold italic\";\n    if (isBold) return \"bold\";\n    if (isItalic) return \"italic\";\n    return \"normal\";\n}\n// ??? FUNCIÓN HELPER PARA LIMPIAR UNDEFINED\nconst limpiarObjetoUndefined = (obj)=>{\n    if (Array.isArray(obj)) {\n        return obj.map(limpiarObjetoUndefined);\n    }\n    if (obj !== null && typeof obj === 'object') {\n        const objLimpio = {};\n        Object.keys(obj).forEach((key)=>{\n            const valor = obj[key];\n            if (valor !== undefined) {\n                objLimpio[key] = limpiarObjetoUndefined(valor);\n            }\n        });\n        return objLimpio;\n    }\n    return obj;\n};\n// Utils de cursor global (arriba del componente)\nfunction setGlobalCursor() {\n    let cursor = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '', stageRef = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n    try {\n        var _stageRef_current_container, _stageRef_current;\n        document.body.style.cursor = cursor || '';\n        // ?? limpiamos también el contenedor del Stage si existe\n        const stage = (stageRef === null || stageRef === void 0 ? void 0 : (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_container = _stageRef_current.container) === null || _stageRef_current_container === void 0 ? void 0 : _stageRef_current_container.call(_stageRef_current)) || null;\n        if (stage) stage.style.cursor = cursor || '';\n        // fallback: canvas principal\n        const canvas = document.querySelector('canvas');\n        if (canvas && canvas.parentElement) canvas.parentElement.style.cursor = cursor || '';\n    } catch (e) {}\n}\nfunction clearGlobalCursor() {\n    let stageRef = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n    setGlobalCursor('', stageRef);\n}\nfunction isInlineDebugEnabled() {\n    return  true && window.__INLINE_DEBUG !== false;\n}\nfunction formatInlineLogPayload() {\n    let payload = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    try {\n        return JSON.stringify(payload, null, 2);\n    } catch (error) {\n        return String(error || payload);\n    }\n}\nfunction inlineDebugLog(event) {\n    let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    if (!isInlineDebugEnabled()) return;\n    const essentialEvents = new Set([\n        \"start-inline-edit\",\n        \"linebreak-model-sync\",\n        \"linebreak-transformer\"\n    ]);\n    if (!essentialEvents.has(event)) return;\n    const ts = new Date().toISOString();\n    const body = formatInlineLogPayload(payload);\n    console.log(\"[INLINE][\".concat(ts, \"] \").concat(event, \"\\n\").concat(body));\n}\nfunction nextInlineFrameMeta() {\n    var _window_performance;\n    if (false) {}\n    const prev = Number(window.__INLINE_FRAME_SEQ || 0);\n    const next = prev + 1;\n    window.__INLINE_FRAME_SEQ = next;\n    const perfMs = typeof ((_window_performance = window.performance) === null || _window_performance === void 0 ? void 0 : _window_performance.now) === \"function\" ? Number(window.performance.now().toFixed(3)) : null;\n    return {\n        frame: next,\n        perfMs\n    };\n}\nfunction getInlineLineStats(value) {\n    var _normalized_match;\n    const normalized = String(value !== null && value !== void 0 ? value : \"\").replace(/\\r\\n/g, \"\\n\");\n    const trailing = (_normalized_match = normalized.match(/\\n+$/)) === null || _normalized_match === void 0 ? void 0 : _normalized_match[0];\n    return {\n        normalized,\n        length: normalized.length,\n        lineCount: normalized === \"\" ? 1 : normalized.split(\"\\n\").length,\n        trailingNewlines: trailing ? trailing.length : 0\n    };\n}\nfunction normalizeInlineDebugAB(rawConfig) {\n    const raw = rawConfig && typeof rawConfig === \"object\" ? rawConfig : {};\n    const visibilitySource = raw.visibilitySource === \"window\" ? \"window\" : \"reactive\";\n    const finishMode = raw.finishMode === \"immediate\" || raw.finishMode === \"raf\" || raw.finishMode === \"timeout100\" ? raw.finishMode : \"raf\";\n    const overlayWidthMode = raw.overlayWidthMode === \"fit-content\" ? \"fit-content\" : \"measured\";\n    return {\n        visibilitySource,\n        finishMode,\n        overlayWidthMode\n    };\n}\nfunction CanvasEditor(param) {\n    let { slug, zoom = 1, onHistorialChange, onFuturosChange, userId, onStartupStatusChange } = param;\n    var _window__resizeData;\n    _s();\n    const [objetos, setObjetos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [celdaGaleriaActiva, setCeldaGaleriaActiva] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [secciones, setSecciones] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [historial, setHistorial] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [futuros, setFuturos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [elementosSeleccionados, setElementosSeleccionados] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [cargado, setCargado] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { dragStartPos, hasDragged, isDragging, setIsDragging } = (0,_components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__[\"default\"])();\n    const imperativeObjects = (0,_hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__.useImperativeObjects)();\n    const [animandoSeccion, setAnimandoSeccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seccionActivaId, setSeccionActivaId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seleccionActiva, setSeleccionActiva] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [inicioSeleccion, setInicioSeleccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [areaSeleccion, setAreaSeleccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [elementosPreSeleccionados, setElementosPreSeleccionados] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const guiaLayerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [hoverId, setHoverId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const altoCanvas = secciones.reduce((acc, s)=>acc + s.altura, 0) || 800;\n    const [seccionesAnimando, setSeccionesAnimando] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const { refrescar: refrescarPlantillasDeSeccion } = (0,_hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n    const [elementoCopiado, setElementoCopiado] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const elementRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const inlineEditPreviewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null,\n        centerX: null\n    });\n    const inlineCommitDebugRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null\n    });\n    const prevEditingIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inlineRenderValueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null,\n        value: \"\"\n    });\n    const [inlineOverlayMountedId, setInlineOverlayMountedId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const contenedorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoSectionViewportRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoSectionScrollRafRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const seccionActivaIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const ignoreNextUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const [anchoStage, setAnchoStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(800);\n    const [mostrarSelectorFuente, setMostrarSelectorFuente] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mostrarSubmenuCapa, setMostrarSubmenuCapa] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fuentesDisponibles = _config_fonts__WEBPACK_IMPORTED_MODULE_33__.ALL_FONTS;\n    const { esAdmin, loadingClaims } = (0,_hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__.useAuthClaims)();\n    const [backgroundLoadBySection, setBackgroundLoadBySection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [mobileBackgroundEditSectionId, setMobileBackgroundEditSectionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [deleteSectionModal, setDeleteSectionModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        sectionId: null\n    });\n    const [isDeletingSection, setIsDeletingSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mobileSectionActionsOpen, setMobileSectionActionsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const supportsPointerEvents =  true && typeof window.PointerEvent !== \"undefined\";\n    const isTextResizeDebugEnabled = ()=> true && Boolean(window.__DBG_TEXT_RESIZE);\n    const textResizeDebug = function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        if (!isTextResizeDebugEnabled()) return;\n        console.log(\"[TEXT-COMMIT]\", ...args);\n    };\n    (0,_editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__[\"default\"])({\n        slug,\n        userId,\n        objetos,\n        secciones,\n        cargado,\n        setObjetos,\n        setSecciones,\n        setCargado,\n        setSeccionActivaId,\n        ignoreNextUpdateRef,\n        stageRef,\n        normalizarAltoModo,\n        validarPuntosLinea: _editor_selection_selectionUtils__WEBPACK_IMPORTED_MODULE_22__.validarPuntosLinea,\n        ALTURA_PANTALLA_EDITOR\n    });\n    const { controlandoAltura, iniciarControlAltura, finalizarControlAltura, togglePantallaCompletaSeccion, handleCrearSeccion } = (0,_editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__[\"default\"])({\n        slug,\n        secciones,\n        setSecciones,\n        objetos,\n        setObjetos,\n        seccionActivaId,\n        setSeccionActivaId,\n        crearSeccion: _models_estructuraInicial__WEBPACK_IMPORTED_MODULE_7__.crearSeccion,\n        normalizarAltoModo,\n        limpiarObjetoUndefined,\n        ALTURA_REFERENCIA_PANTALLA,\n        stageRef,\n        setGlobalCursor,\n        clearGlobalCursor\n    });\n    const nuevoTextoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,_editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__[\"default\"])({\n        celdaGaleriaActiva,\n        setCeldaGaleriaActiva,\n        setObjetos,\n        secciones,\n        seccionActivaId,\n        setElementosSeleccionados,\n        normalizarAltoModo,\n        ALTURA_PANTALLA_EDITOR,\n        nuevoTextoRef\n    });\n    const seccionesOrdenadas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[seccionesOrdenadas]\": ()=>[\n                ...secciones\n            ].sort({\n                \"CanvasEditor.useMemo[seccionesOrdenadas]\": (a, b)=>a.orden - b.orden\n            }[\"CanvasEditor.useMemo[seccionesOrdenadas]\"])\n    }[\"CanvasEditor.useMemo[seccionesOrdenadas]\"], [\n        secciones\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            setBackgroundLoadBySection({});\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        slug\n    ]);\n    const handleBackgroundImageStatusChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\": (payload)=>{\n            const sectionId = payload === null || payload === void 0 ? void 0 : payload.sectionId;\n            if (!sectionId) return;\n            const hasBackgroundImage = (payload === null || payload === void 0 ? void 0 : payload.hasBackgroundImage) === true;\n            const imageUrl = typeof (payload === null || payload === void 0 ? void 0 : payload.imageUrl) === \"string\" ? payload.imageUrl : \"\";\n            const incomingStatus = typeof (payload === null || payload === void 0 ? void 0 : payload.status) === \"string\" ? payload.status : \"loading\";\n            const status = hasBackgroundImage ? incomingStatus === \"loaded\" || incomingStatus === \"failed\" ? incomingStatus : \"loading\" : \"none\";\n            setBackgroundLoadBySection({\n                \"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\": (prev)=>{\n                    const current = prev[sectionId];\n                    if (current && current.status === status && current.hasBackgroundImage === hasBackgroundImage && current.imageUrl === imageUrl) {\n                        return prev;\n                    }\n                    return {\n                        ...prev,\n                        [sectionId]: {\n                            status,\n                            hasBackgroundImage,\n                            imageUrl\n                        }\n                    };\n                }\n            }[\"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\"], []);\n    const backgroundLoadSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[backgroundLoadSummary]\": ()=>{\n            const sectionsWithBackgroundImage = (secciones || []).filter({\n                \"CanvasEditor.useMemo[backgroundLoadSummary].sectionsWithBackgroundImage\": (seccion)=>(seccion === null || seccion === void 0 ? void 0 : seccion.fondoTipo) === \"imagen\" && typeof (seccion === null || seccion === void 0 ? void 0 : seccion.fondoImagen) === \"string\" && seccion.fondoImagen.trim().length > 0\n            }[\"CanvasEditor.useMemo[backgroundLoadSummary].sectionsWithBackgroundImage\"]);\n            let loaded = 0;\n            let failed = 0;\n            let pending = 0;\n            sectionsWithBackgroundImage.forEach({\n                \"CanvasEditor.useMemo[backgroundLoadSummary]\": (seccion)=>{\n                    var _backgroundLoadBySection_seccion_id;\n                    const status = (_backgroundLoadBySection_seccion_id = backgroundLoadBySection[seccion.id]) === null || _backgroundLoadBySection_seccion_id === void 0 ? void 0 : _backgroundLoadBySection_seccion_id.status;\n                    if (!status || status === \"loading\") {\n                        pending += 1;\n                        return;\n                    }\n                    if (status === \"loaded\") {\n                        loaded += 1;\n                        return;\n                    }\n                    if (status === \"failed\") {\n                        failed += 1;\n                        return;\n                    }\n                    pending += 1;\n                }\n            }[\"CanvasEditor.useMemo[backgroundLoadSummary]\"]);\n            return {\n                total: sectionsWithBackgroundImage.length,\n                loaded,\n                failed,\n                pending\n            };\n        }\n    }[\"CanvasEditor.useMemo[backgroundLoadSummary]\"], [\n        backgroundLoadBySection,\n        secciones\n    ]);\n    const startupReady = cargado && backgroundLoadSummary.pending === 0;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (typeof onStartupStatusChange !== \"function\") return;\n            const payload = {\n                slug,\n                draftLoaded: cargado === true,\n                totalBackgrounds: backgroundLoadSummary.total,\n                loadedBackgrounds: backgroundLoadSummary.loaded,\n                failedBackgrounds: backgroundLoadSummary.failed,\n                pendingBackgrounds: backgroundLoadSummary.pending\n            };\n            if (!startupReady) {\n                onStartupStatusChange({\n                    ...payload,\n                    status: \"running\"\n                });\n                return;\n            }\n            let cancelled = false;\n            let rafA = 0;\n            let rafB = 0;\n            rafA = requestAnimationFrame({\n                \"CanvasEditor.useEffect\": ()=>{\n                    rafB = requestAnimationFrame({\n                        \"CanvasEditor.useEffect\": ()=>{\n                            if (cancelled) return;\n                            onStartupStatusChange({\n                                ...payload,\n                                status: \"ready\"\n                            });\n                        }\n                    }[\"CanvasEditor.useEffect\"]);\n                }\n            }[\"CanvasEditor.useEffect\"]);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    cancelled = true;\n                    if (rafA) cancelAnimationFrame(rafA);\n                    if (rafB) cancelAnimationFrame(rafB);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        backgroundLoadSummary.failed,\n        backgroundLoadSummary.loaded,\n        backgroundLoadSummary.pending,\n        backgroundLoadSummary.total,\n        cargado,\n        onStartupStatusChange,\n        slug,\n        startupReady\n    ]);\n    const seccionPendienteEliminar = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[seccionPendienteEliminar]\": ()=>secciones.find({\n                \"CanvasEditor.useMemo[seccionPendienteEliminar]\": (seccion)=>seccion.id === deleteSectionModal.sectionId\n            }[\"CanvasEditor.useMemo[seccionPendienteEliminar]\"]) || null\n    }[\"CanvasEditor.useMemo[seccionPendienteEliminar]\"], [\n        secciones,\n        deleteSectionModal.sectionId\n    ]);\n    const cantidadElementosSeccionPendiente = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\": ()=>{\n            if (!(seccionPendienteEliminar === null || seccionPendienteEliminar === void 0 ? void 0 : seccionPendienteEliminar.id)) return 0;\n            return objetos.filter({\n                \"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\": (obj)=>obj.seccionId === seccionPendienteEliminar.id\n            }[\"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\"]).length;\n        }\n    }[\"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\"], [\n        objetos,\n        seccionPendienteEliminar\n    ]);\n    const { editing, startEdit, updateEdit, finishEdit// () => void\n     } = (0,_hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__[\"default\"])();\n    const obtenerMetricasNodoInline = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[obtenerMetricasNodoInline]\": (node)=>{\n            if (!node) return null;\n            try {\n                var _node_getClassName;\n                const className = ((_node_getClassName = node.getClassName) === null || _node_getClassName === void 0 ? void 0 : _node_getClassName.call(node)) || null;\n                const x = typeof node.x === \"function\" ? node.x() : null;\n                const y = typeof node.y === \"function\" ? node.y() : null;\n                const textWidth = className === \"Text\" && typeof node.getTextWidth === \"function\" ? Math.ceil(node.getTextWidth() || 0) : null;\n                const rect = typeof node.getClientRect === \"function\" ? node.getClientRect({\n                    skipTransform: false,\n                    skipShadow: true,\n                    skipStroke: true\n                }) : null;\n                return {\n                    className,\n                    x,\n                    y,\n                    textWidth,\n                    rect: rect ? {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    } : null\n                };\n            } catch (error) {\n                return {\n                    error: String(error)\n                };\n            }\n        }\n    }[\"CanvasEditor.useCallback[obtenerMetricasNodoInline]\"], []);\n    const cerrarMenusFlotantes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cerrarMenusFlotantes]\": ()=>{\n            setMostrarPanelZ(false);\n            setMostrarSubmenuCapa(false);\n            setMostrarSelectorFuente(false);\n            setMostrarSelectorTamano(false);\n            setHoverId(null);\n        }\n    }[\"CanvasEditor.useCallback[cerrarMenusFlotantes]\"], []);\n    // ???Elemento actualmente seleccionado (o null)\n    const objetoSeleccionado = elementosSeleccionados.length === 1 ? objetos.find((o)=>o.id === elementosSeleccionados[0]) : null;\n    const [mostrarSelectorTamano, setMostrarSelectorTamano] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const tamaniosDisponibles = Array.from({\n        length: (120 - 6) / 2 + 1\n    }, (_, i)=>6 + i * 2);\n    const botonOpcionesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const _refEventQueued = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const registerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[registerRef]\": (id, node)=>{\n            if (!node) {\n                delete elementRefs.current[id];\n                imperativeObjects.registerObject(id, null);\n                return;\n            }\n            elementRefs.current[id] = node;\n            imperativeObjects.registerObject(id, node);\n            // ? Debounce por frame para evitar ráfagas de re-attach del Transformer\n            if (_refEventQueued.current.has(id)) return;\n            _refEventQueued.current.add(id);\n            requestAnimationFrame({\n                \"CanvasEditor.useCallback[registerRef]\": ()=>{\n                    _refEventQueued.current.delete(id);\n                    try {\n                        window.dispatchEvent(new CustomEvent(\"element-ref-registrado\", {\n                            detail: {\n                                id\n                            }\n                        }));\n                    } catch (e) {}\n                }\n            }[\"CanvasEditor.useCallback[registerRef]\"]);\n        }\n    }[\"CanvasEditor.useCallback[registerRef]\"], [\n        imperativeObjects\n    ]);\n    const loadedFontFamiliesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const { isMobile, isMobilePortrait, scale, anchoContenedor, escalaActiva, escalaVisual, wrapperBaseWidth, escalaFitMobilePortrait } = (0,_components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__[\"default\"])({\n        contenedorRef,\n        zoom\n    });\n    const mobileTypographyToolbarVisible = isMobile && Boolean(objetoSeleccionado && (objetoSeleccionado.tipo === \"texto\" || objetoSeleccionado.tipo === \"forma\" && objetoSeleccionado.figura === \"rect\" && typeof objetoSeleccionado.texto === \"string\"));\n    const mobileTextToolbarVisible = mobileTypographyToolbarVisible || isMobile && (objetoSeleccionado === null || objetoSeleccionado === void 0 ? void 0 : objetoSeleccionado.tipo) === \"icono\";\n    const mobileFontStripVisible = mobileTypographyToolbarVisible && mostrarSelectorFuente;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const desiredRatio = isMobile ? 1 : resolveKonvaPixelRatio();\n            if ((konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) !== desiredRatio) {\n                var _stageRef_current_getStage_batchDraw, _stageRef_current_getStage, _stageRef_current_getStage1, _stageRef_current;\n                (konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) = desiredRatio;\n                (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage1 = _stageRef_current.getStage) === null || _stageRef_current_getStage1 === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current_getStage1.call(_stageRef_current)) === null || _stageRef_current_getStage === void 0 ? void 0 : (_stageRef_current_getStage_batchDraw = _stageRef_current_getStage.batchDraw) === null || _stageRef_current_getStage_batchDraw === void 0 ? void 0 : _stageRef_current_getStage_batchDraw.call(_stageRef_current_getStage);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile\n    ]);\n    const inlineDebugAB = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[inlineDebugAB]\": ()=>{\n            if (false) {}\n            return normalizeInlineDebugAB(window.__INLINE_AB);\n        }\n    }[\"CanvasEditor.useMemo[inlineDebugAB]\"], [\n        editing.id,\n        editing.value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!isMobile && mobileSectionActionsOpen) {\n                setMobileSectionActionsOpen(false);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile,\n        mobileSectionActionsOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!isMobile) return;\n            setMobileSectionActionsOpen(false);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId,\n        isMobile\n    ]);\n    const handleInlineOverlayMountChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleInlineOverlayMountChange]\": (id, mounted)=>{\n            const safeId = id || null;\n            if (!safeId) return;\n            setInlineOverlayMountedId({\n                \"CanvasEditor.useCallback[handleInlineOverlayMountChange]\": (previous)=>{\n                    const next = mounted ? safeId : previous === safeId ? null : previous;\n                    inlineDebugLog(\"overlay-mounted-state\", {\n                        id: safeId,\n                        mounted,\n                        previousOverlayMountedId: previous,\n                        nextOverlayMountedId: next\n                    });\n                    return next;\n                }\n            }[\"CanvasEditor.useCallback[handleInlineOverlayMountChange]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleInlineOverlayMountChange]\"], []);\n    const captureInlineSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[captureInlineSnapshot]\": function(eventName) {\n            let extra = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            var _inlineCommitDebugRef_current, _stageRef_current_getStage, _stageRef_current;\n            if (false) {}\n            if (!isInlineDebugEnabled()) return;\n            if (window.__INLINE_SNAPSHOT !== true) return;\n            const snapshotAllowlist = new Set([\n                \"enter: pre-start\",\n                \"enter: after-start-sync\",\n                \"finish: blur\",\n                \"finish: after-finishEdit\",\n                \"exit: immediate\"\n            ]);\n            if (!snapshotAllowlist.has(eventName)) return;\n            const frameMeta = nextInlineFrameMeta();\n            const snapshotId = extra.id || editing.id || ((_inlineCommitDebugRef_current = inlineCommitDebugRef.current) === null || _inlineCommitDebugRef_current === void 0 ? void 0 : _inlineCommitDebugRef_current.id) || prevEditingIdRef.current || null;\n            const node = snapshotId ? elementRefs.current[snapshotId] : null;\n            const nodeMetrics = obtenerMetricasNodoInline(node);\n            const objMetrics = snapshotId ? ({\n                \"CanvasEditor.useCallback[captureInlineSnapshot]\": ()=>{\n                    const obj = objetos.find({\n                        \"CanvasEditor.useCallback[captureInlineSnapshot].obj\": (o)=>o.id === snapshotId\n                    }[\"CanvasEditor.useCallback[captureInlineSnapshot].obj\"]);\n                    if (!obj) return null;\n                    var _obj_texto;\n                    return {\n                        id: obj.id,\n                        tipo: obj.tipo || null,\n                        x: Number.isFinite(obj.x) ? obj.x : null,\n                        y: Number.isFinite(obj.y) ? obj.y : null,\n                        textoLength: String((_obj_texto = obj.texto) !== null && _obj_texto !== void 0 ? _obj_texto : \"\").length,\n                        fontSize: Number.isFinite(obj.fontSize) ? obj.fontSize : null,\n                        lineHeight: Number.isFinite(obj.lineHeight) && obj.lineHeight > 0 ? obj.lineHeight : null\n                    };\n                }\n            })[\"CanvasEditor.useCallback[captureInlineSnapshot]\"]() : null;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            let stageRect = null;\n            try {\n                var _stage_container_getBoundingClientRect, _stage_container, _stage_container1;\n                const r = stage === null || stage === void 0 ? void 0 : (_stage_container1 = stage.container) === null || _stage_container1 === void 0 ? void 0 : (_stage_container = _stage_container1.call(stage)) === null || _stage_container === void 0 ? void 0 : (_stage_container_getBoundingClientRect = _stage_container.getBoundingClientRect) === null || _stage_container_getBoundingClientRect === void 0 ? void 0 : _stage_container_getBoundingClientRect.call(_stage_container);\n                if (r) {\n                    stageRect = {\n                        x: r.x,\n                        y: r.y,\n                        width: r.width,\n                        height: r.height\n                    };\n                }\n            } catch (e) {\n                stageRect = null;\n            }\n            let inlineRect = null;\n            let inlineStyle = null;\n            let inlineContentRect = null;\n            let inlineContentMetrics = null;\n            if (snapshotId) {\n                const safeId = String(snapshotId).replace(/\"/g, '\\\\\"');\n                const overlayEl = document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'));\n                if (overlayEl) {\n                    var _contentEl_getBoundingClientRect;\n                    const r = overlayEl.getBoundingClientRect();\n                    inlineRect = {\n                        x: r.x,\n                        y: r.y,\n                        width: r.width,\n                        height: r.height\n                    };\n                    inlineStyle = {\n                        left: overlayEl.style.left,\n                        top: overlayEl.style.top,\n                        minWidth: overlayEl.style.minWidth,\n                        maxWidth: overlayEl.style.maxWidth,\n                        width: overlayEl.style.width\n                    };\n                    const contentEl = overlayEl.querySelector('[contenteditable=\"true\"]');\n                    const contentRect = contentEl === null || contentEl === void 0 ? void 0 : (_contentEl_getBoundingClientRect = contentEl.getBoundingClientRect) === null || _contentEl_getBoundingClientRect === void 0 ? void 0 : _contentEl_getBoundingClientRect.call(contentEl);\n                    if (contentRect) {\n                        inlineContentRect = {\n                            x: contentRect.x,\n                            y: contentRect.y,\n                            width: contentRect.width,\n                            height: contentRect.height\n                        };\n                    }\n                    inlineContentMetrics = contentEl ? {\n                        scrollWidth: contentEl.scrollWidth,\n                        clientWidth: contentEl.clientWidth,\n                        isFocused: document.activeElement === contentEl\n                    } : null;\n                }\n            }\n            let transformerRect = null;\n            try {\n                var _stage_findOne;\n                const transformer = stage === null || stage === void 0 ? void 0 : (_stage_findOne = stage.findOne) === null || _stage_findOne === void 0 ? void 0 : _stage_findOne.call(stage, \"Transformer\");\n                if (transformer) {\n                    var _transformer_nodes;\n                    const trRect = transformer.getClientRect({\n                        skipTransform: false,\n                        skipShadow: true,\n                        skipStroke: true\n                    });\n                    const nodes = ((_transformer_nodes = transformer.nodes) === null || _transformer_nodes === void 0 ? void 0 : _transformer_nodes.call(transformer)) || [];\n                    transformerRect = trRect ? {\n                        x: trRect.x,\n                        y: trRect.y,\n                        width: trRect.width,\n                        height: trRect.height,\n                        nodesCount: nodes.length,\n                        includesSnapshotNode: !!(node && nodes.includes(node))\n                    } : null;\n                }\n            } catch (e) {\n                transformerRect = null;\n            }\n            var _editing_id, _window__currentEditingId;\n            inlineDebugLog(\"snapshot-\".concat(eventName), {\n                ...frameMeta,\n                ...extra,\n                id: snapshotId,\n                eventName,\n                editingId: (_editing_id = editing.id) !== null && _editing_id !== void 0 ? _editing_id : null,\n                currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null,\n                overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                inlineAB: inlineDebugAB,\n                escalaVisual,\n                stageRect,\n                nodeMetrics,\n                objMetrics,\n                transformerRect,\n                inlineRect,\n                inlineStyle,\n                inlineContentRect,\n                inlineContentMetrics,\n                scrollX: window.scrollX,\n                scrollY: window.scrollY,\n                innerWidth: window.innerWidth,\n                innerHeight: window.innerHeight\n            });\n        }\n    }[\"CanvasEditor.useCallback[captureInlineSnapshot]\"], [\n        editing.id,\n        escalaVisual,\n        inlineDebugAB,\n        inlineOverlayMountedId,\n        objetos,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const currentId = editing.id || null;\n            var _editing_value;\n            const currentValue = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n            const prev = inlineRenderValueRef.current;\n            if (currentId && prev.id === currentId && prev.value !== currentValue) {\n                const prevStats = getInlineLineStats(prev.value);\n                const nextStats = getInlineLineStats(currentValue);\n                const linebreakChanged = prevStats.lineCount !== nextStats.lineCount || prevStats.trailingNewlines !== nextStats.trailingNewlines;\n                if (linebreakChanged) {\n                    var _stageRef_current_getStage, _stageRef_current;\n                    const frameMeta = nextInlineFrameMeta();\n                    const node = elementRefs.current[currentId] || null;\n                    const nodeMetrics = obtenerMetricasNodoInline(node);\n                    const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n                    let transformerRect = null;\n                    try {\n                        var _stage_findOne;\n                        const transformer = stage === null || stage === void 0 ? void 0 : (_stage_findOne = stage.findOne) === null || _stage_findOne === void 0 ? void 0 : _stage_findOne.call(stage, \"Transformer\");\n                        if (transformer) {\n                            var _transformer_nodes;\n                            const trRect = transformer.getClientRect({\n                                skipTransform: false,\n                                skipShadow: true,\n                                skipStroke: true\n                            });\n                            const nodes = ((_transformer_nodes = transformer.nodes) === null || _transformer_nodes === void 0 ? void 0 : _transformer_nodes.call(transformer)) || [];\n                            transformerRect = trRect ? {\n                                x: trRect.x,\n                                y: trRect.y,\n                                width: trRect.width,\n                                height: trRect.height,\n                                nodesCount: nodes.length,\n                                includesEditingNode: !!(node && nodes.includes(node))\n                            } : null;\n                        }\n                    } catch (e) {\n                        transformerRect = null;\n                    }\n                    let overlayRect = null;\n                    let contentRect = null;\n                    const safeId = String(currentId).replace(/\"/g, '\\\\\"');\n                    const overlayEl = document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'));\n                    if (overlayEl) {\n                        var _contentEl_getBoundingClientRect;\n                        const r = overlayEl.getBoundingClientRect();\n                        overlayRect = {\n                            x: r.x,\n                            y: r.y,\n                            width: r.width,\n                            height: r.height\n                        };\n                        const contentEl = overlayEl.querySelector('[contenteditable=\"true\"]');\n                        const cr = contentEl === null || contentEl === void 0 ? void 0 : (_contentEl_getBoundingClientRect = contentEl.getBoundingClientRect) === null || _contentEl_getBoundingClientRect === void 0 ? void 0 : _contentEl_getBoundingClientRect.call(contentEl);\n                        if (cr) {\n                            contentRect = {\n                                x: cr.x,\n                                y: cr.y,\n                                width: cr.width,\n                                height: cr.height\n                            };\n                        }\n                    }\n                    inlineDebugLog(\"linebreak-transformer\", {\n                        ...frameMeta,\n                        id: currentId,\n                        prevLength: prevStats.length,\n                        nextLength: nextStats.length,\n                        prevLineCount: prevStats.lineCount,\n                        nextLineCount: nextStats.lineCount,\n                        prevTrailingNewlines: prevStats.trailingNewlines,\n                        nextTrailingNewlines: nextStats.trailingNewlines,\n                        overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                        overlayRect,\n                        contentRect,\n                        nodeMetrics,\n                        transformerRect\n                    });\n                }\n                captureInlineSnapshot(\"input: after-render\", {\n                    id: currentId,\n                    previousLength: prev.value.length,\n                    valueLength: currentValue.length\n                });\n            }\n            inlineRenderValueRef.current = {\n                id: currentId,\n                value: currentValue\n            };\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value,\n        captureInlineSnapshot,\n        inlineOverlayMountedId,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            if (window.__INLINE_DEBUG === undefined) {\n                window.__INLINE_DEBUG = false;\n            }\n            if (window.__INLINE_FRAME_SEQ === undefined) {\n                window.__INLINE_FRAME_SEQ = 0;\n            }\n            const normalizedAB = normalizeInlineDebugAB(window.__INLINE_AB);\n            window.__INLINE_AB = {\n                ...normalizedAB\n            };\n            inlineDebugLog(\"debug-enabled\", {\n                enabled: window.__INLINE_DEBUG,\n                inlineAB: window.__INLINE_AB,\n                frameSeq: window.__INLINE_FRAME_SEQ\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const currentId = editing.id || null;\n            const previousId = prevEditingIdRef.current;\n            if (currentId && currentId !== previousId) {\n                requestAnimationFrame({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        captureInlineSnapshot(\"enter: raf1\", {\n                            id: currentId,\n                            previousId\n                        });\n                        requestAnimationFrame({\n                            \"CanvasEditor.useEffect\": ()=>{\n                                captureInlineSnapshot(\"enter: raf2\", {\n                                    id: currentId,\n                                    previousId\n                                });\n                            }\n                        }[\"CanvasEditor.useEffect\"]);\n                    }\n                }[\"CanvasEditor.useEffect\"]);\n            }\n            if (!currentId && previousId) {\n                captureInlineSnapshot(\"exit: immediate\", {\n                    id: previousId\n                });\n                requestAnimationFrame({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        captureInlineSnapshot(\"exit: raf1\", {\n                            id: previousId\n                        });\n                        requestAnimationFrame({\n                            \"CanvasEditor.useEffect\": ()=>{\n                                captureInlineSnapshot(\"exit: raf2\", {\n                                    id: previousId\n                                });\n                            }\n                        }[\"CanvasEditor.useEffect\"]);\n                    }\n                }[\"CanvasEditor.useEffect\"]);\n            }\n            prevEditingIdRef.current = currentId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        captureInlineSnapshot\n    ]);\n    const fuentesNecesarias = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[fuentesNecesarias]\": ()=>{\n            // fuentes usadas en textos + countdown (si aplica) + formas con texto (rect)\n            const fonts = (objetos || []).filter({\n                \"CanvasEditor.useMemo[fuentesNecesarias].fonts\": (o)=>(o.tipo === \"texto\" || o.tipo === \"countdown\" || o.tipo === \"forma\" && o.figura === \"rect\") && o.fontFamily\n            }[\"CanvasEditor.useMemo[fuentesNecesarias].fonts\"]).map({\n                \"CanvasEditor.useMemo[fuentesNecesarias].fonts\": (o)=>String(o.fontFamily).replace(/['\"]/g, \"\").split(\",\")[0].trim()\n            }[\"CanvasEditor.useMemo[fuentesNecesarias].fonts\"]).filter(Boolean);\n            return [\n                ...new Set(fonts)\n            ];\n        }\n    }[\"CanvasEditor.useMemo[fuentesNecesarias]\"], [\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            window.editing = editing;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            var _window__currentEditingId;\n            const previousCurrentEditingId = (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null;\n            window._currentEditingId = (editing === null || editing === void 0 ? void 0 : editing.id) || null;\n            var _editing_value;\n            inlineDebugLog(\"sync-global-editing\", {\n                editingId: (editing === null || editing === void 0 ? void 0 : editing.id) || null,\n                valueLength: String((_editing_value = editing === null || editing === void 0 ? void 0 : editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\").length,\n                previousCurrentEditingId,\n                nextCurrentEditingId: window._currentEditingId\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    var _window__currentEditingId;\n                    inlineDebugLog(\"sync-global-editing-cleanup\", {\n                        editingId: (editing === null || editing === void 0 ? void 0 : editing.id) || null,\n                        currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null\n                    });\n                    if (window.editing && window.editing.id === editing.id) {\n                        delete window.editing;\n                    }\n                    if (window._currentEditingId === editing.id) {\n                        window._currentEditingId = null;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id\n    ]);\n    // ?? Función para actualizar offsets de imagen de fondo (SIN UNDEFINED)\n    const actualizarOffsetFondo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[actualizarOffsetFondo]\": function(seccionId, nuevosOffsets) {\n            let esPreview = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n            setSecciones({\n                \"CanvasEditor.useCallback[actualizarOffsetFondo]\": (prev)=>prev.map({\n                        \"CanvasEditor.useCallback[actualizarOffsetFondo]\": (s)=>{\n                            if (s.id !== seccionId) return s;\n                            // ?? CREAR OBJETO LIMPIO\n                            const seccionActualizada = {\n                                ...s\n                            };\n                            // ?? SOLO AGREGAR CAMPOS SI TIENEN VALORES VÁLIDOS\n                            if (nuevosOffsets.offsetX !== undefined && nuevosOffsets.offsetX !== null) {\n                                seccionActualizada.fondoImagenOffsetX = nuevosOffsets.offsetX;\n                            }\n                            if (nuevosOffsets.offsetY !== undefined && nuevosOffsets.offsetY !== null) {\n                                seccionActualizada.fondoImagenOffsetY = nuevosOffsets.offsetY;\n                            }\n                            return seccionActualizada;\n                        }\n                    }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"])\n            }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"]);\n        }\n    }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"], [\n        setSecciones\n    ]);\n    // Asigna una imagen (por URL) a la celda activa\n    function asignarImagenAGaleria(url) {\n        setObjetos((prev)=>{\n            var _g_cells_index, _g_cells_index1;\n            if (!celdaGaleriaActiva) return prev;\n            const { objId, index } = celdaGaleriaActiva;\n            const i = prev.findIndex((o)=>o.id === objId && o.tipo === \"galeria\");\n            if (i === -1) return prev;\n            const copia = structuredClone(prev);\n            const g = copia[i];\n            // Seguridad: que exista y que haya cells[index]\n            if (!(g === null || g === void 0 ? void 0 : g.cells) || !g.cells[index]) return prev;\n            var _g_cells_index2, _g_cells_index_fit, _g_cells_index_bg;\n            g.cells[index] = {\n                ...(_g_cells_index2 = g.cells[index]) !== null && _g_cells_index2 !== void 0 ? _g_cells_index2 : {},\n                mediaUrl: url,\n                fit: (_g_cells_index_fit = (_g_cells_index = g.cells[index]) === null || _g_cells_index === void 0 ? void 0 : _g_cells_index.fit) !== null && _g_cells_index_fit !== void 0 ? _g_cells_index_fit : \"cover\",\n                bg: (_g_cells_index_bg = (_g_cells_index1 = g.cells[index]) === null || _g_cells_index1 === void 0 ? void 0 : _g_cells_index1.bg) !== null && _g_cells_index_bg !== void 0 ? _g_cells_index_bg : \"#eee\"\n            };\n            return copia;\n        });\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Limpiar flag de resize al montar el componente\n            window._resizeData = null;\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    const [mostrarPanelZ, setMostrarPanelZ] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const moverElemento = (accion)=>{\n        const index = objetos.findIndex((o)=>o.id === elementosSeleccionados[0]);\n        if (index === -1) return;\n        const nuevos = [\n            ...objetos\n        ];\n        const [elemento] = nuevos.splice(index, 1);\n        if (accion === \"al-frente\") {\n            nuevos.push(elemento);\n        } else if (accion === \"al-fondo\") {\n            nuevos.unshift(elemento);\n        } else if (accion === \"subir\" && index < objetos.length - 1) {\n            nuevos.splice(index + 1, 0, elemento);\n        } else if (accion === \"bajar\" && index > 0) {\n            nuevos.splice(index - 1, 0, elemento);\n        } else {\n            nuevos.splice(index, 0, elemento); // sin cambios\n        }\n        setObjetos(nuevos);\n        setMostrarPanelZ(false);\n    };\n    const { onDeshacer, onRehacer, onDuplicar, onEliminar, onCopiar, onPegar, onCambiarAlineacion } = (0,_hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n        objetos,\n        setObjetos,\n        elementosSeleccionados,\n        setElementosSeleccionados,\n        historial,\n        setHistorial,\n        futuros,\n        setFuturos,\n        setSecciones,\n        ignoreNextUpdateRef,\n        setMostrarPanelZ\n    });\n    (0,_editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__[\"default\"])({\n        cargado,\n        objetos,\n        secciones,\n        setHistorial,\n        setFuturos,\n        ignoreNextUpdateRef\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current;\n            const stage = (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current);\n            if (!stage) return;\n            const content = stage.content;\n            if (!content) return;\n            // ? Estado base: scroll vertical permitido sobre canvas vacío\n            const setScrollMode = {\n                \"CanvasEditor.useEffect.setScrollMode\": ()=>{\n                    content.style.touchAction = \"pan-y\";\n                }\n            }[\"CanvasEditor.useEffect.setScrollMode\"];\n            // ? Durante drag: bloquear scroll para editar fino\n            const setEditMode = {\n                \"CanvasEditor.useEffect.setEditMode\": ()=>{\n                    content.style.touchAction = \"none\";\n                }\n            }[\"CanvasEditor.useEffect.setEditMode\"];\n            // ? NUEVO: estado React confiable para UI (Transformer/hover/etc.)\n            const onDragStart = {\n                \"CanvasEditor.useEffect.onDragStart\": ()=>{\n                    setIsDragging(true);\n                }\n            }[\"CanvasEditor.useEffect.onDragStart\"];\n            const onDragEnd = {\n                \"CanvasEditor.useEffect.onDragEnd\": ()=>{\n                    setIsDragging(false);\n                }\n            }[\"CanvasEditor.useEffect.onDragEnd\"];\n            // ? Failsafe: por si termina “raro” (touch cancel, pointer up, etc.)\n            const stopDragging = {\n                \"CanvasEditor.useEffect.stopDragging\": ()=>{\n                    setIsDragging(false);\n                    setScrollMode();\n                }\n            }[\"CanvasEditor.useEffect.stopDragging\"];\n            // Inicial\n            setScrollMode();\n            setIsDragging(false); // ?? por las dudas, al montar\n            content.style.WebkitUserSelect = \"none\";\n            content.style.WebkitTouchCallout = \"none\";\n            // Konva events\n            stage.on(\"dragstart\", setEditMode);\n            stage.on(\"dragend\", setScrollMode);\n            // ? NUEVO (UI state)\n            stage.on(\"dragstart\", onDragStart);\n            stage.on(\"dragend\", onDragEnd);\n            // Failsafes (si el drag termina raro)\n            stage.on(\"touchend\", stopDragging);\n            stage.on(\"pointerup\", stopDragging);\n            stage.on(\"mouseup\", stopDragging);\n            stage.on(\"touchcancel\", stopDragging);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    stage.off(\"dragstart\", setEditMode);\n                    stage.off(\"dragend\", setScrollMode);\n                    stage.off(\"dragstart\", onDragStart);\n                    stage.off(\"dragend\", onDragEnd);\n                    stage.off(\"touchend\", stopDragging);\n                    stage.off(\"pointerup\", stopDragging);\n                    stage.off(\"mouseup\", stopDragging);\n                    stage.off(\"touchcancel\", stopDragging);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        setIsDragging\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current;\n            const content = (stage === null || stage === void 0 ? void 0 : stage.content) || (stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage));\n            if (!content) return;\n            const setDragDistanceForInput = {\n                \"CanvasEditor.useEffect.setDragDistanceForInput\": (pointerType)=>{\n                    const isTouchLike = pointerType === \"touch\" || pointerType === \"pen\" || typeof pointerType !== \"string\" && isMobile;\n                    (konva__WEBPACK_IMPORTED_MODULE_32___default().dragDistance) = isTouchLike ? 14 : 5;\n                }\n            }[\"CanvasEditor.useEffect.setDragDistanceForInput\"];\n            const onPointerDown = {\n                \"CanvasEditor.useEffect.onPointerDown\": (event)=>setDragDistanceForInput(event.pointerType)\n            }[\"CanvasEditor.useEffect.onPointerDown\"];\n            const onTouchStart = {\n                \"CanvasEditor.useEffect.onTouchStart\": ()=>setDragDistanceForInput(\"touch\")\n            }[\"CanvasEditor.useEffect.onTouchStart\"];\n            const onMouseDown = {\n                \"CanvasEditor.useEffect.onMouseDown\": ()=>setDragDistanceForInput(\"mouse\")\n            }[\"CanvasEditor.useEffect.onMouseDown\"];\n            setDragDistanceForInput(isMobile ? \"touch\" : \"mouse\");\n            content.addEventListener(\"pointerdown\", onPointerDown, {\n                passive: true\n            });\n            content.addEventListener(\"touchstart\", onTouchStart, {\n                passive: true\n            });\n            content.addEventListener(\"mousedown\", onMouseDown, {\n                passive: true\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    content.removeEventListener(\"pointerdown\", onPointerDown);\n                    content.removeEventListener(\"touchstart\", onTouchStart);\n                    content.removeEventListener(\"mousedown\", onMouseDown);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile\n    ]);\n    // Recordar última sección activa\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            seccionActivaIdRef.current = seccionActivaId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (seccionActivaId) window._lastSeccionActivaId = seccionActivaId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!mobileBackgroundEditSectionId) {\n                window.dispatchEvent(new Event(\"salir-modo-mover-fondo\"));\n                return;\n            }\n            window.dispatchEvent(new CustomEvent(\"activar-modo-mover-fondo\", {\n                detail: {\n                    sectionId: mobileBackgroundEditSectionId\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        mobileBackgroundEditSectionId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!nuevoTextoRef.current) return;\n            const obj = objetos.find({\n                \"CanvasEditor.useEffect.obj\": (o)=>o.id === nuevoTextoRef.current\n            }[\"CanvasEditor.useEffect.obj\"]);\n            if (obj) {\n                setElementosSeleccionados([\n                    obj.id\n                ]);\n                // NO iniciar edición automáticamente - solo seleccionar\n                nuevoTextoRef.current = null;\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const handleClickFuera = {\n                \"CanvasEditor.useEffect.handleClickFuera\": (e)=>{\n                    if (!e.target.closest(\".popup-fuente\")) {\n                        setMostrarSelectorFuente(false);\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleClickFuera\"];\n            document.addEventListener(\"mousedown\", handleClickFuera);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickFuera)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (onHistorialChange) {\n                onHistorialChange(historial);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        historial,\n        onHistorialChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (onFuturosChange) {\n                onFuturosChange(futuros);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        futuros,\n        onFuturosChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Pre-cargar fuentes populares al iniciar\n            _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.preloadPopularFonts();\n            // Escuchar evento de fuentes cargadas para redibujar\n            const handleFontsLoaded = {\n                \"CanvasEditor.useEffect.handleFontsLoaded\": ()=>{\n                    if (stageRef.current) {\n                        stageRef.current.batchDraw();\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleFontsLoaded\"];\n            window.addEventListener('fonts-loaded', handleFontsLoaded);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    window.removeEventListener('fonts-loaded', handleFontsLoaded);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            let alive = true;\n            async function precargar() {\n                // Solo precargar fuentes nuevas para evitar re-renders globales del stage\n                if (!fuentesNecesarias.length) return;\n                const pendientes = fuentesNecesarias.filter({\n                    \"CanvasEditor.useEffect.precargar.pendientes\": (fontName)=>!loadedFontFamiliesRef.current.has(fontName)\n                }[\"CanvasEditor.useEffect.precargar.pendientes\"]);\n                if (!pendientes.length) return;\n                try {\n                    var _fontManager_loadFonts, _document_fonts, _document;\n                    // ? Ideal: que fontManager.loadFonts devuelva Promise\n                    // Si hoy no devuelve, igual lo resolvemos con document.fonts más abajo.\n                    const maybePromise = (_fontManager_loadFonts = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.loadFonts) === null || _fontManager_loadFonts === void 0 ? void 0 : _fontManager_loadFonts.call(_utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager, pendientes);\n                    // Si devuelve promise, esperamos\n                    if (maybePromise && typeof maybePromise.then === \"function\") {\n                        await maybePromise;\n                    }\n                    // ? Segundo seguro: esperar a que el browser confirme\n                    // (esto garantiza que no haya fallback)\n                    if ((_document = document) === null || _document === void 0 ? void 0 : (_document_fonts = _document.fonts) === null || _document_fonts === void 0 ? void 0 : _document_fonts.load) {\n                        await Promise.all(pendientes.map({\n                            \"CanvasEditor.useEffect.precargar\": (f)=>document.fonts.load('16px \"'.concat(f, '\"'))\n                        }[\"CanvasEditor.useEffect.precargar\"]));\n                    }\n                    if (!alive) return;\n                    pendientes.forEach({\n                        \"CanvasEditor.useEffect.precargar\": (fontName)=>loadedFontFamiliesRef.current.add(fontName)\n                    }[\"CanvasEditor.useEffect.precargar\"]);\n                    // Redraw por si acaso\n                    requestAnimationFrame({\n                        \"CanvasEditor.useEffect.precargar\": ()=>{\n                            var _stageRef_current_batchDraw, _stageRef_current;\n                            (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_batchDraw = _stageRef_current.batchDraw) === null || _stageRef_current_batchDraw === void 0 ? void 0 : _stageRef_current_batchDraw.call(_stageRef_current);\n                        }\n                    }[\"CanvasEditor.useEffect.precargar\"]);\n                } catch (e) {\n                    console.warn(\"?? Error precargando fuentes:\", e);\n                }\n            }\n            // Solo precargar cuando ya cargaste el borrador (para evitar overlay raro)\n            if (cargado) precargar();\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    alive = false;\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        cargado,\n        fuentesNecesarias\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{}\n    }[\"CanvasEditor.useEffect\"], [\n        seleccionActiva,\n        areaSeleccion,\n        inicioSeleccion\n    ]);\n    const actualizarObjeto = (index, nuevo)=>{\n        const nuevos = [\n            ...objetos\n        ];\n        const { fromTransform, ...cleanNuevo } = nuevo;\n        // Preservar datos específicos según el tipo de objeto\n        if (nuevos[index].tipo === 'forma' && nuevos[index].figura === 'line') {\n            // Para líneas, asegurar que los puntos se preserven\n            nuevos[index] = {\n                ...nuevos[index],\n                ...cleanNuevo,\n                points: cleanNuevo.points || nuevos[index].points || [\n                    0,\n                    0,\n                    100,\n                    0\n                ]\n            };\n        } else {\n            nuevos[index] = {\n                ...nuevos[index],\n                ...cleanNuevo\n            };\n        }\n        setObjetos(nuevos);\n    };\n    const actualizarObjetoPorId = (id, cambios)=>{\n        const index = objetos.findIndex((o)=>o.id === id);\n        if (index === -1) return console.warn(\"? No se encontró el objeto con ID:\", id);\n        actualizarObjeto(index, cambios);\n    };\n    const normalizarMedidasGaleria = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[normalizarMedidasGaleria]\": (galeria, widthCandidate, xCandidate)=>{\n            const canvasWidth = 800;\n            const rows = Math.max(1, Number(galeria === null || galeria === void 0 ? void 0 : galeria.rows) || 1);\n            const cols = Math.max(1, Number(galeria === null || galeria === void 0 ? void 0 : galeria.cols) || 1);\n            const gap = Math.max(0, Number(galeria === null || galeria === void 0 ? void 0 : galeria.gap) || 0);\n            const cellRatio = (galeria === null || galeria === void 0 ? void 0 : galeria.ratio) === \"4:3\" ? 3 / 4 : (galeria === null || galeria === void 0 ? void 0 : galeria.ratio) === \"16:9\" ? 9 / 16 : 1;\n            const minGridWidth = gap * (cols - 1) + cols;\n            let widthPct = Number(widthCandidate) / canvasWidth * 100;\n            if (!Number.isFinite(widthPct)) widthPct = Number(galeria === null || galeria === void 0 ? void 0 : galeria.widthPct);\n            if (!Number.isFinite(widthPct)) widthPct = 70;\n            widthPct = Math.max(10, Math.min(100, widthPct));\n            let width = canvasWidth * widthPct / 100;\n            width = Math.min(canvasWidth, Math.max(minGridWidth, width));\n            widthPct = Math.max(10, Math.min(100, width / canvasWidth * 100));\n            const maxX = Math.max(0, canvasWidth - width);\n            const fallbackX = Number.isFinite(Number(galeria === null || galeria === void 0 ? void 0 : galeria.x)) ? Number(galeria.x) : 0;\n            const rawX = Number.isFinite(Number(xCandidate)) ? Number(xCandidate) : fallbackX;\n            const x = Math.max(0, Math.min(rawX, maxX));\n            const cellW = Math.max(1, (width - gap * (cols - 1)) / cols);\n            const cellH = cellW * cellRatio;\n            const height = rows * cellH + gap * (rows - 1);\n            return {\n                width,\n                height,\n                widthPct,\n                x\n            };\n        }\n    }[\"CanvasEditor.useCallback[normalizarMedidasGaleria]\"], []);\n    const actualizarLinea = (lineId, nuevaData)=>{\n        const index = objetos.findIndex((obj)=>obj.id === lineId);\n        if (index === -1) {\n            return;\n        }\n        if (nuevaData.isPreview) {\n            // Preview: Solo actualización visual sin historial\n            setObjetos((prev)=>{\n                const nuevos = [\n                    ...prev\n                ];\n                const { isPreview, ...cleanData } = nuevaData;\n                // Asegurar que los puntos siempre sean un array válido\n                if (cleanData.points) {\n                    cleanData.points = cleanData.points.map((p)=>parseFloat(p) || 0);\n                }\n                // ?? PRESERVAR strokeWidth si existe\n                if (cleanData.strokeWidth !== undefined) {\n                    cleanData.strokeWidth = parseInt(cleanData.strokeWidth) || 2;\n                }\n                nuevos[index] = {\n                    ...nuevos[index],\n                    ...cleanData\n                };\n                return nuevos;\n            });\n        } else if (nuevaData.isFinal) {\n            // Final: Guardar en historial\n            setObjetos((prev)=>{\n                const nuevos = [\n                    ...prev\n                ];\n                const { isFinal, ...cleanData } = nuevaData;\n                // Asegurar que los puntos siempre sean un array válido\n                if (cleanData.points) {\n                    cleanData.points = cleanData.points.map((p)=>parseFloat(p) || 0);\n                }\n                // ?? PRESERVAR strokeWidth si existe\n                if (cleanData.strokeWidth !== undefined) {\n                    cleanData.strokeWidth = parseInt(cleanData.strokeWidth) || 2;\n                }\n                nuevos[index] = {\n                    ...nuevos[index],\n                    ...cleanData\n                };\n                return nuevos;\n            });\n        }\n    };\n    // ?? Métricas de texto consistentes con el render de ElementoCanvas\n    const obtenerMetricasTexto = function(texto) {\n        let { fontSize = 24, fontFamily = \"sans-serif\", fontWeight = \"normal\", fontStyle = \"normal\", lineHeight = 1.2 } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n            const fallbackSize = Number.isFinite(fontSize) && fontSize > 0 ? fontSize : 24;\n            return {\n                width: Math.max(20, String(texto !== null && texto !== void 0 ? texto : \"\").length * (fallbackSize * 0.55)),\n                height: fallbackSize * lineHeight\n            };\n        }\n        const safeFontSize = Number.isFinite(fontSize) && fontSize > 0 ? fontSize : 24;\n        const safeLineHeight = Number.isFinite(lineHeight) && lineHeight > 0 ? lineHeight : 1.2;\n        const safeFamily = String(fontFamily || \"sans-serif\");\n        const fontForCanvas = safeFamily.includes(\",\") ? safeFamily : /\\s/.test(safeFamily) ? '\"'.concat(safeFamily, '\"') : safeFamily;\n        ctx.font = \"\".concat(fontStyle || \"normal\", \" \").concat(fontWeight || \"normal\", \" \").concat(safeFontSize, \"px \").concat(fontForCanvas);\n        const rawText = String(texto !== null && texto !== void 0 ? texto : \"\");\n        const safeText = rawText.replace(/[ \\t]+$/gm, \"\");\n        const lines = safeText.split(/\\r?\\n/);\n        const maxLineWidth = Math.max(...lines.map((line)=>ctx.measureText(line).width), 20);\n        return {\n            width: maxLineWidth,\n            height: safeFontSize * safeLineHeight * Math.max(lines.length, 1)\n        };\n    };\n    const medirAnchoTextoKonva = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[medirAnchoTextoKonva]\": function(objTexto, textoObjetivo) {\n            let fontSizeOverride = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n            if (!objTexto || \"object\" === \"undefined\") return null;\n            try {\n                var _probe_getTextWidth;\n                const safeText = String(textoObjetivo !== null && textoObjetivo !== void 0 ? textoObjetivo : \"\").replace(/[ \\t]+$/gm, \"\");\n                const safeFontFamily = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.isFontAvailable(objTexto.fontFamily) ? objTexto.fontFamily : \"sans-serif\";\n                const safeFontSize = Number.isFinite(fontSizeOverride) && fontSizeOverride > 0 ? fontSizeOverride : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n                const baseLineHeight = Number.isFinite(objTexto.lineHeight) && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n                const probe = new (konva__WEBPACK_IMPORTED_MODULE_32___default().Text)({\n                    text: safeText,\n                    fontSize: safeFontSize,\n                    fontFamily: safeFontFamily,\n                    fontWeight: objTexto.fontWeight || \"normal\",\n                    fontStyle: resolveKonvaFontStyle(objTexto.fontStyle || \"normal\", objTexto.fontWeight || \"normal\"),\n                    lineHeight: baseLineHeight * 0.92,\n                    padding: 0,\n                    wrap: \"none\"\n                });\n                const width = Number(((_probe_getTextWidth = probe.getTextWidth) === null || _probe_getTextWidth === void 0 ? void 0 : _probe_getTextWidth.call(probe)) || 0);\n                probe.destroy();\n                return Number.isFinite(width) && width > 0 ? width : null;\n            } catch (e) {\n                return null;\n            }\n        }\n    }[\"CanvasEditor.useCallback[medirAnchoTextoKonva]\"], []);\n    const calcularXTextoCentradoPorTamano = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoCentradoPorTamano]\": (objTexto, nextFontSize)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const previousMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const previousWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, objTexto.fontSize);\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const previousWidth = Number.isFinite(previousWidthFromKonva) && previousWidthFromKonva > 0 ? previousWidthFromKonva : previousMetrics.width;\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            const currentX = Number.isFinite(objTexto.x) ? objTexto.x : 0;\n            const centerX = currentX + previousWidth / 2;\n            return centerX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoCentradoPorTamano]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    const calcularXTextoDesdeCentro = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoDesdeCentro]\": (objTexto, nextFontSize, centerX)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            }\n            const safeCenterX = Number(centerX);\n            if (!Number.isFinite(safeCenterX)) {\n                return calcularXTextoCentradoPorTamano(objTexto, nextFontSize);\n            }\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            return safeCenterX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoDesdeCentro]\"], [\n        calcularXTextoCentradoPorTamano,\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    const ajustarFontSizeAAnchoVisual = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[ajustarFontSizeAAnchoVisual]\": (objTexto, proposedFontSize, targetVisualWidth)=>{\n            const safeProposed = Number(proposedFontSize);\n            const safeTargetWidth = Number(targetVisualWidth);\n            var _objTexto_id, _objTexto_fontSize;\n            textResizeDebug(\"fit-width:start\", {\n                id: (_objTexto_id = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id !== void 0 ? _objTexto_id : null,\n                proposedFontSize: safeProposed,\n                targetVisualWidth: safeTargetWidth,\n                currentFontSize: (_objTexto_fontSize = objTexto === null || objTexto === void 0 ? void 0 : objTexto.fontSize) !== null && _objTexto_fontSize !== void 0 ? _objTexto_fontSize : null\n            });\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                var _objTexto_id1;\n                textResizeDebug(\"fit-width:skip-invalid-obj\", {\n                    id: (_objTexto_id1 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id1 !== void 0 ? _objTexto_id1 : null\n                });\n                return Number.isFinite(safeProposed) && safeProposed > 0 ? safeProposed : 24;\n            }\n            if (!Number.isFinite(safeProposed) || safeProposed <= 0) {\n                var _objTexto_id2;\n                textResizeDebug(\"fit-width:skip-invalid-size\", {\n                    id: (_objTexto_id2 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id2 !== void 0 ? _objTexto_id2 : null\n                });\n                return Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            }\n            if (!Number.isFinite(safeTargetWidth) || safeTargetWidth <= 0) {\n                var _objTexto_id3;\n                textResizeDebug(\"fit-width:skip-invalid-width\", {\n                    id: (_objTexto_id3 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id3 !== void 0 ? _objTexto_id3 : null\n                });\n                return safeProposed;\n            }\n            let nextSize = Math.max(6, safeProposed);\n            // Dos iteraciones alcanzan para compensar el desajuste entre preview escalado y render final.\n            for(let i = 0; i < 2; i += 1){\n                const measuredWidth = medirAnchoTextoKonva(objTexto, objTexto.texto, nextSize);\n                if (!Number.isFinite(measuredWidth) || measuredWidth <= 0) {\n                    var _objTexto_id4;\n                    textResizeDebug(\"fit-width:break-no-measure\", {\n                        id: (_objTexto_id4 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id4 !== void 0 ? _objTexto_id4 : null,\n                        iteration: i,\n                        measuredWidth\n                    });\n                    break;\n                }\n                const ratio = safeTargetWidth / measuredWidth;\n                if (!Number.isFinite(ratio) || ratio <= 0) {\n                    var _objTexto_id5;\n                    textResizeDebug(\"fit-width:break-invalid-ratio\", {\n                        id: (_objTexto_id5 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id5 !== void 0 ? _objTexto_id5 : null,\n                        iteration: i,\n                        ratio,\n                        measuredWidth,\n                        targetVisualWidth: safeTargetWidth\n                    });\n                    break;\n                }\n                const candidate = Math.max(6, nextSize * ratio);\n                var _objTexto_id6;\n                textResizeDebug(\"fit-width:iter\", {\n                    id: (_objTexto_id6 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id6 !== void 0 ? _objTexto_id6 : null,\n                    iteration: i,\n                    measuredWidth,\n                    ratio,\n                    prevSize: nextSize,\n                    candidate\n                });\n                if (Math.abs(candidate - nextSize) <= 0.01) {\n                    nextSize = candidate;\n                    break;\n                }\n                nextSize = candidate;\n            }\n            const finalSize = Number(nextSize.toFixed(3));\n            var _objTexto_id7;\n            textResizeDebug(\"fit-width:end\", {\n                id: (_objTexto_id7 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id7 !== void 0 ? _objTexto_id7 : null,\n                finalSize,\n                targetVisualWidth: safeTargetWidth\n            });\n            return finalSize;\n        }\n    }[\"CanvasEditor.useCallback[ajustarFontSizeAAnchoVisual]\"], [\n        medirAnchoTextoKonva,\n        textResizeDebug\n    ]);\n    const calcularXTextoCentrado = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoCentrado]\": (objTexto, textoObjetivo)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const previousMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextMetrics = obtenerMetricasTexto(textoObjetivo, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const previousWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto);\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, textoObjetivo);\n            const previousWidth = Number.isFinite(previousWidthFromKonva) && previousWidthFromKonva > 0 ? previousWidthFromKonva : previousMetrics.width;\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            const currentX = Number.isFinite(objTexto.x) ? objTexto.x : 0;\n            const centerX = currentX + previousWidth / 2;\n            return centerX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoCentrado]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const handleClickOutside = {\n                \"CanvasEditor.useEffect.handleClickOutside\": (e)=>{\n                    if (!e.target.closest(\".menu-z-index\")) {\n                        setMostrarPanelZ(false);\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleClickOutside\"];\n            document.addEventListener(\"mousedown\", handleClickOutside);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickOutside)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    const actualizarFondoSeccion = (id, nuevoFondo)=>{\n        setSecciones((prev)=>prev.map((s)=>s.id === id ? {\n                    ...s,\n                    fondo: nuevoFondo\n                } : s));\n    };\n    (0,_hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n        onDeshacer,\n        onRehacer,\n        onDuplicar,\n        onEliminar,\n        onDeseleccionar: {\n            \"CanvasEditor.useKeyboardShortcuts\": ()=>{\n                if (elementosSeleccionados.length > 0) {\n                    setElementosSeleccionados([]);\n                    setMostrarPanelZ(false);\n                    setMostrarSubmenuCapa(false);\n                    setMostrarSelectorFuente(false);\n                    setMostrarSelectorTamano(false);\n                    setHoverId(null);\n                }\n            }\n        }[\"CanvasEditor.useKeyboardShortcuts\"],\n        onCopiar,\n        onPegar,\n        onCambiarAlineacion,\n        isEditing: !!editing.id,\n        tieneSeleccion: elementosSeleccionados.length > 0\n    });\n    const cambiarColorFondoSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (seccionId, nuevoColor)=>{\n            setSecciones({\n                \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (prev)=>prev.map({\n                        \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (s)=>{\n                            if (s.id !== seccionId) return s;\n                            return {\n                                ...s,\n                                fondo: nuevoColor\n                            };\n                        }\n                    }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"])\n            }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"]);\n        }\n    }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"], [\n        setSecciones\n    ]);\n    (0,_editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__[\"default\"])({\n        seccionesOrdenadas,\n        secciones,\n        seccionActivaId,\n        objetos,\n        altoCanvas,\n        calcularOffsetY: _utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY,\n        cambiarColorFondoSeccion,\n        onDeshacer,\n        onRehacer,\n        historialLength: historial.length,\n        futurosLength: futuros.length,\n        stageRef\n    });\n    const esSeccionPantallaById = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[esSeccionPantallaById]\": (seccionId)=>{\n            const s = seccionesOrdenadas.find({\n                \"CanvasEditor.useCallback[esSeccionPantallaById].s\": (x)=>x.id === seccionId\n            }[\"CanvasEditor.useCallback[esSeccionPantallaById].s\"]);\n            return s && normalizarAltoModo(s.altoModo) === \"pantalla\";\n        }\n    }[\"CanvasEditor.useCallback[esSeccionPantallaById]\"], [\n        seccionesOrdenadas\n    ]);\n    const altoCanvasDinamico = seccionesOrdenadas.reduce((acc, s)=>acc + s.altura, 0) || 800;\n    const abrirModalBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[abrirModalBorrarSeccion]\": (seccionId)=>{\n            if (!seccionId || isDeletingSection) return;\n            setDeleteSectionModal({\n                isOpen: true,\n                sectionId: seccionId\n            });\n        }\n    }[\"CanvasEditor.useCallback[abrirModalBorrarSeccion]\"], [\n        isDeletingSection\n    ]);\n    const cerrarModalBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cerrarModalBorrarSeccion]\": ()=>{\n            if (isDeletingSection) return;\n            setDeleteSectionModal({\n                isOpen: false,\n                sectionId: null\n            });\n        }\n    }[\"CanvasEditor.useCallback[cerrarModalBorrarSeccion]\"], [\n        isDeletingSection\n    ]);\n    const confirmarBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[confirmarBorrarSeccion]\": async ()=>{\n            const seccionId = deleteSectionModal.sectionId;\n            if (!seccionId || isDeletingSection) return;\n            setIsDeletingSection(true);\n            try {\n                await (0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.borrarSeccion)({\n                    seccionId,\n                    secciones,\n                    objetos,\n                    slug,\n                    seccionActivaId,\n                    setSecciones,\n                    setObjetos,\n                    setSeccionActivaId\n                });\n                setDeleteSectionModal({\n                    isOpen: false,\n                    sectionId: null\n                });\n            } finally{\n                setIsDeletingSection(false);\n            }\n        }\n    }[\"CanvasEditor.useCallback[confirmarBorrarSeccion]\"], [\n        deleteSectionModal.sectionId,\n        isDeletingSection,\n        secciones,\n        objetos,\n        slug,\n        seccionActivaId,\n        setSecciones,\n        setObjetos,\n        setSeccionActivaId\n    ]);\n    // 3) Cada vez que el usuario selecciona una sección, actualizamos global y notificamos\n    const onSelectSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[onSelectSeccion]\": (id)=>{\n            try {\n                setSeccionActivaId(id);\n                window._seccionActivaId = id;\n                window.dispatchEvent(new CustomEvent(\"seccion-activa\", {\n                    detail: {\n                        id\n                    }\n                }));\n            } catch (e) {\n                console.warn(\"No pude emitir seccion-activa:\", e);\n            }\n        }\n    }[\"CanvasEditor.useCallback[onSelectSeccion]\"], [\n        setSeccionActivaId\n    ]);\n    const resolverViewportScrollSecciones = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[resolverViewportScrollSecciones]\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container, _stageContainer_closest;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            const stageContainer = stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage);\n            if (!stageContainer || \"object\" === \"undefined\") return null;\n            const mainElement = (_stageContainer_closest = stageContainer.closest) === null || _stageContainer_closest === void 0 ? void 0 : _stageContainer_closest.call(stageContainer, \"main\");\n            if (mainElement) return mainElement;\n            let current = stageContainer.parentElement;\n            while(current && current !== document.body){\n                const style = window.getComputedStyle(current);\n                const overflowY = String(style.overflowY || \"\").toLowerCase();\n                const overflow = String(style.overflow || \"\").toLowerCase();\n                const isScrollable = overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\" || overflow === \"auto\" || overflow === \"scroll\" || overflow === \"overlay\";\n                if (isScrollable && current.scrollHeight > current.clientHeight + 1) {\n                    return current;\n                }\n                current = current.parentElement;\n            }\n            return window;\n        }\n    }[\"CanvasEditor.useCallback[resolverViewportScrollSecciones]\"], []);\n    const sincronizarSeccionVisiblePorScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container, _stageContainer_getBoundingClientRect;\n            if (!seccionesOrdenadas.length || \"object\" === \"undefined\") return;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            const stageContainer = stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage);\n            if (!stageContainer) return;\n            const stageRect = (_stageContainer_getBoundingClientRect = stageContainer.getBoundingClientRect) === null || _stageContainer_getBoundingClientRect === void 0 ? void 0 : _stageContainer_getBoundingClientRect.call(stageContainer);\n            if (!stageRect || !Number.isFinite(stageRect.top) || !Number.isFinite(stageRect.height)) {\n                return;\n            }\n            const viewport = autoSectionViewportRef.current || resolverViewportScrollSecciones();\n            if (!viewport) return;\n            let viewportTop = 0;\n            let viewportBottom = window.innerHeight || document.documentElement.clientHeight || 0;\n            if (viewport !== window) {\n                var _viewport_getBoundingClientRect;\n                const viewportRect = (_viewport_getBoundingClientRect = viewport.getBoundingClientRect) === null || _viewport_getBoundingClientRect === void 0 ? void 0 : _viewport_getBoundingClientRect.call(viewport);\n                if (!viewportRect) return;\n                viewportTop = viewportRect.top;\n                viewportBottom = viewportRect.bottom;\n            }\n            if (!Number.isFinite(viewportTop) || !Number.isFinite(viewportBottom) || viewportBottom <= viewportTop) {\n                return;\n            }\n            const alturaStagePx = Number(stageRect.height || 0);\n            const alturaCanvas = Math.max(1, Number(altoCanvasDinamico) || 1);\n            if (!(alturaStagePx > 0)) return;\n            const pxPorUnidad = alturaStagePx / alturaCanvas;\n            if (!(pxPorUnidad > 0)) return;\n            const centroViewport = (viewportTop + viewportBottom) / 2;\n            let mejorId = null;\n            let mejorVisible = 0;\n            let mejorRatio = -1;\n            let mejorDistanciaCentro = Number.POSITIVE_INFINITY;\n            seccionesOrdenadas.forEach({\n                \"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\": (seccion, index)=>{\n                    const alturaSeccion = Math.max(1, Number(seccion.altura) || 1);\n                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index);\n                    const top = stageRect.top + offsetY * pxPorUnidad;\n                    const bottom = top + alturaSeccion * pxPorUnidad;\n                    const visible = Math.max(0, Math.min(bottom, viewportBottom) - Math.max(top, viewportTop));\n                    if (visible <= 0) return;\n                    const ratioVisible = visible / (alturaSeccion * pxPorUnidad);\n                    const distanciaCentro = Math.abs((top + bottom) / 2 - centroViewport);\n                    const mejoraPorVisible = visible > mejorVisible + 1;\n                    const empateVisible = Math.abs(visible - mejorVisible) <= 1;\n                    const mejoraPorRatio = empateVisible && ratioVisible > mejorRatio + 0.001;\n                    const empateRatio = empateVisible && Math.abs(ratioVisible - mejorRatio) <= 0.001;\n                    const mejoraPorCentro = empateRatio && distanciaCentro < mejorDistanciaCentro;\n                    if (mejoraPorVisible || mejoraPorRatio || mejoraPorCentro) {\n                        mejorId = seccion.id;\n                        mejorVisible = visible;\n                        mejorRatio = ratioVisible;\n                        mejorDistanciaCentro = distanciaCentro;\n                    }\n                }\n            }[\"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\"]);\n            if (!mejorId) return;\n            if (seccionActivaIdRef.current === mejorId) return;\n            onSelectSeccion(mejorId);\n        }\n    }[\"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\"], [\n        altoCanvasDinamico,\n        onSelectSeccion,\n        resolverViewportScrollSecciones,\n        seccionesOrdenadas\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            if (!seccionesOrdenadas.length) return undefined;\n            autoSectionViewportRef.current = resolverViewportScrollSecciones();\n            const scrollTarget = autoSectionViewportRef.current || window;\n            const scheduleSync = {\n                \"CanvasEditor.useEffect.scheduleSync\": ()=>{\n                    if (autoSectionScrollRafRef.current) return;\n                    autoSectionScrollRafRef.current = window.requestAnimationFrame({\n                        \"CanvasEditor.useEffect.scheduleSync\": ()=>{\n                            autoSectionScrollRafRef.current = 0;\n                            sincronizarSeccionVisiblePorScroll();\n                        }\n                    }[\"CanvasEditor.useEffect.scheduleSync\"]);\n                }\n            }[\"CanvasEditor.useEffect.scheduleSync\"];\n            scheduleSync();\n            const eventTarget = scrollTarget === window ? window : scrollTarget;\n            eventTarget.addEventListener(\"scroll\", scheduleSync, {\n                passive: true\n            });\n            window.addEventListener(\"resize\", scheduleSync);\n            window.addEventListener(\"orientationchange\", scheduleSync);\n            if (window.visualViewport) {\n                window.visualViewport.addEventListener(\"scroll\", scheduleSync);\n                window.visualViewport.addEventListener(\"resize\", scheduleSync);\n            }\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    eventTarget.removeEventListener(\"scroll\", scheduleSync);\n                    window.removeEventListener(\"resize\", scheduleSync);\n                    window.removeEventListener(\"orientationchange\", scheduleSync);\n                    if (window.visualViewport) {\n                        window.visualViewport.removeEventListener(\"scroll\", scheduleSync);\n                        window.visualViewport.removeEventListener(\"resize\", scheduleSync);\n                    }\n                    if (autoSectionScrollRafRef.current) {\n                        window.cancelAnimationFrame(autoSectionScrollRafRef.current);\n                        autoSectionScrollRafRef.current = 0;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        resolverViewportScrollSecciones,\n        seccionesOrdenadas.length,\n        sincronizarSeccionVisiblePorScroll\n    ]);\n    // ?? NUEVO HOOK PARA GUÍAS\n    const { guiaLineas, mostrarGuias, limpiarGuias, configurarDragEnd } = (0,_hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__[\"default\"])({\n        anchoCanvas: 800,\n        altoCanvas: altoCanvasDinamico,\n        // UX: guía de sección solo al centrar, con imán sutil.\n        margenSensibilidad: 8,\n        magnetRadius: 10,\n        sectionMagnetRadius: 6,\n        snapStrength: 0.8,\n        sectionSnapStrength: 1,\n        sectionLineTolerance: 0.75,\n        snapToEdges: true,\n        snapToCenters: true,\n        seccionesOrdenadas\n    });\n    // ?? Función para actualizar posición del botón SIN re-render\n    const { actualizarPosicionBotonOpciones } = (0,_components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__[\"default\"])({\n        botonOpcionesRef,\n        elementRefs,\n        elementosSeleccionados,\n        stageRef,\n        escalaVisual,\n        escalaActiva\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const onDragStartGlobal = {\n                \"CanvasEditor.useEffect.onDragStartGlobal\": ()=>{\n                    // limpiar hover/preselección inmediatamente para evitar \"flash\" visual\n                    (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)({\n                        \"CanvasEditor.useEffect.onDragStartGlobal\": ()=>{\n                            setHoverId(null);\n                            setElementosPreSeleccionados([]);\n                            setIsDragging(true);\n                        }\n                    }[\"CanvasEditor.useEffect.onDragStartGlobal\"]);\n                }\n            }[\"CanvasEditor.useEffect.onDragStartGlobal\"];\n            const onDragEndGlobal = {\n                \"CanvasEditor.useEffect.onDragEndGlobal\": ()=>{\n                // nada por ahora; si quisieras, podrías recalcular algo acá\n                }\n            }[\"CanvasEditor.useEffect.onDragEndGlobal\"];\n            window.addEventListener(\"dragging-start\", onDragStartGlobal);\n            window.addEventListener(\"dragging-end\", onDragEndGlobal);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    window.removeEventListener(\"dragging-start\", onDragStartGlobal);\n                    window.removeEventListener(\"dragging-end\", onDragEndGlobal);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    // ?? OPTIMIZACIÓN: Limpiar cache de intersección al cambiar selección\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Limpiar cache cuando cambia la selección\n            if (window._lineIntersectionCache) {\n                window._lineIntersectionCache = {};\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados.length\n    ]);\n    // ?? OPTIMIZACIÓN: Forzar actualización de líneas después de drag grupal\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (window._grupoLider || elementosSeleccionados.length === 0) return;\n            // Solo correr esta optimización cuando acaba de finalizar un drag grupal.\n            const now = typeof performance !== \"undefined\" && typeof performance.now === \"function\" ? performance.now() : Date.now();\n            const recentlyEndedGroupDrag = Number.isFinite(window._skipUntil) && window._skipUntil > now;\n            if (!recentlyEndedGroupDrag) return;\n            const hayLineas = objetos.some({\n                \"CanvasEditor.useEffect.hayLineas\": (obj)=>elementosSeleccionados.includes(obj.id) && obj.tipo === 'forma' && obj.figura === 'line'\n            }[\"CanvasEditor.useEffect.hayLineas\"]);\n            if (!hayLineas) return;\n            const timer = setTimeout({\n                \"CanvasEditor.useEffect.timer\": ()=>{\n                    elementosSeleccionados.forEach({\n                        \"CanvasEditor.useEffect.timer\": (id)=>{\n                            const node = elementRefs.current[id];\n                            if (node && node.getLayer) {\n                                var _node_getLayer;\n                                (_node_getLayer = node.getLayer()) === null || _node_getLayer === void 0 ? void 0 : _node_getLayer.batchDraw();\n                            }\n                        }\n                    }[\"CanvasEditor.useEffect.timer\"]);\n                }\n            }[\"CanvasEditor.useEffect.timer\"], 50);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>clearTimeout(timer)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados,\n        objetos\n    ]);\n    const detectarInterseccionLinea = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[detectarInterseccionLinea]\": ()=>{\n            return ({\n                \"CanvasEditor.useMemo[detectarInterseccionLinea]\": (lineObj, area, stage)=>{\n                    try {\n                        var _window__elementRefs;\n                        if (!lineObj || !area || !lineObj.points) return false;\n                        let points = lineObj.points;\n                        if (!Array.isArray(points) || points.length < 4) {\n                            points = [\n                                0,\n                                0,\n                                100,\n                                0\n                            ];\n                        }\n                        const puntosLimpios = [\n                            parseFloat(points[0]) || 0,\n                            parseFloat(points[1]) || 0,\n                            parseFloat(points[2]) || 100,\n                            parseFloat(points[3]) || 0\n                        ];\n                        // ?? USAR LA POSICIÓN DEL NODO REAL EN EL STAGE\n                        const node = (_window__elementRefs = window._elementRefs) === null || _window__elementRefs === void 0 ? void 0 : _window__elementRefs[lineObj.id];\n                        const lineX = node ? node.x() : lineObj.x || 0;\n                        const lineY = node ? node.y() : lineObj.y || 0;\n                        // Coordenadas absolutas de los puntos\n                        const startX = lineX + puntosLimpios[0];\n                        const startY = lineY + puntosLimpios[1];\n                        const endX = lineX + puntosLimpios[2];\n                        const endY = lineY + puntosLimpios[3];\n                        // ?? MÉTODO 1: Verificar si algún punto está dentro del área\n                        const startDentro = startX >= area.x && startX <= area.x + area.width && startY >= area.y && startY <= area.y + area.height;\n                        const endDentro = endX >= area.x && endX <= area.x + area.width && endY >= area.y && endY <= area.y + area.height;\n                        if (startDentro || endDentro) {\n                            return true;\n                        }\n                        // ?? MÉTODO 2: Verificar intersección línea-rectángulo\n                        const intersecta = lineIntersectsRect(startX, startY, endX, endY, area.x, area.y, area.x + area.width, area.y + area.height);\n                        if (intersecta) {\n                            return true;\n                        }\n                        return false;\n                    } catch (error) {\n                        return false;\n                    }\n                }\n            })[\"CanvasEditor.useMemo[detectarInterseccionLinea]\"];\n        }\n    }[\"CanvasEditor.useMemo[detectarInterseccionLinea]\"], []);\n    // Función auxiliar para verificar intersección línea-rectángulo\n    function lineIntersectsRect(x1, y1, x2, y2, rectLeft, rectTop, rectRight, rectBottom) {\n        // Verificar si la línea intersecta con alguno de los 4 lados del rectángulo\n        return lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectTop, rectRight, rectTop) || // Top\n        lineIntersectsLine(x1, y1, x2, y2, rectRight, rectTop, rectRight, rectBottom) || // Right\n        lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectBottom, rectRight, rectBottom) || // Bottom\n        lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectTop, rectLeft, rectBottom) // Left\n        ;\n    }\n    // Función auxiliar para verificar intersección línea-línea\n    function lineIntersectsLine(x1, y1, x2, y2, x3, y3, x4, y4) {\n        const denom = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n        if (Math.abs(denom) < 0.0001) return false;\n        const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / denom;\n        const u = -((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / denom;\n        return t >= 0 && t <= 1 && u >= 0 && u <= 1;\n    }\n    // ?? Ajustar el transformer cuando cambia el texto inline\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _node_getClassName, _node_getStage;\n            if (!editing.id || !elementRefs.current[editing.id]) return;\n            const node = elementRefs.current[editing.id];\n            const objetoEnEdicion = objetos.find({\n                \"CanvasEditor.useEffect.objetoEnEdicion\": (o)=>o.id === editing.id\n            }[\"CanvasEditor.useEffect.objetoEnEdicion\"]);\n            if (!objetoEnEdicion) return;\n            const nodeClass = (_node_getClassName = node.getClassName) === null || _node_getClassName === void 0 ? void 0 : _node_getClassName.call(node);\n            const beforeMetrics = obtenerMetricasNodoInline(node);\n            var _editing_value;\n            const editingValue = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n            const shouldKeepCenterPreview = objetoEnEdicion.tipo === \"texto\" && !objetoEnEdicion.__groupAlign && !Number.isFinite(objetoEnEdicion.width) && objetoEnEdicion.__autoWidth !== false;\n            const expectedX = shouldKeepCenterPreview ? calcularXTextoCentrado(objetoEnEdicion, editingValue) : Number.isFinite(objetoEnEdicion.x) ? objetoEnEdicion.x : null;\n            var _objetoEnEdicion_x, _objetoEnEdicion_y;\n            inlineDebugLog(\"preview-effect-start\", {\n                id: editing.id,\n                valueLength: editingValue.length,\n                nodeClass,\n                objX: (_objetoEnEdicion_x = objetoEnEdicion.x) !== null && _objetoEnEdicion_x !== void 0 ? _objetoEnEdicion_x : null,\n                objY: (_objetoEnEdicion_y = objetoEnEdicion.y) !== null && _objetoEnEdicion_y !== void 0 ? _objetoEnEdicion_y : null,\n                shouldKeepCenterPreview,\n                expectedX,\n                beforeMetrics\n            });\n            // ?? Actualizar el transformer si está presente\n            const transformer = (_node_getStage = node.getStage()) === null || _node_getStage === void 0 ? void 0 : _node_getStage.findOne('Transformer');\n            if (transformer && transformer.nodes && transformer.nodes().includes(node)) {\n                var _transformer_getLayer;\n                transformer.forceUpdate(); // Actualiza manualmente el transformer\n                (_transformer_getLayer = transformer.getLayer()) === null || _transformer_getLayer === void 0 ? void 0 : _transformer_getLayer.batchDraw(); // Redibuja\n                let transformerRect = null;\n                try {\n                    transformerRect = transformer.getClientRect({\n                        skipTransform: false,\n                        skipShadow: true,\n                        skipStroke: true\n                    });\n                } catch (e) {\n                    transformerRect = null;\n                }\n                inlineDebugLog(\"preview-transformer-updated\", {\n                    id: editing.id,\n                    transformerRect: transformerRect ? {\n                        x: transformerRect.x,\n                        y: transformerRect.y,\n                        width: transformerRect.width,\n                        height: transformerRect.height\n                    } : null\n                });\n            }\n            const afterMetrics = obtenerMetricasNodoInline(node);\n            var _afterMetrics_x;\n            const afterX = typeof node.x === \"function\" ? node.x() : (_afterMetrics_x = afterMetrics === null || afterMetrics === void 0 ? void 0 : afterMetrics.x) !== null && _afterMetrics_x !== void 0 ? _afterMetrics_x : null;\n            inlineDebugLog(\"preview-props-sync\", {\n                id: editing.id,\n                valueLength: editingValue.length,\n                expectedX,\n                afterX,\n                deltaX: Number.isFinite(afterX) && Number.isFinite(expectedX) ? afterX - expectedX : null,\n                beforeMetrics,\n                afterMetrics\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value,\n        objetos,\n        obtenerMetricasNodoInline,\n        calcularXTextoCentrado\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const pending = inlineCommitDebugRef.current;\n            if (!(pending === null || pending === void 0 ? void 0 : pending.id)) return;\n            if (editing.id) return;\n            const finalObj = objetos.find({\n                \"CanvasEditor.useEffect.finalObj\": (o)=>o.id === pending.id\n            }[\"CanvasEditor.useEffect.finalObj\"]);\n            const finalNode = elementRefs.current[pending.id];\n            const finalNodeMetrics = obtenerMetricasNodoInline(finalNode);\n            const finalX = Number.isFinite(finalObj === null || finalObj === void 0 ? void 0 : finalObj.x) ? finalObj.x : null;\n            const deltaFinalVsExpected = Number.isFinite(finalX) && Number.isFinite(pending.expectedX) ? finalX - pending.expectedX : null;\n            inlineDebugLog(\"finish-post-commit\", {\n                ...pending,\n                finalX,\n                deltaFinalVsExpected,\n                finalNodeMetrics\n            });\n            inlineCommitDebugRef.current = {\n                id: null\n            };\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        objetos,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window._elementosSeleccionados = elementosSeleccionados;\n            window._objetosActuales = objetos;\n            window._elementRefs = elementRefs.current;\n            window._seccionesOrdenadas = [\n                ...secciones\n            ].sort({\n                \"CanvasEditor.useEffect\": (a, b)=>a.orden - b.orden\n            }[\"CanvasEditor.useEffect\"]);\n            window._altoCanvas = altoCanvas;\n            window.dispatchEvent(new CustomEvent(\"editor-selection-change\", {\n                detail: {\n                    ids: [\n                        ...elementosSeleccionados\n                    ],\n                    activeSectionId: seccionActivaId || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados,\n        objetos,\n        secciones,\n        altoCanvas,\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window.dispatchEvent(new CustomEvent(\"seccion-activa\", {\n                detail: {\n                    id: seccionActivaId || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            window.setHoverIdGlobal = setHoverId;\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    if (window.setHoverIdGlobal === setHoverId) {\n                        delete window.setHoverIdGlobal;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!hoverId) return;\n            const exists = objetos.some({\n                \"CanvasEditor.useEffect.exists\": (o)=>o.id === hoverId\n            }[\"CanvasEditor.useEffect.exists\"]);\n            if (!exists) setHoverId(null);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        hoverId,\n        objetos\n    ]);\n    // Cleanup del sistema imperativo\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    imperativeObjects.cleanup();\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    const stageGestures = (0,_editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__[\"default\"])({\n        secciones,\n        objetos,\n        elementRefs,\n        dragStartPos,\n        hasDragged,\n        seleccionActiva,\n        inicioSeleccion,\n        areaSeleccion,\n        detectarInterseccionLinea,\n        setElementosSeleccionados,\n        setElementosPreSeleccionados,\n        setSeleccionActiva,\n        setInicioSeleccion,\n        setAreaSeleccion,\n        onSelectSeccion,\n        cerrarMenusFlotantes\n    });\n    const mobileCanvasToolbarOffset = mobileTextToolbarVisible ? mobileFontStripVisible ? 88 : 32 : 0;\n    const mobileSectionActionsTop = mobileFontStripVisible ? \"calc(172px + env(safe-area-inset-top, 0px))\" : mobileTextToolbarVisible ? \"calc(118px + env(safe-area-inset-top, 0px))\" : \"calc(64px + env(safe-area-inset-top, 0px))\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex justify-center\",\n        style: {\n            // ? Dejamos que el scroll lo maneje el <main> del DashboardLayout (un solo scroll)\n            marginTop: 0,\n            overflowX: \"hidden\",\n            // ? UX mobile: permitir scroll vertical natural alrededor del canvas\n            touchAction: \"pan-y\",\n            WebkitOverflowScrolling: \"touch\",\n            // ? espacio para que no “choque” con header / barras\n            paddingTop: 12 + mobileCanvasToolbarOffset,\n            paddingBottom: \"calc(96px + env(safe-area-inset-bottom, 0px))\",\n            transition: \"padding-top 180ms ease\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: contenedorRef,\n                style: {\n                    width: \"100%\",\n                    maxWidth: \"1200px\",\n                    backgroundColor: \"#f5f5f5\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    paddingTop: \"20px\",\n                    paddingBottom: \"calc(40px + env(safe-area-inset-bottom, 0px))\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        transform: \"scale(\".concat(escalaVisual, \")\"),\n                        transformOrigin: 'top center',\n                        width: zoom === 0.8 ? \"1220px\" : \"1000px\",\n                        position: \"relative\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        style: {\n                            width: zoom === 0.8 ? \"1220px\" : \"1000px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        },\n                        children: [\n                            seccionActivaId && seccionesOrdenadas.map((seccion, index)=>{\n                                if (seccion.id !== seccionActivaId) return null;\n                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                const esPrimera = index === 0;\n                                const esUltima = index === seccionesOrdenadas.length - 1;\n                                const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                const sectionButtonBase = \"px-3 py-2 rounded-xl text-xs font-semibold transition-all duration-200 border focus:outline-none focus-visible:ring-2 focus-visible:ring-[#dccaf7]\";\n                                const sectionButtonDisabled = \"cursor-not-allowed border-gray-200 bg-gray-100 text-gray-400 shadow-none\";\n                                const sectionButtonPrimary = \"border-[#ccb6ef] bg-gradient-to-r from-[#8a57cf] via-[#773dbe] to-[#6737b3] text-white shadow-[0_10px_22px_rgba(119,61,190,0.30)] hover:-translate-y-[1px] hover:from-[#7f4fc5] hover:via-[#6f3bbc] hover:to-[#5f31a8] hover:shadow-[0_14px_28px_rgba(119,61,190,0.38)]\";\n                                const sectionButtonNeutral = \"border-[#e4d7f6] bg-white/95 text-[#5f3596] shadow-[0_6px_16px_rgba(15,23,42,0.06)] hover:-translate-y-[1px] hover:border-[#cdb9ee] hover:bg-[#faf6ff] hover:shadow-[0_12px_24px_rgba(119,61,190,0.16)]\";\n                                const sectionButtonSuccess = \"border-emerald-300 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_10px_22px_rgba(5,150,105,0.28)] hover:-translate-y-[1px] hover:from-emerald-600 hover:to-emerald-700 hover:shadow-[0_14px_28px_rgba(5,150,105,0.36)]\";\n                                const sectionButtonDanger = \"border-rose-300 bg-gradient-to-r from-rose-500 to-red-600 text-white shadow-[0_10px_22px_rgba(225,29,72,0.28)] hover:-translate-y-[1px] hover:from-rose-600 hover:to-red-700 hover:shadow-[0_14px_28px_rgba(225,29,72,0.36)]\";\n                                const actionButtons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.moverSeccion)({\n                                                    seccionId: seccion.id,\n                                                    direccion: \"subir\",\n                                                    secciones,\n                                                    slug,\n                                                    setSecciones,\n                                                    setSeccionesAnimando\n                                                }),\n                                            disabled: esPrimera || estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(esPrimera || estaAnimando ? sectionButtonDisabled : sectionButtonPrimary, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: esPrimera ? 'Ya es la primera sección' : 'Subir sección',\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.MoveUp, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2525,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Subir secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2524,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2506,\n                                            columnNumber: 19\n                                        }, this),\n                                        !loadingClaims && esAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_plantillas__WEBPACK_IMPORTED_MODULE_23__.guardarSeccionComoPlantilla)({\n                                                    seccionId: seccion.id,\n                                                    secciones,\n                                                    objetos,\n                                                    refrescarPlantillasDeSeccion\n                                                }),\n                                            disabled: estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando ? sectionButtonDisabled : sectionButtonSuccess, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: \"Guardar esta secci\\xf3n como plantilla\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Layers, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2549,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    \"Plantilla\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2548,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2532,\n                                            columnNumber: 21\n                                        }, this),\n                                        (()=>{\n                                            const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                            const esPantalla = modoSeccion === \"pantalla\";\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center gap-2\",\n                                                children: [\n                                                    seccion.fondoTipo === \"imagen\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>(0,_utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__.desanclarImagenDeFondo)({\n                                                                seccionId: seccion.id,\n                                                                secciones,\n                                                                objetos,\n                                                                setSecciones,\n                                                                setObjetos,\n                                                                setElementosSeleccionados\n                                                            }),\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(sectionButtonNeutral),\n                                                        title: \"Desanclar imagen de fondo\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-flex items-center gap-1.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Unlink2, {\n                                                                    className: \"w-3.5 h-3.5\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                    lineNumber: 2578,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                \"Desanclar fondo\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2577,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2563,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    seccion.fondoTipo === \"imagen\" && isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            setMobileBackgroundEditSectionId((prev)=>prev === seccion.id ? null : seccion.id);\n                                                        },\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(mobileBackgroundEditSectionId === seccion.id ? \"border-indigo-300 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-[0_10px_22px_rgba(79,70,229,0.28)] hover:-translate-y-[1px] hover:from-indigo-600 hover:to-indigo-700 hover:shadow-[0_14px_28px_rgba(79,70,229,0.36)]\" : sectionButtonNeutral),\n                                                        title: \"Modo mover fondo en mobile\",\n                                                        children: mobileBackgroundEditSectionId === seccion.id ? \"Mover fondo: ON\" : \"Mover fondo\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2585,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>togglePantallaCompletaSeccion(seccion.id),\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(esPantalla ? sectionButtonPrimary : sectionButtonNeutral),\n                                                        title: \"Hace que esta secci\\xf3n sea de pantalla completa (100vh) al publicar\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-flex items-center gap-1.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Monitor, {\n                                                                    className: \"w-3.5 h-3.5\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                    lineNumber: 2614,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                esPantalla ? \"Pantalla: ON\" : \"Pantalla: OFF\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2613,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2605,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2560,\n                                                columnNumber: 23\n                                            }, this);\n                                        })(),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                if (isMobile) {\n                                                    setMobileSectionActionsOpen(false);\n                                                }\n                                                abrirModalBorrarSeccion(seccion.id);\n                                            },\n                                            disabled: estaAnimando || isDeletingSection,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando || isDeletingSection ? sectionButtonDisabled : sectionButtonDanger, \" \").concat(estaAnimando || isDeletingSection ? \"animate-pulse\" : \"\"),\n                                            title: \"Borrar esta secci\\xf3n y todos sus elementos\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Trash2, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2638,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Borrar secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2637,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2623,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.moverSeccion)({\n                                                    seccionId: seccion.id,\n                                                    direccion: \"bajar\",\n                                                    secciones,\n                                                    slug,\n                                                    setSecciones,\n                                                    setSeccionesAnimando\n                                                }),\n                                            disabled: esUltima || estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(esUltima || estaAnimando ? sectionButtonDisabled : sectionButtonPrimary, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: esUltima ? 'Ya es la última sección' : 'Bajar sección',\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.MoveDown, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2663,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Bajar secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2662,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2644,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleCrearSeccion,\n                                            disabled: estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando ? \"\".concat(sectionButtonDisabled, \" animate-pulse\") : sectionButtonPrimary),\n                                            title: \"A\\xf1adir una nueva secci\\xf3n debajo\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.PlusCircle, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2679,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"A\\xf1adir secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2678,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2669,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true);\n                                if (isMobile) {\n                                    if (typeof document === \"undefined\") return null;\n                                    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"fixed z-[90] flex flex-col items-end gap-2\",\n                                        style: {\n                                            top: mobileSectionActionsTop,\n                                            right: \"max(8px, env(safe-area-inset-right, 0px))\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>setMobileSectionActionsOpen((prev)=>!prev),\n                                                className: \"flex h-9 w-9 items-center justify-center rounded-full border border-[#ccb6ef] bg-gradient-to-r from-[#8a57cf] via-[#773dbe] to-[#6737b3] text-white shadow-[0_10px_22px_rgba(119,61,190,0.35)] transition-all duration-200 hover:-translate-y-[1px] hover:from-[#7f4fc5] hover:via-[#6f3bbc] hover:to-[#5f31a8] hover:shadow-[0_14px_28px_rgba(119,61,190,0.42)]\",\n                                                title: \"Acciones de secci\\xf3n\",\n                                                children: mobileSectionActionsOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.ChevronUp, {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2703,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.ChevronDown, {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2705,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2696,\n                                                columnNumber: 21\n                                            }, this),\n                                            mobileSectionActionsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-[min(84vw,230px)] max-h-[62vh] overflow-y-auto rounded-xl border border-purple-200 bg-white/95 p-2 shadow-2xl backdrop-blur\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-col gap-2\",\n                                                    children: actionButtons\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2711,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2710,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                        lineNumber: 2689,\n                                        columnNumber: 19\n                                    }, this), document.body, \"orden-mobile-\".concat(seccion.id));\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute flex flex-col gap-2\",\n                                    style: {\n                                        top: offsetY + 20,\n                                        right: -150,\n                                        zIndex: 25,\n                                        maxWidth: 260\n                                    },\n                                    children: actionButtons\n                                }, \"orden-\".concat(seccion.id), false, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 2721,\n                                    columnNumber: 17\n                                }, this);\n                            }),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    position: \"relative\",\n                                    width: 800,\n                                    height: altoCanvasDinamico\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Stage, {\n                                    ref: stageRef,\n                                    width: 800,\n                                    height: altoCanvasDinamico,\n                                    perfectDrawEnabled: false,\n                                    listening: true,\n                                    imageSmoothingEnabled: false,\n                                    preventDefault: false,\n                                    hitGraphEnabled: true,\n                                    style: {\n                                        background: \"white\",\n                                        overflow: \"visible\",\n                                        position: \"relative\",\n                                        boxShadow: \"0 4px 20px rgba(0,0,0,0.5)\"\n                                    },\n                                    onMouseDown: stageGestures.onMouseDown,\n                                    onTouchStart: stageGestures.onTouchStart,\n                                    onTouchMove: stageGestures.onTouchMove,\n                                    onTouchEnd: stageGestures.onTouchEnd,\n                                    onMouseMove: stageGestures.onMouseMove,\n                                    onMouseUp: stageGestures.onMouseUp,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                            children: [\n                                                seccionesOrdenadas.flatMap((seccion, index)=>{\n                                                    const alturaPx = seccion.altura;\n                                                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                    const esActiva = seccion.id === seccionActivaId;\n                                                    const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                                    const elementos = [\n                                                        // Fondo de sección - puede ser color o imagen\n                                                        seccion.fondoTipo === \"imagen\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editor_FondoSeccion__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            seccion: seccion,\n                                                            offsetY: offsetY,\n                                                            alturaPx: alturaPx,\n                                                            onSelect: ()=>onSelectSeccion(seccion.id),\n                                                            onUpdateFondoOffset: actualizarOffsetFondo,\n                                                            isMobile: isMobile,\n                                                            mobileBackgroundEditEnabled: mobileBackgroundEditSectionId === seccion.id,\n                                                            onBackgroundImageStatusChange: handleBackgroundImageStatusChange\n                                                        }, \"fondo-\".concat(seccion.id), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2785,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                            id: seccion.id,\n                                                            x: 0,\n                                                            y: offsetY,\n                                                            width: 800,\n                                                            height: alturaPx,\n                                                            fill: seccion.fondo || \"#ffffff\",\n                                                            stroke: \"transparent\",\n                                                            strokeWidth: 0,\n                                                            listening: true,\n                                                            preventDefault: false,\n                                                            onClick: ()=>onSelectSeccion(seccion.id),\n                                                            onTap: ()=>onSelectSeccion(seccion.id)\n                                                        }, \"seccion-\".concat(seccion.id), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2797,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ];\n                                                    return elementos;\n                                                }),\n                                                seccionActivaId && seccionesOrdenadas.map((seccion, index)=>{\n                                                    if (seccion.id !== seccionActivaId) return null;\n                                                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                    const controlY = offsetY + seccion.altura - 5; // 5px antes del final\n                                                    const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                                    const permiteResizeAltura = modoSeccion !== \"pantalla\";\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                        name: \"ui\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Line, {\n                                                                name: \"ui\",\n                                                                points: [\n                                                                    50,\n                                                                    controlY,\n                                                                    750,\n                                                                    controlY\n                                                                ],\n                                                                stroke: \"#773dbe\",\n                                                                strokeWidth: 2,\n                                                                dash: [\n                                                                    5,\n                                                                    5\n                                                                ],\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 2834,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                                x: 400,\n                                                                y: controlY,\n                                                                listening: permiteResizeAltura,\n                                                                opacity: permiteResizeAltura ? 1 : 0.25,\n                                                                onPointerDown: permiteResizeAltura ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onMouseDown: permiteResizeAltura && !supportsPointerEvents ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onTouchStart: permiteResizeAltura && !supportsPointerEvents ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onMouseEnter: ()=>{\n                                                                    if (!controlandoAltura && permiteResizeAltura) setGlobalCursor(\"ns-resize\", stageRef);\n                                                                },\n                                                                onMouseLeave: ()=>{\n                                                                    if (!controlandoAltura && permiteResizeAltura) clearGlobalCursor(stageRef);\n                                                                },\n                                                                draggable: false,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -45,\n                                                                        y: -22,\n                                                                        width: 90,\n                                                                        height: 44,\n                                                                        fill: \"transparent\",\n                                                                        listening: true\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2871,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -25,\n                                                                        y: -6,\n                                                                        width: 50,\n                                                                        height: 12,\n                                                                        fill: controlandoAltura === seccion.id ? \"#773dbe\" : \"rgba(119, 61, 190, 0.9)\",\n                                                                        cornerRadius: 6,\n                                                                        shadowColor: \"rgba(0,0,0,0.3)\",\n                                                                        shadowBlur: controlandoAltura === seccion.id ? 8 : 6,\n                                                                        shadowOffset: {\n                                                                            x: 0,\n                                                                            y: controlandoAltura === seccion.id ? 4 : 3\n                                                                        },\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2881,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    controlandoAltura === seccion.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -30,\n                                                                        y: -8,\n                                                                        width: 60,\n                                                                        height: 16,\n                                                                        fill: \"transparent\",\n                                                                        stroke: \"#773dbe\",\n                                                                        strokeWidth: 2,\n                                                                        cornerRadius: 8,\n                                                                        opacity: 0.6,\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2896,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                                                                        x: -6,\n                                                                        y: -3,\n                                                                        text: \"??\",\n                                                                        fontSize: 10,\n                                                                        fill: \"white\",\n                                                                        fontFamily: \"Arial\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2911,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: -15,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2922,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: -10,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2923,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: 10,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2924,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: 15,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2925,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 2844,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                x: 755,\n                                                                y: controlY - 10,\n                                                                width: 40,\n                                                                height: 20,\n                                                                fill: \"rgba(119, 61, 190, 0.1)\",\n                                                                stroke: \"rgba(119, 61, 190, 0.3)\",\n                                                                strokeWidth: 1,\n                                                                cornerRadius: 4,\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 2930,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                                                                x: 760,\n                                                                y: controlY - 6,\n                                                                text: \"\".concat(Math.round(seccion.altura), \"px\"),\n                                                                fontSize: 11,\n                                                                fill: \"#773dbe\",\n                                                                fontFamily: \"Arial\",\n                                                                fontWeight: \"bold\",\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 2943,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, \"control-altura-\".concat(seccion.id), true, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2832,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                }),\n                                                controlandoAltura && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                    name: \"ui\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                            x: 0,\n                                                            y: 0,\n                                                            width: 800,\n                                                            height: altoCanvasDinamico,\n                                                            fill: \"rgba(119, 61, 190, 0.05)\",\n                                                            listening: false\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2961,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        seccionesOrdenadas.map((seccion, index)=>{\n                                                            const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                            const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                                            const permiteResizeAltura = modoSeccion !== \"pantalla\";\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: 0,\n                                                                        y: offsetY,\n                                                                        width: 800,\n                                                                        height: seccion.altura,\n                                                                        fill: seccion.fondo || \"transparent\",\n                                                                        onClick: ()=>onSelectSeccion(seccion.id)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2980,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    seccion.id === controlandoAltura && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: 0,\n                                                                        y: offsetY,\n                                                                        width: 800,\n                                                                        height: seccion.altura,\n                                                                        fill: \"transparent\",\n                                                                        stroke: \"#773dbe\",\n                                                                        strokeWidth: 3,\n                                                                        dash: [\n                                                                            8,\n                                                                            4\n                                                                        ],\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 2991,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                ]\n                                                            }, seccion.id, true, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 2978,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        })\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2959,\n                                                    columnNumber: 21\n                                                }, this),\n                                                objetos.map((obj, i)=>{\n                                                    // ?? Determinar si está en modo edición\n                                                    const isInEditMode = editing.id === obj.id && elementosSeleccionados[0] === obj.id;\n                                                    // ??? Caso especial: la galería la renderizamos acá (no usa ElementoCanvas)\n                                                    if (obj.tipo === \"galeria\") {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_GaleriaKonva__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                            obj: obj,\n                                                            registerRef: registerRef,\n                                                            onHover: setHoverId,\n                                                            isSelected: elementosSeleccionados.includes(obj.id),\n                                                            celdaGaleriaActiva: celdaGaleriaActiva,\n                                                            onPickCell: (info)=>setCeldaGaleriaActiva(info),\n                                                            seccionesOrdenadas: seccionesOrdenadas,\n                                                            altoCanvas: altoCanvas,\n                                                            onSelect: (id, e)=>{\n                                                                (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                                setElementosSeleccionados([\n                                                                    id\n                                                                ]);\n                                                            },\n                                                            onDragMovePersonalizado: (pos, id)=>{\n                                                                window._isDragging = true;\n                                                                if (!window._grupoLider) {\n                                                                    mostrarGuias(pos, id, objetos, elementRefs);\n                                                                }\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            },\n                                                            onDragStartPersonalizado: function() {\n                                                                let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id;\n                                                                if (!elementosSeleccionados.includes(dragId)) {\n                                                                    setElementosSeleccionados([\n                                                                        dragId\n                                                                    ]);\n                                                                }\n                                                                setHoverId(null);\n                                                                setIsDragging(true);\n                                                            },\n                                                            onDragEndPersonalizado: ()=>{\n                                                                setIsDragging(false);\n                                                                limpiarGuias();\n                                                                if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                    actualizarPosicionBotonOpciones();\n                                                                }\n                                                            },\n                                                            onChange: (id, nuevo)=>{\n                                                                setObjetos((prev)=>{\n                                                                    const i = prev.findIndex((o)=>o.id === id);\n                                                                    if (i === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[i] = {\n                                                                        ...updated[i],\n                                                                        ...nuevo\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                            }\n                                                        }, obj.id, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3020,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    if (obj.tipo === \"countdown\") {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_countdown_CountdownKonva__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            obj: obj,\n                                                            registerRef: registerRef,\n                                                            onHover: setHoverId,\n                                                            isSelected: elementosSeleccionados.includes(obj.id),\n                                                            seccionesOrdenadas: seccionesOrdenadas,\n                                                            altoCanvas: altoCanvas,\n                                                            // ? selección\n                                                            onSelect: (id, e)=>{\n                                                                (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                                setElementosSeleccionados([\n                                                                    id\n                                                                ]);\n                                                            },\n                                                            // ? PREVIEW liviano (no tocar estado del objeto para que no haya lag)\n                                                            onDragStartPersonalizado: function() {\n                                                                let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id;\n                                                                if (!elementosSeleccionados.includes(dragId)) {\n                                                                    setElementosSeleccionados([\n                                                                        dragId\n                                                                    ]);\n                                                                }\n                                                                setHoverId(null);\n                                                                setIsDragging(true);\n                                                            },\n                                                            onDragMovePersonalizado: (pos, id)=>{\n                                                                if (!window._grupoLider) {\n                                                                    mostrarGuias(pos, id, objetos, elementRefs);\n                                                                }\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            },\n                                                            // ? FIN de drag: limpiar guías / UI auxiliar\n                                                            onDragEndPersonalizado: ()=>{\n                                                                setIsDragging(false);\n                                                                limpiarGuias();\n                                                                if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                    actualizarPosicionBotonOpciones();\n                                                                }\n                                                            },\n                                                            // ? refs para el motor de drag\n                                                            dragStartPos: dragStartPos,\n                                                            hasDragged: hasDragged,\n                                                            // ? ¡Clave! Al finalizar, tratamos x/y absolutas como en ElementoCanvas:\n                                                            onChange: (id, cambios)=>{\n                                                                setObjetos((prev)=>{\n                                                                    const i = prev.findIndex((o)=>o.id === id);\n                                                                    if (i === -1) return prev;\n                                                                    const objOriginal = prev[i];\n                                                                    // ?? Si no es final de drag, mergeamos sin más (no tocar coords)\n                                                                    if (!cambios.finalizoDrag) {\n                                                                        const updated = [\n                                                                            ...prev\n                                                                        ];\n                                                                        updated[i] = {\n                                                                            ...updated[i],\n                                                                            ...cambios\n                                                                        };\n                                                                        return updated;\n                                                                    }\n                                                                    // ?? Final de drag: 'cambios.y' viene ABSOLUTA (Stage coords)\n                                                                    const { nuevaSeccion, coordenadasAjustadas } = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.determinarNuevaSeccion)(cambios.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                    let next = {\n                                                                        ...cambios\n                                                                    };\n                                                                    delete next.finalizoDrag;\n                                                                    if (nuevaSeccion) {\n                                                                        next = {\n                                                                            ...next,\n                                                                            ...coordenadasAjustadas,\n                                                                            seccionId: nuevaSeccion\n                                                                        };\n                                                                    } else {\n                                                                        // convertir y absoluta ? y relativa a la sección actual\n                                                                        next.y = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(cambios.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                    }\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[i] = {\n                                                                        ...updated[i],\n                                                                        ...next\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                            }\n                                                        }, obj.id, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3076,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    const objPreview = editing.id === obj.id && obj.tipo === \"texto\" ? (()=>{\n                                                        var _editing_value;\n                                                        const textoPreview = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n                                                        const previewObj = {\n                                                            ...obj,\n                                                            texto: textoPreview\n                                                        };\n                                                        const shouldKeepCenterPreview = !obj.__groupAlign && !Number.isFinite(obj.width) && obj.__autoWidth !== false;\n                                                        if (shouldKeepCenterPreview) {\n                                                            const previewX = calcularXTextoCentrado(obj, textoPreview);\n                                                            if (Number.isFinite(previewX)) {\n                                                                previewObj.x = previewX;\n                                                            }\n                                                        }\n                                                        return previewObj;\n                                                    })() : obj;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ElementoCanvas__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                        obj: {\n                                                            ...objPreview,\n                                                            // ?? yLocal: en sección pantalla usamos yNorm * 500\n                                                            // fallback legacy: si no hay yNorm, usamos obj.y\n                                                            y: (()=>{\n                                                                const idxSec = seccionesOrdenadas.findIndex((s)=>s.id === objPreview.seccionId);\n                                                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, idxSec);\n                                                                const yLocal = esSeccionPantallaById(objPreview.seccionId) ? Number.isFinite(objPreview.yNorm) ? objPreview.yNorm * ALTURA_PANTALLA_EDITOR : objPreview.y : objPreview.y;\n                                                                return yLocal + offsetY;\n                                                            })()\n                                                        },\n                                                        anchoCanvas: 800,\n                                                        isSelected: !isInEditMode && elementosSeleccionados.includes(obj.id),\n                                                        preSeleccionado: !isInEditMode && elementosPreSeleccionados.includes(obj.id),\n                                                        isInEditMode: isInEditMode,\n                                                        onHover: isInEditMode ? null : setHoverId,\n                                                        registerRef: registerRef,\n                                                        onStartTextEdit: isInEditMode ? null : (id, texto)=>{\n                                                            var _node_getLayer_batchDraw, _node_getLayer, _node_getLayer1;\n                                                            const node = elementRefs.current[id];\n                                                            const nodeMetrics = obtenerMetricasNodoInline(node);\n                                                            var _window__currentEditingId;\n                                                            const previousCurrentEditingId = (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null;\n                                                            setInlineOverlayMountedId(null);\n                                                            captureInlineSnapshot(\"enter: pre-start\", {\n                                                                id,\n                                                                previousId: previousCurrentEditingId,\n                                                                textoLength: String(texto !== null && texto !== void 0 ? texto : \"\").length\n                                                            });\n                                                            window._currentEditingId = id;\n                                                            inlineEditPreviewRef.current = {\n                                                                id: null,\n                                                                centerX: null\n                                                            };\n                                                            var _obj_x, _obj_y;\n                                                            inlineDebugLog(\"start-inline-edit\", {\n                                                                id,\n                                                                textoLength: String(texto !== null && texto !== void 0 ? texto : \"\").length,\n                                                                objectX: (_obj_x = obj === null || obj === void 0 ? void 0 : obj.x) !== null && _obj_x !== void 0 ? _obj_x : null,\n                                                                objectY: (_obj_y = obj === null || obj === void 0 ? void 0 : obj.y) !== null && _obj_y !== void 0 ? _obj_y : null,\n                                                                previousCurrentEditingId,\n                                                                nextCurrentEditingId: window._currentEditingId,\n                                                                nodeMetrics\n                                                            });\n                                                            startEdit(id, texto);\n                                                            node === null || node === void 0 ? void 0 : node.draggable(false);\n                                                            node === null || node === void 0 ? void 0 : (_node_getLayer1 = node.getLayer) === null || _node_getLayer1 === void 0 ? void 0 : (_node_getLayer = _node_getLayer1.call(node)) === null || _node_getLayer === void 0 ? void 0 : (_node_getLayer_batchDraw = _node_getLayer.batchDraw) === null || _node_getLayer_batchDraw === void 0 ? void 0 : _node_getLayer_batchDraw.call(_node_getLayer);\n                                                            var _window__currentEditingId1;\n                                                            captureInlineSnapshot(\"enter: after-start-sync\", {\n                                                                id,\n                                                                previousId: previousCurrentEditingId,\n                                                                nextCurrentEditingId: (_window__currentEditingId1 = window._currentEditingId) !== null && _window__currentEditingId1 !== void 0 ? _window__currentEditingId1 : null\n                                                            });\n                                                        },\n                                                        editingId: editing.id,\n                                                        inlineOverlayMountedId: inlineOverlayMountedId,\n                                                        inlineVisibilityMode: inlineDebugAB.visibilitySource,\n                                                        finishInlineEdit: finishEdit,\n                                                        onSelect: isInEditMode ? null : (id, obj, e)=>{\n                                                            var _e_evt;\n                                                            if (obj.tipo === \"rsvp-boton\") {\n                                                                return;\n                                                            }\n                                                            if (editing.id && editing.id !== id) {\n                                                                finishEdit();\n                                                            }\n                                                            (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                            const esShift = e === null || e === void 0 ? void 0 : (_e_evt = e.evt) === null || _e_evt === void 0 ? void 0 : _e_evt.shiftKey;\n                                                            setElementosSeleccionados((prev)=>{\n                                                                if (esShift) {\n                                                                    if (prev.includes(id)) {\n                                                                        return prev.filter((x)=>x !== id);\n                                                                    } else {\n                                                                        return [\n                                                                            ...prev,\n                                                                            id\n                                                                        ];\n                                                                    }\n                                                                } else {\n                                                                    return [\n                                                                        id\n                                                                    ];\n                                                                }\n                                                            });\n                                                        },\n                                                        onChange: (id, nuevo)=>{\n                                                            // ?? NUEVO: Manejar preview inmediato de drag grupal\n                                                            if (nuevo.isDragPreview) {\n                                                                setObjetos((prev)=>{\n                                                                    const index = prev.findIndex((o)=>o.id === id);\n                                                                    if (index === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    const { isDragPreview, skipHistorial, ...cleanNuevo } = nuevo;\n                                                                    updated[index] = {\n                                                                        ...updated[index],\n                                                                        ...cleanNuevo\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? MANEJAR SOLO batch update final de drag grupal\n                                                            if (nuevo.isBatchUpdateFinal && id === 'BATCH_UPDATE_GROUP_FINAL') {\n                                                                const { elementos, dragInicial, deltaX, deltaY } = nuevo;\n                                                                setObjetos((prev)=>{\n                                                                    return prev.map((objeto)=>{\n                                                                        if (elementos.includes(objeto.id)) {\n                                                                            if (dragInicial && dragInicial[objeto.id]) {\n                                                                                const posInicial = dragInicial[objeto.id];\n                                                                                return {\n                                                                                    ...objeto,\n                                                                                    x: posInicial.x + deltaX,\n                                                                                    y: posInicial.y + deltaY\n                                                                                };\n                                                                            }\n                                                                        }\n                                                                        return objeto;\n                                                                    });\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? NO procesar si viene del Transform\n                                                            if (nuevo.fromTransform) {\n                                                                return;\n                                                            }\n                                                            const objOriginal = objetos.find((o)=>o.id === id);\n                                                            if (!objOriginal) return;\n                                                            // ?? Para drag final, procesar inmediatamente\n                                                            if (nuevo.finalizoDrag) {\n                                                                const { nuevaSeccion, coordenadasAjustadas } = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.determinarNuevaSeccion)(nuevo.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                let coordenadasFinales = {\n                                                                    ...nuevo\n                                                                };\n                                                                delete coordenadasFinales.finalizoDrag;\n                                                                if (nuevaSeccion) {\n                                                                    coordenadasFinales = {\n                                                                        ...coordenadasFinales,\n                                                                        ...coordenadasAjustadas,\n                                                                        seccionId: nuevaSeccion\n                                                                    };\n                                                                } else {\n                                                                    coordenadasFinales.y = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(nuevo.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                }\n                                                                // 1) Determinar sección final\n                                                                const seccionFinalId = coordenadasFinales.seccionId || objOriginal.seccionId;\n                                                                // 2) Obtener yRelPx (y relativa dentro de la sección en px)\n                                                                let yRelPx;\n                                                                if (nuevaSeccion) {\n                                                                    // coordenadasAjustadas normalmente ya trae y relativa\n                                                                    yRelPx = Number.isFinite(coordenadasFinales.y) ? coordenadasFinales.y : 0;\n                                                                } else {\n                                                                    // si no cambió de sección, convertimos desde y absoluta\n                                                                    yRelPx = Number.isFinite(coordenadasFinales.y) ? coordenadasFinales.y : 0;\n                                                                }\n                                                                // 3) Aplicar política pantalla: guardar yNorm\n                                                                if (esSeccionPantallaById(seccionFinalId)) {\n                                                                    const yNorm = Math.max(0, Math.min(1, yRelPx / ALTURA_PANTALLA_EDITOR));\n                                                                    coordenadasFinales.yNorm = yNorm;\n                                                                    delete coordenadasFinales.y; // ? clave: evitamos mezclar sistemas\n                                                                } else {\n                                                                    // fijo: guardar y en px\n                                                                    coordenadasFinales.y = yRelPx;\n                                                                    delete coordenadasFinales.yNorm;\n                                                                }\n                                                                // Actualizar inmediatamente\n                                                                setObjetos((prev)=>{\n                                                                    const index = prev.findIndex((o)=>o.id === id);\n                                                                    if (index === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[index] = {\n                                                                        ...updated[index],\n                                                                        ...coordenadasFinales\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? Para otros cambios (transform, etc.)\n                                                            const hayDiferencias = Object.keys(nuevo).some((key)=>{\n                                                                const valorAnterior = objOriginal[key];\n                                                                const valorNuevo = nuevo[key];\n                                                                if (typeof valorAnterior === 'number' && typeof valorNuevo === 'number') {\n                                                                    return Math.abs(valorAnterior - valorNuevo) > 0.01;\n                                                                }\n                                                                return valorAnterior !== valorNuevo;\n                                                            });\n                                                            if (!hayDiferencias) return;\n                                                            const seccionId = nuevo.seccionId || objOriginal.seccionId;\n                                                            const seccion = seccionesOrdenadas.find((s)=>s.id === seccionId);\n                                                            if (!seccion) return;\n                                                            setObjetos((prev)=>{\n                                                                const index = prev.findIndex((o)=>o.id === id);\n                                                                if (index === -1) return prev;\n                                                                const updated = [\n                                                                    ...prev\n                                                                ];\n                                                                updated[index] = {\n                                                                    ...updated[index],\n                                                                    ...nuevo\n                                                                };\n                                                                return updated;\n                                                            });\n                                                        },\n                                                        onDragStartPersonalizado: isInEditMode ? null : function() {\n                                                            let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id, e = arguments.length > 1 ? arguments[1] : void 0;\n                                                            const seleccionActual = Array.isArray(window._elementosSeleccionados) ? window._elementosSeleccionados : elementosSeleccionados;\n                                                            if (!seleccionActual.includes(dragId)) {\n                                                                setElementosSeleccionados([\n                                                                    dragId\n                                                                ]);\n                                                            }\n                                                            (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                                                setHoverId(null);\n                                                                setElementosPreSeleccionados([]);\n                                                                setIsDragging(true);\n                                                            });\n                                                        },\n                                                        onDragEndPersonalizado: isInEditMode ? null : ()=>{\n                                                            setIsDragging(false);\n                                                            configurarDragEnd([]);\n                                                        },\n                                                        onDragMovePersonalizado: isInEditMode ? null : (pos, elementId)=>{\n                                                            // ?? NO mostrar guías durante drag grupal\n                                                            if (!window._grupoLider) {\n                                                                mostrarGuias(pos, elementId, objetos, elementRefs);\n                                                            }\n                                                            if (elementosSeleccionados.includes(elementId)) {\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === 'function') {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            }\n                                                        },\n                                                        dragStartPos: dragStartPos,\n                                                        hasDragged: hasDragged\n                                                    }, obj.id, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3190,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                }),\n                                                seleccionActiva && areaSeleccion && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                    name: \"ui\",\n                                                    x: areaSeleccion.x,\n                                                    y: areaSeleccion.y,\n                                                    width: areaSeleccion.width,\n                                                    height: areaSeleccion.height,\n                                                    fill: \"rgba(119, 61, 190, 0.1)\" // violeta claro\n                                                    ,\n                                                    stroke: \"#773dbe\",\n                                                    strokeWidth: 1,\n                                                    dash: [\n                                                        4,\n                                                        4\n                                                    ]\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3460,\n                                                    columnNumber: 21\n                                                }, this),\n                                                elementosSeleccionados.length > 0 && (()=>{\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SelectionBounds__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                        selectedElements: elementosSeleccionados,\n                                                        elementRefs: elementRefs,\n                                                        objetos: objetos,\n                                                        isDragging: isDragging,\n                                                        onTransform: (newAttrs)=>{\n                                                            if (elementosSeleccionados.length === 1) {\n                                                                const id = elementosSeleccionados[0];\n                                                                const objIndex = objetos.findIndex((o)=>o.id === id);\n                                                                if (objIndex !== -1) {\n                                                                    if (newAttrs.isPreview) {\n                                                                        // Preview: actualización sin historial\n                                                                        setObjetos((prev)=>{\n                                                                            const nuevos = [\n                                                                                ...prev\n                                                                            ];\n                                                                            const elemento = nuevos[objIndex];\n                                                                            // Countdown: durante preview dejamos que Konva escale el nodo\n                                                                            // sin tocar estado React para evitar desincronización con Transformer.\n                                                                            if (elemento.tipo === \"countdown\" || elemento.tipo === \"forma\" && (elemento.figura === \"circle\" || elemento.figura === \"triangle\")) {\n                                                                                return prev;\n                                                                            }\n                                                                            if (elemento.tipo === \"texto\" && Number.isFinite(newAttrs.fontSize)) {\n                                                                                // Para texto dejamos que Konva haga el preview de escala en vivo.\n                                                                                // Actualizar estado React en cada frame genera micro-jitter visual.\n                                                                                return prev;\n                                                                            }\n                                                                            const updatedElement = {\n                                                                                ...elemento,\n                                                                                rotation: newAttrs.rotation || elemento.rotation || 0\n                                                                            };\n                                                                            if (elemento.tipo === \"galeria\") {\n                                                                                const galleryMetrics = normalizarMedidasGaleria(elemento, newAttrs.width, newAttrs.x);\n                                                                                updatedElement.width = galleryMetrics.width;\n                                                                                updatedElement.height = galleryMetrics.height;\n                                                                                updatedElement.widthPct = galleryMetrics.widthPct;\n                                                                                updatedElement.x = galleryMetrics.x;\n                                                                                updatedElement.rotation = elemento.rotation || 0;\n                                                                                updatedElement.scaleX = 1;\n                                                                                updatedElement.scaleY = 1;\n                                                                            } else {\n                                                                                if (newAttrs.width !== undefined) updatedElement.width = newAttrs.width;\n                                                                                if (newAttrs.height !== undefined) updatedElement.height = newAttrs.height;\n                                                                                if (newAttrs.radius !== undefined) updatedElement.radius = newAttrs.radius;\n                                                                                updatedElement.scaleX = 1;\n                                                                                updatedElement.scaleY = 1;\n                                                                            }\n                                                                            nuevos[objIndex] = updatedElement;\n                                                                            return nuevos;\n                                                                        });\n                                                                        // ?? ACTUALIZAR POSICIÓN DEL BOTÓN DURANTE TRANSFORM\n                                                                        requestAnimationFrame(()=>{\n                                                                            if (typeof actualizarPosicionBotonOpciones === 'function') {\n                                                                                actualizarPosicionBotonOpciones();\n                                                                            }\n                                                                        });\n                                                                    } else if (newAttrs.isFinal) {\n                                                                        // Final: actualización completa\n                                                                        window._resizeData = {\n                                                                            isResizing: false\n                                                                        };\n                                                                        const { isPreview, isFinal, ...cleanAttrs } = newAttrs;\n                                                                        // ?? CONVERTIR coordenadas absolutas a relativas ANTES de guardar\n                                                                        const objOriginal = objetos[objIndex];\n                                                                        let finalAttrs = {\n                                                                            ...cleanAttrs,\n                                                                            y: (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(cleanAttrs.y, objOriginal.seccionId, seccionesOrdenadas),\n                                                                            fromTransform: true\n                                                                        };\n                                                                        // ? COUNTDOWN: conservar escala final del drag (sin reconversión a chipWidth)\n                                                                        // para que el tamaño final coincida exactamente con lo soltado.\n                                                                        if (objOriginal.tipo === \"texto\" && Number.isFinite(cleanAttrs.fontSize)) {\n                                                                            const requestedFontSize = Math.max(6, Number(cleanAttrs.fontSize) || 6);\n                                                                            const shouldMatchVisualWidth = objOriginal.__autoWidth !== false && !Number.isFinite(objOriginal.width);\n                                                                            const nextFontSize = shouldMatchVisualWidth ? ajustarFontSizeAAnchoVisual(objOriginal, requestedFontSize, cleanAttrs.textVisualWidth) : requestedFontSize;\n                                                                            const centeredX = calcularXTextoDesdeCentro(objOriginal, nextFontSize, cleanAttrs.textCenterX);\n                                                                            var _objOriginal_id, _cleanAttrs_fontSize, _cleanAttrs_textVisualWidth, _cleanAttrs_textCenterX, _objOriginal_x, _objOriginal_y;\n                                                                            textResizeDebug(\"transform-final:text\", {\n                                                                                id: (_objOriginal_id = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id !== void 0 ? _objOriginal_id : null,\n                                                                                requestedFontSize,\n                                                                                nextFontSize,\n                                                                                shouldMatchVisualWidth,\n                                                                                cleanFontSize: (_cleanAttrs_fontSize = cleanAttrs.fontSize) !== null && _cleanAttrs_fontSize !== void 0 ? _cleanAttrs_fontSize : null,\n                                                                                textVisualWidth: (_cleanAttrs_textVisualWidth = cleanAttrs.textVisualWidth) !== null && _cleanAttrs_textVisualWidth !== void 0 ? _cleanAttrs_textVisualWidth : null,\n                                                                                textCenterX: (_cleanAttrs_textCenterX = cleanAttrs.textCenterX) !== null && _cleanAttrs_textCenterX !== void 0 ? _cleanAttrs_textCenterX : null,\n                                                                                centeredX,\n                                                                                originalX: (_objOriginal_x = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.x) !== null && _objOriginal_x !== void 0 ? _objOriginal_x : null,\n                                                                                originalY: (_objOriginal_y = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.y) !== null && _objOriginal_y !== void 0 ? _objOriginal_y : null\n                                                                            });\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                fontSize: nextFontSize,\n                                                                                x: Number.isFinite(centeredX) ? centeredX : Number.isFinite(objOriginal.x) ? objOriginal.x : 0,\n                                                                                y: Number.isFinite(objOriginal.y) ? objOriginal.y : 0,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.textCenterX;\n                                                                            delete finalAttrs.textVisualWidth;\n                                                                            var _objOriginal_id1, _finalAttrs_fontSize, _finalAttrs_x, _finalAttrs_y;\n                                                                            textResizeDebug(\"transform-final:text-attrs\", {\n                                                                                id: (_objOriginal_id1 = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id1 !== void 0 ? _objOriginal_id1 : null,\n                                                                                finalFontSize: (_finalAttrs_fontSize = finalAttrs.fontSize) !== null && _finalAttrs_fontSize !== void 0 ? _finalAttrs_fontSize : null,\n                                                                                finalX: (_finalAttrs_x = finalAttrs.x) !== null && _finalAttrs_x !== void 0 ? _finalAttrs_x : null,\n                                                                                finalY: (_finalAttrs_y = finalAttrs.y) !== null && _finalAttrs_y !== void 0 ? _finalAttrs_y : null\n                                                                            });\n                                                                        } else if (objOriginal.tipo === \"countdown\") {\n                                                                            var _objOriginal_scaleX, _objOriginal_scaleY;\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                scaleX: Number.isFinite(cleanAttrs.scaleX) ? cleanAttrs.scaleX : (_objOriginal_scaleX = objOriginal.scaleX) !== null && _objOriginal_scaleX !== void 0 ? _objOriginal_scaleX : 1,\n                                                                                scaleY: Number.isFinite(cleanAttrs.scaleY) ? cleanAttrs.scaleY : (_objOriginal_scaleY = objOriginal.scaleY) !== null && _objOriginal_scaleY !== void 0 ? _objOriginal_scaleY : 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"forma\" && objOriginal.figura === \"circle\") {\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: Number.isFinite(cleanAttrs.x) ? cleanAttrs.x : objOriginal.x || 0,\n                                                                                radius: Number.isFinite(cleanAttrs.radius) ? cleanAttrs.radius : objOriginal.radius || 50,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"forma\" && objOriginal.figura === \"triangle\") {\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: Number.isFinite(cleanAttrs.x) ? cleanAttrs.x : objOriginal.x || 0,\n                                                                                radius: Number.isFinite(cleanAttrs.radius) ? cleanAttrs.radius : objOriginal.radius || 60,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"galeria\") {\n                                                                            const galleryMetrics = normalizarMedidasGaleria(objOriginal, cleanAttrs.width, cleanAttrs.x);\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: galleryMetrics.x,\n                                                                                width: galleryMetrics.width,\n                                                                                height: galleryMetrics.height,\n                                                                                widthPct: galleryMetrics.widthPct,\n                                                                                rotation: objOriginal.rotation || 0,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                        }\n                                                                        // ? offsetY solo para debug (evita ReferenceError)\n                                                                        let offsetY = 0;\n                                                                        try {\n                                                                            const idx = seccionesOrdenadas.findIndex((s)=>s.id === objOriginal.seccionId);\n                                                                            const safe = idx >= 0 ? idx : 0;\n                                                                            // Nota: en tu código lo llamás a veces con 2 params, a veces con 3.\n                                                                            // Acá usamos 3, consistente con otras partes del archivo.\n                                                                            offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, safe, altoCanvas) || 0;\n                                                                        } catch (e) {\n                                                                            offsetY = 0;\n                                                                        }\n                                                                        if (objOriginal.tipo === \"countdown\" || objOriginal.tipo === \"texto\") {\n                                                                            if (objOriginal.tipo === \"texto\") {\n                                                                                var _objOriginal_id2, _finalAttrs_fontSize1, _finalAttrs_x1, _finalAttrs_y1, _objOriginal_seccionId;\n                                                                                const commitSnapshot = {\n                                                                                    id: (_objOriginal_id2 = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id2 !== void 0 ? _objOriginal_id2 : null,\n                                                                                    finalFontSize: (_finalAttrs_fontSize1 = finalAttrs.fontSize) !== null && _finalAttrs_fontSize1 !== void 0 ? _finalAttrs_fontSize1 : null,\n                                                                                    finalX: (_finalAttrs_x1 = finalAttrs.x) !== null && _finalAttrs_x1 !== void 0 ? _finalAttrs_x1 : null,\n                                                                                    finalY: (_finalAttrs_y1 = finalAttrs.y) !== null && _finalAttrs_y1 !== void 0 ? _finalAttrs_y1 : null,\n                                                                                    seccionId: (_objOriginal_seccionId = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.seccionId) !== null && _objOriginal_seccionId !== void 0 ? _objOriginal_seccionId : null\n                                                                                };\n                                                                                textResizeDebug(\"transform-final:commit\", {\n                                                                                    ...commitSnapshot\n                                                                                });\n                                                                                if (isTextResizeDebugEnabled()) {\n                                                                                    requestAnimationFrame(()=>{\n                                                                                        requestAnimationFrame(()=>{\n                                                                                            var _elementRefs_current;\n                                                                                            const nodeAfterCommit = (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[commitSnapshot.id];\n                                                                                            if (!nodeAfterCommit) {\n                                                                                                textResizeDebug(\"transform-final:post-render:no-node\", {\n                                                                                                    id: commitSnapshot.id\n                                                                                                });\n                                                                                                return;\n                                                                                            }\n                                                                                            try {\n                                                                                                const rectAfterCommit = nodeAfterCommit.getClientRect({\n                                                                                                    skipTransform: false,\n                                                                                                    skipShadow: true,\n                                                                                                    skipStroke: true\n                                                                                                });\n                                                                                                textResizeDebug(\"transform-final:post-render\", {\n                                                                                                    ...commitSnapshot,\n                                                                                                    nodeX: typeof nodeAfterCommit.x === \"function\" ? nodeAfterCommit.x() : null,\n                                                                                                    nodeY: typeof nodeAfterCommit.y === \"function\" ? nodeAfterCommit.y() : null,\n                                                                                                    nodeScaleX: typeof nodeAfterCommit.scaleX === \"function\" ? nodeAfterCommit.scaleX() : null,\n                                                                                                    nodeScaleY: typeof nodeAfterCommit.scaleY === \"function\" ? nodeAfterCommit.scaleY() : null,\n                                                                                                    nodeFontSize: typeof nodeAfterCommit.fontSize === \"function\" ? nodeAfterCommit.fontSize() : null,\n                                                                                                    nodeRectWidth: Number.isFinite(rectAfterCommit === null || rectAfterCommit === void 0 ? void 0 : rectAfterCommit.width) ? rectAfterCommit.width : null,\n                                                                                                    nodeRectHeight: Number.isFinite(rectAfterCommit === null || rectAfterCommit === void 0 ? void 0 : rectAfterCommit.height) ? rectAfterCommit.height : null\n                                                                                                });\n                                                                                            } catch (err) {\n                                                                                                textResizeDebug(\"transform-final:post-render:error\", {\n                                                                                                    id: commitSnapshot.id,\n                                                                                                    message: (err === null || err === void 0 ? void 0 : err.message) || String(err)\n                                                                                                });\n                                                                                            }\n                                                                                        });\n                                                                                    });\n                                                                                }\n                                                                            }\n                                                                            actualizarObjeto(objIndex, finalAttrs);\n                                                                        } else {\n                                                                            requestAnimationFrame(()=>{\n                                                                                actualizarObjeto(objIndex, finalAttrs);\n                                                                            });\n                                                                        }\n                                                                    }\n                                                                }\n                                                            }\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3476,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                })(),\n                                                !((_window__resizeData = window._resizeData) === null || _window__resizeData === void 0 ? void 0 : _window__resizeData.isResizing) && !isDragging && !window._isDragging && !window._grupoLider && !editing.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HoverIndicator__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    hoveredElement: hoverId,\n                                                    elementRefs: elementRefs,\n                                                    objetos: objetos\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3754,\n                                                    columnNumber: 21\n                                                }, this),\n                                                elementosSeleccionados.length === 1 && (()=>{\n                                                    const elementoSeleccionado = objetos.find((obj)=>obj.id === elementosSeleccionados[0]);\n                                                    if ((elementoSeleccionado === null || elementoSeleccionado === void 0 ? void 0 : elementoSeleccionado.tipo) === 'forma' && (elementoSeleccionado === null || elementoSeleccionado === void 0 ? void 0 : elementoSeleccionado.figura) === 'line') {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LineControls__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                            name: \"ui\",\n                                                            lineElement: elementoSeleccionado,\n                                                            elementRefs: elementRefs,\n                                                            onUpdateLine: actualizarLinea,\n                                                            altoCanvas: altoCanvasDinamico,\n                                                            isMobile: isMobile,\n                                                            // ?? NUEVA PROP: Pasar información sobre drag grupal\n                                                            isDragGrupalActive: window._grupoLider !== null,\n                                                            elementosSeleccionados: elementosSeleccionados\n                                                        }, \"line-controls-\".concat(elementoSeleccionado.id, \"-\").concat(JSON.stringify(elementoSeleccionado.points)), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3764,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    return null;\n                                                })(),\n                                                guiaLineas.map((linea, i)=>{\n                                                    // Determinar el estilo visual según el tipo\n                                                    const esLineaSeccion = linea.priority === 'seccion';\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Line, {\n                                                        name: \"ui\",\n                                                        points: linea.points,\n                                                        stroke: esLineaSeccion ? \"#773dbe\" : \"#9333ea\",\n                                                        strokeWidth: esLineaSeccion ? 2 : 1,\n                                                        dash: linea.style === 'dashed' ? [\n                                                            8,\n                                                            6\n                                                        ] : undefined,\n                                                        opacity: esLineaSeccion ? 0.9 : 0.7,\n                                                        listening: false,\n                                                        perfectDrawEnabled: false,\n                                                        // Efecto sutil de resplandor para líneas de sección\n                                                        shadowColor: esLineaSeccion ? \"rgba(119, 61, 190, 0.3)\" : undefined,\n                                                        shadowBlur: esLineaSeccion ? 4 : 0,\n                                                        shadowEnabled: esLineaSeccion\n                                                    }, \"\".concat(linea.type, \"-\").concat(i), false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3791,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2774,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                            children: (()=>{\n                                                if (!seccionActivaId) return null;\n                                                const index = seccionesOrdenadas.findIndex((s)=>s.id === seccionActivaId);\n                                                if (index === -1) return null;\n                                                const seccion = seccionesOrdenadas[index];\n                                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                    x: 0,\n                                                    y: offsetY,\n                                                    width: 800,\n                                                    height: seccion.altura,\n                                                    fill: \"transparent\",\n                                                    stroke: \"#773dbe\",\n                                                    strokeWidth: estaAnimando ? 4 : 3,\n                                                    cornerRadius: 0,\n                                                    shadowColor: estaAnimando ? \"rgba(119, 61, 190, 0.4)\" : \"rgba(119, 61, 190, 0.25)\",\n                                                    shadowBlur: estaAnimando ? 16 : 12,\n                                                    shadowOffset: {\n                                                        x: 0,\n                                                        y: estaAnimando ? 4 : 3\n                                                    },\n                                                    listening: false\n                                                }, \"overlay-border-seccion-\".concat(seccion.id), false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3825,\n                                                    columnNumber: 23\n                                                }, this);\n                                            })()\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 3813,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 2745,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                lineNumber: 2737,\n                                columnNumber: 13\n                            }, this),\n                            editing.id && elementRefs.current[editing.id] && (()=>{\n                                const objetoEnEdicion = objetos.find((o)=>o.id === editing.id);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_InlineTextEditor__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    editingId: editing.id,\n                                    node: elementRefs.current[editing.id],\n                                    value: editing.value,\n                                    textAlign: (objetoEnEdicion === null || objetoEnEdicion === void 0 ? void 0 : objetoEnEdicion.align) || 'left',\n                                    onOverlayMountChange: handleInlineOverlayMountChange,\n                                    onChange: (nextValue)=>{\n                                        const nextText = String(nextValue !== null && nextValue !== void 0 ? nextValue : \"\");\n                                        const prevStats = getInlineLineStats(editing.value);\n                                        const nextStats = getInlineLineStats(nextText);\n                                        if (prevStats.lineCount !== nextStats.lineCount || prevStats.trailingNewlines !== nextStats.trailingNewlines) {\n                                            inlineDebugLog(\"linebreak-model-sync\", {\n                                                id: editing.id || window._currentEditingId || null,\n                                                prevLength: prevStats.length,\n                                                nextLength: nextStats.length,\n                                                prevLineCount: prevStats.lineCount,\n                                                nextLineCount: nextStats.lineCount,\n                                                prevTrailingNewlines: prevStats.trailingNewlines,\n                                                nextTrailingNewlines: nextStats.trailingNewlines\n                                            });\n                                        }\n                                        captureInlineSnapshot(\"input: before-render\", {\n                                            id: editing.id || window._currentEditingId || null,\n                                            valueLength: nextText.length\n                                        });\n                                        updateEdit(nextValue);\n                                    },\n                                    onDebugEvent: function(eventName) {\n                                        let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n                                        captureInlineSnapshot(eventName, {\n                                            id: (payload === null || payload === void 0 ? void 0 : payload.id) || editing.id || null,\n                                            ...payload\n                                        });\n                                    },\n                                    onFinish: ()=>{\n                                        var _stageRef_current_getStage, _stageRef_current;\n                                        const finishId = editing.id;\n                                        var _editing_value;\n                                        captureInlineSnapshot(\"finish: blur\", {\n                                            id: finishId,\n                                            valueLength: String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\").length\n                                        });\n                                        var _editing_value1;\n                                        const textoNuevoRaw = String((_editing_value1 = editing.value) !== null && _editing_value1 !== void 0 ? _editing_value1 : \"\");\n                                        const textoNuevoValidado = textoNuevoRaw.trim();\n                                        const index = objetos.findIndex((o)=>o.id === finishId);\n                                        const objeto = objetos[index];\n                                        const liveNodeAtFinish = elementRefs.current[finishId];\n                                        const liveMetricsAtFinish = obtenerMetricasNodoInline(liveNodeAtFinish);\n                                        var _objeto_x, _objeto_y;\n                                        inlineDebugLog(\"finish-start\", {\n                                            id: finishId,\n                                            rawLength: textoNuevoRaw.length,\n                                            trimmedLength: textoNuevoValidado.length,\n                                            objectX: (_objeto_x = objeto === null || objeto === void 0 ? void 0 : objeto.x) !== null && _objeto_x !== void 0 ? _objeto_x : null,\n                                            objectY: (_objeto_y = objeto === null || objeto === void 0 ? void 0 : objeto.y) !== null && _objeto_y !== void 0 ? _objeto_y : null,\n                                            previewRef: {\n                                                ...inlineEditPreviewRef.current\n                                            },\n                                            liveMetricsAtFinish\n                                        });\n                                        if (index === -1) {\n                                            console.warn(\"? El objeto ya no existe. Cancelando guardado.\");\n                                            inlineDebugLog(\"finish-abort-missing-object\", {\n                                                id: finishId\n                                            });\n                                            inlineCommitDebugRef.current = {\n                                                id: null\n                                            };\n                                            finishEdit();\n                                            return;\n                                        }\n                                        // ?? Podés permitir texto vacío en formas si querés (yo lo permitiría)\n                                        if (textoNuevoValidado === \"\" && objeto.tipo === \"texto\") {\n                                            console.warn(\"?? El texto está vacío. No se actualiza.\");\n                                            inlineDebugLog(\"finish-abort-empty\", {\n                                                id: finishId,\n                                                rawLength: textoNuevoRaw.length,\n                                                trimmedLength: textoNuevoValidado.length\n                                            });\n                                            inlineCommitDebugRef.current = {\n                                                id: null\n                                            };\n                                            inlineEditPreviewRef.current = {\n                                                id: null,\n                                                centerX: null\n                                            };\n                                            finishEdit();\n                                            return;\n                                        }\n                                        const actualizado = [\n                                            ...objetos\n                                        ];\n                                        const patch = {\n                                            texto: textoNuevoRaw\n                                        };\n                                        const shouldKeepCenterX = objeto.tipo === \"texto\" && !objeto.__groupAlign && !Number.isFinite(objeto.width) && objeto.__autoWidth !== false;\n                                        if (shouldKeepCenterX) {\n                                            const nextX = calcularXTextoCentrado(objeto, textoNuevoRaw);\n                                            const currentX = Number.isFinite(objeto.x) ? objeto.x : 0;\n                                            if (Number.isFinite(nextX) && Math.abs(nextX - currentX) > 0.01) {\n                                                patch.x = nextX;\n                                            }\n                                            var _patch_x;\n                                            inlineDebugLog(\"finish-center-computed\", {\n                                                id: finishId,\n                                                shouldKeepCenterX,\n                                                currentX,\n                                                nextX,\n                                                patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                            });\n                                        }\n                                        actualizado[index] = {\n                                            ...actualizado[index],\n                                            ...patch\n                                        };\n                                        const expectedX = Number.isFinite(patch.x) ? patch.x : Number.isFinite(objeto.x) ? objeto.x : null;\n                                        inlineCommitDebugRef.current = {\n                                            id: finishId,\n                                            expectedX,\n                                            objectXBeforeCommit: Number.isFinite(objeto.x) ? objeto.x : null,\n                                            liveNodeXAtFinish: Number.isFinite(liveMetricsAtFinish === null || liveMetricsAtFinish === void 0 ? void 0 : liveMetricsAtFinish.x) ? liveMetricsAtFinish.x : null,\n                                            previewCenterX: null,\n                                            textLength: textoNuevoRaw.length\n                                        };\n                                        inlineDebugLog(\"finish-apply-patch\", {\n                                            id: finishId,\n                                            patch,\n                                            expectedX\n                                        });\n                                        const logFinishVisibilityCheck = (phase)=>{\n                                            var _window_editing;\n                                            const safeId = String(finishId || \"\").replace(/\"/g, '\\\\\"');\n                                            const overlayDomPresent = safeId ? Boolean(document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'))) : false;\n                                            const liveNode = elementRefs.current[finishId];\n                                            var _window_editing_id, _window__currentEditingId;\n                                            inlineDebugLog(\"finish-visibility-check\", {\n                                                phase,\n                                                id: finishId,\n                                                reactiveEditingId: editing.id || null,\n                                                globalEditingId: (_window_editing_id = (_window_editing = window.editing) === null || _window_editing === void 0 ? void 0 : _window_editing.id) !== null && _window_editing_id !== void 0 ? _window_editing_id : null,\n                                                currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null,\n                                                overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                                                overlayDomPresent,\n                                                nodeOpacity: typeof (liveNode === null || liveNode === void 0 ? void 0 : liveNode.opacity) === \"function\" ? liveNode.opacity() : null,\n                                                nodeVisible: typeof (liveNode === null || liveNode === void 0 ? void 0 : liveNode.visible) === \"function\" ? liveNode.visible() : null,\n                                                nodeMetrics: obtenerMetricasNodoInline(liveNode)\n                                            });\n                                        };\n                                        logFinishVisibilityCheck(\"before-commit\");\n                                        var _patch_x1;\n                                        captureInlineSnapshot(\"finish: before-flush\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x1 = patch.x) !== null && _patch_x1 !== void 0 ? _patch_x1 : null\n                                        });\n                                        (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                            setObjetos(actualizado);\n                                        });\n                                        var _patch_x2;\n                                        captureInlineSnapshot(\"finish: after-flush\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x2 = patch.x) !== null && _patch_x2 !== void 0 ? _patch_x2 : null\n                                        });\n                                        logFinishVisibilityCheck(\"after-commit-before-finishEdit\");\n                                        inlineEditPreviewRef.current = {\n                                            id: null,\n                                            centerX: null\n                                        };\n                                        (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                            finishEdit();\n                                        });\n                                        const stageAfterFinishEdit = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n                                        if (typeof (stageAfterFinishEdit === null || stageAfterFinishEdit === void 0 ? void 0 : stageAfterFinishEdit.batchDraw) === \"function\") {\n                                            stageAfterFinishEdit.batchDraw();\n                                        }\n                                        logFinishVisibilityCheck(\"after-finishEdit-sync\");\n                                        if (window._currentEditingId === finishId) {\n                                            window._currentEditingId = null;\n                                        }\n                                        var _patch_x3;\n                                        captureInlineSnapshot(\"finish: after-finishEdit\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x3 = patch.x) !== null && _patch_x3 !== void 0 ? _patch_x3 : null\n                                        });\n                                        requestAnimationFrame(()=>{\n                                            logFinishVisibilityCheck(\"after-finishEdit-raf1\");\n                                            var _patch_x;\n                                            captureInlineSnapshot(\"finish: raf1\", {\n                                                id: finishId,\n                                                expectedX,\n                                                patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                            });\n                                            requestAnimationFrame(()=>{\n                                                var _patch_x;\n                                                captureInlineSnapshot(\"finish: raf2\", {\n                                                    id: finishId,\n                                                    expectedX,\n                                                    patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                                });\n                                            });\n                                        });\n                                    },\n                                    scaleVisual: escalaVisual,\n                                    finishMode: inlineDebugAB.finishMode,\n                                    widthMode: inlineDebugAB.overlayWidthMode\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 3853,\n                                    columnNumber: 17\n                                }, this);\n                            })(),\n                            !isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_DividersOverlayStage__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                zoom: zoom,\n                                altoCanvasDinamico: altoCanvasDinamico,\n                                seccionesOrdenadas: seccionesOrdenadas\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                lineNumber: 4069,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                        lineNumber: 2473,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                    lineNumber: 2464,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 2451,\n                columnNumber: 7\n            }, this),\n            elementosSeleccionados.length === 1 && !editing.id && (()=>{\n                const elementoSeleccionado = objetos.find((o)=>o.id === elementosSeleccionados[0]);\n                const nodeRef = elementRefs.current[elementosSeleccionados[0]];\n                if (!nodeRef || !elementoSeleccionado) return null;\n                const contenedor = contenedorRef.current;\n                const stage = stageRef.current;\n                if (!contenedor || !stage) return null;\n                // ?? OBTENER POSICIÓN REAL DEL ELEMENTO EN EL STAGE\n                let box = nodeRef.getClientRect();\n                if ((elementoSeleccionado === null || elementoSeleccionado === void 0 ? void 0 : elementoSeleccionado.tipo) === \"galeria\" && Number.isFinite(Number(elementoSeleccionado.width)) && Number.isFinite(Number(elementoSeleccionado.height))) {\n                    const absPos = typeof nodeRef.getAbsolutePosition === \"function\" ? nodeRef.getAbsolutePosition() : {\n                        x: typeof nodeRef.x === \"function\" ? nodeRef.x() : 0,\n                        y: typeof nodeRef.y === \"function\" ? nodeRef.y() : 0\n                    };\n                    box = {\n                        x: absPos.x,\n                        y: absPos.y,\n                        width: Number(elementoSeleccionado.width),\n                        height: Number(elementoSeleccionado.height)\n                    };\n                }\n                // ?? OBTENER COORDENADAS DEL STAGE RELATIVAS AL VIEWPORT\n                const stageContainer = stage.container();\n                const stageRect = stageContainer.getBoundingClientRect();\n                // ?? CALCULAR POSICIÓN EXACTA DEL ELEMENTO EN PANTALLA\n                const elementoEnPantallaX = stageRect.left + box.x * escalaActiva;\n                const elementoEnPantallaY = stageRect.top + box.y * escalaActiva;\n                const anchoElemento = box.width * escalaActiva;\n                // ?? POSICIÓN MUY CERCA: Esquina superior derecha pegada al elemento\n                const botonX = elementoEnPantallaX + anchoElemento - 8; // Solo -8px para que se superponga un poco\n                const botonY = elementoEnPantallaY - 8; // -8px arriba del elemento\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: botonOpcionesRef,\n                    className: \"fixed z-50 bg-white border-2 border-purple-500 rounded-full shadow-lg hover:shadow-xl transition-shadow duration-200\",\n                    style: {\n                        left: \"0px\",\n                        top: \"0px\",\n                        width: \"24px\",\n                        height: \"24px\",\n                        display: \"none\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        pointerEvents: \"auto\",\n                        transition: \"none\",\n                        backgroundColor: \"rgba(255, 255, 255, 0.95)\",\n                        backdropFilter: \"blur(4px)\",\n                        border: \"2px solid #773dbe\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: (e)=>{\n                            e.stopPropagation();\n                            setMostrarPanelZ((prev)=>!prev);\n                        },\n                        className: \"hover:bg-purple-50 w-full h-full rounded-full flex items-center justify-center transition-colors text-xs\",\n                        title: \"Opciones del elemento\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Settings, {\n                            className: \"w-3.5 h-3.5 text-purple-700\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                            lineNumber: 4161,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                        lineNumber: 4153,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                    lineNumber: 4135,\n                    columnNumber: 11\n                }, this);\n            })(),\n            mostrarPanelZ && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MenuOpcionesElemento__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                isOpen: mostrarPanelZ,\n                botonOpcionesRef: botonOpcionesRef,\n                elementoSeleccionado: objetos.find((o)=>o.id === elementosSeleccionados[0]),\n                onCopiar: onCopiar,\n                onPegar: onPegar,\n                onDuplicar: onDuplicar,\n                onEliminar: onEliminar,\n                moverElemento: moverElemento,\n                onCerrar: ()=>setMostrarPanelZ(false),\n                reemplazarFondo: _utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__.reemplazarFondoSeccion,\n                secciones: secciones,\n                objetos: objetos,\n                setSecciones: setSecciones,\n                setObjetos: setObjetos,\n                setElementosSeleccionados: setElementosSeleccionados\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4170,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_toolbar_FloatingTextToolbar__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                objetoSeleccionado: objetoSeleccionado,\n                setObjetos: setObjetos,\n                elementosSeleccionados: elementosSeleccionados,\n                mostrarSelectorFuente: mostrarSelectorFuente,\n                setMostrarSelectorFuente: setMostrarSelectorFuente,\n                mostrarSelectorTamano: mostrarSelectorTamano,\n                setMostrarSelectorTamano: setMostrarSelectorTamano,\n                ALL_FONTS: _config_fonts__WEBPACK_IMPORTED_MODULE_33__.ALL_FONTS,\n                fontManager: _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager,\n                tamaniosDisponibles: tamaniosDisponibles,\n                onCambiarAlineacion: onCambiarAlineacion\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4190,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_sections_ConfirmDeleteSectionModal__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                isOpen: deleteSectionModal.isOpen,\n                sectionName: seccionPendienteEliminar === null || seccionPendienteEliminar === void 0 ? void 0 : seccionPendienteEliminar.tipo,\n                itemCount: cantidadElementosSeccionPendiente,\n                isDeleting: isDeletingSection,\n                onCancel: cerrarModalBorrarSeccion,\n                onConfirm: confirmarBorrarSeccion\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4204,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n        lineNumber: 2432,\n        columnNumber: 5\n    }, this);\n}\n_s(CanvasEditor, \"Z6RibWDuefs5rVCPWQMiWYaEXyY=\", false, function() {\n    return [\n        _components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__[\"default\"],\n        _hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__.useImperativeObjects,\n        _hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n        _hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__.useAuthClaims,\n        _editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__[\"default\"],\n        _editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__[\"default\"],\n        _editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__[\"default\"],\n        _hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n        _components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__[\"default\"],\n        _hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n        _editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__[\"default\"],\n        _hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        _editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__[\"default\"],\n        _hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__[\"default\"],\n        _components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__[\"default\"],\n        _editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__[\"default\"]\n    ];\n});\n_c = CanvasEditor;\nvar _c;\n$RefreshReg$(_c, \"CanvasEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NhbnZhc0VkaXRvci5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4QkFBOEI7OztBQUM0QztBQUN0QjtBQUNzQztBQUM1QztBQUNKO0FBQ2lEO0FBQ2pDO0FBQ1U7QUFDQTtBQUNwQjtBQUNGO0FBQ047QUFDd0I7QUFDYjtBQUNHO0FBQ1o7QUFDZ0I7QUFDUjtBQUNSO0FBQ3dDO0FBQ0Q7QUFDQTtBQUNGO0FBQ21CO0FBQ2pDO0FBQ0w7QUFDWDtBQUNTO0FBQ0w7QUFDcUI7QUFDbEI7QUFDMEI7QUFDeEI7QUFDaEM7QUFDa0I7QUFDVTtBQVloQztBQUM2QztBQUNHO0FBQ3lCO0FBQ2pDO0FBQ1k7QUFDUDtBQUNnQjtBQUNVO0FBQzdCO0FBQzJCO0FBQ2pCO0FBQ0U7QUFJNUVvRCw0REFBa0IsR0FBRztBQUVyQixTQUFTMEI7SUFDUCxJQUFJLEtBQTZCLEVBQUUsRUFBUztJQUU1QyxNQUFNQyxNQUFNQyxPQUFPQyxPQUFPQyxnQkFBZ0IsSUFBSTtJQUM5QyxNQUFNQyxnQkFDSixPQUFPRixPQUFPRyxVQUFVLEtBQUssY0FDN0JILE9BQU9HLFVBQVUsQ0FBQyxxQkFBcUJDLE9BQU87SUFDaEQsTUFBTUMsVUFBVUMsS0FBS0MsR0FBRyxDQUFDUixPQUFPQyxPQUFPUSxVQUFVLElBQUksSUFBSVQsT0FBT0MsT0FBT1MsV0FBVyxJQUFJO0lBQ3RGLE1BQU1DLGFBQWFSLGlCQUFrQkcsVUFBVSxLQUFLQSxXQUFXO0lBRS9ELElBQUlLLFlBQVksT0FBTztJQUN2QixPQUFPSixLQUFLQyxHQUFHLENBQUNULEtBQUs7QUFDdkI7QUFFQTNCLDBEQUFnQixHQUFHMEI7QUFFbkIsTUFBTWUsNkJBQTZCO0FBQ25DLE1BQU1DLHlCQUF5QjtBQUUvQixTQUFTQyxtQkFBbUJDLElBQUk7SUFDOUIsTUFBTUMsSUFBSUMsT0FB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QWdCQTs7O0tBaG9FaEJzRyIsInNvdXJjZXMiOlsiQzpcXFJlc2VydmFlbGRpYVxcc3JjXFxjb21wb25lbnRzXFxDYW52YXNFZGl0b3IuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbXBvbmVudHMvQ2FudmFzRWRpdG9yLmpzeFxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwsIGZsdXNoU3luYyB9IGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IFN0YWdlLCBMaW5lLCBSZWN0LCBUZXh0LCBJbWFnZSBhcyBLb252YUltYWdlLCBHcm91cCwgQ2lyY2xlIH0gZnJvbSBcInJlYWN0LWtvbnZhXCI7XG5pbXBvcnQgRWxlbWVudG9DYW52YXMgZnJvbSBcIi4vRWxlbWVudG9DYW52YXNcIjtcbmltcG9ydCBMaW5lQ29udHJvbHMgZnJvbSBcIi4vTGluZUNvbnRyb2xzXCI7XG5pbXBvcnQgeyBjYWxjdWxhck9mZnNldFksIGNvbnZlcnRpckFic0FSZWwsIGRldGVybWluYXJOdWV2YVNlY2Npb24gfSBmcm9tIFwiQC91dGlscy9sYXlvdXRcIjtcbmltcG9ydCB7IGNyZWFyU2VjY2lvbiB9IGZyb20gXCJAL21vZGVscy9lc3RydWN0dXJhSW5pY2lhbFwiO1xuaW1wb3J0IHVzZVBsYW50aWxsYXNEZVNlY2Npb24gZnJvbSBcIkAvaG9va3MvdXNlUGxhbnRpbGxhc0RlU2VjY2lvblwiO1xuaW1wb3J0IHsgdXNlSW1wZXJhdGl2ZU9iamVjdHMgfSBmcm9tICdAL2hvb2tzL3VzZUltcGVyYXRpdmVPYmplY3RzJztcbmltcG9ydCBTZWxlY3Rpb25Cb3VuZHMgZnJvbSAnLi9TZWxlY3Rpb25Cb3VuZHMnO1xuaW1wb3J0IEhvdmVySW5kaWNhdG9yIGZyb20gJy4vSG92ZXJJbmRpY2F0b3InO1xuaW1wb3J0IExpbmVUb29sYmFyIGZyb20gXCIuL0xpbmVUb29sYmFyXCI7XG5pbXBvcnQgdXNlS2V5Ym9hcmRTaG9ydGN1dHMgZnJvbSAnQC9ob29rcy91c2VLZXlib2FyZFNob3J0Y3V0cyc7XG5pbXBvcnQgeyBmb250TWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL2ZvbnRNYW5hZ2VyJztcbmltcG9ydCB1c2VJbmxpbmVFZGl0b3IgZnJvbSBcIkAvaG9va3MvdXNlSW5saW5lRWRpdG9yXCI7XHJcbmltcG9ydCBTaGFwZVRvb2xiYXIgZnJvbSAnLi9TaGFwZVRvb2xiYXInO1xyXG5pbXBvcnQgdXNlRWRpdG9ySGFuZGxlcnMgZnJvbSAnQC9ob29rcy91c2VFZGl0b3JIYW5kbGVycyc7XHJcbmltcG9ydCBJbmxpbmVUZXh0RWRpdG9yIGZyb20gXCIuL0lubGluZVRleHRFZGl0b3JcIjtcclxuaW1wb3J0IEZvbnRTZWxlY3RvciBmcm9tICcuL0ZvbnRTZWxlY3Rvcic7XHJcbmltcG9ydCB7IHJlZW1wbGF6YXJGb25kb1NlY2Npb24gYXMgcmVlbXBsYXphckZvbmRvIH0gZnJvbSBcIkAvdXRpbHMvYWNjaW9uZXNGb25kb1wiO1xyXG5pbXBvcnQgeyBkZXNhbmNsYXJJbWFnZW5EZUZvbmRvIGFzIGRlc2FuY2xhckZvbmRvIH0gZnJvbSBcIkAvdXRpbHMvYWNjaW9uZXNGb25kb1wiO1xyXG5pbXBvcnQgeyBib3JyYXJTZWNjaW9uIGFzIGJvcnJhclNlY2Npb25FeHRlcm5hbCB9IGZyb20gXCJAL3V0aWxzL2VkaXRvclNlY2Npb25lc1wiO1xyXG5pbXBvcnQgeyBtb3ZlclNlY2Npb24gYXMgbW92ZXJTZWNjaW9uRXh0ZXJuYWwgfSBmcm9tIFwiQC91dGlscy9lZGl0b3JTZWNjaW9uZXNcIjtcclxuaW1wb3J0IHsgdmFsaWRhclB1bnRvc0xpbmVhLCBkZXRlY3RhckludGVyc2VjY2lvbkxpbmVhIH0gZnJvbSBcIi4vZWRpdG9yL3NlbGVjdGlvbi9zZWxlY3Rpb25VdGlsc1wiO1xyXG5pbXBvcnQgeyBndWFyZGFyU2VjY2lvbkNvbW9QbGFudGlsbGEgfSBmcm9tIFwiQC91dGlscy9wbGFudGlsbGFzXCI7XHJcbmltcG9ydCBHYWxlcmlhS29udmEgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3IvR2FsZXJpYUtvbnZhXCI7XHJcbmltcG9ydCBGb25kb1NlY2Npb24gZnJvbSAnLi9lZGl0b3IvRm9uZG9TZWNjaW9uJztcclxuaW1wb3J0IE1lbnVPcGNpb25lc0VsZW1lbnRvIGZyb20gXCIuL01lbnVPcGNpb25lc0VsZW1lbnRvXCI7XHJcbmltcG9ydCB7IGNhbGNHYWxsZXJ5TGF5b3V0IH0gZnJvbSBcIkAvdXRpbHMvY2FsY0dyaWRcIjtcclxuaW1wb3J0IENvdW50ZG93bktvbnZhIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL2NvdW50ZG93bi9Db3VudGRvd25Lb252YVwiO1xyXG5pbXBvcnQgdXNlR3VpYXNDZW50cmFkbyBmcm9tICdAL2hvb2tzL3VzZUd1aWFzQ2VudHJhZG8nO1xyXG5pbXBvcnQgRmxvYXRpbmdUZXh0VG9vbGJhciBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci90b29sYmFyL0Zsb2F0aW5nVGV4dFRvb2xiYXJcIjtcclxuaW1wb3J0IFNlbGVjdG9yQ29sb3JTZWNjaW9uIGZyb20gXCIuL1NlbGVjdG9yQ29sb3JTZWNjaW9uXCI7XHJcbmltcG9ydCBLb252YSBmcm9tIFwia29udmFcIjtcclxuaW1wb3J0IHsgQUxMX0ZPTlRTIH0gZnJvbSAnLi4vY29uZmlnL2ZvbnRzJztcbmltcG9ydCB7IHVzZUF1dGhDbGFpbXMgfSBmcm9tIFwiQC9ob29rcy91c2VBdXRoQ2xhaW1zXCI7XG5pbXBvcnQge1xuICBUcmFzaDIsXG4gIExheWVycyxcbiAgTW92ZVVwLFxuICBNb3ZlRG93bixcbiAgUGx1c0NpcmNsZSxcbiAgU2V0dGluZ3MsXG4gIFVubGluazIsXG4gIE1vbml0b3IsXG4gIENoZXZyb25Eb3duLFxuICBDaGV2cm9uVXAsXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB1c2VCb3JyYWRvclN5bmMgZnJvbSBcIi4vZWRpdG9yL3BlcnNpc3RlbmNlL3VzZUJvcnJhZG9yU3luY1wiO1xyXG5pbXBvcnQgdXNlU2VjdGlvbnNNYW5hZ2VyIGZyb20gXCIuL2VkaXRvci9zZWN0aW9ucy91c2VTZWN0aW9uc01hbmFnZXJcIjtcclxuaW1wb3J0IENvbmZpcm1EZWxldGVTZWN0aW9uTW9kYWwgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3Ivc2VjdGlvbnMvQ29uZmlybURlbGV0ZVNlY3Rpb25Nb2RhbFwiO1xyXG5pbXBvcnQgdXNlRWRpdG9yRXZlbnRzIGZyb20gXCIuL2VkaXRvci9ldmVudHMvdXNlRWRpdG9yRXZlbnRzXCI7XG5pbXBvcnQgdXNlRWRpdG9yV2luZG93QnJpZGdlIGZyb20gXCIuL2VkaXRvci93aW5kb3cvdXNlRWRpdG9yV2luZG93QnJpZGdlXCI7XG5pbXBvcnQgdXNlSGlzdG9yeU1hbmFnZXIgZnJvbSBcIi4vZWRpdG9yL2hpc3RvcnkvdXNlSGlzdG9yeU1hbmFnZXJcIjtcbmltcG9ydCB1c2VDYW52YXNTY2FsZUxheW91dCBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9tb2JpbGUvdXNlQ2FudmFzU2NhbGVMYXlvdXRcIjtcbmltcG9ydCB1c2VDYW52YXNJbnRlcmFjdGlvblN0YXRlIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL21vYmlsZS91c2VDYW52YXNJbnRlcmFjdGlvblN0YXRlXCI7XG5pbXBvcnQgdXNlU3RhZ2VHZXN0dXJlcyBmcm9tIFwiLi9lZGl0b3IvbW9iaWxlL3VzZVN0YWdlR2VzdHVyZXNcIjtcbmltcG9ydCB1c2VPcHRpb25CdXR0b25Qb3NpdGlvbiBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9vdmVybGF5cy91c2VPcHRpb25CdXR0b25Qb3NpdGlvblwiO1xuaW1wb3J0IENhbnZhc0VsZW1lbnRzTGF5ZXIgZnJvbSBcIkAvY29tcG9uZW50cy9jYW52YXMvQ2FudmFzRWxlbWVudHNMYXllclwiO1xuaW1wb3J0IERpdmlkZXJzT3ZlcmxheVN0YWdlIGZyb20gXCJAL2NvbXBvbmVudHMvY2FudmFzL0RpdmlkZXJzT3ZlcmxheVN0YWdlXCI7XG5cblxuXG5Lb252YS5kcmFnRGlzdGFuY2UgPSA4O1xuXG5mdW5jdGlvbiByZXNvbHZlS29udmFQaXhlbFJhdGlvKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIDE7XG5cbiAgY29uc3QgZHByID0gTnVtYmVyKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpO1xuICBjb25zdCBjb2Fyc2VQb2ludGVyID1cbiAgICB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHBvaW50ZXI6IGNvYXJzZSlcIikubWF0Y2hlcztcbiAgY29uc3QgbWluU2lkZSA9IE1hdGgubWluKE51bWJlcih3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKSwgTnVtYmVyKHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKSk7XG4gIGNvbnN0IG1vYmlsZUxpa2UgPSBjb2Fyc2VQb2ludGVyIHx8IChtaW5TaWRlID4gMCAmJiBtaW5TaWRlIDw9IDEwMjQpO1xuXG4gIGlmIChtb2JpbGVMaWtlKSByZXR1cm4gMTtcbiAgcmV0dXJuIE1hdGgubWluKGRwciwgMik7XG59XG5cbktvbnZhLnBpeGVsUmF0aW8gPSByZXNvbHZlS29udmFQaXhlbFJhdGlvKCk7XG5cclxuY29uc3QgQUxUVVJBX1JFRkVSRU5DSUFfUEFOVEFMTEEgPSA1MDA7XHJcbmNvbnN0IEFMVFVSQV9QQU5UQUxMQV9FRElUT1IgPSA1MDA7XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemFyQWx0b01vZG8obW9kbykge1xuICBjb25zdCBtID0gU3RyaW5nKG1vZG8gfHwgXCJmaWpvXCIpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAobSA9PT0gXCJwYW50YWxsYVwiKSA/IFwicGFudGFsbGFcIiA6IFwiZmlqb1wiO1xufVxuXG5mdW5jdGlvbiBpc0JvbGRGb250V2VpZ2h0KHdlaWdodCkge1xuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKHdlaWdodCB8fCBcIm5vcm1hbFwiKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKFxuICAgIG5vcm1hbGl6ZWQgPT09IFwiYm9sZFwiIHx8XG4gICAgbm9ybWFsaXplZCA9PT0gXCJib2xkZXJcIiB8fFxuICAgIFtcIjUwMFwiLCBcIjYwMFwiLCBcIjcwMFwiLCBcIjgwMFwiLCBcIjkwMFwiXS5pbmNsdWRlcyhub3JtYWxpemVkKVxuICApO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlS29udmFGb250U3R5bGUoZm9udFN0eWxlLCBmb250V2VpZ2h0KSB7XG4gIGNvbnN0IHN0eWxlID0gU3RyaW5nKGZvbnRTdHlsZSB8fCBcIm5vcm1hbFwiKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBpc0l0YWxpYyA9IHN0eWxlLmluY2x1ZGVzKFwiaXRhbGljXCIpIHx8IHN0eWxlLmluY2x1ZGVzKFwib2JsaXF1ZVwiKTtcbiAgY29uc3QgaXNCb2xkID0gc3R5bGUuaW5jbHVkZXMoXCJib2xkXCIpIHx8IGlzQm9sZEZvbnRXZWlnaHQoZm9udFdlaWdodCk7XG5cbiAgaWYgKGlzQm9sZCAmJiBpc0l0YWxpYykgcmV0dXJuIFwiYm9sZCBpdGFsaWNcIjtcbiAgaWYgKGlzQm9sZCkgcmV0dXJuIFwiYm9sZFwiO1xuICBpZiAoaXNJdGFsaWMpIHJldHVybiBcIml0YWxpY1wiO1xuICByZXR1cm4gXCJub3JtYWxcIjtcbn1cblxyXG4vLyA/Pz8gRlVOQ0nDk04gSEVMUEVSIFBBUkEgTElNUElBUiBVTkRFRklORURcclxuY29uc3QgbGltcGlhck9iamV0b1VuZGVmaW5lZCA9IChvYmopID0+IHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XHJcbiAgICByZXR1cm4gb2JqLm1hcChsaW1waWFyT2JqZXRvVW5kZWZpbmVkKTtcclxuICB9XHJcblxyXG4gIGlmIChvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcclxuICAgIGNvbnN0IG9iakxpbXBpbyA9IHt9O1xyXG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhbG9yID0gb2JqW2tleV07XHJcbiAgICAgIGlmICh2YWxvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgb2JqTGltcGlvW2tleV0gPSBsaW1waWFyT2JqZXRvVW5kZWZpbmVkKHZhbG9yKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gb2JqTGltcGlvO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9iajtcclxufTtcclxuXHJcbi8vIFV0aWxzIGRlIGN1cnNvciBnbG9iYWwgKGFycmliYSBkZWwgY29tcG9uZW50ZSlcbmZ1bmN0aW9uIHNldEdsb2JhbEN1cnNvcihjdXJzb3IgPSAnJywgc3RhZ2VSZWYgPSBudWxsKSB7XG4gIHRyeSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IGN1cnNvciB8fCAnJztcclxuICAgIC8vID8/IGxpbXBpYW1vcyB0YW1iacOpbiBlbCBjb250ZW5lZG9yIGRlbCBTdGFnZSBzaSBleGlzdGVcclxuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWY/LmN1cnJlbnQ/LmNvbnRhaW5lcj8uKCkgfHwgbnVsbDtcclxuICAgIGlmIChzdGFnZSkgc3RhZ2Uuc3R5bGUuY3Vyc29yID0gY3Vyc29yIHx8ICcnO1xyXG4gICAgLy8gZmFsbGJhY2s6IGNhbnZhcyBwcmluY2lwYWxcclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xyXG4gICAgaWYgKGNhbnZhcyAmJiBjYW52YXMucGFyZW50RWxlbWVudCkgY2FudmFzLnBhcmVudEVsZW1lbnQuc3R5bGUuY3Vyc29yID0gY3Vyc29yIHx8ICcnO1xyXG4gIH0gY2F0Y2ggeyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyR2xvYmFsQ3Vyc29yKHN0YWdlUmVmID0gbnVsbCkge1xyXG4gIHNldEdsb2JhbEN1cnNvcignJywgc3RhZ2VSZWYpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0lubGluZURlYnVnRW5hYmxlZCgpIHtcclxuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuX19JTkxJTkVfREVCVUcgIT09IGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRJbmxpbmVMb2dQYXlsb2FkKHBheWxvYWQgPSB7fSkge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgMik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBTdHJpbmcoZXJyb3IgfHwgcGF5bG9hZCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbmxpbmVEZWJ1Z0xvZyhldmVudCwgcGF5bG9hZCA9IHt9KSB7XHJcbiAgaWYgKCFpc0lubGluZURlYnVnRW5hYmxlZCgpKSByZXR1cm47XHJcbiAgY29uc3QgZXNzZW50aWFsRXZlbnRzID0gbmV3IFNldChbXHJcbiAgICBcInN0YXJ0LWlubGluZS1lZGl0XCIsXHJcbiAgICBcImxpbmVicmVhay1tb2RlbC1zeW5jXCIsXHJcbiAgICBcImxpbmVicmVhay10cmFuc2Zvcm1lclwiLFxyXG4gIF0pO1xyXG4gIGlmICghZXNzZW50aWFsRXZlbnRzLmhhcyhldmVudCkpIHJldHVybjtcclxuICBjb25zdCB0cyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICBjb25zdCBib2R5ID0gZm9ybWF0SW5saW5lTG9nUGF5bG9hZChwYXlsb2FkKTtcclxuICBjb25zb2xlLmxvZyhgW0lOTElORV1bJHt0c31dICR7ZXZlbnR9XFxuJHtib2R5fWApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuZXh0SW5saW5lRnJhbWVNZXRhKCkge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICByZXR1cm4geyBmcmFtZTogbnVsbCwgcGVyZk1zOiBudWxsIH07XHJcbiAgfVxyXG4gIGNvbnN0IHByZXYgPSBOdW1iZXIod2luZG93Ll9fSU5MSU5FX0ZSQU1FX1NFUSB8fCAwKTtcclxuICBjb25zdCBuZXh0ID0gcHJldiArIDE7XHJcbiAgd2luZG93Ll9fSU5MSU5FX0ZSQU1FX1NFUSA9IG5leHQ7XHJcbiAgY29uc3QgcGVyZk1zID1cclxuICAgIHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2U/Lm5vdyA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgID8gTnVtYmVyKHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKS50b0ZpeGVkKDMpKVxyXG4gICAgICA6IG51bGw7XHJcbiAgcmV0dXJuIHsgZnJhbWU6IG5leHQsIHBlcmZNcyB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJbmxpbmVMaW5lU3RhdHModmFsdWUpIHtcclxuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKHZhbHVlID8/IFwiXCIpLnJlcGxhY2UoL1xcclxcbi9nLCBcIlxcblwiKTtcclxuICBjb25zdCB0cmFpbGluZyA9IG5vcm1hbGl6ZWQubWF0Y2goL1xcbiskLyk/LlswXTtcclxuICByZXR1cm4ge1xyXG4gICAgbm9ybWFsaXplZCxcclxuICAgIGxlbmd0aDogbm9ybWFsaXplZC5sZW5ndGgsXHJcbiAgICBsaW5lQ291bnQ6IG5vcm1hbGl6ZWQgPT09IFwiXCIgPyAxIDogbm9ybWFsaXplZC5zcGxpdChcIlxcblwiKS5sZW5ndGgsXHJcbiAgICB0cmFpbGluZ05ld2xpbmVzOiB0cmFpbGluZyA/IHRyYWlsaW5nLmxlbmd0aCA6IDAsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplSW5saW5lRGVidWdBQihyYXdDb25maWcpIHtcclxuICBjb25zdCByYXcgPSByYXdDb25maWcgJiYgdHlwZW9mIHJhd0NvbmZpZyA9PT0gXCJvYmplY3RcIiA/IHJhd0NvbmZpZyA6IHt9O1xyXG5cclxuICBjb25zdCB2aXNpYmlsaXR5U291cmNlID1cclxuICAgIHJhdy52aXNpYmlsaXR5U291cmNlID09PSBcIndpbmRvd1wiID8gXCJ3aW5kb3dcIiA6IFwicmVhY3RpdmVcIjtcclxuXHJcbiAgY29uc3QgZmluaXNoTW9kZSA9XHJcbiAgICByYXcuZmluaXNoTW9kZSA9PT0gXCJpbW1lZGlhdGVcIiB8fFxyXG4gICAgcmF3LmZpbmlzaE1vZGUgPT09IFwicmFmXCIgfHxcclxuICAgIHJhdy5maW5pc2hNb2RlID09PSBcInRpbWVvdXQxMDBcIlxyXG4gICAgICA/IHJhdy5maW5pc2hNb2RlXHJcbiAgICAgIDogXCJyYWZcIjtcclxuXHJcbiAgY29uc3Qgb3ZlcmxheVdpZHRoTW9kZSA9XHJcbiAgICByYXcub3ZlcmxheVdpZHRoTW9kZSA9PT0gXCJmaXQtY29udGVudFwiID8gXCJmaXQtY29udGVudFwiIDogXCJtZWFzdXJlZFwiO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdmlzaWJpbGl0eVNvdXJjZSxcclxuICAgIGZpbmlzaE1vZGUsXHJcbiAgICBvdmVybGF5V2lkdGhNb2RlLFxyXG4gIH07XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYW52YXNFZGl0b3Ioe1xuICBzbHVnLFxuICB6b29tID0gMSxcbiAgb25IaXN0b3JpYWxDaGFuZ2UsXG4gIG9uRnV0dXJvc0NoYW5nZSxcbiAgdXNlcklkLFxuICBvblN0YXJ0dXBTdGF0dXNDaGFuZ2UsXG59KSB7XG4gIGNvbnN0IFtvYmpldG9zLCBzZXRPYmpldG9zXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbY2VsZGFHYWxlcmlhQWN0aXZhLCBzZXRDZWxkYUdhbGVyaWFBY3RpdmFdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW3NlY2Npb25lcywgc2V0U2VjY2lvbmVzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbaGlzdG9yaWFsLCBzZXRIaXN0b3JpYWxdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtmdXR1cm9zLCBzZXRGdXR1cm9zXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbZWxlbWVudG9zU2VsZWNjaW9uYWRvcywgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtjYXJnYWRvLCBzZXRDYXJnYWRvXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgc3RhZ2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHsgZHJhZ1N0YXJ0UG9zLCBoYXNEcmFnZ2VkLCBpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nIH0gPSB1c2VDYW52YXNJbnRlcmFjdGlvblN0YXRlKCk7XG4gIGNvbnN0IGltcGVyYXRpdmVPYmplY3RzID0gdXNlSW1wZXJhdGl2ZU9iamVjdHMoKTtcbiAgY29uc3QgW2FuaW1hbmRvU2VjY2lvbiwgc2V0QW5pbWFuZG9TZWNjaW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2VjY2lvbkFjdGl2YUlkLCBzZXRTZWNjaW9uQWN0aXZhSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtzZWxlY2Npb25BY3RpdmEsIHNldFNlbGVjY2lvbkFjdGl2YV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2luaWNpb1NlbGVjY2lvbiwgc2V0SW5pY2lvU2VsZWNjaW9uXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFthcmVhU2VsZWNjaW9uLCBzZXRBcmVhU2VsZWNjaW9uXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtlbGVtZW50b3NQcmVTZWxlY2Npb25hZG9zLCBzZXRFbGVtZW50b3NQcmVTZWxlY2Npb25hZG9zXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBndWlhTGF5ZXJSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgW2hvdmVySWQsIHNldEhvdmVySWRdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgYWx0b0NhbnZhcyA9IHNlY2Npb25lcy5yZWR1Y2UoKGFjYywgcykgPT4gYWNjICsgcy5hbHR1cmEsIDApIHx8IDgwMDtcclxuICBjb25zdCBbc2VjY2lvbmVzQW5pbWFuZG8sIHNldFNlY2Npb25lc0FuaW1hbmRvXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCB7IHJlZnJlc2NhcjogcmVmcmVzY2FyUGxhbnRpbGxhc0RlU2VjY2lvbiB9ID0gdXNlUGxhbnRpbGxhc0RlU2VjY2lvbigpO1xyXG4gIGNvbnN0IFtlbGVtZW50b0NvcGlhZG8sIHNldEVsZW1lbnRvQ29waWFkb10gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgZWxlbWVudFJlZnMgPSB1c2VSZWYoe30pO1xuICBjb25zdCBpbmxpbmVFZGl0UHJldmlld1JlZiA9IHVzZVJlZih7IGlkOiBudWxsLCBjZW50ZXJYOiBudWxsIH0pO1xuICBjb25zdCBpbmxpbmVDb21taXREZWJ1Z1JlZiA9IHVzZVJlZih7IGlkOiBudWxsIH0pO1xuICBjb25zdCBwcmV2RWRpdGluZ0lkUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBpbmxpbmVSZW5kZXJWYWx1ZVJlZiA9IHVzZVJlZih7IGlkOiBudWxsLCB2YWx1ZTogXCJcIiB9KTtcbiAgY29uc3QgW2lubGluZU92ZXJsYXlNb3VudGVkSWQsIHNldElubGluZU92ZXJsYXlNb3VudGVkSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGNvbnRlbmVkb3JSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGF1dG9TZWN0aW9uVmlld3BvcnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmID0gdXNlUmVmKDApO1xuICBjb25zdCBzZWNjaW9uQWN0aXZhSWRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGlnbm9yZU5leHRVcGRhdGVSZWYgPSB1c2VSZWYoMCk7XG4gIGNvbnN0IFthbmNob1N0YWdlLCBzZXRBbmNob1N0YWdlXSA9IHVzZVN0YXRlKDgwMCk7XG4gIGNvbnN0IFttb3N0cmFyU2VsZWN0b3JGdWVudGUsIHNldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb3N0cmFyU3VibWVudUNhcGEsIHNldE1vc3RyYXJTdWJtZW51Q2FwYV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGZ1ZW50ZXNEaXNwb25pYmxlcyA9IEFMTF9GT05UUztcbiAgY29uc3QgeyBlc0FkbWluLCBsb2FkaW5nQ2xhaW1zIH0gPSB1c2VBdXRoQ2xhaW1zKCk7XG4gIGNvbnN0IFtiYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbiwgc2V0QmFja2dyb3VuZExvYWRCeVNlY3Rpb25dID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbbW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQsIHNldE1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZGVsZXRlU2VjdGlvbk1vZGFsLCBzZXREZWxldGVTZWN0aW9uTW9kYWxdID0gdXNlU3RhdGUoeyBpc09wZW46IGZhbHNlLCBzZWN0aW9uSWQ6IG51bGwgfSk7XG4gIGNvbnN0IFtpc0RlbGV0aW5nU2VjdGlvbiwgc2V0SXNEZWxldGluZ1NlY3Rpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuLCBzZXRNb2JpbGVTZWN0aW9uQWN0aW9uc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzdXBwb3J0c1BvaW50ZXJFdmVudHMgPVxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgY29uc3QgaXNUZXh0UmVzaXplRGVidWdFbmFibGVkID0gKCkgPT5cbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIEJvb2xlYW4od2luZG93Ll9fREJHX1RFWFRfUkVTSVpFKTtcblxuICBjb25zdCB0ZXh0UmVzaXplRGVidWcgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmICghaXNUZXh0UmVzaXplRGVidWdFbmFibGVkKCkpIHJldHVybjtcbiAgICBjb25zb2xlLmxvZyhcIltURVhULUNPTU1JVF1cIiwgLi4uYXJncyk7XG4gIH07XG5cblxuXG5cbiAgdXNlQm9ycmFkb3JTeW5jKHtcbiAgICBzbHVnLFxyXG4gICAgdXNlcklkLFxyXG5cclxuICAgIG9iamV0b3MsXHJcbiAgICBzZWNjaW9uZXMsXHJcbiAgICBjYXJnYWRvLFxyXG5cclxuICAgIHNldE9iamV0b3MsXHJcbiAgICBzZXRTZWNjaW9uZXMsXHJcbiAgICBzZXRDYXJnYWRvLFxyXG4gICAgc2V0U2VjY2lvbkFjdGl2YUlkLFxyXG5cclxuICAgIGlnbm9yZU5leHRVcGRhdGVSZWYsXHJcbiAgICBzdGFnZVJlZixcclxuXHJcbiAgICBub3JtYWxpemFyQWx0b01vZG8sXHJcbiAgICB2YWxpZGFyUHVudG9zTGluZWEsXHJcblxyXG4gICAgQUxUVVJBX1BBTlRBTExBX0VESVRPUixcclxuICB9KTtcclxuICBjb25zdCB7XHJcbiAgICBjb250cm9sYW5kb0FsdHVyYSxcclxuICAgIGluaWNpYXJDb250cm9sQWx0dXJhLFxyXG4gICAgZmluYWxpemFyQ29udHJvbEFsdHVyYSxcclxuICAgIHRvZ2dsZVBhbnRhbGxhQ29tcGxldGFTZWNjaW9uLFxyXG4gICAgaGFuZGxlQ3JlYXJTZWNjaW9uLFxyXG4gIH0gPSB1c2VTZWN0aW9uc01hbmFnZXIoe1xyXG4gICAgc2x1ZyxcclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNldFNlY2Npb25lcyxcclxuICAgIG9iamV0b3MsXHJcbiAgICBzZXRPYmpldG9zLFxyXG4gICAgc2VjY2lvbkFjdGl2YUlkLFxyXG4gICAgc2V0U2VjY2lvbkFjdGl2YUlkLFxyXG5cclxuICAgIGNyZWFyU2VjY2lvbixcclxuICAgIG5vcm1hbGl6YXJBbHRvTW9kbyxcclxuICAgIGxpbXBpYXJPYmpldG9VbmRlZmluZWQsXHJcblxyXG4gICAgQUxUVVJBX1JFRkVSRU5DSUFfUEFOVEFMTEEsXHJcblxyXG4gICAgc3RhZ2VSZWYsXHJcbiAgICBzZXRHbG9iYWxDdXJzb3IsXHJcbiAgICBjbGVhckdsb2JhbEN1cnNvcixcclxuICB9KTtcclxuICBjb25zdCBudWV2b1RleHRvUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIHVzZUVkaXRvckV2ZW50cyh7XG4gICAgY2VsZGFHYWxlcmlhQWN0aXZhLFxyXG4gICAgc2V0Q2VsZGFHYWxlcmlhQWN0aXZhLFxyXG4gICAgc2V0T2JqZXRvcyxcclxuXHJcbiAgICBzZWNjaW9uZXMsXHJcbiAgICBzZWNjaW9uQWN0aXZhSWQsXHJcblxyXG4gICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyxcclxuXHJcbiAgICBub3JtYWxpemFyQWx0b01vZG8sXHJcbiAgICBBTFRVUkFfUEFOVEFMTEFfRURJVE9SLFxyXG5cclxuICAgIG51ZXZvVGV4dG9SZWYsXHJcbiAgfSk7XG5cbiAgY29uc3Qgc2VjY2lvbmVzT3JkZW5hZGFzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2VjY2lvbmVzXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVuIC0gYi5vcmRlbiksXG4gICAgW3NlY2Npb25lc11cbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEJhY2tncm91bmRMb2FkQnlTZWN0aW9uKHt9KTtcbiAgfSwgW3NsdWddKTtcblxuICBjb25zdCBoYW5kbGVCYWNrZ3JvdW5kSW1hZ2VTdGF0dXNDaGFuZ2UgPSB1c2VDYWxsYmFjaygocGF5bG9hZCkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb25JZCA9IHBheWxvYWQ/LnNlY3Rpb25JZDtcbiAgICBpZiAoIXNlY3Rpb25JZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFzQmFja2dyb3VuZEltYWdlID0gcGF5bG9hZD8uaGFzQmFja2dyb3VuZEltYWdlID09PSB0cnVlO1xuICAgIGNvbnN0IGltYWdlVXJsID0gdHlwZW9mIHBheWxvYWQ/LmltYWdlVXJsID09PSBcInN0cmluZ1wiID8gcGF5bG9hZC5pbWFnZVVybCA6IFwiXCI7XG4gICAgY29uc3QgaW5jb21pbmdTdGF0dXMgPSB0eXBlb2YgcGF5bG9hZD8uc3RhdHVzID09PSBcInN0cmluZ1wiID8gcGF5bG9hZC5zdGF0dXMgOiBcImxvYWRpbmdcIjtcbiAgICBjb25zdCBzdGF0dXMgPSBoYXNCYWNrZ3JvdW5kSW1hZ2VcbiAgICAgID8gKGluY29taW5nU3RhdHVzID09PSBcImxvYWRlZFwiIHx8IGluY29taW5nU3RhdHVzID09PSBcImZhaWxlZFwiXG4gICAgICAgID8gaW5jb21pbmdTdGF0dXNcbiAgICAgICAgOiBcImxvYWRpbmdcIilcbiAgICAgIDogXCJub25lXCI7XG5cbiAgICBzZXRCYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbigocHJldikgPT4ge1xuICAgICAgY29uc3QgY3VycmVudCA9IHByZXZbc2VjdGlvbklkXTtcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudCAmJlxuICAgICAgICBjdXJyZW50LnN0YXR1cyA9PT0gc3RhdHVzICYmXG4gICAgICAgIGN1cnJlbnQuaGFzQmFja2dyb3VuZEltYWdlID09PSBoYXNCYWNrZ3JvdW5kSW1hZ2UgJiZcbiAgICAgICAgY3VycmVudC5pbWFnZVVybCA9PT0gaW1hZ2VVcmxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW3NlY3Rpb25JZF06IHtcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgaGFzQmFja2dyb3VuZEltYWdlLFxuICAgICAgICAgIGltYWdlVXJsLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGJhY2tncm91bmRMb2FkU3VtbWFyeSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb25zV2l0aEJhY2tncm91bmRJbWFnZSA9IChzZWNjaW9uZXMgfHwgW10pLmZpbHRlcigoc2VjY2lvbikgPT4gKFxuICAgICAgc2VjY2lvbj8uZm9uZG9UaXBvID09PSBcImltYWdlblwiICYmXG4gICAgICB0eXBlb2Ygc2VjY2lvbj8uZm9uZG9JbWFnZW4gPT09IFwic3RyaW5nXCIgJiZcbiAgICAgIHNlY2Npb24uZm9uZG9JbWFnZW4udHJpbSgpLmxlbmd0aCA+IDBcbiAgICApKTtcblxuICAgIGxldCBsb2FkZWQgPSAwO1xuICAgIGxldCBmYWlsZWQgPSAwO1xuICAgIGxldCBwZW5kaW5nID0gMDtcblxuICAgIHNlY3Rpb25zV2l0aEJhY2tncm91bmRJbWFnZS5mb3JFYWNoKChzZWNjaW9uKSA9PiB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBiYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbltzZWNjaW9uLmlkXT8uc3RhdHVzO1xuXG4gICAgICBpZiAoIXN0YXR1cyB8fCBzdGF0dXMgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgIHBlbmRpbmcgKz0gMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdHVzID09PSBcImxvYWRlZFwiKSB7XG4gICAgICAgIGxvYWRlZCArPSAxO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0dXMgPT09IFwiZmFpbGVkXCIpIHtcbiAgICAgICAgZmFpbGVkICs9IDE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcGVuZGluZyArPSAxO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsOiBzZWN0aW9uc1dpdGhCYWNrZ3JvdW5kSW1hZ2UubGVuZ3RoLFxuICAgICAgbG9hZGVkLFxuICAgICAgZmFpbGVkLFxuICAgICAgcGVuZGluZyxcbiAgICB9O1xuICB9LCBbYmFja2dyb3VuZExvYWRCeVNlY3Rpb24sIHNlY2Npb25lc10pO1xuXG4gIGNvbnN0IHN0YXJ0dXBSZWFkeSA9IGNhcmdhZG8gJiYgYmFja2dyb3VuZExvYWRTdW1tYXJ5LnBlbmRpbmcgPT09IDA7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIG9uU3RhcnR1cFN0YXR1c0NoYW5nZSAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgc2x1ZyxcbiAgICAgIGRyYWZ0TG9hZGVkOiBjYXJnYWRvID09PSB0cnVlLFxuICAgICAgdG90YWxCYWNrZ3JvdW5kczogYmFja2dyb3VuZExvYWRTdW1tYXJ5LnRvdGFsLFxuICAgICAgbG9hZGVkQmFja2dyb3VuZHM6IGJhY2tncm91bmRMb2FkU3VtbWFyeS5sb2FkZWQsXG4gICAgICBmYWlsZWRCYWNrZ3JvdW5kczogYmFja2dyb3VuZExvYWRTdW1tYXJ5LmZhaWxlZCxcbiAgICAgIHBlbmRpbmdCYWNrZ3JvdW5kczogYmFja2dyb3VuZExvYWRTdW1tYXJ5LnBlbmRpbmcsXG4gICAgfTtcblxuICAgIGlmICghc3RhcnR1cFJlYWR5KSB7XG4gICAgICBvblN0YXJ0dXBTdGF0dXNDaGFuZ2Uoe1xuICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICBzdGF0dXM6IFwicnVubmluZ1wiLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuICAgIGxldCByYWZBID0gMDtcbiAgICBsZXQgcmFmQiA9IDA7XG5cbiAgICByYWZBID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHJhZkIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSByZXR1cm47XG4gICAgICAgIG9uU3RhcnR1cFN0YXR1c0NoYW5nZSh7XG4gICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICBzdGF0dXM6IFwicmVhZHlcIixcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgaWYgKHJhZkEpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZkEpO1xuICAgICAgaWYgKHJhZkIpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZkIpO1xuICAgIH07XG4gIH0sIFtcbiAgICBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkuZmFpbGVkLFxuICAgIGJhY2tncm91bmRMb2FkU3VtbWFyeS5sb2FkZWQsXG4gICAgYmFja2dyb3VuZExvYWRTdW1tYXJ5LnBlbmRpbmcsXG4gICAgYmFja2dyb3VuZExvYWRTdW1tYXJ5LnRvdGFsLFxuICAgIGNhcmdhZG8sXG4gICAgb25TdGFydHVwU3RhdHVzQ2hhbmdlLFxuICAgIHNsdWcsXG4gICAgc3RhcnR1cFJlYWR5LFxuICBdKTtcblxuICBjb25zdCBzZWNjaW9uUGVuZGllbnRlRWxpbWluYXIgPSB1c2VNZW1vKFxuICAgICgpID0+IHNlY2Npb25lcy5maW5kKChzZWNjaW9uKSA9PiBzZWNjaW9uLmlkID09PSBkZWxldGVTZWN0aW9uTW9kYWwuc2VjdGlvbklkKSB8fCBudWxsLFxuICAgIFtzZWNjaW9uZXMsIGRlbGV0ZVNlY3Rpb25Nb2RhbC5zZWN0aW9uSWRdXG4gICk7XG5cclxuICBjb25zdCBjYW50aWRhZEVsZW1lbnRvc1NlY2Npb25QZW5kaWVudGUgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICghc2VjY2lvblBlbmRpZW50ZUVsaW1pbmFyPy5pZCkgcmV0dXJuIDA7XHJcbiAgICByZXR1cm4gb2JqZXRvcy5maWx0ZXIoKG9iaikgPT4gb2JqLnNlY2Npb25JZCA9PT0gc2VjY2lvblBlbmRpZW50ZUVsaW1pbmFyLmlkKS5sZW5ndGg7XHJcbiAgfSwgW29iamV0b3MsIHNlY2Npb25QZW5kaWVudGVFbGltaW5hcl0pO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICBlZGl0aW5nLCAgICAgIC8vIHsgaWQsIHZhbHVlIH1cclxuICAgIHN0YXJ0RWRpdCwgICAgLy8gKGlkLCBpbml0aWFsKVxyXG4gICAgdXBkYXRlRWRpdCwgICAvLyAobnVldm9WYWxvcilcclxuICAgIGZpbmlzaEVkaXQgICAgLy8gKCkgPT4gdm9pZFxyXG4gIH0gPSB1c2VJbmxpbmVFZGl0b3IoKTtcclxuXHJcbiAgY29uc3Qgb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZSA9IHVzZUNhbGxiYWNrKChub2RlKSA9PiB7XHJcbiAgICBpZiAoIW5vZGUpIHJldHVybiBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2xhc3NOYW1lID0gbm9kZS5nZXRDbGFzc05hbWU/LigpIHx8IG51bGw7XHJcbiAgICAgIGNvbnN0IHggPSB0eXBlb2Ygbm9kZS54ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLngoKSA6IG51bGw7XHJcbiAgICAgIGNvbnN0IHkgPSB0eXBlb2Ygbm9kZS55ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnkoKSA6IG51bGw7XHJcbiAgICAgIGNvbnN0IHRleHRXaWR0aCA9XHJcbiAgICAgICAgY2xhc3NOYW1lID09PSBcIlRleHRcIiAmJiB0eXBlb2Ygbm9kZS5nZXRUZXh0V2lkdGggPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgPyBNYXRoLmNlaWwobm9kZS5nZXRUZXh0V2lkdGgoKSB8fCAwKVxyXG4gICAgICAgICAgOiBudWxsO1xyXG4gICAgICBjb25zdCByZWN0ID1cclxuICAgICAgICB0eXBlb2Ygbm9kZS5nZXRDbGllbnRSZWN0ID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgID8gbm9kZS5nZXRDbGllbnRSZWN0KHtcclxuICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcclxuICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY2xhc3NOYW1lLFxyXG4gICAgICAgIHgsXHJcbiAgICAgICAgeSxcclxuICAgICAgICB0ZXh0V2lkdGgsXHJcbiAgICAgICAgcmVjdDogcmVjdFxyXG4gICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgeDogcmVjdC54LFxyXG4gICAgICAgICAgICAgIHk6IHJlY3QueSxcclxuICAgICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICA6IG51bGwsXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogU3RyaW5nKGVycm9yKSB9O1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgY2VycmFyTWVudXNGbG90YW50ZXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRNb3N0cmFyUGFuZWxaKGZhbHNlKTtcclxuICAgIHNldE1vc3RyYXJTdWJtZW51Q2FwYShmYWxzZSk7XHJcbiAgICBzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGUoZmFsc2UpO1xyXG4gICAgc2V0TW9zdHJhclNlbGVjdG9yVGFtYW5vKGZhbHNlKTtcbiAgICBzZXRIb3ZlcklkKG51bGwpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gPz8/RWxlbWVudG8gYWN0dWFsbWVudGUgc2VsZWNjaW9uYWRvIChvIG51bGwpXG4gIGNvbnN0IG9iamV0b1NlbGVjY2lvbmFkbyA9XG4gICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPT09IDFcbiAgICAgID8gb2JqZXRvcy5maW5kKG8gPT4gby5pZCA9PT0gZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSlcbiAgICAgIDogbnVsbDtcblxuICBjb25zdCBbbW9zdHJhclNlbGVjdG9yVGFtYW5vLCBzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm9dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB0YW1hbmlvc0Rpc3BvbmlibGVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogKDEyMCAtIDYpIC8gMiArIDEgfSwgKF8sIGkpID0+IDYgKyBpICogMik7XG4gIGNvbnN0IGJvdG9uT3BjaW9uZXNSZWYgPSB1c2VSZWYobnVsbCk7XG5cclxuICBjb25zdCBfcmVmRXZlbnRRdWV1ZWQgPSB1c2VSZWYobmV3IFNldCgpKTtcclxuXHJcbiAgY29uc3QgcmVnaXN0ZXJSZWYgPSB1c2VDYWxsYmFjaygoaWQsIG5vZGUpID0+IHtcclxuICAgIGlmICghbm9kZSkge1xyXG4gICAgICBkZWxldGUgZWxlbWVudFJlZnMuY3VycmVudFtpZF07XHJcbiAgICAgIGltcGVyYXRpdmVPYmplY3RzLnJlZ2lzdGVyT2JqZWN0KGlkLCBudWxsKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnRSZWZzLmN1cnJlbnRbaWRdID0gbm9kZTtcclxuICAgIGltcGVyYXRpdmVPYmplY3RzLnJlZ2lzdGVyT2JqZWN0KGlkLCBub2RlKTtcclxuXHJcbiAgICAvLyA/IERlYm91bmNlIHBvciBmcmFtZSBwYXJhIGV2aXRhciByw6FmYWdhcyBkZSByZS1hdHRhY2ggZGVsIFRyYW5zZm9ybWVyXHJcbiAgICBpZiAoX3JlZkV2ZW50UXVldWVkLmN1cnJlbnQuaGFzKGlkKSkgcmV0dXJuO1xyXG4gICAgX3JlZkV2ZW50UXVldWVkLmN1cnJlbnQuYWRkKGlkKTtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICBfcmVmRXZlbnRRdWV1ZWQuY3VycmVudC5kZWxldGUoaWQpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiZWxlbWVudC1yZWYtcmVnaXN0cmFkb1wiLCB7IGRldGFpbDogeyBpZCB9IH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBjYXRjaCB7IH1cclxuICAgIH0pO1xyXG4gIH0sIFtpbXBlcmF0aXZlT2JqZWN0c10pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgY29uc3QgbG9hZGVkRm9udEZhbWlsaWVzUmVmID0gdXNlUmVmKG5ldyBTZXQoKSk7XG5cclxuXHJcbiAgY29uc3Qge1xuICAgIGlzTW9iaWxlLFxuICAgIGlzTW9iaWxlUG9ydHJhaXQsXG4gICAgc2NhbGUsXG4gICAgYW5jaG9Db250ZW5lZG9yLFxyXG4gICAgZXNjYWxhQWN0aXZhLFxyXG4gICAgZXNjYWxhVmlzdWFsLFxyXG4gICAgd3JhcHBlckJhc2VXaWR0aCxcclxuICAgIGVzY2FsYUZpdE1vYmlsZVBvcnRyYWl0LFxuICB9ID0gdXNlQ2FudmFzU2NhbGVMYXlvdXQoe1xuICAgIGNvbnRlbmVkb3JSZWYsXG4gICAgem9vbSxcbiAgfSk7XG5cbiAgY29uc3QgbW9iaWxlVHlwb2dyYXBoeVRvb2xiYXJWaXNpYmxlID0gaXNNb2JpbGUgJiYgQm9vbGVhbihcbiAgICBvYmpldG9TZWxlY2Npb25hZG8gJiZcbiAgICAoXG4gICAgICBvYmpldG9TZWxlY2Npb25hZG8udGlwbyA9PT0gXCJ0ZXh0b1wiIHx8XG4gICAgICAoXG4gICAgICAgIG9iamV0b1NlbGVjY2lvbmFkby50aXBvID09PSBcImZvcm1hXCIgJiZcbiAgICAgICAgb2JqZXRvU2VsZWNjaW9uYWRvLmZpZ3VyYSA9PT0gXCJyZWN0XCIgJiZcbiAgICAgICAgdHlwZW9mIG9iamV0b1NlbGVjY2lvbmFkby50ZXh0byA9PT0gXCJzdHJpbmdcIlxuICAgICAgKVxuICAgIClcbiAgKTtcblxuICBjb25zdCBtb2JpbGVUZXh0VG9vbGJhclZpc2libGUgPVxuICAgIG1vYmlsZVR5cG9ncmFwaHlUb29sYmFyVmlzaWJsZSB8fFxuICAgIChpc01vYmlsZSAmJiBvYmpldG9TZWxlY2Npb25hZG8/LnRpcG8gPT09IFwiaWNvbm9cIik7XG5cbiAgY29uc3QgbW9iaWxlRm9udFN0cmlwVmlzaWJsZSA9XG4gICAgbW9iaWxlVHlwb2dyYXBoeVRvb2xiYXJWaXNpYmxlICYmIG1vc3RyYXJTZWxlY3RvckZ1ZW50ZTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGRlc2lyZWRSYXRpbyA9IGlzTW9iaWxlID8gMSA6IHJlc29sdmVLb252YVBpeGVsUmF0aW8oKTtcbiAgICBpZiAoS29udmEucGl4ZWxSYXRpbyAhPT0gZGVzaXJlZFJhdGlvKSB7XG4gICAgICBLb252YS5waXhlbFJhdGlvID0gZGVzaXJlZFJhdGlvO1xuICAgICAgc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpPy5iYXRjaERyYXc/LigpO1xuICAgIH1cbiAgfSwgW2lzTW9iaWxlXSk7XG5cclxuICBjb25zdCBpbmxpbmVEZWJ1Z0FCID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZUlubGluZURlYnVnQUIobnVsbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplSW5saW5lRGVidWdBQih3aW5kb3cuX19JTkxJTkVfQUIpO1xyXG4gIH0sIFtlZGl0aW5nLmlkLCBlZGl0aW5nLnZhbHVlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzTW9iaWxlICYmIG1vYmlsZVNlY3Rpb25BY3Rpb25zT3Blbikge1xuICAgICAgc2V0TW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtpc01vYmlsZSwgbW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzTW9iaWxlKSByZXR1cm47XG4gICAgc2V0TW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuKGZhbHNlKTtcbiAgfSwgW3NlY2Npb25BY3RpdmFJZCwgaXNNb2JpbGVdKTtcblxyXG4gIGNvbnN0IGhhbmRsZUlubGluZU92ZXJsYXlNb3VudENoYW5nZSA9IHVzZUNhbGxiYWNrKChpZCwgbW91bnRlZCkgPT4ge1xyXG4gICAgY29uc3Qgc2FmZUlkID0gaWQgfHwgbnVsbDtcclxuICAgIGlmICghc2FmZUlkKSByZXR1cm47XHJcblxyXG4gICAgc2V0SW5saW5lT3ZlcmxheU1vdW50ZWRJZCgocHJldmlvdXMpID0+IHtcclxuICAgICAgY29uc3QgbmV4dCA9IG1vdW50ZWQgPyBzYWZlSWQgOiAocHJldmlvdXMgPT09IHNhZmVJZCA/IG51bGwgOiBwcmV2aW91cyk7XHJcbiAgICAgIGlubGluZURlYnVnTG9nKFwib3ZlcmxheS1tb3VudGVkLXN0YXRlXCIsIHtcclxuICAgICAgICBpZDogc2FmZUlkLFxyXG4gICAgICAgIG1vdW50ZWQsXHJcbiAgICAgICAgcHJldmlvdXNPdmVybGF5TW91bnRlZElkOiBwcmV2aW91cyxcclxuICAgICAgICBuZXh0T3ZlcmxheU1vdW50ZWRJZDogbmV4dCxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBjYXB0dXJlSW5saW5lU25hcHNob3QgPSB1c2VDYWxsYmFjaygoZXZlbnROYW1lLCBleHRyYSA9IHt9KSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xyXG4gICAgaWYgKCFpc0lubGluZURlYnVnRW5hYmxlZCgpKSByZXR1cm47XHJcbiAgICBpZiAod2luZG93Ll9fSU5MSU5FX1NOQVBTSE9UICE9PSB0cnVlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgc25hcHNob3RBbGxvd2xpc3QgPSBuZXcgU2V0KFtcclxuICAgICAgXCJlbnRlcjogcHJlLXN0YXJ0XCIsXHJcbiAgICAgIFwiZW50ZXI6IGFmdGVyLXN0YXJ0LXN5bmNcIixcclxuICAgICAgXCJmaW5pc2g6IGJsdXJcIixcclxuICAgICAgXCJmaW5pc2g6IGFmdGVyLWZpbmlzaEVkaXRcIixcclxuICAgICAgXCJleGl0OiBpbW1lZGlhdGVcIixcclxuICAgIF0pO1xyXG4gICAgaWYgKCFzbmFwc2hvdEFsbG93bGlzdC5oYXMoZXZlbnROYW1lKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGZyYW1lTWV0YSA9IG5leHRJbmxpbmVGcmFtZU1ldGEoKTtcclxuICAgIGNvbnN0IHNuYXBzaG90SWQgPVxyXG4gICAgICBleHRyYS5pZCB8fFxyXG4gICAgICBlZGl0aW5nLmlkIHx8XHJcbiAgICAgIGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQ/LmlkIHx8XHJcbiAgICAgIHByZXZFZGl0aW5nSWRSZWYuY3VycmVudCB8fFxyXG4gICAgICBudWxsO1xyXG5cclxuICAgIGNvbnN0IG5vZGUgPSBzbmFwc2hvdElkID8gZWxlbWVudFJlZnMuY3VycmVudFtzbmFwc2hvdElkXSA6IG51bGw7XHJcbiAgICBjb25zdCBub2RlTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobm9kZSk7XHJcbiAgICBjb25zdCBvYmpNZXRyaWNzID0gc25hcHNob3RJZFxyXG4gICAgICA/ICgoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBvYmogPSBvYmpldG9zLmZpbmQoKG8pID0+IG8uaWQgPT09IHNuYXBzaG90SWQpO1xyXG4gICAgICAgICAgaWYgKCFvYmopIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IG9iai5pZCxcclxuICAgICAgICAgICAgdGlwbzogb2JqLnRpcG8gfHwgbnVsbCxcclxuICAgICAgICAgICAgeDogTnVtYmVyLmlzRmluaXRlKG9iai54KSA/IG9iai54IDogbnVsbCxcclxuICAgICAgICAgICAgeTogTnVtYmVyLmlzRmluaXRlKG9iai55KSA/IG9iai55IDogbnVsbCxcclxuICAgICAgICAgICAgdGV4dG9MZW5ndGg6IFN0cmluZyhvYmoudGV4dG8gPz8gXCJcIikubGVuZ3RoLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogTnVtYmVyLmlzRmluaXRlKG9iai5mb250U2l6ZSkgPyBvYmouZm9udFNpemUgOiBudWxsLFxyXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OlxyXG4gICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShvYmoubGluZUhlaWdodCkgJiYgb2JqLmxpbmVIZWlnaHQgPiAwXHJcbiAgICAgICAgICAgICAgICA/IG9iai5saW5lSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKClcclxuICAgICAgOiBudWxsO1xyXG5cclxuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQgfHwgbnVsbDtcclxuICAgIGxldCBzdGFnZVJlY3QgPSBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgciA9IHN0YWdlPy5jb250YWluZXI/LigpPy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xyXG4gICAgICBpZiAocikge1xyXG4gICAgICAgIHN0YWdlUmVjdCA9IHtcclxuICAgICAgICAgIHg6IHIueCxcclxuICAgICAgICAgIHk6IHIueSxcclxuICAgICAgICAgIHdpZHRoOiByLndpZHRoLFxyXG4gICAgICAgICAgaGVpZ2h0OiByLmhlaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgc3RhZ2VSZWN0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaW5saW5lUmVjdCA9IG51bGw7XHJcbiAgICBsZXQgaW5saW5lU3R5bGUgPSBudWxsO1xyXG4gICAgbGV0IGlubGluZUNvbnRlbnRSZWN0ID0gbnVsbDtcclxuICAgIGxldCBpbmxpbmVDb250ZW50TWV0cmljcyA9IG51bGw7XHJcbiAgICBpZiAoc25hcHNob3RJZCkge1xyXG4gICAgICBjb25zdCBzYWZlSWQgPSBTdHJpbmcoc25hcHNob3RJZCkucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xyXG4gICAgICBjb25zdCBvdmVybGF5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pbmxpbmUtZWRpdG9yLWlkPVwiJHtzYWZlSWR9XCJdYCk7XHJcbiAgICAgIGlmIChvdmVybGF5RWwpIHtcclxuICAgICAgICBjb25zdCByID0gb3ZlcmxheUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlubGluZVJlY3QgPSB7XHJcbiAgICAgICAgICB4OiByLngsXHJcbiAgICAgICAgICB5OiByLnksXHJcbiAgICAgICAgICB3aWR0aDogci53aWR0aCxcclxuICAgICAgICAgIGhlaWdodDogci5oZWlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbmxpbmVTdHlsZSA9IHtcclxuICAgICAgICAgIGxlZnQ6IG92ZXJsYXlFbC5zdHlsZS5sZWZ0LFxyXG4gICAgICAgICAgdG9wOiBvdmVybGF5RWwuc3R5bGUudG9wLFxyXG4gICAgICAgICAgbWluV2lkdGg6IG92ZXJsYXlFbC5zdHlsZS5taW5XaWR0aCxcclxuICAgICAgICAgIG1heFdpZHRoOiBvdmVybGF5RWwuc3R5bGUubWF4V2lkdGgsXHJcbiAgICAgICAgICB3aWR0aDogb3ZlcmxheUVsLnN0eWxlLndpZHRoLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IG92ZXJsYXlFbC5xdWVyeVNlbGVjdG9yKCdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXScpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRSZWN0ID0gY29udGVudEVsPy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xyXG4gICAgICAgIGlmIChjb250ZW50UmVjdCkge1xyXG4gICAgICAgICAgaW5saW5lQ29udGVudFJlY3QgPSB7XHJcbiAgICAgICAgICAgIHg6IGNvbnRlbnRSZWN0LngsXHJcbiAgICAgICAgICAgIHk6IGNvbnRlbnRSZWN0LnksXHJcbiAgICAgICAgICAgIHdpZHRoOiBjb250ZW50UmVjdC53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBjb250ZW50UmVjdC5oZWlnaHQsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmxpbmVDb250ZW50TWV0cmljcyA9IGNvbnRlbnRFbFxyXG4gICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgc2Nyb2xsV2lkdGg6IGNvbnRlbnRFbC5zY3JvbGxXaWR0aCxcclxuICAgICAgICAgICAgICBjbGllbnRXaWR0aDogY29udGVudEVsLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgIGlzRm9jdXNlZDogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gY29udGVudEVsLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgdHJhbnNmb3JtZXJSZWN0ID0gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gc3RhZ2U/LmZpbmRPbmU/LihcIlRyYW5zZm9ybWVyXCIpO1xyXG4gICAgICBpZiAodHJhbnNmb3JtZXIpIHtcclxuICAgICAgICBjb25zdCB0clJlY3QgPSB0cmFuc2Zvcm1lci5nZXRDbGllbnRSZWN0KHtcclxuICAgICAgICAgIHNraXBUcmFuc2Zvcm06IGZhbHNlLFxyXG4gICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcclxuICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0cmFuc2Zvcm1lci5ub2Rlcz8uKCkgfHwgW107XHJcbiAgICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gdHJSZWN0XHJcbiAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICB4OiB0clJlY3QueCxcclxuICAgICAgICAgICAgICB5OiB0clJlY3QueSxcclxuICAgICAgICAgICAgICB3aWR0aDogdHJSZWN0LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogdHJSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgICBub2Rlc0NvdW50OiBub2Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgaW5jbHVkZXNTbmFwc2hvdE5vZGU6ICEhKG5vZGUgJiYgbm9kZXMuaW5jbHVkZXMobm9kZSkpLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlubGluZURlYnVnTG9nKGBzbmFwc2hvdC0ke2V2ZW50TmFtZX1gLCB7XHJcbiAgICAgIC4uLmZyYW1lTWV0YSxcclxuICAgICAgLi4uZXh0cmEsXHJcbiAgICAgIGlkOiBzbmFwc2hvdElkLFxyXG4gICAgICBldmVudE5hbWUsXHJcbiAgICAgIGVkaXRpbmdJZDogZWRpdGluZy5pZCA/PyBudWxsLFxyXG4gICAgICBjdXJyZW50RWRpdGluZ0lkOiB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbCxcclxuICAgICAgb3ZlcmxheU1vdW50ZWRJZDogaW5saW5lT3ZlcmxheU1vdW50ZWRJZCA/PyBudWxsLFxyXG4gICAgICBpbmxpbmVBQjogaW5saW5lRGVidWdBQixcclxuICAgICAgZXNjYWxhVmlzdWFsLFxyXG4gICAgICBzdGFnZVJlY3QsXHJcbiAgICAgIG5vZGVNZXRyaWNzLFxyXG4gICAgICBvYmpNZXRyaWNzLFxyXG4gICAgICB0cmFuc2Zvcm1lclJlY3QsXHJcbiAgICAgIGlubGluZVJlY3QsXHJcbiAgICAgIGlubGluZVN0eWxlLFxyXG4gICAgICBpbmxpbmVDb250ZW50UmVjdCxcclxuICAgICAgaW5saW5lQ29udGVudE1ldHJpY3MsXHJcbiAgICAgIHNjcm9sbFg6IHdpbmRvdy5zY3JvbGxYLFxyXG4gICAgICBzY3JvbGxZOiB3aW5kb3cuc2Nyb2xsWSxcclxuICAgICAgaW5uZXJXaWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgIGlubmVySGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICB9KTtcclxuICB9LCBbZWRpdGluZy5pZCwgZXNjYWxhVmlzdWFsLCBpbmxpbmVEZWJ1Z0FCLCBpbmxpbmVPdmVybGF5TW91bnRlZElkLCBvYmpldG9zLCBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50SWQgPSBlZGl0aW5nLmlkIHx8IG51bGw7XHJcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuICAgIGNvbnN0IHByZXYgPSBpbmxpbmVSZW5kZXJWYWx1ZVJlZi5jdXJyZW50O1xyXG5cclxuICAgIGlmIChjdXJyZW50SWQgJiYgcHJldi5pZCA9PT0gY3VycmVudElkICYmIHByZXYudmFsdWUgIT09IGN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICBjb25zdCBwcmV2U3RhdHMgPSBnZXRJbmxpbmVMaW5lU3RhdHMocHJldi52YWx1ZSk7XHJcbiAgICAgIGNvbnN0IG5leHRTdGF0cyA9IGdldElubGluZUxpbmVTdGF0cyhjdXJyZW50VmFsdWUpO1xyXG4gICAgICBjb25zdCBsaW5lYnJlYWtDaGFuZ2VkID1cclxuICAgICAgICBwcmV2U3RhdHMubGluZUNvdW50ICE9PSBuZXh0U3RhdHMubGluZUNvdW50IHx8XHJcbiAgICAgICAgcHJldlN0YXRzLnRyYWlsaW5nTmV3bGluZXMgIT09IG5leHRTdGF0cy50cmFpbGluZ05ld2xpbmVzO1xyXG5cclxuICAgICAgaWYgKGxpbmVicmVha0NoYW5nZWQpIHtcclxuICAgICAgICBjb25zdCBmcmFtZU1ldGEgPSBuZXh0SW5saW5lRnJhbWVNZXRhKCk7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbY3VycmVudElkXSB8fCBudWxsO1xyXG4gICAgICAgIGNvbnN0IG5vZGVNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShub2RlKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCkgfHwgc3RhZ2VSZWYuY3VycmVudCB8fCBudWxsO1xyXG4gICAgICAgIGxldCB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IHN0YWdlPy5maW5kT25lPy4oXCJUcmFuc2Zvcm1lclwiKTtcclxuICAgICAgICAgIGlmICh0cmFuc2Zvcm1lcikge1xyXG4gICAgICAgICAgICBjb25zdCB0clJlY3QgPSB0cmFuc2Zvcm1lci5nZXRDbGllbnRSZWN0KHtcclxuICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcclxuICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IHRyYW5zZm9ybWVyLm5vZGVzPy4oKSB8fCBbXTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gdHJSZWN0XHJcbiAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgIHg6IHRyUmVjdC54LFxyXG4gICAgICAgICAgICAgICAgICB5OiB0clJlY3QueSxcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6IHRyUmVjdC53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0clJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICBub2Rlc0NvdW50OiBub2Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgIGluY2x1ZGVzRWRpdGluZ05vZGU6ICEhKG5vZGUgJiYgbm9kZXMuaW5jbHVkZXMobm9kZSkpLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIHRyYW5zZm9ybWVyUmVjdCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb3ZlcmxheVJlY3QgPSBudWxsO1xyXG4gICAgICAgIGxldCBjb250ZW50UmVjdCA9IG51bGw7XHJcbiAgICAgICAgY29uc3Qgc2FmZUlkID0gU3RyaW5nKGN1cnJlbnRJZCkucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlubGluZS1lZGl0b3ItaWQ9XCIke3NhZmVJZH1cIl1gKTtcclxuICAgICAgICBpZiAob3ZlcmxheUVsKSB7XHJcbiAgICAgICAgICBjb25zdCByID0gb3ZlcmxheUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgb3ZlcmxheVJlY3QgPSB7XHJcbiAgICAgICAgICAgIHg6IHIueCxcclxuICAgICAgICAgICAgeTogci55LFxyXG4gICAgICAgICAgICB3aWR0aDogci53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiByLmhlaWdodCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBjb25zdCBjb250ZW50RWwgPSBvdmVybGF5RWwucXVlcnlTZWxlY3RvcignW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nKTtcclxuICAgICAgICAgIGNvbnN0IGNyID0gY29udGVudEVsPy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xyXG4gICAgICAgICAgaWYgKGNyKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRSZWN0ID0ge1xyXG4gICAgICAgICAgICAgIHg6IGNyLngsXHJcbiAgICAgICAgICAgICAgeTogY3IueSxcclxuICAgICAgICAgICAgICB3aWR0aDogY3Iud2lkdGgsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiBjci5oZWlnaHQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImxpbmVicmVhay10cmFuc2Zvcm1lclwiLCB7XHJcbiAgICAgICAgICAuLi5mcmFtZU1ldGEsXHJcbiAgICAgICAgICBpZDogY3VycmVudElkLFxyXG4gICAgICAgICAgcHJldkxlbmd0aDogcHJldlN0YXRzLmxlbmd0aCxcclxuICAgICAgICAgIG5leHRMZW5ndGg6IG5leHRTdGF0cy5sZW5ndGgsXHJcbiAgICAgICAgICBwcmV2TGluZUNvdW50OiBwcmV2U3RhdHMubGluZUNvdW50LFxyXG4gICAgICAgICAgbmV4dExpbmVDb3VudDogbmV4dFN0YXRzLmxpbmVDb3VudCxcclxuICAgICAgICAgIHByZXZUcmFpbGluZ05ld2xpbmVzOiBwcmV2U3RhdHMudHJhaWxpbmdOZXdsaW5lcyxcclxuICAgICAgICAgIG5leHRUcmFpbGluZ05ld2xpbmVzOiBuZXh0U3RhdHMudHJhaWxpbmdOZXdsaW5lcyxcclxuICAgICAgICAgIG92ZXJsYXlNb3VudGVkSWQ6IGlubGluZU92ZXJsYXlNb3VudGVkSWQgPz8gbnVsbCxcclxuICAgICAgICAgIG92ZXJsYXlSZWN0LFxyXG4gICAgICAgICAgY29udGVudFJlY3QsXHJcbiAgICAgICAgICBub2RlTWV0cmljcyxcclxuICAgICAgICAgIHRyYW5zZm9ybWVyUmVjdCxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiaW5wdXQ6IGFmdGVyLXJlbmRlclwiLCB7XHJcbiAgICAgICAgaWQ6IGN1cnJlbnRJZCxcclxuICAgICAgICBwcmV2aW91c0xlbmd0aDogcHJldi52YWx1ZS5sZW5ndGgsXHJcbiAgICAgICAgdmFsdWVMZW5ndGg6IGN1cnJlbnRWYWx1ZS5sZW5ndGgsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlubGluZVJlbmRlclZhbHVlUmVmLmN1cnJlbnQgPSB7XHJcbiAgICAgIGlkOiBjdXJyZW50SWQsXHJcbiAgICAgIHZhbHVlOiBjdXJyZW50VmFsdWUsXHJcbiAgICB9O1xyXG4gIH0sIFtcclxuICAgIGVkaXRpbmcuaWQsXHJcbiAgICBlZGl0aW5nLnZhbHVlLFxyXG4gICAgY2FwdHVyZUlubGluZVNuYXBzaG90LFxyXG4gICAgaW5saW5lT3ZlcmxheU1vdW50ZWRJZCxcclxuICAgIG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUsXHJcbiAgXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgICBpZiAod2luZG93Ll9fSU5MSU5FX0RFQlVHID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHdpbmRvdy5fX0lOTElORV9ERUJVRyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAod2luZG93Ll9fSU5MSU5FX0ZSQU1FX1NFUSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEgPSAwO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgbm9ybWFsaXplZEFCID0gbm9ybWFsaXplSW5saW5lRGVidWdBQih3aW5kb3cuX19JTkxJTkVfQUIpO1xyXG4gICAgd2luZG93Ll9fSU5MSU5FX0FCID0geyAuLi5ub3JtYWxpemVkQUIgfTtcclxuICAgIGlubGluZURlYnVnTG9nKFwiZGVidWctZW5hYmxlZFwiLCB7XHJcbiAgICAgIGVuYWJsZWQ6IHdpbmRvdy5fX0lOTElORV9ERUJVRyxcclxuICAgICAgaW5saW5lQUI6IHdpbmRvdy5fX0lOTElORV9BQixcclxuICAgICAgZnJhbWVTZXE6IHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEsXHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50SWQgPSBlZGl0aW5nLmlkIHx8IG51bGw7XHJcbiAgICBjb25zdCBwcmV2aW91c0lkID0gcHJldkVkaXRpbmdJZFJlZi5jdXJyZW50O1xyXG5cclxuICAgIGlmIChjdXJyZW50SWQgJiYgY3VycmVudElkICE9PSBwcmV2aW91c0lkKSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZW50ZXI6IHJhZjFcIiwgeyBpZDogY3VycmVudElkLCBwcmV2aW91c0lkIH0pO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJlbnRlcjogcmFmMlwiLCB7IGlkOiBjdXJyZW50SWQsIHByZXZpb3VzSWQgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghY3VycmVudElkICYmIHByZXZpb3VzSWQpIHtcclxuICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZXhpdDogaW1tZWRpYXRlXCIsIHsgaWQ6IHByZXZpb3VzSWQgfSk7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZXhpdDogcmFmMVwiLCB7IGlkOiBwcmV2aW91c0lkIH0pO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJleGl0OiByYWYyXCIsIHsgaWQ6IHByZXZpb3VzSWQgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXZFZGl0aW5nSWRSZWYuY3VycmVudCA9IGN1cnJlbnRJZDtcclxuICB9LCBbZWRpdGluZy5pZCwgY2FwdHVyZUlubGluZVNuYXBzaG90XSk7XHJcblxyXG4gIGNvbnN0IGZ1ZW50ZXNOZWNlc2FyaWFzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICAvLyBmdWVudGVzIHVzYWRhcyBlbiB0ZXh0b3MgKyBjb3VudGRvd24gKHNpIGFwbGljYSkgKyBmb3JtYXMgY29uIHRleHRvIChyZWN0KVxyXG4gICAgY29uc3QgZm9udHMgPSAob2JqZXRvcyB8fCBbXSlcclxuICAgICAgLmZpbHRlcihvID0+IChvLnRpcG8gPT09IFwidGV4dG9cIiB8fCBvLnRpcG8gPT09IFwiY291bnRkb3duXCIgfHwgKG8udGlwbyA9PT0gXCJmb3JtYVwiICYmIG8uZmlndXJhID09PSBcInJlY3RcIikpICYmIG8uZm9udEZhbWlseSlcclxuICAgICAgLm1hcChvID0+IFN0cmluZyhvLmZvbnRGYW1pbHkpLnJlcGxhY2UoL1snXCJdL2csIFwiXCIpLnNwbGl0KFwiLFwiKVswXS50cmltKCkpXHJcbiAgICAgIC5maWx0ZXIoQm9vbGVhbik7XHJcblxyXG4gICAgcmV0dXJuIFsuLi5uZXcgU2V0KGZvbnRzKV07XHJcbiAgfSwgW29iamV0b3NdKTtcclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xyXG4gICAgd2luZG93LmVkaXRpbmcgPSBlZGl0aW5nO1xyXG4gIH0sIFtlZGl0aW5nLmlkLCBlZGl0aW5nLnZhbHVlXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzQ3VycmVudEVkaXRpbmdJZCA9IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA/PyBudWxsO1xyXG4gICAgd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID0gZWRpdGluZz8uaWQgfHwgbnVsbDtcclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcInN5bmMtZ2xvYmFsLWVkaXRpbmdcIiwge1xyXG4gICAgICBlZGl0aW5nSWQ6IGVkaXRpbmc/LmlkIHx8IG51bGwsXHJcbiAgICAgIHZhbHVlTGVuZ3RoOiBTdHJpbmcoZWRpdGluZz8udmFsdWUgPz8gXCJcIikubGVuZ3RoLFxyXG4gICAgICBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQsXHJcbiAgICAgIG5leHRDdXJyZW50RWRpdGluZ0lkOiB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpbmxpbmVEZWJ1Z0xvZyhcInN5bmMtZ2xvYmFsLWVkaXRpbmctY2xlYW51cFwiLCB7XHJcbiAgICAgICAgZWRpdGluZ0lkOiBlZGl0aW5nPy5pZCB8fCBudWxsLFxyXG4gICAgICAgIGN1cnJlbnRFZGl0aW5nSWQ6IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA/PyBudWxsLFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHdpbmRvdy5lZGl0aW5nICYmIHdpbmRvdy5lZGl0aW5nLmlkID09PSBlZGl0aW5nLmlkKSB7XHJcbiAgICAgICAgZGVsZXRlIHdpbmRvdy5lZGl0aW5nO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPT09IGVkaXRpbmcuaWQpIHtcclxuICAgICAgICB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtlZGl0aW5nLmlkXSk7XHJcblxyXG5cclxuICAvLyA/PyBGdW5jacOzbiBwYXJhIGFjdHVhbGl6YXIgb2Zmc2V0cyBkZSBpbWFnZW4gZGUgZm9uZG8gKFNJTiBVTkRFRklORUQpXHJcbiAgY29uc3QgYWN0dWFsaXphck9mZnNldEZvbmRvID0gdXNlQ2FsbGJhY2soKHNlY2Npb25JZCwgbnVldm9zT2Zmc2V0cywgZXNQcmV2aWV3ID0gZmFsc2UpID0+IHtcclxuICAgIHNldFNlY2Npb25lcyhwcmV2ID0+XHJcbiAgICAgIHByZXYubWFwKHMgPT4ge1xyXG4gICAgICAgIGlmIChzLmlkICE9PSBzZWNjaW9uSWQpIHJldHVybiBzO1xyXG5cclxuICAgICAgICAvLyA/PyBDUkVBUiBPQkpFVE8gTElNUElPXHJcbiAgICAgICAgY29uc3Qgc2VjY2lvbkFjdHVhbGl6YWRhID0geyAuLi5zIH07XHJcblxyXG4gICAgICAgIC8vID8/IFNPTE8gQUdSRUdBUiBDQU1QT1MgU0kgVElFTkVOIFZBTE9SRVMgVsOBTElET1NcclxuICAgICAgICBpZiAobnVldm9zT2Zmc2V0cy5vZmZzZXRYICE9PSB1bmRlZmluZWQgJiYgbnVldm9zT2Zmc2V0cy5vZmZzZXRYICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBzZWNjaW9uQWN0dWFsaXphZGEuZm9uZG9JbWFnZW5PZmZzZXRYID0gbnVldm9zT2Zmc2V0cy5vZmZzZXRYO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVldm9zT2Zmc2V0cy5vZmZzZXRZICE9PSB1bmRlZmluZWQgJiYgbnVldm9zT2Zmc2V0cy5vZmZzZXRZICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBzZWNjaW9uQWN0dWFsaXphZGEuZm9uZG9JbWFnZW5PZmZzZXRZID0gbnVldm9zT2Zmc2V0cy5vZmZzZXRZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNlY2Npb25BY3R1YWxpemFkYTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfSwgW3NldFNlY2Npb25lc10pO1xyXG5cclxuICAvLyBBc2lnbmEgdW5hIGltYWdlbiAocG9yIFVSTCkgYSBsYSBjZWxkYSBhY3RpdmFcclxuICBmdW5jdGlvbiBhc2lnbmFySW1hZ2VuQUdhbGVyaWEodXJsKSB7XHJcbiAgICBzZXRPYmpldG9zKChwcmV2KSA9PiB7XHJcbiAgICAgIGlmICghY2VsZGFHYWxlcmlhQWN0aXZhKSByZXR1cm4gcHJldjtcclxuICAgICAgY29uc3QgeyBvYmpJZCwgaW5kZXggfSA9IGNlbGRhR2FsZXJpYUFjdGl2YTtcclxuICAgICAgY29uc3QgaSA9IHByZXYuZmluZEluZGV4KG8gPT4gby5pZCA9PT0gb2JqSWQgJiYgby50aXBvID09PSBcImdhbGVyaWFcIik7XHJcbiAgICAgIGlmIChpID09PSAtMSkgcmV0dXJuIHByZXY7XHJcblxyXG4gICAgICBjb25zdCBjb3BpYSA9IHN0cnVjdHVyZWRDbG9uZShwcmV2KTtcclxuICAgICAgY29uc3QgZyA9IGNvcGlhW2ldO1xyXG4gICAgICAvLyBTZWd1cmlkYWQ6IHF1ZSBleGlzdGEgeSBxdWUgaGF5YSBjZWxsc1tpbmRleF1cclxuICAgICAgaWYgKCFnPy5jZWxscyB8fCAhZy5jZWxsc1tpbmRleF0pIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgZy5jZWxsc1tpbmRleF0gPSB7XHJcbiAgICAgICAgLi4uKGcuY2VsbHNbaW5kZXhdID8/IHt9KSxcclxuICAgICAgICBtZWRpYVVybDogdXJsLFxyXG4gICAgICAgIGZpdDogZy5jZWxsc1tpbmRleF0/LmZpdCA/PyBcImNvdmVyXCIsXHJcbiAgICAgICAgYmc6IGcuY2VsbHNbaW5kZXhdPy5iZyA/PyBcIiNlZWVcIixcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIGNvcGlhO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBMaW1waWFyIGZsYWcgZGUgcmVzaXplIGFsIG1vbnRhciBlbCBjb21wb25lbnRlXHJcbiAgICB3aW5kb3cuX3Jlc2l6ZURhdGEgPSBudWxsO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgW21vc3RyYXJQYW5lbFosIHNldE1vc3RyYXJQYW5lbFpdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBtb3ZlckVsZW1lbnRvID0gKGFjY2lvbikgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSBvYmpldG9zLmZpbmRJbmRleCgobykgPT4gby5pZCA9PT0gZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSk7XHJcbiAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbnVldm9zID0gWy4uLm9iamV0b3NdO1xyXG4gICAgY29uc3QgW2VsZW1lbnRvXSA9IG51ZXZvcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuICAgIGlmIChhY2Npb24gPT09IFwiYWwtZnJlbnRlXCIpIHtcclxuICAgICAgbnVldm9zLnB1c2goZWxlbWVudG8pO1xyXG4gICAgfSBlbHNlIGlmIChhY2Npb24gPT09IFwiYWwtZm9uZG9cIikge1xyXG4gICAgICBudWV2b3MudW5zaGlmdChlbGVtZW50byk7XHJcbiAgICB9IGVsc2UgaWYgKGFjY2lvbiA9PT0gXCJzdWJpclwiICYmIGluZGV4IDwgb2JqZXRvcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIG51ZXZvcy5zcGxpY2UoaW5kZXggKyAxLCAwLCBlbGVtZW50byk7XHJcbiAgICB9IGVsc2UgaWYgKGFjY2lvbiA9PT0gXCJiYWphclwiICYmIGluZGV4ID4gMCkge1xyXG4gICAgICBudWV2b3Muc3BsaWNlKGluZGV4IC0gMSwgMCwgZWxlbWVudG8pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbnVldm9zLnNwbGljZShpbmRleCwgMCwgZWxlbWVudG8pOyAvLyBzaW4gY2FtYmlvc1xyXG4gICAgfVxyXG5cclxuICAgIHNldE9iamV0b3MobnVldm9zKTtcclxuICAgIHNldE1vc3RyYXJQYW5lbFooZmFsc2UpO1xyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG4gIGNvbnN0IHtcclxuICAgIG9uRGVzaGFjZXIsXHJcbiAgICBvblJlaGFjZXIsXHJcbiAgICBvbkR1cGxpY2FyLFxyXG4gICAgb25FbGltaW5hcixcclxuICAgIG9uQ29waWFyLFxyXG4gICAgb25QZWdhcixcclxuICAgIG9uQ2FtYmlhckFsaW5lYWNpb25cclxuICB9ID0gdXNlRWRpdG9ySGFuZGxlcnMoe1xyXG4gICAgb2JqZXRvcyxcclxuICAgIHNldE9iamV0b3MsXHJcbiAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLFxyXG4gICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyxcclxuICAgIGhpc3RvcmlhbCxcclxuICAgIHNldEhpc3RvcmlhbCxcclxuICAgIGZ1dHVyb3MsXHJcbiAgICBzZXRGdXR1cm9zLFxyXG4gICAgc2V0U2VjY2lvbmVzLFxyXG4gICAgaWdub3JlTmV4dFVwZGF0ZVJlZixcclxuICAgIHNldE1vc3RyYXJQYW5lbFpcclxuICB9KTtcclxuXHJcblxyXG4gIHVzZUhpc3RvcnlNYW5hZ2VyKHtcclxuICAgIGNhcmdhZG8sXHJcbiAgICBvYmpldG9zLFxyXG4gICAgc2VjY2lvbmVzLFxyXG4gICAgc2V0SGlzdG9yaWFsLFxyXG4gICAgc2V0RnV0dXJvcyxcclxuICAgIGlnbm9yZU5leHRVcGRhdGVSZWYsXHJcbiAgfSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKTtcclxuICAgIGlmICghc3RhZ2UpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBjb250ZW50ID0gc3RhZ2UuY29udGVudDtcclxuICAgIGlmICghY29udGVudCkgcmV0dXJuO1xyXG5cclxuICAgIC8vID8gRXN0YWRvIGJhc2U6IHNjcm9sbCB2ZXJ0aWNhbCBwZXJtaXRpZG8gc29icmUgY2FudmFzIHZhY8Otb1xyXG4gICAgY29uc3Qgc2V0U2Nyb2xsTW9kZSA9ICgpID0+IHtcclxuICAgICAgY29udGVudC5zdHlsZS50b3VjaEFjdGlvbiA9IFwicGFuLXlcIjtcclxuICAgIH07XHJcblxyXG4gICAgLy8gPyBEdXJhbnRlIGRyYWc6IGJsb3F1ZWFyIHNjcm9sbCBwYXJhIGVkaXRhciBmaW5vXHJcbiAgICBjb25zdCBzZXRFZGl0TW9kZSA9ICgpID0+IHtcclxuICAgICAgY29udGVudC5zdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyA/IE5VRVZPOiBlc3RhZG8gUmVhY3QgY29uZmlhYmxlIHBhcmEgVUkgKFRyYW5zZm9ybWVyL2hvdmVyL2V0Yy4pXHJcbiAgICBjb25zdCBvbkRyYWdTdGFydCA9ICgpID0+IHtcclxuICAgICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb25EcmFnRW5kID0gKCkgPT4ge1xyXG4gICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gPyBGYWlsc2FmZTogcG9yIHNpIHRlcm1pbmEg4oCccmFyb+KAnSAodG91Y2ggY2FuY2VsLCBwb2ludGVyIHVwLCBldGMuKVxyXG4gICAgY29uc3Qgc3RvcERyYWdnaW5nID0gKCkgPT4ge1xyXG4gICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgICAgc2V0U2Nyb2xsTW9kZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbmljaWFsXHJcbiAgICBzZXRTY3JvbGxNb2RlKCk7XHJcbiAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTsgLy8gPz8gcG9yIGxhcyBkdWRhcywgYWwgbW9udGFyXHJcbiAgICBjb250ZW50LnN0eWxlLldlYmtpdFVzZXJTZWxlY3QgPSBcIm5vbmVcIjtcclxuICAgIGNvbnRlbnQuc3R5bGUuV2Via2l0VG91Y2hDYWxsb3V0ID0gXCJub25lXCI7XHJcblxyXG4gICAgLy8gS29udmEgZXZlbnRzXHJcbiAgICBzdGFnZS5vbihcImRyYWdzdGFydFwiLCBzZXRFZGl0TW9kZSk7XHJcbiAgICBzdGFnZS5vbihcImRyYWdlbmRcIiwgc2V0U2Nyb2xsTW9kZSk7XHJcblxyXG4gICAgLy8gPyBOVUVWTyAoVUkgc3RhdGUpXHJcbiAgICBzdGFnZS5vbihcImRyYWdzdGFydFwiLCBvbkRyYWdTdGFydCk7XHJcbiAgICBzdGFnZS5vbihcImRyYWdlbmRcIiwgb25EcmFnRW5kKTtcclxuXHJcbiAgICAvLyBGYWlsc2FmZXMgKHNpIGVsIGRyYWcgdGVybWluYSByYXJvKVxyXG4gICAgc3RhZ2Uub24oXCJ0b3VjaGVuZFwiLCBzdG9wRHJhZ2dpbmcpO1xyXG4gICAgc3RhZ2Uub24oXCJwb2ludGVydXBcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgIHN0YWdlLm9uKFwibW91c2V1cFwiLCBzdG9wRHJhZ2dpbmcpO1xyXG4gICAgc3RhZ2Uub24oXCJ0b3VjaGNhbmNlbFwiLCBzdG9wRHJhZ2dpbmcpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHN0YWdlLm9mZihcImRyYWdzdGFydFwiLCBzZXRFZGl0TW9kZSk7XHJcbiAgICAgIHN0YWdlLm9mZihcImRyYWdlbmRcIiwgc2V0U2Nyb2xsTW9kZSk7XHJcblxyXG4gICAgICBzdGFnZS5vZmYoXCJkcmFnc3RhcnRcIiwgb25EcmFnU3RhcnQpO1xyXG4gICAgICBzdGFnZS5vZmYoXCJkcmFnZW5kXCIsIG9uRHJhZ0VuZCk7XHJcblxyXG4gICAgICBzdGFnZS5vZmYoXCJ0b3VjaGVuZFwiLCBzdG9wRHJhZ2dpbmcpO1xyXG4gICAgICBzdGFnZS5vZmYoXCJwb2ludGVydXBcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgICAgc3RhZ2Uub2ZmKFwibW91c2V1cFwiLCBzdG9wRHJhZ2dpbmcpO1xyXG4gICAgICBzdGFnZS5vZmYoXCJ0b3VjaGNhbmNlbFwiLCBzdG9wRHJhZ2dpbmcpO1xyXG4gICAgfTtcclxuICB9LCBbc2V0SXNEcmFnZ2luZ10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCkgfHwgc3RhZ2VSZWYuY3VycmVudDtcbiAgICBjb25zdCBjb250ZW50ID0gc3RhZ2U/LmNvbnRlbnQgfHwgc3RhZ2U/LmNvbnRhaW5lcj8uKCk7XG4gICAgaWYgKCFjb250ZW50KSByZXR1cm47XG5cbiAgICBjb25zdCBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dCA9IChwb2ludGVyVHlwZSkgPT4ge1xuICAgICAgY29uc3QgaXNUb3VjaExpa2UgPVxuICAgICAgICBwb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiIHx8XG4gICAgICAgIHBvaW50ZXJUeXBlID09PSBcInBlblwiIHx8XG4gICAgICAgICh0eXBlb2YgcG9pbnRlclR5cGUgIT09IFwic3RyaW5nXCIgJiYgaXNNb2JpbGUpO1xuICAgICAgS29udmEuZHJhZ0Rpc3RhbmNlID0gaXNUb3VjaExpa2UgPyAxNCA6IDU7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSAoZXZlbnQpID0+IHNldERyYWdEaXN0YW5jZUZvcklucHV0KGV2ZW50LnBvaW50ZXJUeXBlKTtcbiAgICBjb25zdCBvblRvdWNoU3RhcnQgPSAoKSA9PiBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dChcInRvdWNoXCIpO1xuICAgIGNvbnN0IG9uTW91c2VEb3duID0gKCkgPT4gc2V0RHJhZ0Rpc3RhbmNlRm9ySW5wdXQoXCJtb3VzZVwiKTtcblxuICAgIHNldERyYWdEaXN0YW5jZUZvcklucHV0KGlzTW9iaWxlID8gXCJ0b3VjaFwiIDogXCJtb3VzZVwiKTtcblxuICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIG9uUG9pbnRlckRvd24sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG9uVG91Y2hTdGFydCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbk1vdXNlRG93biwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnRlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIG9uUG9pbnRlckRvd24pO1xuICAgICAgY29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBvblRvdWNoU3RhcnQpO1xuICAgICAgY29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uTW91c2VEb3duKTtcbiAgICB9O1xuICB9LCBbaXNNb2JpbGVdKTtcblxuXG5cblxuICAvLyBSZWNvcmRhciDDumx0aW1hIHNlY2Npw7NuIGFjdGl2YVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNlY2Npb25BY3RpdmFJZFJlZi5jdXJyZW50ID0gc2VjY2lvbkFjdGl2YUlkO1xuICB9LCBbc2VjY2lvbkFjdGl2YUlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VjY2lvbkFjdGl2YUlkKSB3aW5kb3cuX2xhc3RTZWNjaW9uQWN0aXZhSWQgPSBzZWNjaW9uQWN0aXZhSWQ7XG4gIH0sIFtzZWNjaW9uQWN0aXZhSWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQpIHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInNhbGlyLW1vZG8tbW92ZXItZm9uZG9cIikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiYWN0aXZhci1tb2RvLW1vdmVyLWZvbmRvXCIsIHtcbiAgICAgICAgZGV0YWlsOiB7IHNlY3Rpb25JZDogbW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW21vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkXSk7XG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW51ZXZvVGV4dG9SZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG9iaiA9IG9iamV0b3MuZmluZCgobykgPT4gby5pZCA9PT0gbnVldm9UZXh0b1JlZi5jdXJyZW50KTtcclxuICAgIGlmIChvYmopIHtcclxuICAgICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyhbb2JqLmlkXSk7XHJcbiAgICAgIC8vIE5PIGluaWNpYXIgZWRpY2nDs24gYXV0b23DoXRpY2FtZW50ZSAtIHNvbG8gc2VsZWNjaW9uYXJcclxuICAgICAgbnVldm9UZXh0b1JlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgIH1cclxuICB9LCBbb2JqZXRvc10pO1xyXG5cclxuXHJcblxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlQ2xpY2tGdWVyYSA9IChlKSA9PiB7XHJcbiAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdChcIi5wb3B1cC1mdWVudGVcIikpIHtcclxuICAgICAgICBzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGUoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja0Z1ZXJhKTtcclxuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrRnVlcmEpO1xyXG4gIH0sIFtdKTtcclxuXHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChvbkhpc3RvcmlhbENoYW5nZSkge1xyXG5cclxuICAgICAgb25IaXN0b3JpYWxDaGFuZ2UoaGlzdG9yaWFsKTtcclxuICAgIH1cclxuICB9LCBbaGlzdG9yaWFsLCBvbkhpc3RvcmlhbENoYW5nZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG9uRnV0dXJvc0NoYW5nZSkge1xyXG5cclxuICAgICAgb25GdXR1cm9zQ2hhbmdlKGZ1dHVyb3MpO1xyXG4gICAgfVxyXG4gIH0sIFtmdXR1cm9zLCBvbkZ1dHVyb3NDaGFuZ2VdKTtcclxuXHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIFByZS1jYXJnYXIgZnVlbnRlcyBwb3B1bGFyZXMgYWwgaW5pY2lhclxyXG4gICAgZm9udE1hbmFnZXIucHJlbG9hZFBvcHVsYXJGb250cygpO1xyXG5cclxuICAgIC8vIEVzY3VjaGFyIGV2ZW50byBkZSBmdWVudGVzIGNhcmdhZGFzIHBhcmEgcmVkaWJ1amFyXHJcbiAgICBjb25zdCBoYW5kbGVGb250c0xvYWRlZCA9ICgpID0+IHtcclxuICAgICAgaWYgKHN0YWdlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBzdGFnZVJlZi5jdXJyZW50LmJhdGNoRHJhdygpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb250cy1sb2FkZWQnLCBoYW5kbGVGb250c0xvYWRlZCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvbnRzLWxvYWRlZCcsIGhhbmRsZUZvbnRzTG9hZGVkKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IGFsaXZlID0gdHJ1ZTtcclxuXHJcbiAgICBhc3luYyBmdW5jdGlvbiBwcmVjYXJnYXIoKSB7XHJcbiAgICAgIC8vIFNvbG8gcHJlY2FyZ2FyIGZ1ZW50ZXMgbnVldmFzIHBhcmEgZXZpdGFyIHJlLXJlbmRlcnMgZ2xvYmFsZXMgZGVsIHN0YWdlXHJcbiAgICAgIGlmICghZnVlbnRlc05lY2VzYXJpYXMubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHBlbmRpZW50ZXMgPSBmdWVudGVzTmVjZXNhcmlhcy5maWx0ZXIoXHJcbiAgICAgICAgKGZvbnROYW1lKSA9PiAhbG9hZGVkRm9udEZhbWlsaWVzUmVmLmN1cnJlbnQuaGFzKGZvbnROYW1lKVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoIXBlbmRpZW50ZXMubGVuZ3RoKSByZXR1cm47XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vID8gSWRlYWw6IHF1ZSBmb250TWFuYWdlci5sb2FkRm9udHMgZGV2dWVsdmEgUHJvbWlzZVxyXG4gICAgICAgIC8vIFNpIGhveSBubyBkZXZ1ZWx2ZSwgaWd1YWwgbG8gcmVzb2x2ZW1vcyBjb24gZG9jdW1lbnQuZm9udHMgbcOhcyBhYmFqby5cclxuICAgICAgICBjb25zdCBtYXliZVByb21pc2UgPSBmb250TWFuYWdlci5sb2FkRm9udHM/LihwZW5kaWVudGVzKTtcclxuXHJcbiAgICAgICAgLy8gU2kgZGV2dWVsdmUgcHJvbWlzZSwgZXNwZXJhbW9zXHJcbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSAmJiB0eXBlb2YgbWF5YmVQcm9taXNlLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgYXdhaXQgbWF5YmVQcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gPyBTZWd1bmRvIHNlZ3VybzogZXNwZXJhciBhIHF1ZSBlbCBicm93c2VyIGNvbmZpcm1lXHJcbiAgICAgICAgLy8gKGVzdG8gZ2FyYW50aXphIHF1ZSBubyBoYXlhIGZhbGxiYWNrKVxyXG4gICAgICAgIGlmIChkb2N1bWVudD8uZm9udHM/LmxvYWQpIHtcclxuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICBwZW5kaWVudGVzLm1hcChmID0+XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMubG9hZChgMTZweCBcIiR7Zn1cImApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYWxpdmUpIHJldHVybjtcclxuICAgICAgICBwZW5kaWVudGVzLmZvckVhY2goKGZvbnROYW1lKSA9PiBsb2FkZWRGb250RmFtaWxpZXNSZWYuY3VycmVudC5hZGQoZm9udE5hbWUpKTtcclxuXHJcbiAgICAgICAgLy8gUmVkcmF3IHBvciBzaSBhY2Fzb1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICBzdGFnZVJlZi5jdXJyZW50Py5iYXRjaERyYXc/LigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiPz8gRXJyb3IgcHJlY2FyZ2FuZG8gZnVlbnRlczpcIiwgZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTb2xvIHByZWNhcmdhciBjdWFuZG8geWEgY2FyZ2FzdGUgZWwgYm9ycmFkb3IgKHBhcmEgZXZpdGFyIG92ZXJsYXkgcmFybylcclxuICAgIGlmIChjYXJnYWRvKSBwcmVjYXJnYXIoKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4geyBhbGl2ZSA9IGZhbHNlOyB9O1xyXG4gIH0sIFtjYXJnYWRvLCBmdWVudGVzTmVjZXNhcmlhc10pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuXHJcbiAgfSwgW3NlbGVjY2lvbkFjdGl2YSwgYXJlYVNlbGVjY2lvbiwgaW5pY2lvU2VsZWNjaW9uXSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gIGNvbnN0IGFjdHVhbGl6YXJPYmpldG8gPSAoaW5kZXgsIG51ZXZvKSA9PiB7XHJcbiAgICBjb25zdCBudWV2b3MgPSBbLi4ub2JqZXRvc107XHJcbiAgICBjb25zdCB7IGZyb21UcmFuc2Zvcm0sIC4uLmNsZWFuTnVldm8gfSA9IG51ZXZvO1xyXG5cclxuICAgIC8vIFByZXNlcnZhciBkYXRvcyBlc3BlY8OtZmljb3Mgc2Vnw7puIGVsIHRpcG8gZGUgb2JqZXRvXHJcbiAgICBpZiAobnVldm9zW2luZGV4XS50aXBvID09PSAnZm9ybWEnICYmIG51ZXZvc1tpbmRleF0uZmlndXJhID09PSAnbGluZScpIHtcclxuICAgICAgLy8gUGFyYSBsw61uZWFzLCBhc2VndXJhciBxdWUgbG9zIHB1bnRvcyBzZSBwcmVzZXJ2ZW5cclxuICAgICAgbnVldm9zW2luZGV4XSA9IHtcclxuICAgICAgICAuLi5udWV2b3NbaW5kZXhdLFxyXG4gICAgICAgIC4uLmNsZWFuTnVldm8sXHJcbiAgICAgICAgcG9pbnRzOiBjbGVhbk51ZXZvLnBvaW50cyB8fCBudWV2b3NbaW5kZXhdLnBvaW50cyB8fCBbMCwgMCwgMTAwLCAwXVxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbnVldm9zW2luZGV4XSA9IHsgLi4ubnVldm9zW2luZGV4XSwgLi4uY2xlYW5OdWV2byB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldE9iamV0b3MobnVldm9zKTtcclxuICB9O1xyXG5cclxuXHJcbiAgY29uc3QgYWN0dWFsaXphck9iamV0b1BvcklkID0gKGlkLCBjYW1iaW9zKSA9PiB7XHJcbiAgICBjb25zdCBpbmRleCA9IG9iamV0b3MuZmluZEluZGV4KChvKSA9PiBvLmlkID09PSBpZCk7XHJcbiAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gY29uc29sZS53YXJuKFwiPyBObyBzZSBlbmNvbnRyw7MgZWwgb2JqZXRvIGNvbiBJRDpcIiwgaWQpO1xyXG4gICAgYWN0dWFsaXphck9iamV0byhpbmRleCwgY2FtYmlvcyk7XHJcbiAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgY29uc3Qgbm9ybWFsaXphck1lZGlkYXNHYWxlcmlhID0gdXNlQ2FsbGJhY2soKGdhbGVyaWEsIHdpZHRoQ2FuZGlkYXRlLCB4Q2FuZGlkYXRlKSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXNXaWR0aCA9IDgwMDtcclxuICAgIGNvbnN0IHJvd3MgPSBNYXRoLm1heCgxLCBOdW1iZXIoZ2FsZXJpYT8ucm93cykgfHwgMSk7XHJcbiAgICBjb25zdCBjb2xzID0gTWF0aC5tYXgoMSwgTnVtYmVyKGdhbGVyaWE/LmNvbHMpIHx8IDEpO1xyXG4gICAgY29uc3QgZ2FwID0gTWF0aC5tYXgoMCwgTnVtYmVyKGdhbGVyaWE/LmdhcCkgfHwgMCk7XHJcbiAgICBjb25zdCBjZWxsUmF0aW8gPVxyXG4gICAgICBnYWxlcmlhPy5yYXRpbyA9PT0gXCI0OjNcIlxyXG4gICAgICAgID8gMyAvIDRcclxuICAgICAgICA6IGdhbGVyaWE/LnJhdGlvID09PSBcIjE2OjlcIlxyXG4gICAgICAgICAgPyA5IC8gMTZcclxuICAgICAgICAgIDogMTtcclxuXHJcbiAgICBjb25zdCBtaW5HcmlkV2lkdGggPSBnYXAgKiAoY29scyAtIDEpICsgY29scztcclxuICAgIGxldCB3aWR0aFBjdCA9IChOdW1iZXIod2lkdGhDYW5kaWRhdGUpIC8gY2FudmFzV2lkdGgpICogMTAwO1xyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUod2lkdGhQY3QpKSB3aWR0aFBjdCA9IE51bWJlcihnYWxlcmlhPy53aWR0aFBjdCk7XHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh3aWR0aFBjdCkpIHdpZHRoUGN0ID0gNzA7XHJcbiAgICB3aWR0aFBjdCA9IE1hdGgubWF4KDEwLCBNYXRoLm1pbigxMDAsIHdpZHRoUGN0KSk7XHJcblxyXG4gICAgbGV0IHdpZHRoID0gKGNhbnZhc1dpZHRoICogd2lkdGhQY3QpIC8gMTAwO1xyXG4gICAgd2lkdGggPSBNYXRoLm1pbihjYW52YXNXaWR0aCwgTWF0aC5tYXgobWluR3JpZFdpZHRoLCB3aWR0aCkpO1xyXG4gICAgd2lkdGhQY3QgPSBNYXRoLm1heCgxMCwgTWF0aC5taW4oMTAwLCAod2lkdGggLyBjYW52YXNXaWR0aCkgKiAxMDApKTtcclxuXHJcbiAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoMCwgY2FudmFzV2lkdGggLSB3aWR0aCk7XHJcbiAgICBjb25zdCBmYWxsYmFja1ggPSBOdW1iZXIuaXNGaW5pdGUoTnVtYmVyKGdhbGVyaWE/LngpKSA/IE51bWJlcihnYWxlcmlhLngpIDogMDtcclxuICAgIGNvbnN0IHJhd1ggPSBOdW1iZXIuaXNGaW5pdGUoTnVtYmVyKHhDYW5kaWRhdGUpKSA/IE51bWJlcih4Q2FuZGlkYXRlKSA6IGZhbGxiYWNrWDtcclxuICAgIGNvbnN0IHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyYXdYLCBtYXhYKSk7XHJcblxyXG4gICAgY29uc3QgY2VsbFcgPSBNYXRoLm1heCgxLCAod2lkdGggLSBnYXAgKiAoY29scyAtIDEpKSAvIGNvbHMpO1xyXG4gICAgY29uc3QgY2VsbEggPSBjZWxsVyAqIGNlbGxSYXRpbztcclxuICAgIGNvbnN0IGhlaWdodCA9IHJvd3MgKiBjZWxsSCArIGdhcCAqIChyb3dzIC0gMSk7XHJcblxyXG4gICAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCwgd2lkdGhQY3QsIHggfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGFjdHVhbGl6YXJMaW5lYSA9IChsaW5lSWQsIG51ZXZhRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSBvYmpldG9zLmZpbmRJbmRleChvYmogPT4gb2JqLmlkID09PSBsaW5lSWQpO1xyXG5cclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChudWV2YURhdGEuaXNQcmV2aWV3KSB7XHJcbiAgICAgIC8vIFByZXZpZXc6IFNvbG8gYWN0dWFsaXphY2nDs24gdmlzdWFsIHNpbiBoaXN0b3JpYWxcclxuICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICBjb25zdCBudWV2b3MgPSBbLi4ucHJldl07XHJcbiAgICAgICAgY29uc3QgeyBpc1ByZXZpZXcsIC4uLmNsZWFuRGF0YSB9ID0gbnVldmFEYXRhO1xyXG5cclxuICAgICAgICAvLyBBc2VndXJhciBxdWUgbG9zIHB1bnRvcyBzaWVtcHJlIHNlYW4gdW4gYXJyYXkgdsOhbGlkb1xyXG4gICAgICAgIGlmIChjbGVhbkRhdGEucG9pbnRzKSB7XHJcbiAgICAgICAgICBjbGVhbkRhdGEucG9pbnRzID0gY2xlYW5EYXRhLnBvaW50cy5tYXAocCA9PiBwYXJzZUZsb2F0KHApIHx8IDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gPz8gUFJFU0VSVkFSIHN0cm9rZVdpZHRoIHNpIGV4aXN0ZVxyXG4gICAgICAgIGlmIChjbGVhbkRhdGEuc3Ryb2tlV2lkdGggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgY2xlYW5EYXRhLnN0cm9rZVdpZHRoID0gcGFyc2VJbnQoY2xlYW5EYXRhLnN0cm9rZVdpZHRoKSB8fCAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbnVldm9zW2luZGV4XSA9IHsgLi4ubnVldm9zW2luZGV4XSwgLi4uY2xlYW5EYXRhIH07XHJcbiAgICAgICAgcmV0dXJuIG51ZXZvcztcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKG51ZXZhRGF0YS5pc0ZpbmFsKSB7XHJcbiAgICAgIC8vIEZpbmFsOiBHdWFyZGFyIGVuIGhpc3RvcmlhbFxyXG4gICAgICBzZXRPYmpldG9zKHByZXYgPT4ge1xyXG4gICAgICAgIGNvbnN0IG51ZXZvcyA9IFsuLi5wcmV2XTtcclxuICAgICAgICBjb25zdCB7IGlzRmluYWwsIC4uLmNsZWFuRGF0YSB9ID0gbnVldmFEYXRhO1xyXG5cclxuICAgICAgICAvLyBBc2VndXJhciBxdWUgbG9zIHB1bnRvcyBzaWVtcHJlIHNlYW4gdW4gYXJyYXkgdsOhbGlkb1xyXG4gICAgICAgIGlmIChjbGVhbkRhdGEucG9pbnRzKSB7XHJcbiAgICAgICAgICBjbGVhbkRhdGEucG9pbnRzID0gY2xlYW5EYXRhLnBvaW50cy5tYXAocCA9PiBwYXJzZUZsb2F0KHApIHx8IDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gPz8gUFJFU0VSVkFSIHN0cm9rZVdpZHRoIHNpIGV4aXN0ZVxyXG4gICAgICAgIGlmIChjbGVhbkRhdGEuc3Ryb2tlV2lkdGggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgY2xlYW5EYXRhLnN0cm9rZVdpZHRoID0gcGFyc2VJbnQoY2xlYW5EYXRhLnN0cm9rZVdpZHRoKSB8fCAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbnVldm9zW2luZGV4XSA9IHsgLi4ubnVldm9zW2luZGV4XSwgLi4uY2xlYW5EYXRhIH07XHJcbiAgICAgICAgcmV0dXJuIG51ZXZvcztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gIC8vID8/IE3DqXRyaWNhcyBkZSB0ZXh0byBjb25zaXN0ZW50ZXMgY29uIGVsIHJlbmRlciBkZSBFbGVtZW50b0NhbnZhc1xyXG4gIGNvbnN0IG9idGVuZXJNZXRyaWNhc1RleHRvID0gKHRleHRvLCB7XHJcbiAgICBmb250U2l6ZSA9IDI0LFxyXG4gICAgZm9udEZhbWlseSA9IFwic2Fucy1zZXJpZlwiLFxyXG4gICAgZm9udFdlaWdodCA9IFwibm9ybWFsXCIsXHJcbiAgICBmb250U3R5bGUgPSBcIm5vcm1hbFwiLFxyXG4gICAgbGluZUhlaWdodCA9IDEuMixcclxuICB9ID0ge30pID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgaWYgKCFjdHgpIHtcclxuICAgICAgY29uc3QgZmFsbGJhY2tTaXplID0gTnVtYmVyLmlzRmluaXRlKGZvbnRTaXplKSAmJiBmb250U2l6ZSA+IDAgPyBmb250U2l6ZSA6IDI0O1xyXG4gICAgICByZXR1cm4geyB3aWR0aDogTWF0aC5tYXgoMjAsIFN0cmluZyh0ZXh0byA/PyBcIlwiKS5sZW5ndGggKiAoZmFsbGJhY2tTaXplICogMC41NSkpLCBoZWlnaHQ6IGZhbGxiYWNrU2l6ZSAqIGxpbmVIZWlnaHQgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzYWZlRm9udFNpemUgPSBOdW1iZXIuaXNGaW5pdGUoZm9udFNpemUpICYmIGZvbnRTaXplID4gMCA/IGZvbnRTaXplIDogMjQ7XHJcbiAgICBjb25zdCBzYWZlTGluZUhlaWdodCA9IE51bWJlci5pc0Zpbml0ZShsaW5lSGVpZ2h0KSAmJiBsaW5lSGVpZ2h0ID4gMCA/IGxpbmVIZWlnaHQgOiAxLjI7XHJcbiAgICBjb25zdCBzYWZlRmFtaWx5ID0gU3RyaW5nKGZvbnRGYW1pbHkgfHwgXCJzYW5zLXNlcmlmXCIpO1xyXG4gICAgY29uc3QgZm9udEZvckNhbnZhcyA9IHNhZmVGYW1pbHkuaW5jbHVkZXMoXCIsXCIpXHJcbiAgICAgID8gc2FmZUZhbWlseVxyXG4gICAgICA6ICgvXFxzLy50ZXN0KHNhZmVGYW1pbHkpID8gYFwiJHtzYWZlRmFtaWx5fVwiYCA6IHNhZmVGYW1pbHkpO1xyXG5cclxuICAgIGN0eC5mb250ID0gYCR7Zm9udFN0eWxlIHx8IFwibm9ybWFsXCJ9ICR7Zm9udFdlaWdodCB8fCBcIm5vcm1hbFwifSAke3NhZmVGb250U2l6ZX1weCAke2ZvbnRGb3JDYW52YXN9YDtcclxuXHJcbiAgICBjb25zdCByYXdUZXh0ID0gU3RyaW5nKHRleHRvID8/IFwiXCIpO1xyXG4gICAgY29uc3Qgc2FmZVRleHQgPSByYXdUZXh0LnJlcGxhY2UoL1sgXFx0XSskL2dtLCBcIlwiKTtcclxuICAgIGNvbnN0IGxpbmVzID0gc2FmZVRleHQuc3BsaXQoL1xccj9cXG4vKTtcclxuICAgIGNvbnN0IG1heExpbmVXaWR0aCA9IE1hdGgubWF4KC4uLmxpbmVzLm1hcCgobGluZSkgPT4gY3R4Lm1lYXN1cmVUZXh0KGxpbmUpLndpZHRoKSwgMjApO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHdpZHRoOiBtYXhMaW5lV2lkdGgsXHJcbiAgICAgIGhlaWdodDogc2FmZUZvbnRTaXplICogc2FmZUxpbmVIZWlnaHQgKiBNYXRoLm1heChsaW5lcy5sZW5ndGgsIDEpLFxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBjb25zdCBtZWRpckFuY2hvVGV4dG9Lb252YSA9IHVzZUNhbGxiYWNrKChvYmpUZXh0bywgdGV4dG9PYmpldGl2bywgZm9udFNpemVPdmVycmlkZSA9IG51bGwpID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNhZmVUZXh0ID0gU3RyaW5nKHRleHRvT2JqZXRpdm8gPz8gXCJcIikucmVwbGFjZSgvWyBcXHRdKyQvZ20sIFwiXCIpO1xuICAgICAgY29uc3Qgc2FmZUZvbnRGYW1pbHkgPSBmb250TWFuYWdlci5pc0ZvbnRBdmFpbGFibGUob2JqVGV4dG8uZm9udEZhbWlseSlcbiAgICAgICAgPyBvYmpUZXh0by5mb250RmFtaWx5XG4gICAgICAgIDogXCJzYW5zLXNlcmlmXCI7XG4gICAgICBjb25zdCBzYWZlRm9udFNpemUgPVxuICAgICAgICBOdW1iZXIuaXNGaW5pdGUoZm9udFNpemVPdmVycmlkZSkgJiYgZm9udFNpemVPdmVycmlkZSA+IDBcbiAgICAgICAgICA/IGZvbnRTaXplT3ZlcnJpZGVcbiAgICAgICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8uZm9udFNpemUpICYmIG9ialRleHRvLmZvbnRTaXplID4gMFxuICAgICAgICAgICAgPyBvYmpUZXh0by5mb250U2l6ZVxuICAgICAgICAgICAgOiAyNCk7XG4gICAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5saW5lSGVpZ2h0KSAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxuICAgICAgICAgID8gb2JqVGV4dG8ubGluZUhlaWdodFxuICAgICAgICAgIDogMS4yO1xuXHJcbiAgICAgIGNvbnN0IHByb2JlID0gbmV3IEtvbnZhLlRleHQoe1xuICAgICAgICB0ZXh0OiBzYWZlVGV4dCxcbiAgICAgICAgZm9udFNpemU6IHNhZmVGb250U2l6ZSxcbiAgICAgICAgZm9udEZhbWlseTogc2FmZUZvbnRGYW1pbHksXG4gICAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIixcbiAgICAgICAgZm9udFN0eWxlOiByZXNvbHZlS29udmFGb250U3R5bGUoXG4gICAgICAgICAgb2JqVGV4dG8uZm9udFN0eWxlIHx8IFwibm9ybWFsXCIsXG4gICAgICAgICAgb2JqVGV4dG8uZm9udFdlaWdodCB8fCBcIm5vcm1hbFwiXG4gICAgICAgICksXG4gICAgICAgIGxpbmVIZWlnaHQ6IGJhc2VMaW5lSGVpZ2h0ICogMC45MixcbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgd3JhcDogXCJub25lXCIsXG4gICAgICB9KTtcblxyXG4gICAgICBjb25zdCB3aWR0aCA9IE51bWJlcihwcm9iZS5nZXRUZXh0V2lkdGg/LigpIHx8IDApO1xyXG4gICAgICBwcm9iZS5kZXN0cm95KCk7XHJcblxyXG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHdpZHRoKSAmJiB3aWR0aCA+IDAgPyB3aWR0aCA6IG51bGw7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBjYWxjdWxhclhUZXh0b0NlbnRyYWRvUG9yVGFtYW5vID0gdXNlQ2FsbGJhY2soKG9ialRleHRvLCBuZXh0Rm9udFNpemUpID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueCkgPyBvYmpUZXh0by54IDogMDtcblxuICAgIGNvbnN0IHNhZmVOZXh0U2l6ZSA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dEZvbnRTaXplKSAmJiBuZXh0Rm9udFNpemUgPiAwXG4gICAgICAgID8gbmV4dEZvbnRTaXplXG4gICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwID8gb2JqVGV4dG8uZm9udFNpemUgOiAyNCk7XG5cbiAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XG4gICAgICB0eXBlb2Ygb2JqVGV4dG8ubGluZUhlaWdodCA9PT0gXCJudW1iZXJcIiAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxuICAgICAgICA/IG9ialRleHRvLmxpbmVIZWlnaHRcbiAgICAgICAgOiAxLjI7XG5cbiAgICBjb25zdCBwcmV2aW91c01ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xuICAgICAgZm9udFNpemU6IG9ialRleHRvLmZvbnRTaXplLFxuICAgICAgZm9udEZhbWlseTogb2JqVGV4dG8uZm9udEZhbWlseSxcbiAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQsXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcbiAgICAgIGxpbmVIZWlnaHQ6IGJhc2VMaW5lSGVpZ2h0ICogMC45MixcbiAgICB9KTtcblxuICAgIGNvbnN0IG5leHRNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzVGV4dG8ob2JqVGV4dG8udGV4dG8sIHtcbiAgICAgIGZvbnRTaXplOiBzYWZlTmV4dFNpemUsXG4gICAgICBmb250RmFtaWx5OiBvYmpUZXh0by5mb250RmFtaWx5LFxuICAgICAgZm9udFdlaWdodDogb2JqVGV4dG8uZm9udFdlaWdodCxcbiAgICAgIGZvbnRTdHlsZTogb2JqVGV4dG8uZm9udFN0eWxlLFxuICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcHJldmlvdXNXaWR0aEZyb21Lb252YSA9IG1lZGlyQW5jaG9UZXh0b0tvbnZhKFxuICAgICAgb2JqVGV4dG8sXG4gICAgICBvYmpUZXh0by50ZXh0byxcbiAgICAgIG9ialRleHRvLmZvbnRTaXplXG4gICAgKTtcbiAgICBjb25zdCBuZXh0V2lkdGhGcm9tS29udmEgPSBtZWRpckFuY2hvVGV4dG9Lb252YShcbiAgICAgIG9ialRleHRvLFxuICAgICAgb2JqVGV4dG8udGV4dG8sXG4gICAgICBzYWZlTmV4dFNpemVcbiAgICApO1xuXG4gICAgY29uc3QgcHJldmlvdXNXaWR0aCA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUocHJldmlvdXNXaWR0aEZyb21Lb252YSkgJiYgcHJldmlvdXNXaWR0aEZyb21Lb252YSA+IDBcbiAgICAgICAgPyBwcmV2aW91c1dpZHRoRnJvbUtvbnZhXG4gICAgICAgIDogcHJldmlvdXNNZXRyaWNzLndpZHRoO1xuICAgIGNvbnN0IG5leHRXaWR0aCA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dFdpZHRoRnJvbUtvbnZhKSAmJiBuZXh0V2lkdGhGcm9tS29udmEgPiAwXG4gICAgICAgID8gbmV4dFdpZHRoRnJvbUtvbnZhXG4gICAgICAgIDogbmV4dE1ldHJpY3Mud2lkdGg7XG5cbiAgICBjb25zdCBjdXJyZW50WCA9IE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by54KSA/IG9ialRleHRvLnggOiAwO1xuICAgIGNvbnN0IGNlbnRlclggPSBjdXJyZW50WCArIChwcmV2aW91c1dpZHRoIC8gMik7XG4gICAgcmV0dXJuIGNlbnRlclggLSAobmV4dFdpZHRoIC8gMik7XG4gIH0sIFtvYnRlbmVyTWV0cmljYXNUZXh0bywgbWVkaXJBbmNob1RleHRvS29udmFdKTtcblxuICBjb25zdCBjYWxjdWxhclhUZXh0b0Rlc2RlQ2VudHJvID0gdXNlQ2FsbGJhY2soKG9ialRleHRvLCBuZXh0Rm9udFNpemUsIGNlbnRlclgpID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikge1xuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueCkgPyBvYmpUZXh0by54IDogMDtcbiAgICB9XG5cbiAgICBjb25zdCBzYWZlQ2VudGVyWCA9IE51bWJlcihjZW50ZXJYKTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzYWZlQ2VudGVyWCkpIHtcbiAgICAgIHJldHVybiBjYWxjdWxhclhUZXh0b0NlbnRyYWRvUG9yVGFtYW5vKG9ialRleHRvLCBuZXh0Rm9udFNpemUpO1xuICAgIH1cblxuICAgIGNvbnN0IHNhZmVOZXh0U2l6ZSA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dEZvbnRTaXplKSAmJiBuZXh0Rm9udFNpemUgPiAwXG4gICAgICAgID8gbmV4dEZvbnRTaXplXG4gICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwID8gb2JqVGV4dG8uZm9udFNpemUgOiAyNCk7XG4gICAgY29uc3QgYmFzZUxpbmVIZWlnaHQgPVxuICAgICAgdHlwZW9mIG9ialRleHRvLmxpbmVIZWlnaHQgPT09IFwibnVtYmVyXCIgJiYgb2JqVGV4dG8ubGluZUhlaWdodCA+IDBcbiAgICAgICAgPyBvYmpUZXh0by5saW5lSGVpZ2h0XG4gICAgICAgIDogMS4yO1xuXG4gICAgY29uc3QgbmV4dE1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xuICAgICAgZm9udFNpemU6IHNhZmVOZXh0U2l6ZSxcbiAgICAgIGZvbnRGYW1pbHk6IG9ialRleHRvLmZvbnRGYW1pbHksXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxuICAgICAgZm9udFN0eWxlOiBvYmpUZXh0by5mb250U3R5bGUsXG4gICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXG4gICAgfSk7XG4gICAgY29uc3QgbmV4dFdpZHRoRnJvbUtvbnZhID0gbWVkaXJBbmNob1RleHRvS29udmEoXG4gICAgICBvYmpUZXh0byxcbiAgICAgIG9ialRleHRvLnRleHRvLFxuICAgICAgc2FmZU5leHRTaXplXG4gICAgKTtcbiAgICBjb25zdCBuZXh0V2lkdGggPVxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRXaWR0aEZyb21Lb252YSkgJiYgbmV4dFdpZHRoRnJvbUtvbnZhID4gMFxuICAgICAgICA/IG5leHRXaWR0aEZyb21Lb252YVxuICAgICAgICA6IG5leHRNZXRyaWNzLndpZHRoO1xuXG4gICAgcmV0dXJuIHNhZmVDZW50ZXJYIC0gKG5leHRXaWR0aCAvIDIpO1xuICB9LCBbXG4gICAgY2FsY3VsYXJYVGV4dG9DZW50cmFkb1BvclRhbWFubyxcbiAgICBvYnRlbmVyTWV0cmljYXNUZXh0byxcbiAgICBtZWRpckFuY2hvVGV4dG9Lb252YSxcbiAgXSk7XG5cbiAgY29uc3QgYWp1c3RhckZvbnRTaXplQUFuY2hvVmlzdWFsID0gdXNlQ2FsbGJhY2soKG9ialRleHRvLCBwcm9wb3NlZEZvbnRTaXplLCB0YXJnZXRWaXN1YWxXaWR0aCkgPT4ge1xuICAgIGNvbnN0IHNhZmVQcm9wb3NlZCA9IE51bWJlcihwcm9wb3NlZEZvbnRTaXplKTtcbiAgICBjb25zdCBzYWZlVGFyZ2V0V2lkdGggPSBOdW1iZXIodGFyZ2V0VmlzdWFsV2lkdGgpO1xuICAgIHRleHRSZXNpemVEZWJ1ZyhcImZpdC13aWR0aDpzdGFydFwiLCB7XG4gICAgICBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwsXG4gICAgICBwcm9wb3NlZEZvbnRTaXplOiBzYWZlUHJvcG9zZWQsXG4gICAgICB0YXJnZXRWaXN1YWxXaWR0aDogc2FmZVRhcmdldFdpZHRoLFxuICAgICAgY3VycmVudEZvbnRTaXplOiBvYmpUZXh0bz8uZm9udFNpemUgPz8gbnVsbCxcbiAgICB9KTtcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikge1xuICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOnNraXAtaW52YWxpZC1vYmpcIiwgeyBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwgfSk7XG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHNhZmVQcm9wb3NlZCkgJiYgc2FmZVByb3Bvc2VkID4gMCA/IHNhZmVQcm9wb3NlZCA6IDI0O1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzYWZlUHJvcG9zZWQpIHx8IHNhZmVQcm9wb3NlZCA8PSAwKSB7XG4gICAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6c2tpcC1pbnZhbGlkLXNpemVcIiwgeyBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwgfSk7XG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLmZvbnRTaXplKSAmJiBvYmpUZXh0by5mb250U2l6ZSA+IDAgPyBvYmpUZXh0by5mb250U2l6ZSA6IDI0O1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzYWZlVGFyZ2V0V2lkdGgpIHx8IHNhZmVUYXJnZXRXaWR0aCA8PSAwKSB7XG4gICAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6c2tpcC1pbnZhbGlkLXdpZHRoXCIsIHsgaWQ6IG9ialRleHRvPy5pZCA/PyBudWxsIH0pO1xuICAgICAgcmV0dXJuIHNhZmVQcm9wb3NlZDtcbiAgICB9XG5cbiAgICBsZXQgbmV4dFNpemUgPSBNYXRoLm1heCg2LCBzYWZlUHJvcG9zZWQpO1xuXG4gICAgLy8gRG9zIGl0ZXJhY2lvbmVzIGFsY2FuemFuIHBhcmEgY29tcGVuc2FyIGVsIGRlc2FqdXN0ZSBlbnRyZSBwcmV2aWV3IGVzY2FsYWRvIHkgcmVuZGVyIGZpbmFsLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSArPSAxKSB7XG4gICAgICBjb25zdCBtZWFzdXJlZFdpZHRoID0gbWVkaXJBbmNob1RleHRvS29udmEoXG4gICAgICAgIG9ialRleHRvLFxuICAgICAgICBvYmpUZXh0by50ZXh0byxcbiAgICAgICAgbmV4dFNpemVcbiAgICAgICk7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShtZWFzdXJlZFdpZHRoKSB8fCBtZWFzdXJlZFdpZHRoIDw9IDApIHtcbiAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOmJyZWFrLW5vLW1lYXN1cmVcIiwge1xuICAgICAgICAgIGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCxcbiAgICAgICAgICBpdGVyYXRpb246IGksXG4gICAgICAgICAgbWVhc3VyZWRXaWR0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByYXRpbyA9IHNhZmVUYXJnZXRXaWR0aCAvIG1lYXN1cmVkV2lkdGg7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShyYXRpbykgfHwgcmF0aW8gPD0gMCkge1xuICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6YnJlYWstaW52YWxpZC1yYXRpb1wiLCB7XG4gICAgICAgICAgaWQ6IG9ialRleHRvPy5pZCA/PyBudWxsLFxuICAgICAgICAgIGl0ZXJhdGlvbjogaSxcbiAgICAgICAgICByYXRpbyxcbiAgICAgICAgICBtZWFzdXJlZFdpZHRoLFxuICAgICAgICAgIHRhcmdldFZpc3VhbFdpZHRoOiBzYWZlVGFyZ2V0V2lkdGgsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2FuZGlkYXRlID0gTWF0aC5tYXgoNiwgbmV4dFNpemUgKiByYXRpbyk7XG4gICAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6aXRlclwiLCB7XG4gICAgICAgIGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCxcbiAgICAgICAgaXRlcmF0aW9uOiBpLFxuICAgICAgICBtZWFzdXJlZFdpZHRoLFxuICAgICAgICByYXRpbyxcbiAgICAgICAgcHJldlNpemU6IG5leHRTaXplLFxuICAgICAgICBjYW5kaWRhdGUsXG4gICAgICB9KTtcbiAgICAgIGlmIChNYXRoLmFicyhjYW5kaWRhdGUgLSBuZXh0U2l6ZSkgPD0gMC4wMSkge1xuICAgICAgICBuZXh0U2l6ZSA9IGNhbmRpZGF0ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBuZXh0U2l6ZSA9IGNhbmRpZGF0ZTtcbiAgICB9XG4gICAgY29uc3QgZmluYWxTaXplID0gTnVtYmVyKG5leHRTaXplLnRvRml4ZWQoMykpO1xuICAgIHRleHRSZXNpemVEZWJ1ZyhcImZpdC13aWR0aDplbmRcIiwge1xuICAgICAgaWQ6IG9ialRleHRvPy5pZCA/PyBudWxsLFxuICAgICAgZmluYWxTaXplLFxuICAgICAgdGFyZ2V0VmlzdWFsV2lkdGg6IHNhZmVUYXJnZXRXaWR0aCxcbiAgICB9KTtcbiAgICByZXR1cm4gZmluYWxTaXplO1xuICB9LCBbbWVkaXJBbmNob1RleHRvS29udmEsIHRleHRSZXNpemVEZWJ1Z10pO1xuXG4gIGNvbnN0IGNhbGN1bGFyWFRleHRvQ2VudHJhZG8gPSB1c2VDYWxsYmFjaygob2JqVGV4dG8sIHRleHRvT2JqZXRpdm8pID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueCkgPyBvYmpUZXh0by54IDogMDtcclxuXHJcbiAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XHJcbiAgICAgIHR5cGVvZiBvYmpUZXh0by5saW5lSGVpZ2h0ID09PSBcIm51bWJlclwiICYmIG9ialRleHRvLmxpbmVIZWlnaHQgPiAwXHJcbiAgICAgICAgPyBvYmpUZXh0by5saW5lSGVpZ2h0XHJcbiAgICAgICAgOiAxLjI7XHJcblxyXG4gICAgY29uc3QgcHJldmlvdXNNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzVGV4dG8ob2JqVGV4dG8udGV4dG8sIHtcclxuICAgICAgZm9udFNpemU6IG9ialRleHRvLmZvbnRTaXplLFxyXG4gICAgICBmb250RmFtaWx5OiBvYmpUZXh0by5mb250RmFtaWx5LFxyXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxyXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcclxuICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbmV4dE1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byh0ZXh0b09iamV0aXZvLCB7XHJcbiAgICAgIGZvbnRTaXplOiBvYmpUZXh0by5mb250U2l6ZSxcclxuICAgICAgZm9udEZhbWlseTogb2JqVGV4dG8uZm9udEZhbWlseSxcclxuICAgICAgZm9udFdlaWdodDogb2JqVGV4dG8uZm9udFdlaWdodCxcclxuICAgICAgZm9udFN0eWxlOiBvYmpUZXh0by5mb250U3R5bGUsXHJcbiAgICAgIGxpbmVIZWlnaHQ6IGJhc2VMaW5lSGVpZ2h0ICogMC45MixcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzV2lkdGhGcm9tS29udmEgPSBtZWRpckFuY2hvVGV4dG9Lb252YShvYmpUZXh0bywgb2JqVGV4dG8udGV4dG8pO1xyXG4gICAgY29uc3QgbmV4dFdpZHRoRnJvbUtvbnZhID0gbWVkaXJBbmNob1RleHRvS29udmEob2JqVGV4dG8sIHRleHRvT2JqZXRpdm8pO1xyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzV2lkdGggPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUocHJldmlvdXNXaWR0aEZyb21Lb252YSkgJiYgcHJldmlvdXNXaWR0aEZyb21Lb252YSA+IDBcclxuICAgICAgICA/IHByZXZpb3VzV2lkdGhGcm9tS29udmFcclxuICAgICAgICA6IHByZXZpb3VzTWV0cmljcy53aWR0aDtcclxuICAgIGNvbnN0IG5leHRXaWR0aCA9XHJcbiAgICAgIE51bWJlci5pc0Zpbml0ZShuZXh0V2lkdGhGcm9tS29udmEpICYmIG5leHRXaWR0aEZyb21Lb252YSA+IDBcclxuICAgICAgICA/IG5leHRXaWR0aEZyb21Lb252YVxyXG4gICAgICAgIDogbmV4dE1ldHJpY3Mud2lkdGg7XHJcblxyXG4gICAgY29uc3QgY3VycmVudFggPSBOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8ueCkgPyBvYmpUZXh0by54IDogMDtcclxuICAgIGNvbnN0IGNlbnRlclggPSBjdXJyZW50WCArIChwcmV2aW91c1dpZHRoIC8gMik7XHJcbiAgICByZXR1cm4gY2VudGVyWCAtIChuZXh0V2lkdGggLyAyKTtcclxuICB9LCBbb2J0ZW5lck1ldHJpY2FzVGV4dG8sIG1lZGlyQW5jaG9UZXh0b0tvbnZhXSk7XG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChlKSA9PiB7XHJcbiAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdChcIi5tZW51LXotaW5kZXhcIikpIHtcclxuICAgICAgICBzZXRNb3N0cmFyUGFuZWxaKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuXHJcblxyXG4gIGNvbnN0IGFjdHVhbGl6YXJGb25kb1NlY2Npb24gPSAoaWQsIG51ZXZvRm9uZG8pID0+IHtcclxuICAgIHNldFNlY2Npb25lcygocHJldikgPT5cclxuICAgICAgcHJldi5tYXAoKHMpID0+IHMuaWQgPT09IGlkID8geyAuLi5zLCBmb25kbzogbnVldm9Gb25kbyB9IDogcylcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgdXNlS2V5Ym9hcmRTaG9ydGN1dHMoe1xyXG4gICAgb25EZXNoYWNlcixcclxuICAgIG9uUmVoYWNlcixcclxuICAgIG9uRHVwbGljYXIsXHJcbiAgICBvbkVsaW1pbmFyLFxyXG4gICAgb25EZXNlbGVjY2lvbmFyOiAoKSA9PiB7XHJcbiAgICAgIGlmIChlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKFtdKTtcclxuICAgICAgICBzZXRNb3N0cmFyUGFuZWxaKGZhbHNlKTtcclxuICAgICAgICBzZXRNb3N0cmFyU3VibWVudUNhcGEoZmFsc2UpO1xyXG4gICAgICAgIHNldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZShmYWxzZSk7XHJcbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yVGFtYW5vKGZhbHNlKTtcbiAgICAgICAgc2V0SG92ZXJJZChudWxsKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uQ29waWFyLFxyXG4gICAgb25QZWdhcixcclxuICAgIG9uQ2FtYmlhckFsaW5lYWNpb24sXHJcbiAgICBpc0VkaXRpbmc6ICEhZWRpdGluZy5pZCxcclxuICAgIHRpZW5lU2VsZWNjaW9uOiBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCA+IDBcclxuICB9KTtcclxuXHJcblxyXG4gIGNvbnN0IGNhbWJpYXJDb2xvckZvbmRvU2VjY2lvbiA9IHVzZUNhbGxiYWNrKChzZWNjaW9uSWQsIG51ZXZvQ29sb3IpID0+IHtcclxuXHJcbiAgICBzZXRTZWNjaW9uZXMocHJldiA9PlxyXG4gICAgICBwcmV2Lm1hcChzID0+IHtcclxuICAgICAgICBpZiAocy5pZCAhPT0gc2VjY2lvbklkKSByZXR1cm4gcztcclxuICAgICAgICByZXR1cm4geyAuLi5zLCBmb25kbzogbnVldm9Db2xvciB9O1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9LCBbc2V0U2VjY2lvbmVzXSk7XHJcblxyXG5cclxuICB1c2VFZGl0b3JXaW5kb3dCcmlkZ2Uoe1xyXG4gICAgc2VjY2lvbmVzT3JkZW5hZGFzLFxyXG4gICAgc2VjY2lvbmVzLFxyXG4gICAgc2VjY2lvbkFjdGl2YUlkLFxyXG4gICAgb2JqZXRvcyxcclxuICAgIGFsdG9DYW52YXMsXHJcbiAgICBjYWxjdWxhck9mZnNldFksXHJcblxyXG4gICAgY2FtYmlhckNvbG9yRm9uZG9TZWNjaW9uLFxyXG5cclxuICAgIG9uRGVzaGFjZXIsXHJcbiAgICBvblJlaGFjZXIsXHJcbiAgICBoaXN0b3JpYWxMZW5ndGg6IGhpc3RvcmlhbC5sZW5ndGgsXHJcbiAgICBmdXR1cm9zTGVuZ3RoOiBmdXR1cm9zLmxlbmd0aCxcclxuXHJcbiAgICBzdGFnZVJlZixcclxuICB9KTtcclxuXHJcblxyXG4gIGNvbnN0IGVzU2VjY2lvblBhbnRhbGxhQnlJZCA9IHVzZUNhbGxiYWNrKChzZWNjaW9uSWQpID0+IHtcclxuICAgIGNvbnN0IHMgPSBzZWNjaW9uZXNPcmRlbmFkYXMuZmluZCh4ID0+IHguaWQgPT09IHNlY2Npb25JZCk7XHJcbiAgICByZXR1cm4gcyAmJiBub3JtYWxpemFyQWx0b01vZG8ocy5hbHRvTW9kbykgPT09IFwicGFudGFsbGFcIjtcclxuICB9LCBbc2VjY2lvbmVzT3JkZW5hZGFzXSk7XHJcblxyXG5cclxuICBjb25zdCBhbHRvQ2FudmFzRGluYW1pY28gPSBzZWNjaW9uZXNPcmRlbmFkYXMucmVkdWNlKChhY2MsIHMpID0+IGFjYyArIHMuYWx0dXJhLCAwKSB8fCA4MDA7XHJcblxyXG4gIGNvbnN0IGFicmlyTW9kYWxCb3JyYXJTZWNjaW9uID0gdXNlQ2FsbGJhY2soKHNlY2Npb25JZCkgPT4ge1xyXG4gICAgaWYgKCFzZWNjaW9uSWQgfHwgaXNEZWxldGluZ1NlY3Rpb24pIHJldHVybjtcclxuICAgIHNldERlbGV0ZVNlY3Rpb25Nb2RhbCh7IGlzT3BlbjogdHJ1ZSwgc2VjdGlvbklkOiBzZWNjaW9uSWQgfSk7XHJcbiAgfSwgW2lzRGVsZXRpbmdTZWN0aW9uXSk7XHJcblxyXG4gIGNvbnN0IGNlcnJhck1vZGFsQm9ycmFyU2VjY2lvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmIChpc0RlbGV0aW5nU2VjdGlvbikgcmV0dXJuO1xyXG4gICAgc2V0RGVsZXRlU2VjdGlvbk1vZGFsKHsgaXNPcGVuOiBmYWxzZSwgc2VjdGlvbklkOiBudWxsIH0pO1xyXG4gIH0sIFtpc0RlbGV0aW5nU2VjdGlvbl0pO1xyXG5cclxuICBjb25zdCBjb25maXJtYXJCb3JyYXJTZWNjaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2VjY2lvbklkID0gZGVsZXRlU2VjdGlvbk1vZGFsLnNlY3Rpb25JZDtcclxuICAgIGlmICghc2VjY2lvbklkIHx8IGlzRGVsZXRpbmdTZWN0aW9uKSByZXR1cm47XHJcblxyXG4gICAgc2V0SXNEZWxldGluZ1NlY3Rpb24odHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBib3JyYXJTZWNjaW9uRXh0ZXJuYWwoe1xyXG4gICAgICAgIHNlY2Npb25JZCxcclxuICAgICAgICBzZWNjaW9uZXMsXHJcbiAgICAgICAgb2JqZXRvcyxcclxuICAgICAgICBzbHVnLFxyXG4gICAgICAgIHNlY2Npb25BY3RpdmFJZCxcclxuICAgICAgICBzZXRTZWNjaW9uZXMsXHJcbiAgICAgICAgc2V0T2JqZXRvcyxcclxuICAgICAgICBzZXRTZWNjaW9uQWN0aXZhSWQsXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZXREZWxldGVTZWN0aW9uTW9kYWwoeyBpc09wZW46IGZhbHNlLCBzZWN0aW9uSWQ6IG51bGwgfSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0RlbGV0aW5nU2VjdGlvbihmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW1xyXG4gICAgZGVsZXRlU2VjdGlvbk1vZGFsLnNlY3Rpb25JZCxcclxuICAgIGlzRGVsZXRpbmdTZWN0aW9uLFxyXG4gICAgc2VjY2lvbmVzLFxyXG4gICAgb2JqZXRvcyxcclxuICAgIHNsdWcsXHJcbiAgICBzZWNjaW9uQWN0aXZhSWQsXHJcbiAgICBzZXRTZWNjaW9uZXMsXHJcbiAgICBzZXRPYmpldG9zLFxyXG4gICAgc2V0U2VjY2lvbkFjdGl2YUlkLFxyXG4gIF0pO1xyXG5cblxuICAvLyAzKSBDYWRhIHZleiBxdWUgZWwgdXN1YXJpbyBzZWxlY2Npb25hIHVuYSBzZWNjacOzbiwgYWN0dWFsaXphbW9zIGdsb2JhbCB5IG5vdGlmaWNhbW9zXG4gIGNvbnN0IG9uU2VsZWN0U2VjY2lvbiA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRTZWNjaW9uQWN0aXZhSWQoaWQpO1xuICAgICAgd2luZG93Ll9zZWNjaW9uQWN0aXZhSWQgPSBpZDtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcInNlY2Npb24tYWN0aXZhXCIsIHsgZGV0YWlsOiB7IGlkIH0gfSkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk5vIHB1ZGUgZW1pdGlyIHNlY2Npb24tYWN0aXZhOlwiLCBlKTtcbiAgICB9XG4gIH0sIFtzZXRTZWNjaW9uQWN0aXZhSWRdKTtcblxuICBjb25zdCByZXNvbHZlclZpZXdwb3J0U2Nyb2xsU2VjY2lvbmVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQgfHwgbnVsbDtcbiAgICBjb25zdCBzdGFnZUNvbnRhaW5lciA9IHN0YWdlPy5jb250YWluZXI/LigpO1xuICAgIGlmICghc3RhZ2VDb250YWluZXIgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBtYWluRWxlbWVudCA9IHN0YWdlQ29udGFpbmVyLmNsb3Nlc3Q/LihcIm1haW5cIik7XG4gICAgaWYgKG1haW5FbGVtZW50KSByZXR1cm4gbWFpbkVsZW1lbnQ7XG5cbiAgICBsZXQgY3VycmVudCA9IHN0YWdlQ29udGFpbmVyLnBhcmVudEVsZW1lbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50KTtcbiAgICAgIGNvbnN0IG92ZXJmbG93WSA9IFN0cmluZyhzdHlsZS5vdmVyZmxvd1kgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gU3RyaW5nKHN0eWxlLm92ZXJmbG93IHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBpc1Njcm9sbGFibGUgPVxuICAgICAgICBvdmVyZmxvd1kgPT09IFwiYXV0b1wiIHx8XG4gICAgICAgIG92ZXJmbG93WSA9PT0gXCJzY3JvbGxcIiB8fFxuICAgICAgICBvdmVyZmxvd1kgPT09IFwib3ZlcmxheVwiIHx8XG4gICAgICAgIG92ZXJmbG93ID09PSBcImF1dG9cIiB8fFxuICAgICAgICBvdmVyZmxvdyA9PT0gXCJzY3JvbGxcIiB8fFxuICAgICAgICBvdmVyZmxvdyA9PT0gXCJvdmVybGF5XCI7XG5cbiAgICAgIGlmIChpc1Njcm9sbGFibGUgJiYgY3VycmVudC5zY3JvbGxIZWlnaHQgPiBjdXJyZW50LmNsaWVudEhlaWdodCArIDEpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiB3aW5kb3c7XG4gIH0sIFtdKTtcblxuICBjb25zdCBzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghc2VjY2lvbmVzT3JkZW5hZGFzLmxlbmd0aCB8fCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG5cbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKSB8fCBzdGFnZVJlZi5jdXJyZW50IHx8IG51bGw7XG4gICAgY29uc3Qgc3RhZ2VDb250YWluZXIgPSBzdGFnZT8uY29udGFpbmVyPy4oKTtcbiAgICBpZiAoIXN0YWdlQ29udGFpbmVyKSByZXR1cm47XG5cbiAgICBjb25zdCBzdGFnZVJlY3QgPSBzdGFnZUNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xuICAgIGlmICghc3RhZ2VSZWN0IHx8ICFOdW1iZXIuaXNGaW5pdGUoc3RhZ2VSZWN0LnRvcCkgfHwgIU51bWJlci5pc0Zpbml0ZShzdGFnZVJlY3QuaGVpZ2h0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXdwb3J0ID0gYXV0b1NlY3Rpb25WaWV3cG9ydFJlZi5jdXJyZW50IHx8IHJlc29sdmVyVmlld3BvcnRTY3JvbGxTZWNjaW9uZXMoKTtcbiAgICBpZiAoIXZpZXdwb3J0KSByZXR1cm47XG5cbiAgICBsZXQgdmlld3BvcnRUb3AgPSAwO1xuICAgIGxldCB2aWV3cG9ydEJvdHRvbSA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IDA7XG5cbiAgICBpZiAodmlld3BvcnQgIT09IHdpbmRvdykge1xuICAgICAgY29uc3Qgdmlld3BvcnRSZWN0ID0gdmlld3BvcnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcbiAgICAgIGlmICghdmlld3BvcnRSZWN0KSByZXR1cm47XG4gICAgICB2aWV3cG9ydFRvcCA9IHZpZXdwb3J0UmVjdC50b3A7XG4gICAgICB2aWV3cG9ydEJvdHRvbSA9IHZpZXdwb3J0UmVjdC5ib3R0b207XG4gICAgfVxuXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodmlld3BvcnRUb3ApIHx8ICFOdW1iZXIuaXNGaW5pdGUodmlld3BvcnRCb3R0b20pIHx8IHZpZXdwb3J0Qm90dG9tIDw9IHZpZXdwb3J0VG9wKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWx0dXJhU3RhZ2VQeCA9IE51bWJlcihzdGFnZVJlY3QuaGVpZ2h0IHx8IDApO1xuICAgIGNvbnN0IGFsdHVyYUNhbnZhcyA9IE1hdGgubWF4KDEsIE51bWJlcihhbHRvQ2FudmFzRGluYW1pY28pIHx8IDEpO1xuICAgIGlmICghKGFsdHVyYVN0YWdlUHggPiAwKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcHhQb3JVbmlkYWQgPSBhbHR1cmFTdGFnZVB4IC8gYWx0dXJhQ2FudmFzO1xuICAgIGlmICghKHB4UG9yVW5pZGFkID4gMCkpIHJldHVybjtcblxuICAgIGNvbnN0IGNlbnRyb1ZpZXdwb3J0ID0gKHZpZXdwb3J0VG9wICsgdmlld3BvcnRCb3R0b20pIC8gMjtcbiAgICBsZXQgbWVqb3JJZCA9IG51bGw7XG4gICAgbGV0IG1lam9yVmlzaWJsZSA9IDA7XG4gICAgbGV0IG1lam9yUmF0aW8gPSAtMTtcbiAgICBsZXQgbWVqb3JEaXN0YW5jaWFDZW50cm8gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICBzZWNjaW9uZXNPcmRlbmFkYXMuZm9yRWFjaCgoc2VjY2lvbiwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGFsdHVyYVNlY2Npb24gPSBNYXRoLm1heCgxLCBOdW1iZXIoc2VjY2lvbi5hbHR1cmEpIHx8IDEpO1xuICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGluZGV4KTtcbiAgICAgIGNvbnN0IHRvcCA9IHN0YWdlUmVjdC50b3AgKyBvZmZzZXRZICogcHhQb3JVbmlkYWQ7XG4gICAgICBjb25zdCBib3R0b20gPSB0b3AgKyBhbHR1cmFTZWNjaW9uICogcHhQb3JVbmlkYWQ7XG5cbiAgICAgIGNvbnN0IHZpc2libGUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihib3R0b20sIHZpZXdwb3J0Qm90dG9tKSAtIE1hdGgubWF4KHRvcCwgdmlld3BvcnRUb3ApKTtcbiAgICAgIGlmICh2aXNpYmxlIDw9IDApIHJldHVybjtcblxuICAgICAgY29uc3QgcmF0aW9WaXNpYmxlID0gdmlzaWJsZSAvIChhbHR1cmFTZWNjaW9uICogcHhQb3JVbmlkYWQpO1xuICAgICAgY29uc3QgZGlzdGFuY2lhQ2VudHJvID0gTWF0aC5hYnMoKHRvcCArIGJvdHRvbSkgLyAyIC0gY2VudHJvVmlld3BvcnQpO1xuXG4gICAgICBjb25zdCBtZWpvcmFQb3JWaXNpYmxlID0gdmlzaWJsZSA+IG1lam9yVmlzaWJsZSArIDE7XG4gICAgICBjb25zdCBlbXBhdGVWaXNpYmxlID0gTWF0aC5hYnModmlzaWJsZSAtIG1lam9yVmlzaWJsZSkgPD0gMTtcbiAgICAgIGNvbnN0IG1lam9yYVBvclJhdGlvID0gZW1wYXRlVmlzaWJsZSAmJiByYXRpb1Zpc2libGUgPiBtZWpvclJhdGlvICsgMC4wMDE7XG4gICAgICBjb25zdCBlbXBhdGVSYXRpbyA9IGVtcGF0ZVZpc2libGUgJiYgTWF0aC5hYnMocmF0aW9WaXNpYmxlIC0gbWVqb3JSYXRpbykgPD0gMC4wMDE7XG4gICAgICBjb25zdCBtZWpvcmFQb3JDZW50cm8gPSBlbXBhdGVSYXRpbyAmJiBkaXN0YW5jaWFDZW50cm8gPCBtZWpvckRpc3RhbmNpYUNlbnRybztcblxuICAgICAgaWYgKG1lam9yYVBvclZpc2libGUgfHwgbWVqb3JhUG9yUmF0aW8gfHwgbWVqb3JhUG9yQ2VudHJvKSB7XG4gICAgICAgIG1lam9ySWQgPSBzZWNjaW9uLmlkO1xuICAgICAgICBtZWpvclZpc2libGUgPSB2aXNpYmxlO1xuICAgICAgICBtZWpvclJhdGlvID0gcmF0aW9WaXNpYmxlO1xuICAgICAgICBtZWpvckRpc3RhbmNpYUNlbnRybyA9IGRpc3RhbmNpYUNlbnRybztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghbWVqb3JJZCkgcmV0dXJuO1xuICAgIGlmIChzZWNjaW9uQWN0aXZhSWRSZWYuY3VycmVudCA9PT0gbWVqb3JJZCkgcmV0dXJuO1xuXG4gICAgb25TZWxlY3RTZWNjaW9uKG1lam9ySWQpO1xuICB9LCBbYWx0b0NhbnZhc0RpbmFtaWNvLCBvblNlbGVjdFNlY2Npb24sIHJlc29sdmVyVmlld3BvcnRTY3JvbGxTZWNjaW9uZXMsIHNlY2Npb25lc09yZGVuYWRhc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgaWYgKCFzZWNjaW9uZXNPcmRlbmFkYXMubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgYXV0b1NlY3Rpb25WaWV3cG9ydFJlZi5jdXJyZW50ID0gcmVzb2x2ZXJWaWV3cG9ydFNjcm9sbFNlY2Npb25lcygpO1xuICAgIGNvbnN0IHNjcm9sbFRhcmdldCA9IGF1dG9TZWN0aW9uVmlld3BvcnRSZWYuY3VycmVudCB8fCB3aW5kb3c7XG5cbiAgICBjb25zdCBzY2hlZHVsZVN5bmMgPSAoKSA9PiB7XG4gICAgICBpZiAoYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYuY3VycmVudCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBhdXRvU2VjdGlvblNjcm9sbFJhZlJlZi5jdXJyZW50ID0gMDtcbiAgICAgICAgc2luY3Jvbml6YXJTZWNjaW9uVmlzaWJsZVBvclNjcm9sbCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNjaGVkdWxlU3luYygpO1xuXG4gICAgY29uc3QgZXZlbnRUYXJnZXQgPSBzY3JvbGxUYXJnZXQgPT09IHdpbmRvdyA/IHdpbmRvdyA6IHNjcm9sbFRhcmdldDtcbiAgICBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjaGVkdWxlU3luYywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBzY2hlZHVsZVN5bmMpO1xuXG4gICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2NoZWR1bGVTeW5jKTtcbiAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2NoZWR1bGVTeW5jKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgICBpZiAod2luZG93LnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgICB9XG4gICAgICBpZiAoYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYuY3VycmVudCkge1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYuY3VycmVudCk7XG4gICAgICAgIGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQgPSAwO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtyZXNvbHZlclZpZXdwb3J0U2Nyb2xsU2VjY2lvbmVzLCBzZWNjaW9uZXNPcmRlbmFkYXMubGVuZ3RoLCBzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsXSk7XG5cblxuXG5cblxuICAvLyA/PyBOVUVWTyBIT09LIFBBUkEgR1XDjUFTXHJcbiAgY29uc3Qge1xyXG4gICAgZ3VpYUxpbmVhcyxcclxuICAgIG1vc3RyYXJHdWlhcyxcclxuICAgIGxpbXBpYXJHdWlhcyxcclxuICAgIGNvbmZpZ3VyYXJEcmFnRW5kXHJcbiAgfSA9IHVzZUd1aWFzQ2VudHJhZG8oe1xyXG4gICAgYW5jaG9DYW52YXM6IDgwMCxcclxuICAgIGFsdG9DYW52YXM6IGFsdG9DYW52YXNEaW5hbWljbyxcclxuICAgIC8vIFVYOiBndcOtYSBkZSBzZWNjacOzbiBzb2xvIGFsIGNlbnRyYXIsIGNvbiBpbcOhbiBzdXRpbC5cclxuICAgIG1hcmdlblNlbnNpYmlsaWRhZDogOCxcclxuICAgIG1hZ25ldFJhZGl1czogMTAsXHJcbiAgICBzZWN0aW9uTWFnbmV0UmFkaXVzOiA2LFxyXG4gICAgc25hcFN0cmVuZ3RoOiAwLjgsXHJcbiAgICBzZWN0aW9uU25hcFN0cmVuZ3RoOiAxLFxyXG4gICAgc2VjdGlvbkxpbmVUb2xlcmFuY2U6IDAuNzUsXHJcbiAgICBzbmFwVG9FZGdlczogdHJ1ZSxcclxuICAgIHNuYXBUb0NlbnRlcnM6IHRydWUsXHJcbiAgICBzZWNjaW9uZXNPcmRlbmFkYXNcclxuICB9KTtcclxuXHJcbiAgLy8gPz8gRnVuY2nDs24gcGFyYSBhY3R1YWxpemFyIHBvc2ljacOzbiBkZWwgYm90w7NuIFNJTiByZS1yZW5kZXJcclxuICBjb25zdCB7IGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgfSA9IHVzZU9wdGlvbkJ1dHRvblBvc2l0aW9uKHtcbiAgICBib3Rvbk9wY2lvbmVzUmVmLFxuICAgIGVsZW1lbnRSZWZzLFxuICAgIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXG4gICAgc3RhZ2VSZWYsXG4gICAgZXNjYWxhVmlzdWFsLFxuICAgIGVzY2FsYUFjdGl2YSxcbiAgfSk7XG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBvbkRyYWdTdGFydEdsb2JhbCA9ICgpID0+IHtcclxuICAgICAgLy8gbGltcGlhciBob3Zlci9wcmVzZWxlY2Npw7NuIGlubWVkaWF0YW1lbnRlIHBhcmEgZXZpdGFyIFwiZmxhc2hcIiB2aXN1YWxcclxuICAgICAgZmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICBzZXRIb3ZlcklkKG51bGwpO1xyXG4gICAgICAgIHNldEVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MoW10pO1xyXG4gICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRHJhZ0VuZEdsb2JhbCA9ICgpID0+IHtcclxuICAgICAgLy8gbmFkYSBwb3IgYWhvcmE7IHNpIHF1aXNpZXJhcywgcG9kcsOtYXMgcmVjYWxjdWxhciBhbGdvIGFjw6FcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZ2luZy1zdGFydFwiLCBvbkRyYWdTdGFydEdsb2JhbCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdnaW5nLWVuZFwiLCBvbkRyYWdFbmRHbG9iYWwpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnZ2luZy1zdGFydFwiLCBvbkRyYWdTdGFydEdsb2JhbCk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ2dpbmctZW5kXCIsIG9uRHJhZ0VuZEdsb2JhbCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gIC8vID8/IE9QVElNSVpBQ0nDk046IExpbXBpYXIgY2FjaGUgZGUgaW50ZXJzZWNjacOzbiBhbCBjYW1iaWFyIHNlbGVjY2nDs25cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gTGltcGlhciBjYWNoZSBjdWFuZG8gY2FtYmlhIGxhIHNlbGVjY2nDs25cclxuICAgIGlmICh3aW5kb3cuX2xpbmVJbnRlcnNlY3Rpb25DYWNoZSkge1xyXG4gICAgICB3aW5kb3cuX2xpbmVJbnRlcnNlY3Rpb25DYWNoZSA9IHt9O1xyXG4gICAgfVxyXG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aF0pO1xyXG5cclxuICAvLyA/PyBPUFRJTUlaQUNJw5NOOiBGb3J6YXIgYWN0dWFsaXphY2nDs24gZGUgbMOtbmVhcyBkZXNwdcOpcyBkZSBkcmFnIGdydXBhbFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAod2luZG93Ll9ncnVwb0xpZGVyIHx8IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgLy8gU29sbyBjb3JyZXIgZXN0YSBvcHRpbWl6YWNpw7NuIGN1YW5kbyBhY2FiYSBkZSBmaW5hbGl6YXIgdW4gZHJhZyBncnVwYWwuXHJcbiAgICBjb25zdCBub3cgPVxyXG4gICAgICB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgPyBwZXJmb3JtYW5jZS5ub3coKVxyXG4gICAgICAgIDogRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHJlY2VudGx5RW5kZWRHcm91cERyYWcgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUod2luZG93Ll9za2lwVW50aWwpICYmIHdpbmRvdy5fc2tpcFVudGlsID4gbm93O1xyXG4gICAgaWYgKCFyZWNlbnRseUVuZGVkR3JvdXBEcmFnKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaGF5TGluZWFzID0gb2JqZXRvcy5zb21lKG9iaiA9PlxyXG4gICAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmluY2x1ZGVzKG9iai5pZCkgJiZcclxuICAgICAgb2JqLnRpcG8gPT09ICdmb3JtYScgJiZcclxuICAgICAgb2JqLmZpZ3VyYSA9PT0gJ2xpbmUnXHJcbiAgICApO1xyXG4gICAgaWYgKCFoYXlMaW5lYXMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmZvckVhY2goaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBlbGVtZW50UmVmcy5jdXJyZW50W2lkXTtcclxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLmdldExheWVyKSB7XHJcbiAgICAgICAgICBub2RlLmdldExheWVyKCk/LmJhdGNoRHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9LCA1MCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgfSwgW2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MsIG9iamV0b3NdKTtcclxuXHJcblxyXG4gIGNvbnN0IGRldGVjdGFySW50ZXJzZWNjaW9uTGluZWEgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIHJldHVybiAobGluZU9iaiwgYXJlYSwgc3RhZ2UpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoIWxpbmVPYmogfHwgIWFyZWEgfHwgIWxpbmVPYmoucG9pbnRzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBwb2ludHMgPSBsaW5lT2JqLnBvaW50cztcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSB8fCBwb2ludHMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgcG9pbnRzID0gWzAsIDAsIDEwMCwgMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwdW50b3NMaW1waW9zID0gW1xyXG4gICAgICAgICAgcGFyc2VGbG9hdChwb2ludHNbMF0pIHx8IDAsXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvaW50c1sxXSkgfHwgMCxcclxuICAgICAgICAgIHBhcnNlRmxvYXQocG9pbnRzWzJdKSB8fCAxMDAsXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvaW50c1szXSkgfHwgMFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vID8/IFVTQVIgTEEgUE9TSUNJw5NOIERFTCBOT0RPIFJFQUwgRU4gRUwgU1RBR0VcclxuICAgICAgICBjb25zdCBub2RlID0gd2luZG93Ll9lbGVtZW50UmVmcz8uW2xpbmVPYmouaWRdO1xyXG4gICAgICAgIGNvbnN0IGxpbmVYID0gbm9kZSA/IG5vZGUueCgpIDogKGxpbmVPYmoueCB8fCAwKTtcclxuICAgICAgICBjb25zdCBsaW5lWSA9IG5vZGUgPyBub2RlLnkoKSA6IChsaW5lT2JqLnkgfHwgMCk7XHJcblxyXG4gICAgICAgIC8vIENvb3JkZW5hZGFzIGFic29sdXRhcyBkZSBsb3MgcHVudG9zXHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gbGluZVggKyBwdW50b3NMaW1waW9zWzBdO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGxpbmVZICsgcHVudG9zTGltcGlvc1sxXTtcclxuICAgICAgICBjb25zdCBlbmRYID0gbGluZVggKyBwdW50b3NMaW1waW9zWzJdO1xyXG4gICAgICAgIGNvbnN0IGVuZFkgPSBsaW5lWSArIHB1bnRvc0xpbXBpb3NbM107XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gPz8gTcOJVE9ETyAxOiBWZXJpZmljYXIgc2kgYWxnw7puIHB1bnRvIGVzdMOhIGRlbnRybyBkZWwgw6FyZWFcclxuICAgICAgICBjb25zdCBzdGFydERlbnRybyA9IChcclxuICAgICAgICAgIHN0YXJ0WCA+PSBhcmVhLnggJiYgc3RhcnRYIDw9IGFyZWEueCArIGFyZWEud2lkdGggJiZcclxuICAgICAgICAgIHN0YXJ0WSA+PSBhcmVhLnkgJiYgc3RhcnRZIDw9IGFyZWEueSArIGFyZWEuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgZW5kRGVudHJvID0gKFxyXG4gICAgICAgICAgZW5kWCA+PSBhcmVhLnggJiYgZW5kWCA8PSBhcmVhLnggKyBhcmVhLndpZHRoICYmXHJcbiAgICAgICAgICBlbmRZID49IGFyZWEueSAmJiBlbmRZIDw9IGFyZWEueSArIGFyZWEuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChzdGFydERlbnRybyB8fCBlbmREZW50cm8pIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gPz8gTcOJVE9ETyAyOiBWZXJpZmljYXIgaW50ZXJzZWNjacOzbiBsw61uZWEtcmVjdMOhbmd1bG9cclxuICAgICAgICBjb25zdCBpbnRlcnNlY3RhID0gbGluZUludGVyc2VjdHNSZWN0KFxyXG4gICAgICAgICAgc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksXHJcbiAgICAgICAgICBhcmVhLngsIGFyZWEueSwgYXJlYS54ICsgYXJlYS53aWR0aCwgYXJlYS55ICsgYXJlYS5oZWlnaHRcclxuICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKGludGVyc2VjdGEpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBGdW5jacOzbiBhdXhpbGlhciBwYXJhIHZlcmlmaWNhciBpbnRlcnNlY2Npw7NuIGzDrW5lYS1yZWN0w6FuZ3Vsb1xyXG4gIGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzUmVjdCh4MSwgeTEsIHgyLCB5MiwgcmVjdExlZnQsIHJlY3RUb3AsIHJlY3RSaWdodCwgcmVjdEJvdHRvbSkge1xyXG4gICAgLy8gVmVyaWZpY2FyIHNpIGxhIGzDrW5lYSBpbnRlcnNlY3RhIGNvbiBhbGd1bm8gZGUgbG9zIDQgbGFkb3MgZGVsIHJlY3TDoW5ndWxvXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0VG9wLCByZWN0UmlnaHQsIHJlY3RUb3ApIHx8IC8vIFRvcFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RSaWdodCwgcmVjdFRvcCwgcmVjdFJpZ2h0LCByZWN0Qm90dG9tKSB8fCAvLyBSaWdodFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0Qm90dG9tLCByZWN0UmlnaHQsIHJlY3RCb3R0b20pIHx8IC8vIEJvdHRvbVxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0VG9wLCByZWN0TGVmdCwgcmVjdEJvdHRvbSkgLy8gTGVmdFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEZ1bmNpw7NuIGF1eGlsaWFyIHBhcmEgdmVyaWZpY2FyIGludGVyc2VjY2nDs24gbMOtbmVhLWzDrW5lYVxyXG4gIGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzTGluZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcclxuICAgIGNvbnN0IGRlbm9tID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xyXG4gICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMDAwMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHQgPSAoKHgxIC0geDMpICogKHkzIC0geTQpIC0gKHkxIC0geTMpICogKHgzIC0geDQpKSAvIGRlbm9tO1xyXG4gICAgY29uc3QgdSA9IC0oKHgxIC0geDIpICogKHkxIC0geTMpIC0gKHkxIC0geTIpICogKHgxIC0geDMpKSAvIGRlbm9tO1xyXG5cclxuICAgIHJldHVybiB0ID49IDAgJiYgdCA8PSAxICYmIHUgPj0gMCAmJiB1IDw9IDE7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gPz8gQWp1c3RhciBlbCB0cmFuc2Zvcm1lciBjdWFuZG8gY2FtYmlhIGVsIHRleHRvIGlubGluZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWVkaXRpbmcuaWQgfHwgIWVsZW1lbnRSZWZzLmN1cnJlbnRbZWRpdGluZy5pZF0pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBub2RlID0gZWxlbWVudFJlZnMuY3VycmVudFtlZGl0aW5nLmlkXTtcclxuICAgIGNvbnN0IG9iamV0b0VuRWRpY2lvbiA9IG9iamV0b3MuZmluZCgobykgPT4gby5pZCA9PT0gZWRpdGluZy5pZCk7XHJcbiAgICBpZiAoIW9iamV0b0VuRWRpY2lvbikgcmV0dXJuO1xyXG4gICAgY29uc3Qgbm9kZUNsYXNzID0gbm9kZS5nZXRDbGFzc05hbWU/LigpO1xyXG4gICAgY29uc3QgYmVmb3JlTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobm9kZSk7XHJcbiAgICBjb25zdCBlZGl0aW5nVmFsdWUgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuXHJcbiAgICBjb25zdCBzaG91bGRLZWVwQ2VudGVyUHJldmlldyA9XHJcbiAgICAgIG9iamV0b0VuRWRpY2lvbi50aXBvID09PSBcInRleHRvXCIgJiZcclxuICAgICAgIW9iamV0b0VuRWRpY2lvbi5fX2dyb3VwQWxpZ24gJiZcclxuICAgICAgIU51bWJlci5pc0Zpbml0ZShvYmpldG9FbkVkaWNpb24ud2lkdGgpICYmXHJcbiAgICAgIG9iamV0b0VuRWRpY2lvbi5fX2F1dG9XaWR0aCAhPT0gZmFsc2U7XHJcblxyXG4gICAgY29uc3QgZXhwZWN0ZWRYID0gc2hvdWxkS2VlcENlbnRlclByZXZpZXdcclxuICAgICAgPyBjYWxjdWxhclhUZXh0b0NlbnRyYWRvKG9iamV0b0VuRWRpY2lvbiwgZWRpdGluZ1ZhbHVlKVxyXG4gICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqZXRvRW5FZGljaW9uLngpID8gb2JqZXRvRW5FZGljaW9uLnggOiBudWxsKTtcclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcInByZXZpZXctZWZmZWN0LXN0YXJ0XCIsIHtcclxuICAgICAgaWQ6IGVkaXRpbmcuaWQsXHJcbiAgICAgIHZhbHVlTGVuZ3RoOiBlZGl0aW5nVmFsdWUubGVuZ3RoLFxyXG4gICAgICBub2RlQ2xhc3MsXHJcbiAgICAgIG9ialg6IG9iamV0b0VuRWRpY2lvbi54ID8/IG51bGwsXHJcbiAgICAgIG9ialk6IG9iamV0b0VuRWRpY2lvbi55ID8/IG51bGwsXHJcbiAgICAgIHNob3VsZEtlZXBDZW50ZXJQcmV2aWV3LFxyXG4gICAgICBleHBlY3RlZFgsXHJcbiAgICAgIGJlZm9yZU1ldHJpY3MsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyA/PyBBY3R1YWxpemFyIGVsIHRyYW5zZm9ybWVyIHNpIGVzdMOhIHByZXNlbnRlXHJcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG5vZGUuZ2V0U3RhZ2UoKT8uZmluZE9uZSgnVHJhbnNmb3JtZXInKTtcclxuICAgIGlmICh0cmFuc2Zvcm1lciAmJiB0cmFuc2Zvcm1lci5ub2RlcyAmJiB0cmFuc2Zvcm1lci5ub2RlcygpLmluY2x1ZGVzKG5vZGUpKSB7XHJcbiAgICAgIHRyYW5zZm9ybWVyLmZvcmNlVXBkYXRlKCk7IC8vIEFjdHVhbGl6YSBtYW51YWxtZW50ZSBlbCB0cmFuc2Zvcm1lclxyXG4gICAgICB0cmFuc2Zvcm1lci5nZXRMYXllcigpPy5iYXRjaERyYXcoKTsgLy8gUmVkaWJ1amFcclxuXHJcbiAgICAgIGxldCB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVjdCA9IHRyYW5zZm9ybWVyLmdldENsaWVudFJlY3Qoe1xyXG4gICAgICAgICAgc2tpcFRyYW5zZm9ybTogZmFsc2UsXHJcbiAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgc2tpcFN0cm9rZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW5saW5lRGVidWdMb2coXCJwcmV2aWV3LXRyYW5zZm9ybWVyLXVwZGF0ZWRcIiwge1xyXG4gICAgICAgIGlkOiBlZGl0aW5nLmlkLFxyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVjdDogdHJhbnNmb3JtZXJSZWN0XHJcbiAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICB4OiB0cmFuc2Zvcm1lclJlY3QueCxcclxuICAgICAgICAgICAgICB5OiB0cmFuc2Zvcm1lclJlY3QueSxcclxuICAgICAgICAgICAgICB3aWR0aDogdHJhbnNmb3JtZXJSZWN0LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogdHJhbnNmb3JtZXJSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhZnRlck1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lKG5vZGUpO1xyXG4gICAgY29uc3QgYWZ0ZXJYID1cclxuICAgICAgdHlwZW9mIG5vZGUueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS54KCkgOiBhZnRlck1ldHJpY3M/LnggPz8gbnVsbDtcclxuICAgIGlubGluZURlYnVnTG9nKFwicHJldmlldy1wcm9wcy1zeW5jXCIsIHtcclxuICAgICAgaWQ6IGVkaXRpbmcuaWQsXHJcbiAgICAgIHZhbHVlTGVuZ3RoOiBlZGl0aW5nVmFsdWUubGVuZ3RoLFxyXG4gICAgICBleHBlY3RlZFgsXHJcbiAgICAgIGFmdGVyWCxcclxuICAgICAgZGVsdGFYOlxyXG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShhZnRlclgpICYmIE51bWJlci5pc0Zpbml0ZShleHBlY3RlZFgpXHJcbiAgICAgICAgICA/IGFmdGVyWCAtIGV4cGVjdGVkWFxyXG4gICAgICAgICAgOiBudWxsLFxyXG4gICAgICBiZWZvcmVNZXRyaWNzLFxyXG4gICAgICBhZnRlck1ldHJpY3MsXHJcbiAgICB9KTtcclxuICB9LCBbZWRpdGluZy5pZCwgZWRpdGluZy52YWx1ZSwgb2JqZXRvcywgb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZSwgY2FsY3VsYXJYVGV4dG9DZW50cmFkb10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgcGVuZGluZyA9IGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXBlbmRpbmc/LmlkKSByZXR1cm47XHJcbiAgICBpZiAoZWRpdGluZy5pZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGZpbmFsT2JqID0gb2JqZXRvcy5maW5kKChvKSA9PiBvLmlkID09PSBwZW5kaW5nLmlkKTtcclxuICAgIGNvbnN0IGZpbmFsTm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbcGVuZGluZy5pZF07XHJcbiAgICBjb25zdCBmaW5hbE5vZGVNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShmaW5hbE5vZGUpO1xyXG4gICAgY29uc3QgZmluYWxYID0gTnVtYmVyLmlzRmluaXRlKGZpbmFsT2JqPy54KSA/IGZpbmFsT2JqLnggOiBudWxsO1xyXG4gICAgY29uc3QgZGVsdGFGaW5hbFZzRXhwZWN0ZWQgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUoZmluYWxYKSAmJiBOdW1iZXIuaXNGaW5pdGUocGVuZGluZy5leHBlY3RlZFgpXHJcbiAgICAgICAgPyBmaW5hbFggLSBwZW5kaW5nLmV4cGVjdGVkWFxyXG4gICAgICAgIDogbnVsbDtcclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1wb3N0LWNvbW1pdFwiLCB7XHJcbiAgICAgIC4uLnBlbmRpbmcsXHJcbiAgICAgIGZpbmFsWCxcclxuICAgICAgZGVsdGFGaW5hbFZzRXhwZWN0ZWQsXHJcbiAgICAgIGZpbmFsTm9kZU1ldHJpY3MsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpbmxpbmVDb21taXREZWJ1Z1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCB9O1xyXG4gIH0sIFtlZGl0aW5nLmlkLCBvYmpldG9zLCBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2luZG93Ll9lbGVtZW50b3NTZWxlY2Npb25hZG9zID0gZWxlbWVudG9zU2VsZWNjaW9uYWRvcztcbiAgICB3aW5kb3cuX29iamV0b3NBY3R1YWxlcyA9IG9iamV0b3M7XG4gICAgd2luZG93Ll9lbGVtZW50UmVmcyA9IGVsZW1lbnRSZWZzLmN1cnJlbnQ7XG4gICAgd2luZG93Ll9zZWNjaW9uZXNPcmRlbmFkYXMgPSBbLi4uc2VjY2lvbmVzXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVuIC0gYi5vcmRlbik7XG4gICAgd2luZG93Ll9hbHRvQ2FudmFzID0gYWx0b0NhbnZhcztcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImVkaXRvci1zZWxlY3Rpb24tY2hhbmdlXCIsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgaWRzOiBbLi4uZWxlbWVudG9zU2VsZWNjaW9uYWRvc10sXG4gICAgICAgICAgYWN0aXZlU2VjdGlvbklkOiBzZWNjaW9uQWN0aXZhSWQgfHwgbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MsIG9iamV0b3MsIHNlY2Npb25lcywgYWx0b0NhbnZhcywgc2VjY2lvbkFjdGl2YUlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChcInNlY2Npb24tYWN0aXZhXCIsIHtcbiAgICAgICAgZGV0YWlsOiB7IGlkOiBzZWNjaW9uQWN0aXZhSWQgfHwgbnVsbCB9LFxuICAgICAgfSlcbiAgICApO1xuICB9LCBbc2VjY2lvbkFjdGl2YUlkXSk7XG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB3aW5kb3cuc2V0SG92ZXJJZEdsb2JhbCA9IHNldEhvdmVySWQ7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAod2luZG93LnNldEhvdmVySWRHbG9iYWwgPT09IHNldEhvdmVySWQpIHtcclxuICAgICAgICBkZWxldGUgd2luZG93LnNldEhvdmVySWRHbG9iYWw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFob3ZlcklkKSByZXR1cm47XHJcbiAgICBjb25zdCBleGlzdHMgPSBvYmpldG9zLnNvbWUoKG8pID0+IG8uaWQgPT09IGhvdmVySWQpO1xyXG4gICAgaWYgKCFleGlzdHMpIHNldEhvdmVySWQobnVsbCk7XHJcbiAgfSwgW2hvdmVySWQsIG9iamV0b3NdKTtcclxuXHJcblxyXG5cclxuICAvLyBDbGVhbnVwIGRlbCBzaXN0ZW1hIGltcGVyYXRpdm9cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaW1wZXJhdGl2ZU9iamVjdHMuY2xlYW51cCgpO1xyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcbiAgY29uc3Qgc3RhZ2VHZXN0dXJlcyA9IHVzZVN0YWdlR2VzdHVyZXMoe1xuICAgIHNlY2Npb25lcyxcbiAgICBvYmpldG9zLFxuICAgIGVsZW1lbnRSZWZzLFxuICAgIGRyYWdTdGFydFBvcyxcbiAgICBoYXNEcmFnZ2VkLFxuICAgIHNlbGVjY2lvbkFjdGl2YSxcbiAgICBpbmljaW9TZWxlY2Npb24sXG4gICAgYXJlYVNlbGVjY2lvbixcbiAgICBkZXRlY3RhckludGVyc2VjY2lvbkxpbmVhLFxuICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXG4gICAgc2V0RWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcyxcbiAgICBzZXRTZWxlY2Npb25BY3RpdmEsXG4gICAgc2V0SW5pY2lvU2VsZWNjaW9uLFxuICAgIHNldEFyZWFTZWxlY2Npb24sXG4gICAgb25TZWxlY3RTZWNjaW9uLFxuICAgIGNlcnJhck1lbnVzRmxvdGFudGVzLFxuICB9KTtcblxuICBjb25zdCBtb2JpbGVDYW52YXNUb29sYmFyT2Zmc2V0ID0gbW9iaWxlVGV4dFRvb2xiYXJWaXNpYmxlXG4gICAgPyBtb2JpbGVGb250U3RyaXBWaXNpYmxlXG4gICAgICA/IDg4XG4gICAgICA6IDMyXG4gICAgOiAwO1xuXG4gIGNvbnN0IG1vYmlsZVNlY3Rpb25BY3Rpb25zVG9wID0gbW9iaWxlRm9udFN0cmlwVmlzaWJsZVxuICAgID8gXCJjYWxjKDE3MnB4ICsgZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDBweCkpXCJcbiAgICA6IG1vYmlsZVRleHRUb29sYmFyVmlzaWJsZVxuICAgICAgPyBcImNhbGMoMTE4cHggKyBlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCwgMHB4KSlcIlxuICAgICAgOiBcImNhbGMoNjRweCArIGVudihzYWZlLWFyZWEtaW5zZXQtdG9wLCAwcHgpKVwiO1xuXG5cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIlxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICAvLyA/IERlamFtb3MgcXVlIGVsIHNjcm9sbCBsbyBtYW5lamUgZWwgPG1haW4+IGRlbCBEYXNoYm9hcmRMYXlvdXQgKHVuIHNvbG8gc2Nyb2xsKVxyXG4gICAgICAgIG1hcmdpblRvcDogMCxcclxuICAgICAgICBvdmVyZmxvd1g6IFwiaGlkZGVuXCIsXHJcblxyXG4gICAgICAgIC8vID8gVVggbW9iaWxlOiBwZXJtaXRpciBzY3JvbGwgdmVydGljYWwgbmF0dXJhbCBhbHJlZGVkb3IgZGVsIGNhbnZhc1xyXG4gICAgICAgIHRvdWNoQWN0aW9uOiBcInBhbi15XCIsXHJcbiAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6IFwidG91Y2hcIixcclxuXHJcbiAgICAgICAgLy8gPyBlc3BhY2lvIHBhcmEgcXVlIG5vIOKAnGNob3F1ZeKAnSBjb24gaGVhZGVyIC8gYmFycmFzXG4gICAgICAgIHBhZGRpbmdUb3A6IDEyICsgbW9iaWxlQ2FudmFzVG9vbGJhck9mZnNldCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogXCJjYWxjKDk2cHggKyBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSwgMHB4KSlcIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCJwYWRkaW5nLXRvcCAxODBtcyBlYXNlXCIsXG4gICAgICB9fVxuICAgID5cblxyXG5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17Y29udGVuZWRvclJlZn1cclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgbWF4V2lkdGg6IFwiMTIwMHB4XCIsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y1ZjVmNVwiLFxyXG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICBwYWRkaW5nVG9wOiBcIjIwcHhcIiwgLy8gPyBNRU5PUyBQQURESU5HIElOVEVSTk9cbiAgICAgICAgICBwYWRkaW5nQm90dG9tOiBcImNhbGMoNDBweCArIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tLCAwcHgpKVwiLCAvLyA/IEVTUEFDSU8gSU5GRVJJT1JcbiAgICAgICAgfX1cbiAgICAgID5cblxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7ZXNjYWxhVmlzdWFsfSlgLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICd0b3AgY2VudGVyJyxcclxuICAgICAgICAgICAgd2lkdGg6IHpvb20gPT09IDAuOCA/IFwiMTIyMHB4XCIgOiBcIjEwMDBweFwiLCAvLyA/IDkyMHB4IGNhbnZhcyArIDE1MHB4IGNhZGEgbGFkb1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcblxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IHpvb20gPT09IDAuOCA/IFwiMTIyMHB4XCIgOiBcIjEwMDBweFwiLCAvLyA/IEFKVVNUQVIgU0VHw5pOIFpPT01cclxuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuXHJcbiAgICAgICAgICAgIHsvKiBCb3RvbmVzIGRlIG9yZGVuIGRlIHNlY2Npw7NuICovfVxyXG4gICAgICAgICAgICB7c2VjY2lvbkFjdGl2YUlkICYmIHNlY2Npb25lc09yZGVuYWRhcy5tYXAoKHNlY2Npb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHNlY2Npb24uaWQgIT09IHNlY2Npb25BY3RpdmFJZCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSBjYWxjdWxhck9mZnNldFkoc2VjY2lvbmVzT3JkZW5hZGFzLCBpbmRleCwgYWx0b0NhbnZhcyk7XG4gICAgICAgICAgICAgIGNvbnN0IGVzUHJpbWVyYSA9IGluZGV4ID09PSAwO1xuICAgICAgICAgICAgICBjb25zdCBlc1VsdGltYSA9IGluZGV4ID09PSBzZWNjaW9uZXNPcmRlbmFkYXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgY29uc3QgZXN0YUFuaW1hbmRvID0gc2VjY2lvbmVzQW5pbWFuZG8uaW5jbHVkZXMoc2VjY2lvbi5pZCk7XG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25CYXNlID1cbiAgICAgICAgICAgICAgICBcInB4LTMgcHktMiByb3VuZGVkLXhsIHRleHQteHMgZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYm9yZGVyIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctWyNkY2NhZjddXCI7XG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25EaXNhYmxlZCA9XG4gICAgICAgICAgICAgICAgXCJjdXJzb3Itbm90LWFsbG93ZWQgYm9yZGVyLWdyYXktMjAwIGJnLWdyYXktMTAwIHRleHQtZ3JheS00MDAgc2hhZG93LW5vbmVcIjtcbiAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkJ1dHRvblByaW1hcnkgPVxuICAgICAgICAgICAgICAgIFwiYm9yZGVyLVsjY2NiNmVmXSBiZy1ncmFkaWVudC10by1yIGZyb20tWyM4YTU3Y2ZdIHZpYS1bIzc3M2RiZV0gdG8tWyM2NzM3YjNdIHRleHQtd2hpdGUgc2hhZG93LVswXzEwcHhfMjJweF9yZ2JhKDExOSw2MSwxOTAsMC4zMCldIGhvdmVyOi10cmFuc2xhdGUteS1bMXB4XSBob3Zlcjpmcm9tLVsjN2Y0ZmM1XSBob3Zlcjp2aWEtWyM2ZjNiYmNdIGhvdmVyOnRvLVsjNWYzMWE4XSBob3ZlcjpzaGFkb3ctWzBfMTRweF8yOHB4X3JnYmEoMTE5LDYxLDE5MCwwLjM4KV1cIjtcbiAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkJ1dHRvbk5ldXRyYWwgPVxuICAgICAgICAgICAgICAgIFwiYm9yZGVyLVsjZTRkN2Y2XSBiZy13aGl0ZS85NSB0ZXh0LVsjNWYzNTk2XSBzaGFkb3ctWzBfNnB4XzE2cHhfcmdiYSgxNSwyMyw0MiwwLjA2KV0gaG92ZXI6LXRyYW5zbGF0ZS15LVsxcHhdIGhvdmVyOmJvcmRlci1bI2NkYjllZV0gaG92ZXI6YmctWyNmYWY2ZmZdIGhvdmVyOnNoYWRvdy1bMF8xMnB4XzI0cHhfcmdiYSgxMTksNjEsMTkwLDAuMTYpXVwiO1xuICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uQnV0dG9uU3VjY2VzcyA9XG4gICAgICAgICAgICAgICAgXCJib3JkZXItZW1lcmFsZC0zMDAgYmctZ3JhZGllbnQtdG8tciBmcm9tLWVtZXJhbGQtNTAwIHRvLWVtZXJhbGQtNjAwIHRleHQtd2hpdGUgc2hhZG93LVswXzEwcHhfMjJweF9yZ2JhKDUsMTUwLDEwNSwwLjI4KV0gaG92ZXI6LXRyYW5zbGF0ZS15LVsxcHhdIGhvdmVyOmZyb20tZW1lcmFsZC02MDAgaG92ZXI6dG8tZW1lcmFsZC03MDAgaG92ZXI6c2hhZG93LVswXzE0cHhfMjhweF9yZ2JhKDUsMTUwLDEwNSwwLjM2KV1cIjtcbiAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkJ1dHRvbkRhbmdlciA9XG4gICAgICAgICAgICAgICAgXCJib3JkZXItcm9zZS0zMDAgYmctZ3JhZGllbnQtdG8tciBmcm9tLXJvc2UtNTAwIHRvLXJlZC02MDAgdGV4dC13aGl0ZSBzaGFkb3ctWzBfMTBweF8yMnB4X3JnYmEoMjI1LDI5LDcyLDAuMjgpXSBob3ZlcjotdHJhbnNsYXRlLXktWzFweF0gaG92ZXI6ZnJvbS1yb3NlLTYwMCBob3Zlcjp0by1yZWQtNzAwIGhvdmVyOnNoYWRvdy1bMF8xNHB4XzI4cHhfcmdiYSgyMjUsMjksNzIsMC4zNildXCI7XG5cbiAgICAgICAgICAgICAgY29uc3QgYWN0aW9uQnV0dG9ucyA9IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgey8qIEJvdMOzbiBTdWJpciAqL31cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBtb3ZlclNlY2Npb25FeHRlcm5hbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uSWQ6IHNlY2Npb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY2Npb246IFwic3ViaXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsdWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXNBbmltYW5kbyxcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtlc1ByaW1lcmEgfHwgZXN0YUFuaW1hbmRvfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke2VzUHJpbWVyYSB8fCBlc3RhQW5pbWFuZG9cbiAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25EaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvblByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICB9ICR7ZXN0YUFuaW1hbmRvID8gXCJhbmltYXRlLXB1bHNlXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtlc1ByaW1lcmEgPyAnWWEgZXMgbGEgcHJpbWVyYSBzZWNjacOzbicgOiAnU3ViaXIgc2VjY2nDs24nfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxNb3ZlVXAgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIFN1YmlyIHNlY2Npw7NuXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICB7LyogQm90w7NuIEd1YXJkYXIgY29tbyBwbGFudGlsbGEgKi99XG4gICAgICAgICAgICAgICAgICB7IWxvYWRpbmdDbGFpbXMgJiYgZXNBZG1pbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRhclNlY2Npb25Db21vUGxhbnRpbGxhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBzZWNjaW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9iamV0b3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2NhclBsYW50aWxsYXNEZVNlY2Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZXN0YUFuaW1hbmRvfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c2VjdGlvbkJ1dHRvbkJhc2V9ICR7ZXN0YUFuaW1hbmRvXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25EaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWN0aW9uQnV0dG9uU3VjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAke2VzdGFBbmltYW5kbyA/IFwiYW5pbWF0ZS1wdWxzZVwiIDogXCJcIn1gfVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiR3VhcmRhciBlc3RhIHNlY2Npw7NuIGNvbW8gcGxhbnRpbGxhXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TGF5ZXJzIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYW50aWxsYVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kb1NlY2Npb24gPSBub3JtYWxpemFyQWx0b01vZG8oc2VjY2lvbi5hbHRvTW9kbyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzUGFudGFsbGEgPSBtb2RvU2VjY2lvbiA9PT0gXCJwYW50YWxsYVwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gRGVzYW5jbGFyIGZvbmRvICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlY2Npb24uZm9uZG9UaXBvID09PSBcImltYWdlblwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNhbmNsYXJGb25kbyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25JZDogc2VjY2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpldG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke3NlY3Rpb25CdXR0b25OZXV0cmFsfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZXNhbmNsYXIgaW1hZ2VuIGRlIGZvbmRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VW5saW5rMiBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNhbmNsYXIgZm9uZG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAge3NlY2Npb24uZm9uZG9UaXBvID09PSBcImltYWdlblwiICYmIGlzTW9iaWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBzZWNjaW9uLmlkID8gbnVsbCA6IHNlY2Npb24uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgPT09IHNlY2Npb24uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1pbmRpZ28tMzAwIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tNTAwIHRvLWluZGlnby02MDAgdGV4dC13aGl0ZSBzaGFkb3ctWzBfMTBweF8yMnB4X3JnYmEoNzksNzAsMjI5LDAuMjgpXSBob3ZlcjotdHJhbnNsYXRlLXktWzFweF0gaG92ZXI6ZnJvbS1pbmRpZ28tNjAwIGhvdmVyOnRvLWluZGlnby03MDAgaG92ZXI6c2hhZG93LVswXzE0cHhfMjhweF9yZ2JhKDc5LDcwLDIyOSwwLjM2KV1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlY3Rpb25CdXR0b25OZXV0cmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJNb2RvIG1vdmVyIGZvbmRvIGVuIG1vYmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgPT09IHNlY2Npb24uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJNb3ZlciBmb25kbzogT05cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIk1vdmVyIGZvbmRvXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFRvZ2dsZSBQYW50YWxsYSBjb21wbGV0YSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlUGFudGFsbGFDb21wbGV0YVNlY2Npb24oc2VjY2lvbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c2VjdGlvbkJ1dHRvbkJhc2V9ICR7ZXNQYW50YWxsYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2VjdGlvbkJ1dHRvblByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlY3Rpb25CdXR0b25OZXV0cmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiSGFjZSBxdWUgZXN0YSBzZWNjacOzbiBzZWEgZGUgcGFudGFsbGEgY29tcGxldGEgKDEwMHZoKSBhbCBwdWJsaWNhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1vbml0b3IgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlc1BhbnRhbGxhID8gXCJQYW50YWxsYTogT05cIiA6IFwiUGFudGFsbGE6IE9GRlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pKCl9XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gQm9ycmFyIHNlY2Npw7NuICovfVxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRNb2JpbGVTZWN0aW9uQWN0aW9uc09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhYnJpck1vZGFsQm9ycmFyU2VjY2lvbihzZWNjaW9uLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VzdGFBbmltYW5kbyB8fCBpc0RlbGV0aW5nU2VjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc3RhQW5pbWFuZG8gfHwgaXNEZWxldGluZ1NlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25EaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvbkRhbmdlclxuICAgICAgICAgICAgICAgICAgICAgIH0gJHtlc3RhQW5pbWFuZG8gfHwgaXNEZWxldGluZ1NlY3Rpb24gPyBcImFuaW1hdGUtcHVsc2VcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJCb3JyYXIgZXN0YSBzZWNjacOzbiB5IHRvZG9zIHN1cyBlbGVtZW50b3NcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIEJvcnJhciBzZWNjacOzblxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgey8qIEJvdMOzbiBCYWphciAqL31cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBtb3ZlclNlY2Npb25FeHRlcm5hbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uSWQ6IHNlY2Npb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY2Npb246IFwiYmFqYXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsdWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXNBbmltYW5kbyxcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtlc1VsdGltYSB8fCBlc3RhQW5pbWFuZG99XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c2VjdGlvbkJ1dHRvbkJhc2V9ICR7ZXNVbHRpbWEgfHwgZXN0YUFuaW1hbmRvXG4gICAgICAgICAgICAgICAgICAgICAgPyBzZWN0aW9uQnV0dG9uRGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICA6IHNlY3Rpb25CdXR0b25QcmltYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgfSAke2VzdGFBbmltYW5kbyA/IFwiYW5pbWF0ZS1wdWxzZVwiIDogXCJcIn1gfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17ZXNVbHRpbWEgPyAnWWEgZXMgbGEgw7psdGltYSBzZWNjacOzbicgOiAnQmFqYXIgc2VjY2nDs24nfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxNb3ZlRG93biBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgQmFqYXIgc2VjY2nDs25cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gQcOxYWRpciBzZWNjacOzbiAqL31cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JlYXJTZWNjaW9ufVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZXN0YUFuaW1hbmRvfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke2VzdGFBbmltYW5kb1xuICAgICAgICAgICAgICAgICAgICAgID8gYCR7c2VjdGlvbkJ1dHRvbkRpc2FibGVkfSBhbmltYXRlLXB1bHNlYFxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvblByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBw7FhZGlyIHVuYSBudWV2YSBzZWNjacOzbiBkZWJham9cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxQbHVzQ2lyY2xlIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBBw7FhZGlyIHNlY2Npw7NuXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQb3J0YWwoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIHotWzkwXSBmbGV4IGZsZXgtY29sIGl0ZW1zLWVuZCBnYXAtMlwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgdG9wOiBtb2JpbGVTZWN0aW9uQWN0aW9uc1RvcCxcbiAgICAgICAgICAgICAgICAgICAgICByaWdodDogXCJtYXgoOHB4LCBlbnYoc2FmZS1hcmVhLWluc2V0LXJpZ2h0LCAwcHgpKVwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuKChwcmV2KSA9PiAhcHJldil9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1bI2NjYjZlZl0gYmctZ3JhZGllbnQtdG8tciBmcm9tLVsjOGE1N2NmXSB2aWEtWyM3NzNkYmVdIHRvLVsjNjczN2IzXSB0ZXh0LXdoaXRlIHNoYWRvdy1bMF8xMHB4XzIycHhfcmdiYSgxMTksNjEsMTkwLDAuMzUpXSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6LXRyYW5zbGF0ZS15LVsxcHhdIGhvdmVyOmZyb20tWyM3ZjRmYzVdIGhvdmVyOnZpYS1bIzZmM2JiY10gaG92ZXI6dG8tWyM1ZjMxYThdIGhvdmVyOnNoYWRvdy1bMF8xNHB4XzI4cHhfcmdiYSgxMTksNjEsMTkwLDAuNDIpXVwiXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBY2Npb25lcyBkZSBzZWNjacOzblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7bW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25VcCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgIHttb2JpbGVTZWN0aW9uQWN0aW9uc09wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bbWluKDg0dncsMjMwcHgpXSBtYXgtaC1bNjJ2aF0gb3ZlcmZsb3cteS1hdXRvIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIGJnLXdoaXRlLzk1IHAtMiBzaGFkb3ctMnhsIGJhY2tkcm9wLWJsdXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMlwiPnthY3Rpb25CdXR0b25zfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+LFxuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgICAgICAgIGBvcmRlbi1tb2JpbGUtJHtzZWNjaW9uLmlkfWBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e2BvcmRlbi0ke3NlY2Npb24uaWR9YH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGZsZXggZmxleC1jb2wgZ2FwLTJcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBvZmZzZXRZICsgMjAsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtMTUwLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDI1LFxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogMjYwLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7YWN0aW9uQnV0dG9uc31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuXHJcblxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogODAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhbHRvQ2FudmFzRGluYW1pY28sXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG5cclxuICAgICAgICAgICAgICA8U3RhZ2VcclxuICAgICAgICAgICAgICAgIHJlZj17c3RhZ2VSZWZ9XHJcbiAgICAgICAgICAgICAgICB3aWR0aD17ODAwfVxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0PXthbHRvQ2FudmFzRGluYW1pY299XHJcbiAgICAgICAgICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgbGlzdGVuaW5nPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0PXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIGhpdEdyYXBoRW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwidmlzaWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFwiMCA0cHggMjBweCByZ2JhKDAsMCwwLDAuNSlcIixcclxuICAgICAgICAgICAgICAgIH19XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXtzdGFnZUdlc3R1cmVzLm9uTW91c2VEb3dufVxyXG5cclxuICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydD17c3RhZ2VHZXN0dXJlcy5vblRvdWNoU3RhcnR9XHJcblxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaE1vdmU9e3N0YWdlR2VzdHVyZXMub25Ub3VjaE1vdmV9XHJcblxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaEVuZD17c3RhZ2VHZXN0dXJlcy5vblRvdWNoRW5kfVxyXG5cclxuICAgICAgICAgICAgICAgIG9uTW91c2VNb3ZlPXtzdGFnZUdlc3R1cmVzLm9uTW91c2VNb3ZlfVxyXG5cclxuICAgICAgICAgICAgICAgIG9uTW91c2VVcD17c3RhZ2VHZXN0dXJlcy5vbk1vdXNlVXB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPENhbnZhc0VsZW1lbnRzTGF5ZXI+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7c2VjY2lvbmVzT3JkZW5hZGFzLmZsYXRNYXAoKHNlY2Npb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWx0dXJhUHggPSBzZWNjaW9uLmFsdHVyYTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgaW5kZXgsIGFsdG9DYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzQWN0aXZhID0gc2VjY2lvbi5pZCA9PT0gc2VjY2lvbkFjdGl2YUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzdGFBbmltYW5kbyA9IHNlY2Npb25lc0FuaW1hbmRvLmluY2x1ZGVzKHNlY2Npb24uaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50b3MgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgLy8gRm9uZG8gZGUgc2VjY2nDs24gLSBwdWVkZSBzZXIgY29sb3IgbyBpbWFnZW5cclxuICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb24uZm9uZG9UaXBvID09PSBcImltYWdlblwiID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9uZG9TZWNjaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YGZvbmRvLSR7c2VjY2lvbi5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uPXtzZWNjaW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRZPXtvZmZzZXRZfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbHR1cmFQeD17YWx0dXJhUHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiBvblNlbGVjdFNlY2Npb24oc2VjY2lvbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlRm9uZG9PZmZzZXQ9e2FjdHVhbGl6YXJPZmZzZXRGb25kb31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNb2JpbGU9e2lzTW9iaWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVCYWNrZ3JvdW5kRWRpdEVuYWJsZWQ9e21vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkID09PSBzZWNjaW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJhY2tncm91bmRJbWFnZVN0YXR1c0NoYW5nZT17aGFuZGxlQmFja2dyb3VuZEltYWdlU3RhdHVzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgc2VjY2lvbi0ke3NlY2Npb24uaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3NlY2Npb24uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeT17b2Zmc2V0WX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17ODAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17YWx0dXJhUHh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD17c2VjY2lvbi5mb25kbyB8fCBcIiNmZmZmZmZcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0U2VjY2lvbihzZWNjaW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25UYXA9eygpID0+IG9uU2VsZWN0U2VjY2lvbihzZWNjaW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBdO1xuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50b3M7XHJcbiAgICAgICAgICAgICAgICAgIH0pfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBDb250cm9sIGRlIGFsdHVyYSBwYXJhIHNlY2Npw7NuIGFjdGl2YSAqL31cclxuICAgICAgICAgICAgICAgICAge3NlY2Npb25BY3RpdmFJZCAmJiBzZWNjaW9uZXNPcmRlbmFkYXMubWFwKChzZWNjaW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWNjaW9uLmlkICE9PSBzZWNjaW9uQWN0aXZhSWQpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgaW5kZXgsIGFsdG9DYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xZID0gb2Zmc2V0WSArIHNlY2Npb24uYWx0dXJhIC0gNTsgLy8gNXB4IGFudGVzIGRlbCBmaW5hbFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RvU2VjY2lvbiA9IG5vcm1hbGl6YXJBbHRvTW9kbyhzZWNjaW9uLmFsdG9Nb2RvKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXRlUmVzaXplQWx0dXJhID0gKG1vZG9TZWNjaW9uICE9PSBcInBhbnRhbGxhXCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxHcm91cCBuYW1lPVwidWlcIiBrZXk9e2Bjb250cm9sLWFsdHVyYS0ke3NlY2Npb24uaWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBMw61uZWEgaW5kaWNhZG9yYSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwidWlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cz17WzUwLCBjb250cm9sWSwgNzUwLCBjb250cm9sWV19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzc3M2RiZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGFzaD17WzUsIDVdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQ29udHJvbCBjZW50cmFsIG1lam9yYWRvICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeD17NDAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB5PXtjb250cm9sWX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtwZXJtaXRlUmVzaXplQWx0dXJhfSAgICAgICAgICAgICAgICAgLy8gPyBjbGF2ZTogc2kgZXMgZmFsc2UsIG5vIGNhcHR1cmEgZXZlbnRvc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5PXtwZXJtaXRlUmVzaXplQWx0dXJhID8gMSA6IDAuMjV9ICAgICAgICAvLyA/IHZpc3VhbCBkZXNoYWJpbGl0YWRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uUG9pbnRlckRvd249e3Blcm1pdGVSZXNpemVBbHR1cmEgPyAoZSkgPT4gaW5pY2lhckNvbnRyb2xBbHR1cmEoZSwgc2VjY2lvbi5pZCkgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXRlUmVzaXplQWx0dXJhICYmICFzdXBwb3J0c1BvaW50ZXJFdmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGUpID0+IGluaWNpYXJDb250cm9sQWx0dXJhKGUsIHNlY2Npb24uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWl0ZVJlc2l6ZUFsdHVyYSAmJiAhc3VwcG9ydHNQb2ludGVyRXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChlKSA9PiBpbmljaWFyQ29udHJvbEFsdHVyYShlLCBzZWNjaW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRyb2xhbmRvQWx0dXJhICYmIHBlcm1pdGVSZXNpemVBbHR1cmEpIHNldEdsb2JhbEN1cnNvcihcIm5zLXJlc2l6ZVwiLCBzdGFnZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250cm9sYW5kb0FsdHVyYSAmJiBwZXJtaXRlUmVzaXplQWx0dXJhKSBjbGVhckdsb2JhbEN1cnNvcihzdGFnZVJlZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyogw4FyZWEgZGUgZGV0ZWNjacOzbiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg9ey00NX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstMjJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezkwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17NDR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRm9uZG8gZGVsIGNvbnRyb2wgY29uIGVzdGFkbyBhY3Rpdm8gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg9ey0yNX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9ey02fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezUwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsxMn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9e2NvbnRyb2xhbmRvQWx0dXJhID09PSBzZWNjaW9uLmlkID8gXCIjNzczZGJlXCIgOiBcInJnYmEoMTE5LCA2MSwgMTkwLCAwLjkpXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXM9ezZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcj1cInJnYmEoMCwwLDAsMC4zKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dCbHVyPXtjb250cm9sYW5kb0FsdHVyYSA9PT0gc2VjY2lvbi5pZCA/IDggOiA2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93T2Zmc2V0PXt7IHg6IDAsIHk6IGNvbnRyb2xhbmRvQWx0dXJhID09PSBzZWNjaW9uLmlkID8gNCA6IDMgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEFuaW1hY2nDs24gZGUgcHVsc28gZHVyYW50ZSBlbCBjb250cm9sICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjb250cm9sYW5kb0FsdHVyYSA9PT0gc2VjY2lvbi5pZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXstMzB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9ey04fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17NjB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MTZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM3NzNkYmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17Mn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzPXs4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5PXswLjZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBJbmRpY2Fkb3IgdmlzdWFsICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXstNn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9ey0zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD1cIj8/XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPXsxMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5PVwiQXJpYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogUHVudG9zIGRlIGFnYXJyZSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY2xlIHg9ey0xNX0geT17MH0gcmFkaXVzPXsxLjV9IGZpbGw9XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIiBsaXN0ZW5pbmc9e2ZhbHNlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjbGUgeD17LTEwfSB5PXswfSByYWRpdXM9ezEuNX0gZmlsbD1cInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiIGxpc3RlbmluZz17ZmFsc2V9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmNsZSB4PXsxMH0geT17MH0gcmFkaXVzPXsxLjV9IGZpbGw9XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIiBsaXN0ZW5pbmc9e2ZhbHNlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjbGUgeD17MTV9IHk9ezB9IHJhZGl1cz17MS41fSBmaWxsPVwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCIgbGlzdGVuaW5nPXtmYWxzZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRm9uZG8gZGVsIGluZGljYWRvciAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB4PXs3NTV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeT17Y29udHJvbFkgLSAxMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17NDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsyMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwicmdiYSgxMTksIDYxLCAxOTAsIDAuMSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cInJnYmEoMTE5LCA2MSwgMTkwLCAwLjMpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17MX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXM9ezR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBUZXh0byBkZWwgaW5kaWNhZG9yICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHg9ezc2MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB5PXtjb250cm9sWSAtIDZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD17YCR7TWF0aC5yb3VuZChzZWNjaW9uLmFsdHVyYSl9cHhgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPXsxMX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzc3M2RiZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseT1cIkFyaWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0PVwiYm9sZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSl9XHJcblxyXG4gICAgICAgICAgICAgICAgICB7LyogT3ZlcmxheSBtZWpvcmFkbyBkdXJhbnRlIGNvbnRyb2wgZGUgYWx0dXJhICovfVxyXG4gICAgICAgICAgICAgICAgICB7Y29udHJvbGFuZG9BbHR1cmEgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxHcm91cCBuYW1lPVwidWlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBPdmVybGF5IHN1dGlsICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgeD17MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeT17MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezgwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXthbHRvQ2FudmFzRGluYW1pY299XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJyZ2JhKDExOSwgNjEsIDE5MCwgMC4wNSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICB7LyogSW5kaWNhZG9yIGRlIGxhIHNlY2Npw7NuIHF1ZSBzZSBlc3TDoSBtb2RpZmljYW5kbyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIHtzZWNjaW9uZXNPcmRlbmFkYXMubWFwKChzZWNjaW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgaW5kZXgsIGFsdG9DYW52YXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kb1NlY2Npb24gPSBub3JtYWxpemFyQWx0b01vZG8oc2VjY2lvbi5hbHRvTW9kbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcm1pdGVSZXNpemVBbHR1cmEgPSAobW9kb1NlY2Npb24gIT09IFwicGFudGFsbGFcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxHcm91cCBrZXk9e3NlY2Npb24uaWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFJlY3Qg4oCcZm9uZG/igJ0gY2xpY2tlYWJsZSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9e29mZnNldFl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs4MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17c2VjY2lvbi5hbHR1cmF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9e3NlY2Npb24uZm9uZG8gfHwgXCJ0cmFuc3BhcmVudFwifSAvLyBwb2TDqXMgcG9uZXIgYmxhbmNvIHUgb3RybyBjb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdFNlY2Npb24oc2VjY2lvbi5pZCl9ICAgLy8gPz8gZGlzcGFyYSBlbCBldmVudG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFJlY3QgaGlnaGxpZ2h0IHNpIGVzdMOhcyBjb250cm9sYW5kbyBsYSBhbHR1cmEgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjY2lvbi5pZCA9PT0gY29udHJvbGFuZG9BbHR1cmEgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeT17b2Zmc2V0WX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17ODAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17c2VjY2lvbi5hbHR1cmF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjNzczZGJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17M31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXNoPXtbOCwgNF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICB7b2JqZXRvcy5tYXAoKG9iaiwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vID8/IERldGVybWluYXIgc2kgZXN0w6EgZW4gbW9kbyBlZGljacOzblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSW5FZGl0TW9kZSA9IGVkaXRpbmcuaWQgPT09IG9iai5pZCAmJiBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdID09PSBvYmouaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vID8/PyBDYXNvIGVzcGVjaWFsOiBsYSBnYWxlcsOtYSBsYSByZW5kZXJpemFtb3MgYWPDoSAobm8gdXNhIEVsZW1lbnRvQ2FudmFzKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoudGlwbyA9PT0gXCJnYWxlcmlhXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R2FsZXJpYUtvbnZhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtvYmouaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqPXtvYmp9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWY9e3JlZ2lzdGVyUmVmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uSG92ZXI9e3NldEhvdmVySWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17ZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhvYmouaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGRhR2FsZXJpYUFjdGl2YT17Y2VsZGFHYWxlcmlhQWN0aXZhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uUGlja0NlbGw9eyhpbmZvKSA9PiBzZXRDZWxkYUdhbGVyaWFBY3RpdmEoaW5mbyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzT3JkZW5hZGFzPXtzZWNjaW9uZXNPcmRlbmFkYXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0b0NhbnZhcz17YWx0b0NhbnZhc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD17KGlkLCBlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5ldnQgJiYgKGUuZXZ0LmNhbmNlbEJ1YmJsZSA9IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyhbaWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ01vdmVQZXJzb25hbGl6YWRvPXsocG9zLCBpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Ll9pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93Ll9ncnVwb0xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vc3RyYXJHdWlhcyhwb3MsIGlkLCBvYmpldG9zLCBlbGVtZW50UmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydFBlcnNvbmFsaXphZG89eyhkcmFnSWQgPSBvYmouaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhkcmFnSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2RyYWdJZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SG92ZXJJZChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmRQZXJzb25hbGl6YWRvPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbXBpYXJHdWlhcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpZCwgbnVldm8pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MoKHByZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHByZXYuZmluZEluZGV4KChvKSA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaV0gPSB7IC4uLnVwZGF0ZWRbaV0sIC4uLm51ZXZvIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoudGlwbyA9PT0gXCJjb3VudGRvd25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPENvdW50ZG93bktvbnZhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtvYmouaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqPXtvYmp9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWY9e3JlZ2lzdGVyUmVmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uSG92ZXI9e3NldEhvdmVySWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17ZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhvYmouaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhcz17c2VjY2lvbmVzT3JkZW5hZGFzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdG9DYW52YXM9e2FsdG9DYW52YXN9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gc2VsZWNjacOzblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoaWQsIGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU/LmV2dCAmJiAoZS5ldnQuY2FuY2VsQnViYmxlID0gdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKFtpZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gUFJFVklFVyBsaXZpYW5vIChubyB0b2NhciBlc3RhZG8gZGVsIG9iamV0byBwYXJhIHF1ZSBubyBoYXlhIGxhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydFBlcnNvbmFsaXphZG89eyhkcmFnSWQgPSBvYmouaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhkcmFnSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2RyYWdJZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SG92ZXJJZChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbz17KHBvcywgaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93Ll9ncnVwb0xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vc3RyYXJHdWlhcyhwb3MsIGlkLCBvYmpldG9zLCBlbGVtZW50UmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPyBGSU4gZGUgZHJhZzogbGltcGlhciBndcOtYXMgLyBVSSBhdXhpbGlhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZFBlcnNvbmFsaXphZG89eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltcGlhckd1aWFzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPyByZWZzIHBhcmEgZWwgbW90b3IgZGUgZHJhZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdTdGFydFBvcz17ZHJhZ1N0YXJ0UG9zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0RyYWdnZWQ9e2hhc0RyYWdnZWR9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gwqFDbGF2ZSEgQWwgZmluYWxpemFyLCB0cmF0YW1vcyB4L3kgYWJzb2x1dGFzIGNvbW8gZW4gRWxlbWVudG9DYW52YXM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpZCwgY2FtYmlvcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHByZXYuZmluZEluZGV4KG8gPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gLTEpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqT3JpZ2luYWwgPSBwcmV2W2ldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gU2kgbm8gZXMgZmluYWwgZGUgZHJhZywgbWVyZ2VhbW9zIHNpbiBtw6FzIChubyB0b2NhciBjb29yZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FtYmlvcy5maW5hbGl6b0RyYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaV0gPSB7IC4uLnVwZGF0ZWRbaV0sIC4uLmNhbWJpb3MgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gRmluYWwgZGUgZHJhZzogJ2NhbWJpb3MueScgdmllbmUgQUJTT0xVVEEgKFN0YWdlIGNvb3JkcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBudWV2YVNlY2Npb24sIGNvb3JkZW5hZGFzQWp1c3RhZGFzIH0gPSBkZXRlcm1pbmFyTnVldmFTZWNjaW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbWJpb3MueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzT3JkZW5hZGFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHsgLi4uY2FtYmlvcyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV4dC5maW5hbGl6b0RyYWc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVldmFTZWNjaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHsgLi4ubmV4dCwgLi4uY29vcmRlbmFkYXNBanVzdGFkYXMsIHNlY2Npb25JZDogbnVldmFTZWNjaW9uIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydGlyIHkgYWJzb2x1dGEgPyB5IHJlbGF0aXZhIGEgbGEgc2VjY2nDs24gYWN0dWFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dC55ID0gY29udmVydGlyQWJzQVJlbChjYW1iaW9zLnksIG9iak9yaWdpbmFsLnNlY2Npb25JZCwgc2VjY2lvbmVzT3JkZW5hZGFzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpXSA9IHsgLi4udXBkYXRlZFtpXSwgLi4ubmV4dCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9ialByZXZpZXcgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgZWRpdGluZy5pZCA9PT0gb2JqLmlkICYmIG9iai50aXBvID09PSBcInRleHRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRvUHJldmlldyA9IFN0cmluZyhlZGl0aW5nLnZhbHVlID8/IFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpZXdPYmogPSB7IC4uLm9iaiwgdGV4dG86IHRleHRvUHJldmlldyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZEtlZXBDZW50ZXJQcmV2aWV3ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFvYmouX19ncm91cEFsaWduICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKG9iai53aWR0aCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5fX2F1dG9XaWR0aCAhPT0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRLZWVwQ2VudGVyUHJldmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlld1ggPSBjYWxjdWxhclhUZXh0b0NlbnRyYWRvKG9iaiwgdGV4dG9QcmV2aWV3KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUocHJldmlld1gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdPYmoueCA9IHByZXZpZXdYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpZXdPYmo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvYmo7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8RWxlbWVudG9DYW52YXNcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtvYmouaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9ialByZXZpZXcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8geUxvY2FsOiBlbiBzZWNjacOzbiBwYW50YWxsYSB1c2Ftb3MgeU5vcm0gKiA1MDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWxsYmFjayBsZWdhY3k6IHNpIG5vIGhheSB5Tm9ybSwgdXNhbW9zIG9iai55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeTogKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFNlYyA9IHNlY2Npb25lc09yZGVuYWRhcy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBvYmpQcmV2aWV3LnNlY2Npb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgaWR4U2VjKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5TG9jYWwgPSBlc1NlY2Npb25QYW50YWxsYUJ5SWQob2JqUHJldmlldy5zZWNjaW9uSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKE51bWJlci5pc0Zpbml0ZShvYmpQcmV2aWV3LnlOb3JtKSA/IChvYmpQcmV2aWV3LnlOb3JtICogQUxUVVJBX1BBTlRBTExBX0VESVRPUikgOiBvYmpQcmV2aWV3LnkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb2JqUHJldmlldy55O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5TG9jYWwgKyBvZmZzZXRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvQ2FudmFzPXs4MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9eyFpc0luRWRpdE1vZGUgJiYgZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhvYmouaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVTZWxlY2Npb25hZG89eyFpc0luRWRpdE1vZGUgJiYgZWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcy5pbmNsdWRlcyhvYmouaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luRWRpdE1vZGU9e2lzSW5FZGl0TW9kZX0gLy8gPz8gTlVFVkEgUFJPUFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkhvdmVyPXtpc0luRWRpdE1vZGUgPyBudWxsIDogc2V0SG92ZXJJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWY9e3JlZ2lzdGVyUmVmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblN0YXJ0VGV4dEVkaXQ9e2lzSW5FZGl0TW9kZSA/IG51bGwgOiAoaWQsIHRleHRvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQgPSB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbmxpbmVPdmVybGF5TW91bnRlZElkKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImVudGVyOiBwcmUtc3RhcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0lkOiBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0b0xlbmd0aDogU3RyaW5nKHRleHRvID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPSBpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVFZGl0UHJldmlld1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCwgY2VudGVyWDogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwic3RhcnQtaW5saW5lLWVkaXRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0b0xlbmd0aDogU3RyaW5nKHRleHRvID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFg6IG9iaj8ueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0WTogb2JqPy55ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q3VycmVudEVkaXRpbmdJZDogd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU1ldHJpY3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RWRpdChpZCwgdGV4dG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU/LmRyYWdnYWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZT8uZ2V0TGF5ZXI/LigpPy5iYXRjaERyYXc/LigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImVudGVyOiBhZnRlci1zdGFydC1zeW5jXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNJZDogcHJldmlvdXNDdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEN1cnJlbnRFZGl0aW5nSWQ6IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0aW5nSWQ9e2VkaXRpbmcuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZU92ZXJsYXlNb3VudGVkSWQ9e2lubGluZU92ZXJsYXlNb3VudGVkSWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZVZpc2liaWxpdHlNb2RlPXtpbmxpbmVEZWJ1Z0FCLnZpc2liaWxpdHlTb3VyY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaElubGluZUVkaXQ9e2ZpbmlzaEVkaXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXtpc0luRWRpdE1vZGUgPyBudWxsIDogKGlkLCBvYmosIGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50aXBvID09PSBcInJzdnAtYm90b25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRpbmcuaWQgJiYgZWRpdGluZy5pZCAhPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaEVkaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGU/LmV2dCAmJiAoZS5ldnQuY2FuY2VsQnViYmxlID0gdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzU2hpZnQgPSBlPy5ldnQ/LnNoaWZ0S2V5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoKHByZXYpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlc1NoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldi5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYuZmlsdGVyKCh4KSA9PiB4ICE9PSBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIGlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoaWQsIG51ZXZvKSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBOVUVWTzogTWFuZWphciBwcmV2aWV3IGlubWVkaWF0byBkZSBkcmFnIGdydXBhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWV2by5pc0RyYWdQcmV2aWV3KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwcmV2LmZpbmRJbmRleChvID0+IG8uaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIHByZXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGlzRHJhZ1ByZXZpZXcsIHNraXBIaXN0b3JpYWwsIC4uLmNsZWFuTnVldm8gfSA9IG51ZXZvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2luZGV4XSA9IHsgLi4udXBkYXRlZFtpbmRleF0sIC4uLmNsZWFuTnVldm8gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IE1BTkVKQVIgU09MTyBiYXRjaCB1cGRhdGUgZmluYWwgZGUgZHJhZyBncnVwYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVldm8uaXNCYXRjaFVwZGF0ZUZpbmFsICYmIGlkID09PSAnQkFUQ0hfVVBEQVRFX0dST1VQX0ZJTkFMJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudG9zLCBkcmFnSW5pY2lhbCwgZGVsdGFYLCBkZWx0YVkgfSA9IG51ZXZvO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2Lm1hcChvYmpldG8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50b3MuaW5jbHVkZXMob2JqZXRvLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdJbmljaWFsICYmIGRyYWdJbmljaWFsW29iamV0by5pZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zSW5pY2lhbCA9IGRyYWdJbmljaWFsW29iamV0by5pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ub2JqZXRvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHBvc0luaWNpYWwueCArIGRlbHRhWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBwb3NJbmljaWFsLnkgKyBkZWx0YVlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamV0bztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IE5PIHByb2Nlc2FyIHNpIHZpZW5lIGRlbCBUcmFuc2Zvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVldm8uZnJvbVRyYW5zZm9ybSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iak9yaWdpbmFsID0gb2JqZXRvcy5maW5kKChvKSA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmpPcmlnaW5hbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBQYXJhIGRyYWcgZmluYWwsIHByb2Nlc2FyIGlubWVkaWF0YW1lbnRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZvLmZpbmFsaXpvRHJhZykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbnVldmFTZWNjaW9uLCBjb29yZGVuYWRhc0FqdXN0YWRhcyB9ID0gZGV0ZXJtaW5hck51ZXZhU2VjY2lvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVldm8ueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwuc2VjY2lvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uZXNPcmRlbmFkYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvb3JkZW5hZGFzRmluYWxlcyA9IHsgLi4ubnVldm8gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb29yZGVuYWRhc0ZpbmFsZXMuZmluYWxpem9EcmFnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWV2YVNlY2Npb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRlbmFkYXNGaW5hbGVzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvb3JkZW5hZGFzRmluYWxlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb29yZGVuYWRhc0FqdXN0YWRhcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uSWQ6IG51ZXZhU2VjY2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRlbmFkYXNGaW5hbGVzLnkgPSBjb252ZXJ0aXJBYnNBUmVsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51ZXZvLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwuc2VjY2lvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEpIERldGVybWluYXIgc2VjY2nDs24gZmluYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY2Npb25GaW5hbElkID0gY29vcmRlbmFkYXNGaW5hbGVzLnNlY2Npb25JZCB8fCBvYmpPcmlnaW5hbC5zZWNjaW9uSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMikgT2J0ZW5lciB5UmVsUHggKHkgcmVsYXRpdmEgZGVudHJvIGRlIGxhIHNlY2Npw7NuIGVuIHB4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlSZWxQeDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVldmFTZWNjaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvb3JkZW5hZGFzQWp1c3RhZGFzIG5vcm1hbG1lbnRlIHlhIHRyYWUgeSByZWxhdGl2YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5UmVsUHggPSBOdW1iZXIuaXNGaW5pdGUoY29vcmRlbmFkYXNGaW5hbGVzLnkpID8gY29vcmRlbmFkYXNGaW5hbGVzLnkgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2kgbm8gY2FtYmnDsyBkZSBzZWNjacOzbiwgY29udmVydGltb3MgZGVzZGUgeSBhYnNvbHV0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5UmVsUHggPSBOdW1iZXIuaXNGaW5pdGUoY29vcmRlbmFkYXNGaW5hbGVzLnkpID8gY29vcmRlbmFkYXNGaW5hbGVzLnkgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMpIEFwbGljYXIgcG9sw610aWNhIHBhbnRhbGxhOiBndWFyZGFyIHlOb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXNTZWNjaW9uUGFudGFsbGFCeUlkKHNlY2Npb25GaW5hbElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5Tm9ybSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHlSZWxQeCAvIEFMVFVSQV9QQU5UQUxMQV9FRElUT1IpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRlbmFkYXNGaW5hbGVzLnlOb3JtID0geU5vcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb29yZGVuYWRhc0ZpbmFsZXMueTsgLy8gPyBjbGF2ZTogZXZpdGFtb3MgbWV6Y2xhciBzaXN0ZW1hc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlqbzogZ3VhcmRhciB5IGVuIHB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkZW5hZGFzRmluYWxlcy55ID0geVJlbFB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29vcmRlbmFkYXNGaW5hbGVzLnlOb3JtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsaXphciBpbm1lZGlhdGFtZW50ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwcmV2LmZpbmRJbmRleChvID0+IG8uaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIHByZXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2luZGV4XSA9IHsgLi4udXBkYXRlZFtpbmRleF0sIC4uLmNvb3JkZW5hZGFzRmluYWxlcyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IFBhcmEgb3Ryb3MgY2FtYmlvcyAodHJhbnNmb3JtLCBldGMuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhheURpZmVyZW5jaWFzID0gT2JqZWN0LmtleXMobnVldm8pLnNvbWUoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbG9yQW50ZXJpb3IgPSBvYmpPcmlnaW5hbFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsb3JOdWV2byA9IG51ZXZvW2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWxvckFudGVyaW9yID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsb3JOdWV2byA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHZhbG9yQW50ZXJpb3IgLSB2YWxvck51ZXZvKSA+IDAuMDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbG9yQW50ZXJpb3IgIT09IHZhbG9yTnVldm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGF5RGlmZXJlbmNpYXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjY2lvbklkID0gbnVldm8uc2VjY2lvbklkIHx8IG9iak9yaWdpbmFsLnNlY2Npb25JZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNjaW9uID0gc2VjY2lvbmVzT3JkZW5hZGFzLmZpbmQoKHMpID0+IHMuaWQgPT09IHNlY2Npb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWNjaW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHByZXYuZmluZEluZGV4KG8gPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIHByZXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaW5kZXhdID0geyAuLi51cGRhdGVkW2luZGV4XSwgLi4ubnVldm8gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydFBlcnNvbmFsaXphZG89e2lzSW5FZGl0TW9kZSA/IG51bGwgOiAoZHJhZ0lkID0gb2JqLmlkLCBlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWNjaW9uQWN0dWFsID0gQXJyYXkuaXNBcnJheSh3aW5kb3cuX2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3aW5kb3cuX2VsZW1lbnRvc1NlbGVjY2lvbmFkb3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY2Npb25BY3R1YWwuaW5jbHVkZXMoZHJhZ0lkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2RyYWdJZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEhvdmVySWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kUGVyc29uYWxpemFkbz17aXNJbkVkaXRNb2RlID8gbnVsbCA6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFyRHJhZ0VuZChbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ01vdmVQZXJzb25hbGl6YWRvPXtpc0luRWRpdE1vZGUgPyBudWxsIDogKHBvcywgZWxlbWVudElkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gTk8gbW9zdHJhciBndcOtYXMgZHVyYW50ZSBkcmFnIGdydXBhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93Ll9ncnVwb0xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3N0cmFyR3VpYXMocG9zLCBlbGVtZW50SWQsIG9iamV0b3MsIGVsZW1lbnRSZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMoZWxlbWVudElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdTdGFydFBvcz17ZHJhZ1N0YXJ0UG9zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNEcmFnZ2VkPXtoYXNEcmFnZ2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9KX1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAge3NlbGVjY2lvbkFjdGl2YSAmJiBhcmVhU2VsZWNjaW9uICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInVpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHg9e2FyZWFTZWxlY2Npb24ueH1cclxuICAgICAgICAgICAgICAgICAgICAgIHk9e2FyZWFTZWxlY2Npb24ueX1cclxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXthcmVhU2VsZWNjaW9uLndpZHRofVxyXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXthcmVhU2VsZWNjaW9uLmhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJyZ2JhKDExOSwgNjEsIDE5MCwgMC4xKVwiIC8vIHZpb2xldGEgY2xhcm9cclxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM3NzNkYmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezF9XHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXNoPXtbNCwgNF19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICB7ZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPiAwICYmICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3Rpb25Cb3VuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHM9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3N9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50UmVmcz17ZWxlbWVudFJlZnN9XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpldG9zPXtvYmpldG9zfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEcmFnZ2luZz17aXNEcmFnZ2luZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhbnNmb3JtPXsobmV3QXR0cnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iakluZGV4ID0gb2JqZXRvcy5maW5kSW5kZXgobyA9PiBvLmlkID09PSBpZCk7XG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpJbmRleCAhPT0gLTEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdHRycy5pc1ByZXZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2aWV3OiBhY3R1YWxpemFjacOzbiBzaW4gaGlzdG9yaWFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZvcyA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRvID0gbnVldm9zW29iakluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50ZG93bjogZHVyYW50ZSBwcmV2aWV3IGRlamFtb3MgcXVlIEtvbnZhIGVzY2FsZSBlbCBub2RvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW4gdG9jYXIgZXN0YWRvIFJlYWN0IHBhcmEgZXZpdGFyIGRlc2luY3Jvbml6YWNpw7NuIGNvbiBUcmFuc2Zvcm1lci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRvLnRpcG8gPT09IFwiY291bnRkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudG8udGlwbyA9PT0gXCJmb3JtYVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlbGVtZW50by5maWd1cmEgPT09IFwiY2lyY2xlXCIgfHwgZWxlbWVudG8uZmlndXJhID09PSBcInRyaWFuZ2xlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudG8udGlwbyA9PT0gXCJ0ZXh0b1wiICYmIE51bWJlci5pc0Zpbml0ZShuZXdBdHRycy5mb250U2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhcmEgdGV4dG8gZGVqYW1vcyBxdWUgS29udmEgaGFnYSBlbCBwcmV2aWV3IGRlIGVzY2FsYSBlbiB2aXZvLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsaXphciBlc3RhZG8gUmVhY3QgZW4gY2FkYSBmcmFtZSBnZW5lcmEgbWljcm8taml0dGVyIHZpc3VhbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRFbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZWxlbWVudG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogbmV3QXR0cnMucm90YXRpb24gfHwgZWxlbWVudG8ucm90YXRpb24gfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudG8udGlwbyA9PT0gXCJnYWxlcmlhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbGxlcnlNZXRyaWNzID0gbm9ybWFsaXphck1lZGlkYXNHYWxlcmlhKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50byxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXR0cnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0F0dHJzLnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC53aWR0aCA9IGdhbGxlcnlNZXRyaWNzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5oZWlnaHQgPSBnYWxsZXJ5TWV0cmljcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LndpZHRoUGN0ID0gZ2FsbGVyeU1ldHJpY3Mud2lkdGhQY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnggPSBnYWxsZXJ5TWV0cmljcy54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5yb3RhdGlvbiA9IGVsZW1lbnRvLnJvdGF0aW9uIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnNjYWxlWCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnNjYWxlWSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXR0cnMud2lkdGggIT09IHVuZGVmaW5lZCkgdXBkYXRlZEVsZW1lbnQud2lkdGggPSBuZXdBdHRycy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F0dHJzLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB1cGRhdGVkRWxlbWVudC5oZWlnaHQgPSBuZXdBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdHRycy5yYWRpdXMgIT09IHVuZGVmaW5lZCkgdXBkYXRlZEVsZW1lbnQucmFkaXVzID0gbmV3QXR0cnMucmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5zY2FsZVggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5zY2FsZVkgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51ZXZvc1tvYmpJbmRleF0gPSB1cGRhdGVkRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWV2b3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IEFDVFVBTElaQVIgUE9TSUNJw5NOIERFTCBCT1TDk04gRFVSQU5URSBUUkFOU0ZPUk1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3QXR0cnMuaXNGaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbDogYWN0dWFsaXphY2nDs24gY29tcGxldGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Ll9yZXNpemVEYXRhID0geyBpc1Jlc2l6aW5nOiBmYWxzZSB9O1xuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpc1ByZXZpZXcsIGlzRmluYWwsIC4uLmNsZWFuQXR0cnMgfSA9IG5ld0F0dHJzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBDT05WRVJUSVIgY29vcmRlbmFkYXMgYWJzb2x1dGFzIGEgcmVsYXRpdmFzIEFOVEVTIGRlIGd1YXJkYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpPcmlnaW5hbCA9IG9iamV0b3Nbb2JqSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbEF0dHJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2xlYW5BdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNvbnZlcnRpckFic0FSZWwoY2xlYW5BdHRycy55LCBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsIHNlY2Npb25lc09yZGVuYWRhcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tVHJhbnNmb3JtOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPyBDT1VOVERPV046IGNvbnNlcnZhciBlc2NhbGEgZmluYWwgZGVsIGRyYWcgKHNpbiByZWNvbnZlcnNpw7NuIGEgY2hpcFdpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJhIHF1ZSBlbCB0YW1hw7FvIGZpbmFsIGNvaW5jaWRhIGV4YWN0YW1lbnRlIGNvbiBsbyBzb2x0YWRvLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJ0ZXh0b1wiICYmIE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLmZvbnRTaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZEZvbnRTaXplID0gTWF0aC5tYXgoNiwgTnVtYmVyKGNsZWFuQXR0cnMuZm9udFNpemUpIHx8IDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZE1hdGNoVmlzdWFsV2lkdGggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwuX19hdXRvV2lkdGggIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKG9iak9yaWdpbmFsLndpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Rm9udFNpemUgPSBzaG91bGRNYXRjaFZpc3VhbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFqdXN0YXJGb250U2l6ZUFBbmNob1Zpc3VhbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZEZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkF0dHJzLnRleHRWaXN1YWxXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXF1ZXN0ZWRGb250U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJlZFggPSBjYWxjdWxhclhUZXh0b0Rlc2RlQ2VudHJvKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Rm9udFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkF0dHJzLnRleHRDZW50ZXJYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJ0cmFuc2Zvcm0tZmluYWw6dGV4dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogb2JqT3JpZ2luYWw/LmlkID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZE1hdGNoVmlzdWFsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkZvbnRTaXplOiBjbGVhbkF0dHJzLmZvbnRTaXplID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0VmlzdWFsV2lkdGg6IGNsZWFuQXR0cnMudGV4dFZpc3VhbFdpZHRoID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q2VudGVyWDogY2xlYW5BdHRycy50ZXh0Q2VudGVyWCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxYOiBvYmpPcmlnaW5hbD8ueCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxZOiBvYmpPcmlnaW5hbD8ueSA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQXR0cnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5maW5hbEF0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IG5leHRGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IE51bWJlci5pc0Zpbml0ZShjZW50ZXJlZFgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2VudGVyZWRYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpPcmlnaW5hbC54KSA/IG9iak9yaWdpbmFsLnggOiAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IE51bWJlci5pc0Zpbml0ZShvYmpPcmlnaW5hbC55KSA/IG9iak9yaWdpbmFsLnkgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMudGV4dENlbnRlclg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMudGV4dFZpc3VhbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcInRyYW5zZm9ybS1maW5hbDp0ZXh0LWF0dHJzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBvYmpPcmlnaW5hbD8uaWQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsRm9udFNpemU6IGZpbmFsQXR0cnMuZm9udFNpemUgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsWDogZmluYWxBdHRycy54ID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFk6IGZpbmFsQXR0cnMueSA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iak9yaWdpbmFsLnRpcG8gPT09IFwiY291bnRkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEF0dHJzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmluYWxBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWDogTnVtYmVyLmlzRmluaXRlKGNsZWFuQXR0cnMuc2NhbGVYKSA/IGNsZWFuQXR0cnMuc2NhbGVYIDogKG9iak9yaWdpbmFsLnNjYWxlWCA/PyAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogTnVtYmVyLmlzRmluaXRlKGNsZWFuQXR0cnMuc2NhbGVZKSA/IGNsZWFuQXR0cnMuc2NhbGVZIDogKG9iak9yaWdpbmFsLnNjYWxlWSA/PyAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaW5hbEF0dHJzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJmb3JtYVwiICYmIG9iak9yaWdpbmFsLmZpZ3VyYSA9PT0gXCJjaXJjbGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxBdHRycyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmluYWxBdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogTnVtYmVyLmlzRmluaXRlKGNsZWFuQXR0cnMueCkgPyBjbGVhbkF0dHJzLnggOiAob2JqT3JpZ2luYWwueCB8fCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy5yYWRpdXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjbGVhbkF0dHJzLnJhZGl1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKG9iak9yaWdpbmFsLnJhZGl1cyB8fCA1MCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaW5hbEF0dHJzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJmb3JtYVwiICYmIG9iak9yaWdpbmFsLmZpZ3VyYSA9PT0gXCJ0cmlhbmdsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEF0dHJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5maW5hbEF0dHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy54KSA/IGNsZWFuQXR0cnMueCA6IChvYmpPcmlnaW5hbC54IHx8IDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLnJhZGl1cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNsZWFuQXR0cnMucmFkaXVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAob2JqT3JpZ2luYWwucmFkaXVzIHx8IDYwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmpPcmlnaW5hbC50aXBvID09PSBcImdhbGVyaWFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FsbGVyeU1ldHJpY3MgPSBub3JtYWxpemFyTWVkaWRhc0dhbGVyaWEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iak9yaWdpbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkF0dHJzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkF0dHJzLnhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEF0dHJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5maW5hbEF0dHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBnYWxsZXJ5TWV0cmljcy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZ2FsbGVyeU1ldHJpY3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZ2FsbGVyeU1ldHJpY3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aFBjdDogZ2FsbGVyeU1ldHJpY3Mud2lkdGhQY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBvYmpPcmlnaW5hbC5yb3RhdGlvbiB8fCAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/IG9mZnNldFkgc29sbyBwYXJhIGRlYnVnIChldml0YSBSZWZlcmVuY2VFcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHNlY2Npb25lc09yZGVuYWRhcy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBvYmpPcmlnaW5hbC5zZWNjaW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FmZSA9IGlkeCA+PSAwID8gaWR4IDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGE6IGVuIHR1IGPDs2RpZ28gbG8gbGxhbcOhcyBhIHZlY2VzIGNvbiAyIHBhcmFtcywgYSB2ZWNlcyBjb24gMy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjw6EgdXNhbW9zIDMsIGNvbnNpc3RlbnRlIGNvbiBvdHJhcyBwYXJ0ZXMgZGVsIGFyY2hpdm8uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgc2FmZSwgYWx0b0NhbnZhcykgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iak9yaWdpbmFsLnRpcG8gPT09IFwiY291bnRkb3duXCIgfHwgb2JqT3JpZ2luYWwudGlwbyA9PT0gXCJ0ZXh0b1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iak9yaWdpbmFsLnRpcG8gPT09IFwidGV4dG9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWl0U25hcHNob3QgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBvYmpPcmlnaW5hbD8uaWQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxGb250U2l6ZTogZmluYWxBdHRycy5mb250U2l6ZSA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFg6IGZpbmFsQXR0cnMueCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFk6IGZpbmFsQXR0cnMueSA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uSWQ6IG9iak9yaWdpbmFsPy5zZWNjaW9uSWQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJ0cmFuc2Zvcm0tZmluYWw6Y29tbWl0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29tbWl0U25hcHNob3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1RleHRSZXNpemVEZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlQWZ0ZXJDb21taXQgPSBlbGVtZW50UmVmcy5jdXJyZW50Py5bY29tbWl0U25hcHNob3QuaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlQWZ0ZXJDb21taXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwidHJhbnNmb3JtLWZpbmFsOnBvc3QtcmVuZGVyOm5vLW5vZGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjb21taXRTbmFwc2hvdC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY3RBZnRlckNvbW1pdCA9IG5vZGVBZnRlckNvbW1pdC5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJ0cmFuc2Zvcm0tZmluYWw6cG9zdC1yZW5kZXJcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbW1pdFNuYXBzaG90LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVYOiB0eXBlb2Ygbm9kZUFmdGVyQ29tbWl0LnggPT09IFwiZnVuY3Rpb25cIiA/IG5vZGVBZnRlckNvbW1pdC54KCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVZOiB0eXBlb2Ygbm9kZUFmdGVyQ29tbWl0LnkgPT09IFwiZnVuY3Rpb25cIiA/IG5vZGVBZnRlckNvbW1pdC55KCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVTY2FsZVg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygbm9kZUFmdGVyQ29tbWl0LnNjYWxlWCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbm9kZUFmdGVyQ29tbWl0LnNjYWxlWCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlU2NhbGVZOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG5vZGVBZnRlckNvbW1pdC5zY2FsZVkgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5vZGVBZnRlckNvbW1pdC5zY2FsZVkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUZvbnRTaXplOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG5vZGVBZnRlckNvbW1pdC5mb250U2l6ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbm9kZUFmdGVyQ29tbWl0LmZvbnRTaXplKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZWN0V2lkdGg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUocmVjdEFmdGVyQ29tbWl0Py53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZWN0QWZ0ZXJDb21taXQud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZWN0SGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHJlY3RBZnRlckNvbW1pdD8uaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlY3RBZnRlckNvbW1pdC5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJ0cmFuc2Zvcm0tZmluYWw6cG9zdC1yZW5kZXI6ZXJyb3JcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjb21taXRTbmFwc2hvdC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnI/Lm1lc3NhZ2UgfHwgU3RyaW5nKGVyciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphck9iamV0byhvYmpJbmRleCwgZmluYWxBdHRycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJPYmpldG8ob2JqSW5kZXgsIGZpbmFsQXR0cnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9KSgpfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBObyBtb3N0cmFyIGhvdmVyIGR1cmFudGUgZHJhZy9yZXNpemUvZWRpY2nDs24gTkkgY3VhbmRvIGhheSBsw61kZXIgZGUgZ3J1cG8gKi99XHJcbiAgICAgICAgICAgICAgICAgIHshd2luZG93Ll9yZXNpemVEYXRhPy5pc1Jlc2l6aW5nICYmICFpc0RyYWdnaW5nICYmICF3aW5kb3cuX2lzRHJhZ2dpbmcgJiYgIXdpbmRvdy5fZ3J1cG9MaWRlciAmJiAhZWRpdGluZy5pZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPEhvdmVySW5kaWNhdG9yIGhvdmVyZWRFbGVtZW50PXtob3ZlcklkfSBlbGVtZW50UmVmcz17ZWxlbWVudFJlZnN9IG9iamV0b3M9e29iamV0b3N9IC8+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiA/PyBDb250cm9sZXMgZXNwZWNpYWxlcyBwYXJhIGzDrW5lYXMgc2VsZWNjaW9uYWRhcyAqL31cclxuICAgICAgICAgICAgICAgICAge2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAxICYmICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudG9TZWxlY2Npb25hZG8gPSBvYmpldG9zLmZpbmQob2JqID0+IG9iai5pZCA9PT0gZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvU2VsZWNjaW9uYWRvPy50aXBvID09PSAnZm9ybWEnICYmIGVsZW1lbnRvU2VsZWNjaW9uYWRvPy5maWd1cmEgPT09ICdsaW5lJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmVDb250cm9sc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwidWlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2BsaW5lLWNvbnRyb2xzLSR7ZWxlbWVudG9TZWxlY2Npb25hZG8uaWR9LSR7SlNPTi5zdHJpbmdpZnkoZWxlbWVudG9TZWxlY2Npb25hZG8ucG9pbnRzKX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lRWxlbWVudD17ZWxlbWVudG9TZWxlY2Npb25hZG99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRSZWZzPXtlbGVtZW50UmVmc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVMaW5lPXthY3R1YWxpemFyTGluZWF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdG9DYW52YXM9e2FsdG9DYW52YXNEaW5hbWljb31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNb2JpbGU9e2lzTW9iaWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBOVUVWQSBQUk9QOiBQYXNhciBpbmZvcm1hY2nDs24gc29icmUgZHJhZyBncnVwYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEcmFnR3J1cGFsQWN0aXZlPXt3aW5kb3cuX2dydXBvTGlkZXIgIT09IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgIH0pKCl9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIEzDrW5lYXMgZGUgZ3XDrWEgZGluw6FtaWNhcyBtZWpvcmFkYXMgKi99XHJcbiAgICAgICAgICAgICAgICAgIHtndWlhTGluZWFzLm1hcCgobGluZWEsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmFyIGVsIGVzdGlsbyB2aXN1YWwgc2Vnw7puIGVsIHRpcG9cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlc0xpbmVhU2VjY2lvbiA9IGxpbmVhLnByaW9yaXR5ID09PSAnc2VjY2lvbic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8TGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwidWlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake2xpbmVhLnR5cGV9LSR7aX1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHM9e2xpbmVhLnBvaW50c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPXtlc0xpbmVhU2VjY2lvbiA/IFwiIzc3M2RiZVwiIDogXCIjOTMzM2VhXCJ9IC8vIFZpb2xldGEgbcOhcyBpbnRlbnNvIHBhcmEgc2VjY2nDs25cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2VzTGluZWFTZWNjaW9uID8gMiA6IDF9IC8vIEzDrW5lYXMgZGUgc2VjY2nDs24gbcOhcyBncnVlc2FzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhc2g9e2xpbmVhLnN0eWxlID09PSAnZGFzaGVkJyA/IFs4LCA2XSA6IHVuZGVmaW5lZH0gLy8gUHVudGVhZG8gcGFyYSBlbGVtZW50b3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eT17ZXNMaW5lYVNlY2Npb24gPyAwLjkgOiAwLjd9IC8vIEzDrW5lYXMgZGUgc2VjY2nDs24gbcOhcyBvcGFjYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyZmVjdERyYXdFbmFibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWZlY3RvIHN1dGlsIGRlIHJlc3BsYW5kb3IgcGFyYSBsw61uZWFzIGRlIHNlY2Npw7NuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0NvbG9yPXtlc0xpbmVhU2VjY2lvbiA/IFwicmdiYSgxMTksIDYxLCAxOTAsIDAuMylcIiA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Qmx1cj17ZXNMaW5lYVNlY2Npb24gPyA0IDogMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93RW5hYmxlZD17ZXNMaW5lYVNlY2Npb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8L0NhbnZhc0VsZW1lbnRzTGF5ZXI+XHJcblxyXG4gICAgICAgICAgICAgICAgey8qID8gT3ZlcmxheSBzdXBlcmlvcjogYm9yZGUgZGUgc2VjY2nDs24gYWN0aXZhIFNJRU1QUkUgYXJyaWJhIGRlIHRvZG8gKi99XHJcbiAgICAgICAgICAgICAgICA8Q2FudmFzRWxlbWVudHNMYXllcj5cclxuICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWNjaW9uQWN0aXZhSWQpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHNlY2Npb25lc09yZGVuYWRhcy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBzZWNjaW9uQWN0aXZhSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNjaW9uID0gc2VjY2lvbmVzT3JkZW5hZGFzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgaW5kZXgsIGFsdG9DYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzdGFBbmltYW5kbyA9IHNlY2Npb25lc0FuaW1hbmRvLmluY2x1ZGVzKHNlY2Npb24uaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgb3ZlcmxheS1ib3JkZXItc2VjY2lvbi0ke3NlY2Npb24uaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeD17MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeT17b2Zmc2V0WX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezgwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXtzZWNjaW9uLmFsdHVyYX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzc3M2RiZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXtlc3RhQW5pbWFuZG8gPyA0IDogM31cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzPXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcj17ZXN0YUFuaW1hbmRvID8gXCJyZ2JhKDExOSwgNjEsIDE5MCwgMC40KVwiIDogXCJyZ2JhKDExOSwgNjEsIDE5MCwgMC4yNSlcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Qmx1cj17ZXN0YUFuaW1hbmRvID8gMTYgOiAxMn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93T2Zmc2V0PXt7IHg6IDAsIHk6IGVzdGFBbmltYW5kbyA/IDQgOiAzIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pKCl9XHJcbiAgICAgICAgICAgICAgICA8L0NhbnZhc0VsZW1lbnRzTGF5ZXI+XHJcblxyXG4gICAgICAgICAgICAgIDwvU3RhZ2U+XHJcblxyXG5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7ZWRpdGluZy5pZCAmJiBlbGVtZW50UmVmcy5jdXJyZW50W2VkaXRpbmcuaWRdICYmICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgb2JqZXRvRW5FZGljaW9uID0gb2JqZXRvcy5maW5kKG8gPT4gby5pZCA9PT0gZWRpdGluZy5pZCk7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8SW5saW5lVGV4dEVkaXRvclxyXG4gICAgICAgICAgICAgICAgICBlZGl0aW5nSWQ9e2VkaXRpbmcuaWR9XHJcbiAgICAgICAgICAgICAgICAgIG5vZGU9e2VsZW1lbnRSZWZzLmN1cnJlbnRbZWRpdGluZy5pZF19XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0aW5nLnZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ249e29iamV0b0VuRWRpY2lvbj8uYWxpZ24gfHwgJ2xlZnQnfSAvLyA/PyBTb2xvIHBhc2FyIGFsaW5lYWNpw7NuXHJcbiAgICAgICAgICAgICAgICAgIG9uT3ZlcmxheU1vdW50Q2hhbmdlPXtoYW5kbGVJbmxpbmVPdmVybGF5TW91bnRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsobmV4dFZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRleHQgPSBTdHJpbmcobmV4dFZhbHVlID8/IFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZTdGF0cyA9IGdldElubGluZUxpbmVTdGF0cyhlZGl0aW5nLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0U3RhdHMgPSBnZXRJbmxpbmVMaW5lU3RhdHMobmV4dFRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgIHByZXZTdGF0cy5saW5lQ291bnQgIT09IG5leHRTdGF0cy5saW5lQ291bnQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgIHByZXZTdGF0cy50cmFpbGluZ05ld2xpbmVzICE9PSBuZXh0U3RhdHMudHJhaWxpbmdOZXdsaW5lc1xyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lRGVidWdMb2coXCJsaW5lYnJlYWstbW9kZWwtc3luY1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBlZGl0aW5nLmlkIHx8IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TGVuZ3RoOiBwcmV2U3RhdHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGVuZ3RoOiBuZXh0U3RhdHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TGluZUNvdW50OiBwcmV2U3RhdHMubGluZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluZUNvdW50OiBuZXh0U3RhdHMubGluZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2VHJhaWxpbmdOZXdsaW5lczogcHJldlN0YXRzLnRyYWlsaW5nTmV3bGluZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUcmFpbGluZ05ld2xpbmVzOiBuZXh0U3RhdHMudHJhaWxpbmdOZXdsaW5lcyxcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJpbnB1dDogYmVmb3JlLXJlbmRlclwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZWRpdGluZy5pZCB8fCB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlTGVuZ3RoOiBuZXh0VGV4dC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRWRpdChuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvbkRlYnVnRXZlbnQ9eyhldmVudE5hbWUsIHBheWxvYWQgPSB7fSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChldmVudE5hbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXlsb2FkPy5pZCB8fCBlZGl0aW5nLmlkIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvbkZpbmlzaD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmlzaElkID0gZWRpdGluZy5pZDtcclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJmaW5pc2g6IGJsdXJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVMZW5ndGg6IFN0cmluZyhlZGl0aW5nLnZhbHVlID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0b051ZXZvUmF3ID0gU3RyaW5nKGVkaXRpbmcudmFsdWUgPz8gXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dG9OdWV2b1ZhbGlkYWRvID0gdGV4dG9OdWV2b1Jhdy50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBvYmpldG9zLmZpbmRJbmRleChvID0+IG8uaWQgPT09IGZpbmlzaElkKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpldG8gPSBvYmpldG9zW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXZlTm9kZUF0RmluaXNoID0gZWxlbWVudFJlZnMuY3VycmVudFtmaW5pc2hJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGl2ZU1ldHJpY3NBdEZpbmlzaCA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobGl2ZU5vZGVBdEZpbmlzaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwiZmluaXNoLXN0YXJ0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgIHJhd0xlbmd0aDogdGV4dG9OdWV2b1Jhdy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0cmltbWVkTGVuZ3RoOiB0ZXh0b051ZXZvVmFsaWRhZG8ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb2JqZWN0WDogb2JqZXRvPy54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3RZOiBvYmpldG8/LnkgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdSZWY6IHsgLi4uaW5saW5lRWRpdFByZXZpZXdSZWYuY3VycmVudCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgbGl2ZU1ldHJpY3NBdEZpbmlzaCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiPyBFbCBvYmpldG8geWEgbm8gZXhpc3RlLiBDYW5jZWxhbmRvIGd1YXJkYWRvLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwiZmluaXNoLWFib3J0LW1pc3Npbmctb2JqZWN0XCIsIHsgaWQ6IGZpbmlzaElkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lQ29tbWl0RGVidWdSZWYuY3VycmVudCA9IHsgaWQ6IG51bGwgfTtcclxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaEVkaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vID8/IFBvZMOpcyBwZXJtaXRpciB0ZXh0byB2YWPDrW8gZW4gZm9ybWFzIHNpIHF1ZXLDqXMgKHlvIGxvIHBlcm1pdGlyw61hKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0b051ZXZvVmFsaWRhZG8gPT09IFwiXCIgJiYgb2JqZXRvLnRpcG8gPT09IFwidGV4dG9cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiPz8gRWwgdGV4dG8gZXN0w6EgdmFjw61vLiBObyBzZSBhY3R1YWxpemEuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lRGVidWdMb2coXCJmaW5pc2gtYWJvcnQtZW1wdHlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd0xlbmd0aDogdGV4dG9OdWV2b1Jhdy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaW1tZWRMZW5ndGg6IHRleHRvTnVldm9WYWxpZGFkby5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQgPSB7IGlkOiBudWxsIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVFZGl0UHJldmlld1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCwgY2VudGVyWDogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoRWRpdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0dWFsaXphZG8gPSBbLi4ub2JqZXRvc107XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0Y2ggPSB7IHRleHRvOiB0ZXh0b051ZXZvUmF3IH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZEtlZXBDZW50ZXJYID1cclxuICAgICAgICAgICAgICAgICAgICAgIG9iamV0by50aXBvID09PSBcInRleHRvXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICFvYmpldG8uX19ncm91cEFsaWduICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKG9iamV0by53aWR0aCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgIG9iamV0by5fX2F1dG9XaWR0aCAhPT0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRLZWVwQ2VudGVyWCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFggPSBjYWxjdWxhclhUZXh0b0NlbnRyYWRvKG9iamV0bywgdGV4dG9OdWV2b1Jhdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50WCA9IE51bWJlci5pc0Zpbml0ZShvYmpldG8ueCkgPyBvYmpldG8ueCA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG5leHRYKSAmJiBNYXRoLmFicyhuZXh0WCAtIGN1cnJlbnRYKSA+IDAuMDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2gueCA9IG5leHRYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwiZmluaXNoLWNlbnRlci1jb21wdXRlZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkS2VlcENlbnRlclgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0WCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hYOiBwYXRjaC54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YWRvW2luZGV4XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgIC4uLmFjdHVhbGl6YWRvW2luZGV4XSxcclxuICAgICAgICAgICAgICAgICAgICAgIC4uLnBhdGNoXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRYID0gTnVtYmVyLmlzRmluaXRlKHBhdGNoLngpXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IHBhdGNoLnhcclxuICAgICAgICAgICAgICAgICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpldG8ueCkgPyBvYmpldG8ueCA6IG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3RYQmVmb3JlQ29tbWl0OiBOdW1iZXIuaXNGaW5pdGUob2JqZXRvLngpID8gb2JqZXRvLnggOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbGl2ZU5vZGVYQXRGaW5pc2g6IE51bWJlci5pc0Zpbml0ZShsaXZlTWV0cmljc0F0RmluaXNoPy54KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxpdmVNZXRyaWNzQXRGaW5pc2gueFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3Q2VudGVyWDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIHRleHRMZW5ndGg6IHRleHRvTnVldm9SYXcubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlubGluZURlYnVnTG9nKFwiZmluaXNoLWFwcGx5LXBhdGNoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgIHBhdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRYLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ0ZpbmlzaFZpc2liaWxpdHlDaGVjayA9IChwaGFzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FmZUlkID0gU3RyaW5nKGZpbmlzaElkIHx8IFwiXCIpLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXlEb21QcmVzZW50ID0gc2FmZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gQm9vbGVhbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pbmxpbmUtZWRpdG9yLWlkPVwiJHtzYWZlSWR9XCJdYCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXZlTm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbZmluaXNoSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lRGVidWdMb2coXCJmaW5pc2gtdmlzaWJpbGl0eS1jaGVja1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBoYXNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWN0aXZlRWRpdGluZ0lkOiBlZGl0aW5nLmlkIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEVkaXRpbmdJZDogd2luZG93LmVkaXRpbmc/LmlkID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFZGl0aW5nSWQ6IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5TW91bnRlZElkOiBpbmxpbmVPdmVybGF5TW91bnRlZElkID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlEb21QcmVzZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlT3BhY2l0eTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgbGl2ZU5vZGU/Lm9wYWNpdHkgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsaXZlTm9kZS5vcGFjaXR5KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGxpdmVOb2RlPy52aXNpYmxlID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbGl2ZU5vZGUudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVNZXRyaWNzOiBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lKGxpdmVOb2RlKSxcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nRmluaXNoVmlzaWJpbGl0eUNoZWNrKFwiYmVmb3JlLWNvbW1pdFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZmluaXNoOiBiZWZvcmUtZmx1c2hcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGF0Y2hYOiBwYXRjaC54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MoYWN0dWFsaXphZG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImZpbmlzaDogYWZ0ZXItZmx1c2hcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGF0Y2hYOiBwYXRjaC54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nRmluaXNoVmlzaWJpbGl0eUNoZWNrKFwiYWZ0ZXItY29tbWl0LWJlZm9yZS1maW5pc2hFZGl0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlubGluZUVkaXRQcmV2aWV3UmVmLmN1cnJlbnQgPSB7IGlkOiBudWxsLCBjZW50ZXJYOiBudWxsIH07XHJcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaEVkaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFnZUFmdGVyRmluaXNoRWRpdCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCkgfHwgc3RhZ2VSZWYuY3VycmVudCB8fCBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhZ2VBZnRlckZpbmlzaEVkaXQ/LmJhdGNoRHJhdyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzdGFnZUFmdGVyRmluaXNoRWRpdC5iYXRjaERyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nRmluaXNoVmlzaWJpbGl0eUNoZWNrKFwiYWZ0ZXItZmluaXNoRWRpdC1zeW5jXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPT09IGZpbmlzaElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJmaW5pc2g6IGFmdGVyLWZpbmlzaEVkaXRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGF0Y2hYOiBwYXRjaC54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGxvZ0ZpbmlzaFZpc2liaWxpdHlDaGVjayhcImFmdGVyLWZpbmlzaEVkaXQtcmFmMVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImZpbmlzaDogcmFmMVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFg6IHBhdGNoLnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZmluaXNoOiByYWYyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoWDogcGF0Y2gueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBzY2FsZVZpc3VhbD17ZXNjYWxhVmlzdWFsfVxyXG4gICAgICAgICAgICAgICAgICBmaW5pc2hNb2RlPXtpbmxpbmVEZWJ1Z0FCLmZpbmlzaE1vZGV9XHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoTW9kZT17aW5saW5lRGVidWdBQi5vdmVybGF5V2lkdGhNb2RlfVxyXG5cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSkoKX1cclxuXHJcblxyXG4gICAgICAgICAgICB7LyogU3RhZ2UgZXh0cmEgc29sbyBlbiBkZXNrdG9wIHBhcmEgbm8gZHVwbGljYXIgbWVtb3JpYSBlbiBtb2JpbGUgKi99XG4gICAgICAgICAgICB7IWlzTW9iaWxlICYmIChcbiAgICAgICAgICAgICAgPERpdmlkZXJzT3ZlcmxheVN0YWdlXG4gICAgICAgICAgICAgICAgem9vbT17em9vbX1cbiAgICAgICAgICAgICAgICBhbHRvQ2FudmFzRGluYW1pY289e2FsdG9DYW52YXNEaW5hbWljb31cbiAgICAgICAgICAgICAgICBzZWNjaW9uZXNPcmRlbmFkYXM9e3NlY2Npb25lc09yZGVuYWRhc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG5cclxuXHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcblxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuXHJcbiAgICAgIDwvZGl2PlxyXG5cclxuXHJcblxyXG4gICAgICB7LyogPyBCb3TDs24gZGUgb3BjaW9uZXMgUEVHQURPIGEgbGEgZXNxdWluYSBzdXBlcmlvciBkZXJlY2hhIGRlbCBlbGVtZW50byAqL31cclxuICAgICAge2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAxICYmICFlZGl0aW5nLmlkICYmICgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudG9TZWxlY2Npb25hZG8gPSBvYmpldG9zLmZpbmQobyA9PiBvLmlkID09PSBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdKTtcclxuICAgICAgICBjb25zdCBub2RlUmVmID0gZWxlbWVudFJlZnMuY3VycmVudFtlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdXTtcclxuXHJcbiAgICAgICAgaWYgKCFub2RlUmVmIHx8ICFlbGVtZW50b1NlbGVjY2lvbmFkbykgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbmVkb3IgPSBjb250ZW5lZG9yUmVmLmN1cnJlbnQ7XHJcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50O1xyXG4gICAgICAgIGlmICghY29udGVuZWRvciB8fCAhc3RhZ2UpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAvLyA/PyBPQlRFTkVSIFBPU0lDScOTTiBSRUFMIERFTCBFTEVNRU5UTyBFTiBFTCBTVEFHRVxyXG4gICAgICAgIGxldCBib3ggPSBub2RlUmVmLmdldENsaWVudFJlY3QoKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBlbGVtZW50b1NlbGVjY2lvbmFkbz8udGlwbyA9PT0gXCJnYWxlcmlhXCIgJiZcclxuICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShOdW1iZXIoZWxlbWVudG9TZWxlY2Npb25hZG8ud2lkdGgpKSAmJlxyXG4gICAgICAgICAgTnVtYmVyLmlzRmluaXRlKE51bWJlcihlbGVtZW50b1NlbGVjY2lvbmFkby5oZWlnaHQpKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgYWJzUG9zID1cclxuICAgICAgICAgICAgdHlwZW9mIG5vZGVSZWYuZ2V0QWJzb2x1dGVQb3NpdGlvbiA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICAgICAgPyBub2RlUmVmLmdldEFic29sdXRlUG9zaXRpb24oKVxyXG4gICAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgeDogdHlwZW9mIG5vZGVSZWYueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZVJlZi54KCkgOiAwLFxyXG4gICAgICAgICAgICAgICAgeTogdHlwZW9mIG5vZGVSZWYueSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZVJlZi55KCkgOiAwLFxyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgYm94ID0ge1xyXG4gICAgICAgICAgICB4OiBhYnNQb3MueCxcclxuICAgICAgICAgICAgeTogYWJzUG9zLnksXHJcbiAgICAgICAgICAgIHdpZHRoOiBOdW1iZXIoZWxlbWVudG9TZWxlY2Npb25hZG8ud2lkdGgpLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IE51bWJlcihlbGVtZW50b1NlbGVjY2lvbmFkby5oZWlnaHQpLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID8/IE9CVEVORVIgQ09PUkRFTkFEQVMgREVMIFNUQUdFIFJFTEFUSVZBUyBBTCBWSUVXUE9SVFxyXG4gICAgICAgIGNvbnN0IHN0YWdlQ29udGFpbmVyID0gc3RhZ2UuY29udGFpbmVyKCk7XHJcbiAgICAgICAgY29uc3Qgc3RhZ2VSZWN0ID0gc3RhZ2VDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIC8vID8/IENBTENVTEFSIFBPU0lDScOTTiBFWEFDVEEgREVMIEVMRU1FTlRPIEVOIFBBTlRBTExBXHJcbiAgICAgICAgY29uc3QgZWxlbWVudG9FblBhbnRhbGxhWCA9IHN0YWdlUmVjdC5sZWZ0ICsgKGJveC54ICogZXNjYWxhQWN0aXZhKTtcclxuICAgICAgICBjb25zdCBlbGVtZW50b0VuUGFudGFsbGFZID0gc3RhZ2VSZWN0LnRvcCArIChib3gueSAqIGVzY2FsYUFjdGl2YSk7XHJcbiAgICAgICAgY29uc3QgYW5jaG9FbGVtZW50byA9IGJveC53aWR0aCAqIGVzY2FsYUFjdGl2YTtcclxuXHJcbiAgICAgICAgLy8gPz8gUE9TSUNJw5NOIE1VWSBDRVJDQTogRXNxdWluYSBzdXBlcmlvciBkZXJlY2hhIHBlZ2FkYSBhbCBlbGVtZW50b1xyXG4gICAgICAgIGNvbnN0IGJvdG9uWCA9IGVsZW1lbnRvRW5QYW50YWxsYVggKyBhbmNob0VsZW1lbnRvIC0gODsgLy8gU29sbyAtOHB4IHBhcmEgcXVlIHNlIHN1cGVycG9uZ2EgdW4gcG9jb1xyXG4gICAgICAgIGNvbnN0IGJvdG9uWSA9IGVsZW1lbnRvRW5QYW50YWxsYVkgLSA4OyAvLyAtOHB4IGFycmliYSBkZWwgZWxlbWVudG9cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgcmVmPXtib3Rvbk9wY2lvbmVzUmVmfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB6LTUwIGJnLXdoaXRlIGJvcmRlci0yIGJvcmRlci1wdXJwbGUtNTAwIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgbGVmdDogXCIwcHhcIiwgLy8gPz8gUE9TSUNJw5NOIElOSUNJQUwgLSBzZXLDoSBhY3R1YWxpemFkYSBwb3IgbGEgZnVuY2nDs25cclxuICAgICAgICAgICAgICB0b3A6IFwiMHB4XCIsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMjRweFwiLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogXCIyNHB4XCIsXHJcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCIsXHJcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcImF1dG9cIixcclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcIm5vbmVcIixcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjk1KVwiLFxyXG4gICAgICAgICAgICAgIGJhY2tkcm9wRmlsdGVyOiBcImJsdXIoNHB4KVwiLFxyXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgIzc3M2RiZVwiLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBzZXRNb3N0cmFyUGFuZWxaKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhvdmVyOmJnLXB1cnBsZS01MCB3LWZ1bGwgaC1mdWxsIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgdGl0bGU9XCJPcGNpb25lcyBkZWwgZWxlbWVudG9cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2V0dGluZ3MgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjUgdGV4dC1wdXJwbGUtNzAwXCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfSkoKX1cblxyXG5cclxuXHJcbiAgICAgIHttb3N0cmFyUGFuZWxaICYmIChcclxuICAgICAgICA8TWVudU9wY2lvbmVzRWxlbWVudG9cclxuICAgICAgICAgIGlzT3Blbj17bW9zdHJhclBhbmVsWn1cclxuICAgICAgICAgIGJvdG9uT3BjaW9uZXNSZWY9e2JvdG9uT3BjaW9uZXNSZWZ9XHJcbiAgICAgICAgICBlbGVtZW50b1NlbGVjY2lvbmFkbz17b2JqZXRvcy5maW5kKG8gPT4gby5pZCA9PT0gZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSl9XHJcbiAgICAgICAgICBvbkNvcGlhcj17b25Db3BpYXJ9XHJcbiAgICAgICAgICBvblBlZ2FyPXtvblBlZ2FyfVxyXG4gICAgICAgICAgb25EdXBsaWNhcj17b25EdXBsaWNhcn1cclxuICAgICAgICAgIG9uRWxpbWluYXI9e29uRWxpbWluYXJ9XHJcbiAgICAgICAgICBtb3ZlckVsZW1lbnRvPXttb3ZlckVsZW1lbnRvfVxyXG4gICAgICAgICAgb25DZXJyYXI9eygpID0+IHNldE1vc3RyYXJQYW5lbFooZmFsc2UpfVxyXG4gICAgICAgICAgcmVlbXBsYXphckZvbmRvPXtyZWVtcGxhemFyRm9uZG99XHJcbiAgICAgICAgICBzZWNjaW9uZXM9e3NlY2Npb25lc31cclxuICAgICAgICAgIG9iamV0b3M9e29iamV0b3N9XHJcbiAgICAgICAgICBzZXRTZWNjaW9uZXM9e3NldFNlY2Npb25lc31cclxuICAgICAgICAgIHNldE9iamV0b3M9e3NldE9iamV0b3N9XHJcbiAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zPXtzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcblxyXG5cclxuICAgICAgPEZsb2F0aW5nVGV4dFRvb2xiYXJcbiAgICAgICAgb2JqZXRvU2VsZWNjaW9uYWRvPXtvYmpldG9TZWxlY2Npb25hZG99XG4gICAgICAgIHNldE9iamV0b3M9e3NldE9iamV0b3N9XG4gICAgICAgIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3N9XG4gICAgICAgIG1vc3RyYXJTZWxlY3RvckZ1ZW50ZT17bW9zdHJhclNlbGVjdG9yRnVlbnRlfVxyXG4gICAgICAgIHNldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZT17c2V0TW9zdHJhclNlbGVjdG9yRnVlbnRlfVxyXG4gICAgICAgIG1vc3RyYXJTZWxlY3RvclRhbWFubz17bW9zdHJhclNlbGVjdG9yVGFtYW5vfVxuICAgICAgICBzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm89e3NldE1vc3RyYXJTZWxlY3RvclRhbWFub31cbiAgICAgICAgQUxMX0ZPTlRTPXtBTExfRk9OVFN9XHJcbiAgICAgICAgZm9udE1hbmFnZXI9e2ZvbnRNYW5hZ2VyfVxyXG4gICAgICAgIHRhbWFuaW9zRGlzcG9uaWJsZXM9e3RhbWFuaW9zRGlzcG9uaWJsZXN9XHJcbiAgICAgICAgb25DYW1iaWFyQWxpbmVhY2lvbj17b25DYW1iaWFyQWxpbmVhY2lvbn1cclxuICAgICAgLz5cclxuXHJcbiAgICAgIDxDb25maXJtRGVsZXRlU2VjdGlvbk1vZGFsXHJcbiAgICAgICAgaXNPcGVuPXtkZWxldGVTZWN0aW9uTW9kYWwuaXNPcGVufVxyXG4gICAgICAgIHNlY3Rpb25OYW1lPXtzZWNjaW9uUGVuZGllbnRlRWxpbWluYXI/LnRpcG99XHJcbiAgICAgICAgaXRlbUNvdW50PXtjYW50aWRhZEVsZW1lbnRvc1NlY2Npb25QZW5kaWVudGV9XHJcbiAgICAgICAgaXNEZWxldGluZz17aXNEZWxldGluZ1NlY3Rpb259XHJcbiAgICAgICAgb25DYW5jZWw9e2NlcnJhck1vZGFsQm9ycmFyU2VjY2lvbn1cclxuICAgICAgICBvbkNvbmZpcm09e2NvbmZpcm1hckJvcnJhclNlY2Npb259XHJcbiAgICAgIC8+XHJcblxyXG5cclxuXHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJjcmVhdGVQb3J0YWwiLCJmbHVzaFN5bmMiLCJTdGFnZSIsIkxpbmUiLCJSZWN0IiwiVGV4dCIsIkltYWdlIiwiS29udmFJbWFnZSIsIkdyb3VwIiwiQ2lyY2xlIiwiRWxlbWVudG9DYW52YXMiLCJMaW5lQ29udHJvbHMiLCJjYWxjdWxhck9mZnNldFkiLCJjb252ZXJ0aXJBYnNBUmVsIiwiZGV0ZXJtaW5hck51ZXZhU2VjY2lvbiIsImNyZWFyU2VjY2lvbiIsInVzZVBsYW50aWxsYXNEZVNlY2Npb24iLCJ1c2VJbXBlcmF0aXZlT2JqZWN0cyIsIlNlbGVjdGlvbkJvdW5kcyIsIkhvdmVySW5kaWNhdG9yIiwiTGluZVRvb2xiYXIiLCJ1c2VLZXlib2FyZFNob3J0Y3V0cyIsImZvbnRNYW5hZ2VyIiwidXNlSW5saW5lRWRpdG9yIiwiU2hhcGVUb29sYmFyIiwidXNlRWRpdG9ySGFuZGxlcnMiLCJJbmxpbmVUZXh0RWRpdG9yIiwiRm9udFNlbGVjdG9yIiwicmVlbXBsYXphckZvbmRvU2VjY2lvbiIsInJlZW1wbGF6YXJGb25kbyIsImRlc2FuY2xhckltYWdlbkRlRm9uZG8iLCJkZXNhbmNsYXJGb25kbyIsImJvcnJhclNlY2Npb24iLCJib3JyYXJTZWNjaW9uRXh0ZXJuYWwiLCJtb3ZlclNlY2Npb24iLCJtb3ZlclNlY2Npb25FeHRlcm5hbCIsInZhbGlkYXJQdW50b3NMaW5lYSIsImRldGVjdGFySW50ZXJzZWNjaW9uTGluZWEiLCJndWFyZGFyU2VjY2lvbkNvbW9QbGFudGlsbGEiLCJHYWxlcmlhS29udmEiLCJGb25kb1NlY2Npb24iLCJNZW51T3BjaW9uZXNFbGVtZW50byIsImNhbGNHYWxsZXJ5TGF5b3V0IiwiQ291bnRkb3duS29udmEiLCJ1c2VHdWlhc0NlbnRyYWRvIiwiRmxvYXRpbmdUZXh0VG9vbGJhciIsIlNlbGVjdG9yQ29sb3JTZWNjaW9uIiwiS29udmEiLCJBTExfRk9OVFMiLCJ1c2VBdXRoQ2xhaW1zIiwiVHJhc2gyIiwiTGF5ZXJzIiwiTW92ZVVwIiwiTW92ZURvd24iLCJQbHVzQ2lyY2xlIiwiU2V0dGluZ3MiLCJVbmxpbmsyIiwiTW9uaXRvciIsIkNoZXZyb25Eb3duIiwiQ2hldnJvblVwIiwidXNlQm9ycmFkb3JTeW5jIiwidXNlU2VjdGlvbnNNYW5hZ2VyIiwiQ29uZmlybURlbGV0ZVNlY3Rpb25Nb2RhbCIsInVzZUVkaXRvckV2ZW50cyIsInVzZUVkaXRvcldpbmRvd0JyaWRnZSIsInVzZUhpc3RvcnlNYW5hZ2VyIiwidXNlQ2FudmFzU2NhbGVMYXlvdXQiLCJ1c2VDYW52YXNJbnRlcmFjdGlvblN0YXRlIiwidXNlU3RhZ2VHZXN0dXJlcyIsInVzZU9wdGlvbkJ1dHRvblBvc2l0aW9uIiwiQ2FudmFzRWxlbWVudHNMYXllciIsIkRpdmlkZXJzT3ZlcmxheVN0YWdlIiwiZHJhZ0Rpc3RhbmNlIiwicmVzb2x2ZUtvbnZhUGl4ZWxSYXRpbyIsImRwciIsIk51bWJlciIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJjb2Fyc2VQb2ludGVyIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJtaW5TaWRlIiwiTWF0aCIsIm1pbiIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm1vYmlsZUxpa2UiLCJwaXhlbFJhdGlvIiwiQUxUVVJBX1JFRkVSRU5DSUFfUEFOVEFMTEEiLCJBTFRVUkFfUEFOVEFMTEFfRURJVE9SIiwibm9ybWFsaXphckFsdG9Nb2RvIiwibW9kbyIsIm0iLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImlzQm9sZEZvbnRXZWlnaHQiLCJ3ZWlnaHQiLCJub3JtYWxpemVkIiwiaW5jbHVkZXMiLCJyZXNvbHZlS29udmFGb250U3R5bGUiLCJmb250U3R5bGUiLCJmb250V2VpZ2h0Iiwic3R5bGUiLCJpc0l0YWxpYyIsImlzQm9sZCIsImxpbXBpYXJPYmpldG9VbmRlZmluZWQiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJvYmpMaW1waW8iLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInZhbG9yIiwidW5kZWZpbmVkIiwic2V0R2xvYmFsQ3Vyc29yIiwiY3Vyc29yIiwic3RhZ2VSZWYiLCJkb2N1bWVudCIsImJvZHkiLCJzdGFnZSIsImN1cnJlbnQiLCJjb250YWluZXIiLCJjYW52YXMiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50RWxlbWVudCIsImNsZWFyR2xvYmFsQ3Vyc29yIiwiaXNJbmxpbmVEZWJ1Z0VuYWJsZWQiLCJfX0lOTElORV9ERUJVRyIsImZvcm1hdElubGluZUxvZ1BheWxvYWQiLCJwYXlsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwiaW5saW5lRGVidWdMb2ciLCJldmVudCIsImVzc2VudGlhbEV2ZW50cyIsIlNldCIsImhhcyIsInRzIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY29uc29sZSIsImxvZyIsIm5leHRJbmxpbmVGcmFtZU1ldGEiLCJmcmFtZSIsInBlcmZNcyIsInByZXYiLCJfX0lOTElORV9GUkFNRV9TRVEiLCJuZXh0IiwicGVyZm9ybWFuY2UiLCJub3ciLCJ0b0ZpeGVkIiwiZ2V0SW5saW5lTGluZVN0YXRzIiwidmFsdWUiLCJyZXBsYWNlIiwidHJhaWxpbmciLCJtYXRjaCIsImxlbmd0aCIsImxpbmVDb3VudCIsInNwbGl0IiwidHJhaWxpbmdOZXdsaW5lcyIsIm5vcm1hbGl6ZUlubGluZURlYnVnQUIiLCJyYXdDb25maWciLCJyYXciLCJ2aXNpYmlsaXR5U291cmNlIiwiZmluaXNoTW9kZSIsIm92ZXJsYXlXaWR0aE1vZGUiLCJDYW52YXNFZGl0b3IiLCJzbHVnIiwiem9vbSIsIm9uSGlzdG9yaWFsQ2hhbmdlIiwib25GdXR1cm9zQ2hhbmdlIiwidXNlcklkIiwib25TdGFydHVwU3RhdHVzQ2hhbmdlIiwib2JqZXRvcyIsInNldE9iamV0b3MiLCJjZWxkYUdhbGVyaWFBY3RpdmEiLCJzZXRDZWxkYUdhbGVyaWFBY3RpdmEiLCJzZWNjaW9uZXMiLCJzZXRTZWNjaW9uZXMiLCJoaXN0b3JpYWwiLCJzZXRIaXN0b3JpYWwiLCJmdXR1cm9zIiwic2V0RnV0dXJvcyIsImVsZW1lbnRvc1NlbGVjY2lvbmFkb3MiLCJzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zIiwiY2FyZ2FkbyIsInNldENhcmdhZG8iLCJkcmFnU3RhcnRQb3MiLCJoYXNEcmFnZ2VkIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJpbXBlcmF0aXZlT2JqZWN0cyIsImFuaW1hbmRvU2VjY2lvbiIsInNldEFuaW1hbmRvU2VjY2lvbiIsInNlY2Npb25BY3RpdmFJZCIsInNldFNlY2Npb25BY3RpdmFJZCIsInNlbGVjY2lvbkFjdGl2YSIsInNldFNlbGVjY2lvbkFjdGl2YSIsImluaWNpb1NlbGVjY2lvbiIsInNldEluaWNpb1NlbGVjY2lvbiIsImFyZWFTZWxlY2Npb24iLCJzZXRBcmVhU2VsZWNjaW9uIiwiZWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcyIsInNldEVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MiLCJndWlhTGF5ZXJSZWYiLCJob3ZlcklkIiwic2V0SG92ZXJJZCIsImFsdG9DYW52YXMiLCJyZWR1Y2UiLCJhY2MiLCJzIiwiYWx0dXJhIiwic2VjY2lvbmVzQW5pbWFuZG8iLCJzZXRTZWNjaW9uZXNBbmltYW5kbyIsInJlZnJlc2NhciIsInJlZnJlc2NhclBsYW50aWxsYXNEZVNlY2Npb24iLCJlbGVtZW50b0NvcGlhZG8iLCJzZXRFbGVtZW50b0NvcGlhZG8iLCJlbGVtZW50UmVmcyIsImlubGluZUVkaXRQcmV2aWV3UmVmIiwiaWQiLCJjZW50ZXJYIiwiaW5saW5lQ29tbWl0RGVidWdSZWYiLCJwcmV2RWRpdGluZ0lkUmVmIiwiaW5saW5lUmVuZGVyVmFsdWVSZWYiLCJpbmxpbmVPdmVybGF5TW91bnRlZElkIiwic2V0SW5saW5lT3ZlcmxheU1vdW50ZWRJZCIsImNvbnRlbmVkb3JSZWYiLCJhdXRvU2VjdGlvblZpZXdwb3J0UmVmIiwiYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYiLCJzZWNjaW9uQWN0aXZhSWRSZWYiLCJpZ25vcmVOZXh0VXBkYXRlUmVmIiwiYW5jaG9TdGFnZSIsInNldEFuY2hvU3RhZ2UiLCJtb3N0cmFyU2VsZWN0b3JGdWVudGUiLCJzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGUiLCJtb3N0cmFyU3VibWVudUNhcGEiLCJzZXRNb3N0cmFyU3VibWVudUNhcGEiLCJmdWVudGVzRGlzcG9uaWJsZXMiLCJlc0FkbWluIiwibG9hZGluZ0NsYWltcyIsImJhY2tncm91bmRMb2FkQnlTZWN0aW9uIiwic2V0QmFja2dyb3VuZExvYWRCeVNlY3Rpb24iLCJtb2JpbGVCYWNrZ3JvdW5kRWRpdFNlY3Rpb25JZCIsInNldE1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkIiwiZGVsZXRlU2VjdGlvbk1vZGFsIiwic2V0RGVsZXRlU2VjdGlvbk1vZGFsIiwiaXNPcGVuIiwic2VjdGlvbklkIiwiaXNEZWxldGluZ1NlY3Rpb24iLCJzZXRJc0RlbGV0aW5nU2VjdGlvbiIsIm1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiIsInNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsImlzVGV4dFJlc2l6ZURlYnVnRW5hYmxlZCIsIkJvb2xlYW4iLCJfX0RCR19URVhUX1JFU0laRSIsInRleHRSZXNpemVEZWJ1ZyIsImFyZ3MiLCJjb250cm9sYW5kb0FsdHVyYSIsImluaWNpYXJDb250cm9sQWx0dXJhIiwiZmluYWxpemFyQ29udHJvbEFsdHVyYSIsInRvZ2dsZVBhbnRhbGxhQ29tcGxldGFTZWNjaW9uIiwiaGFuZGxlQ3JlYXJTZWNjaW9uIiwibnVldm9UZXh0b1JlZiIsInNlY2Npb25lc09yZGVuYWRhcyIsInNvcnQiLCJhIiwiYiIsIm9yZGVuIiwiaGFuZGxlQmFja2dyb3VuZEltYWdlU3RhdHVzQ2hhbmdlIiwiaGFzQmFja2dyb3VuZEltYWdlIiwiaW1hZ2VVcmwiLCJpbmNvbWluZ1N0YXR1cyIsInN0YXR1cyIsImJhY2tncm91bmRMb2FkU3VtbWFyeSIsInNlY3Rpb25zV2l0aEJhY2tncm91bmRJbWFnZSIsImZpbHRlciIsInNlY2Npb24iLCJmb25kb1RpcG8iLCJmb25kb0ltYWdlbiIsInRyaW0iLCJsb2FkZWQiLCJmYWlsZWQiLCJwZW5kaW5nIiwidG90YWwiLCJzdGFydHVwUmVhZHkiLCJkcmFmdExvYWRlZCIsInRvdGFsQmFja2dyb3VuZHMiLCJsb2FkZWRCYWNrZ3JvdW5kcyIsImZhaWxlZEJhY2tncm91bmRzIiwicGVuZGluZ0JhY2tncm91bmRzIiwiY2FuY2VsbGVkIiwicmFmQSIsInJhZkIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInNlY2Npb25QZW5kaWVudGVFbGltaW5hciIsImZpbmQiLCJjYW50aWRhZEVsZW1lbnRvc1NlY2Npb25QZW5kaWVudGUiLCJzZWNjaW9uSWQiLCJlZGl0aW5nIiwic3RhcnRFZGl0IiwidXBkYXRlRWRpdCIsImZpbmlzaEVkaXQiLCJvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lIiwibm9kZSIsImNsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsIngiLCJ5IiwidGV4dFdpZHRoIiwiZ2V0VGV4dFdpZHRoIiwiY2VpbCIsInJlY3QiLCJnZXRDbGllbnRSZWN0Iiwic2tpcFRyYW5zZm9ybSIsInNraXBTaGFkb3ciLCJza2lwU3Ryb2tlIiwid2lkdGgiLCJoZWlnaHQiLCJjZXJyYXJNZW51c0Zsb3RhbnRlcyIsInNldE1vc3RyYXJQYW5lbFoiLCJzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm8iLCJvYmpldG9TZWxlY2Npb25hZG8iLCJvIiwibW9zdHJhclNlbGVjdG9yVGFtYW5vIiwidGFtYW5pb3NEaXNwb25pYmxlcyIsImZyb20iLCJfIiwiaSIsImJvdG9uT3BjaW9uZXNSZWYiLCJfcmVmRXZlbnRRdWV1ZWQiLCJyZWdpc3RlclJlZiIsInJlZ2lzdGVyT2JqZWN0IiwiYWRkIiwiZGVsZXRlIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwibG9hZGVkRm9udEZhbWlsaWVzUmVmIiwiaXNNb2JpbGUiLCJpc01vYmlsZVBvcnRyYWl0Iiwic2NhbGUiLCJhbmNob0NvbnRlbmVkb3IiLCJlc2NhbGFBY3RpdmEiLCJlc2NhbGFWaXN1YWwiLCJ3cmFwcGVyQmFzZVdpZHRoIiwiZXNjYWxhRml0TW9iaWxlUG9ydHJhaXQiLCJtb2JpbGVUeXBvZ3JhcGh5VG9vbGJhclZpc2libGUiLCJ0aXBvIiwiZmlndXJhIiwidGV4dG8iLCJtb2JpbGVUZXh0VG9vbGJhclZpc2libGUiLCJtb2JpbGVGb250U3RyaXBWaXNpYmxlIiwiZGVzaXJlZFJhdGlvIiwiZ2V0U3RhZ2UiLCJiYXRjaERyYXciLCJpbmxpbmVEZWJ1Z0FCIiwiX19JTkxJTkVfQUIiLCJoYW5kbGVJbmxpbmVPdmVybGF5TW91bnRDaGFuZ2UiLCJtb3VudGVkIiwic2FmZUlkIiwicHJldmlvdXMiLCJwcmV2aW91c092ZXJsYXlNb3VudGVkSWQiLCJuZXh0T3ZlcmxheU1vdW50ZWRJZCIsImNhcHR1cmVJbmxpbmVTbmFwc2hvdCIsImV2ZW50TmFtZSIsImV4dHJhIiwiX19JTkxJTkVfU05BUFNIT1QiLCJzbmFwc2hvdEFsbG93bGlzdCIsImZyYW1lTWV0YSIsInNuYXBzaG90SWQiLCJub2RlTWV0cmljcyIsIm9iak1ldHJpY3MiLCJpc0Zpbml0ZSIsInRleHRvTGVuZ3RoIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0Iiwic3RhZ2VSZWN0IiwiciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlubGluZVJlY3QiLCJpbmxpbmVTdHlsZSIsImlubGluZUNvbnRlbnRSZWN0IiwiaW5saW5lQ29udGVudE1ldHJpY3MiLCJvdmVybGF5RWwiLCJjb250ZW50RWwiLCJsZWZ0IiwidG9wIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsImNvbnRlbnRSZWN0Iiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsImlzRm9jdXNlZCIsImFjdGl2ZUVsZW1lbnQiLCJ0cmFuc2Zvcm1lclJlY3QiLCJ0cmFuc2Zvcm1lciIsImZpbmRPbmUiLCJ0clJlY3QiLCJub2RlcyIsIm5vZGVzQ291bnQiLCJpbmNsdWRlc1NuYXBzaG90Tm9kZSIsImVkaXRpbmdJZCIsImN1cnJlbnRFZGl0aW5nSWQiLCJfY3VycmVudEVkaXRpbmdJZCIsIm92ZXJsYXlNb3VudGVkSWQiLCJpbmxpbmVBQiIsInNjcm9sbFgiLCJzY3JvbGxZIiwiY3VycmVudElkIiwiY3VycmVudFZhbHVlIiwicHJldlN0YXRzIiwibmV4dFN0YXRzIiwibGluZWJyZWFrQ2hhbmdlZCIsImluY2x1ZGVzRWRpdGluZ05vZGUiLCJvdmVybGF5UmVjdCIsImNyIiwicHJldkxlbmd0aCIsIm5leHRMZW5ndGgiLCJwcmV2TGluZUNvdW50IiwibmV4dExpbmVDb3VudCIsInByZXZUcmFpbGluZ05ld2xpbmVzIiwibmV4dFRyYWlsaW5nTmV3bGluZXMiLCJwcmV2aW91c0xlbmd0aCIsInZhbHVlTGVuZ3RoIiwibm9ybWFsaXplZEFCIiwiZW5hYmxlZCIsImZyYW1lU2VxIiwicHJldmlvdXNJZCIsImZ1ZW50ZXNOZWNlc2FyaWFzIiwiZm9udHMiLCJmb250RmFtaWx5IiwicHJldmlvdXNDdXJyZW50RWRpdGluZ0lkIiwibmV4dEN1cnJlbnRFZGl0aW5nSWQiLCJhY3R1YWxpemFyT2Zmc2V0Rm9uZG8iLCJudWV2b3NPZmZzZXRzIiwiZXNQcmV2aWV3Iiwic2VjY2lvbkFjdHVhbGl6YWRhIiwib2Zmc2V0WCIsImZvbmRvSW1hZ2VuT2Zmc2V0WCIsIm9mZnNldFkiLCJmb25kb0ltYWdlbk9mZnNldFkiLCJhc2lnbmFySW1hZ2VuQUdhbGVyaWEiLCJ1cmwiLCJnIiwib2JqSWQiLCJpbmRleCIsImZpbmRJbmRleCIsImNvcGlhIiwic3RydWN0dXJlZENsb25lIiwiY2VsbHMiLCJtZWRpYVVybCIsImZpdCIsImJnIiwiX3Jlc2l6ZURhdGEiLCJtb3N0cmFyUGFuZWxaIiwibW92ZXJFbGVtZW50byIsImFjY2lvbiIsIm51ZXZvcyIsImVsZW1lbnRvIiwic3BsaWNlIiwicHVzaCIsInVuc2hpZnQiLCJvbkRlc2hhY2VyIiwib25SZWhhY2VyIiwib25EdXBsaWNhciIsIm9uRWxpbWluYXIiLCJvbkNvcGlhciIsIm9uUGVnYXIiLCJvbkNhbWJpYXJBbGluZWFjaW9uIiwiY29udGVudCIsInNldFNjcm9sbE1vZGUiLCJ0b3VjaEFjdGlvbiIsInNldEVkaXRNb2RlIiwib25EcmFnU3RhcnQiLCJvbkRyYWdFbmQiLCJzdG9wRHJhZ2dpbmciLCJXZWJraXRVc2VyU2VsZWN0IiwiV2Via2l0VG91Y2hDYWxsb3V0Iiwib24iLCJvZmYiLCJzZXREcmFnRGlzdGFuY2VGb3JJbnB1dCIsInBvaW50ZXJUeXBlIiwiaXNUb3VjaExpa2UiLCJvblBvaW50ZXJEb3duIiwib25Ub3VjaFN0YXJ0Iiwib25Nb3VzZURvd24iLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfbGFzdFNlY2Npb25BY3RpdmFJZCIsIkV2ZW50IiwiaGFuZGxlQ2xpY2tGdWVyYSIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicHJlbG9hZFBvcHVsYXJGb250cyIsImhhbmRsZUZvbnRzTG9hZGVkIiwiYWxpdmUiLCJwcmVjYXJnYXIiLCJwZW5kaWVudGVzIiwiZm9udE5hbWUiLCJtYXliZVByb21pc2UiLCJsb2FkRm9udHMiLCJ0aGVuIiwibG9hZCIsIlByb21pc2UiLCJhbGwiLCJmIiwid2FybiIsImFjdHVhbGl6YXJPYmpldG8iLCJudWV2byIsImZyb21UcmFuc2Zvcm0iLCJjbGVhbk51ZXZvIiwicG9pbnRzIiwiYWN0dWFsaXphck9iamV0b1BvcklkIiwiY2FtYmlvcyIsIm5vcm1hbGl6YXJNZWRpZGFzR2FsZXJpYSIsImdhbGVyaWEiLCJ3aWR0aENhbmRpZGF0ZSIsInhDYW5kaWRhdGUiLCJjYW52YXNXaWR0aCIsInJvd3MiLCJtYXgiLCJjb2xzIiwiZ2FwIiwiY2VsbFJhdGlvIiwicmF0aW8iLCJtaW5HcmlkV2lkdGgiLCJ3aWR0aFBjdCIsIm1heFgiLCJmYWxsYmFja1giLCJyYXdYIiwiY2VsbFciLCJjZWxsSCIsImFjdHVhbGl6YXJMaW5lYSIsImxpbmVJZCIsIm51ZXZhRGF0YSIsImlzUHJldmlldyIsImNsZWFuRGF0YSIsInAiLCJwYXJzZUZsb2F0Iiwic3Ryb2tlV2lkdGgiLCJwYXJzZUludCIsImlzRmluYWwiLCJvYnRlbmVyTWV0cmljYXNUZXh0byIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmFsbGJhY2tTaXplIiwic2FmZUZvbnRTaXplIiwic2FmZUxpbmVIZWlnaHQiLCJzYWZlRmFtaWx5IiwiZm9udEZvckNhbnZhcyIsInRlc3QiLCJmb250IiwicmF3VGV4dCIsInNhZmVUZXh0IiwibGluZXMiLCJtYXhMaW5lV2lkdGgiLCJsaW5lIiwibWVhc3VyZVRleHQiLCJtZWRpckFuY2hvVGV4dG9Lb252YSIsIm9ialRleHRvIiwidGV4dG9PYmpldGl2byIsImZvbnRTaXplT3ZlcnJpZGUiLCJwcm9iZSIsInNhZmVGb250RmFtaWx5IiwiaXNGb250QXZhaWxhYmxlIiwiYmFzZUxpbmVIZWlnaHQiLCJ0ZXh0IiwicGFkZGluZyIsIndyYXAiLCJkZXN0cm95IiwiY2FsY3VsYXJYVGV4dG9DZW50cmFkb1BvclRhbWFubyIsIm5leHRGb250U2l6ZSIsInNhZmVOZXh0U2l6ZSIsInByZXZpb3VzTWV0cmljcyIsIm5leHRNZXRyaWNzIiwicHJldmlvdXNXaWR0aEZyb21Lb252YSIsIm5leHRXaWR0aEZyb21Lb252YSIsInByZXZpb3VzV2lkdGgiLCJuZXh0V2lkdGgiLCJjdXJyZW50WCIsImNhbGN1bGFyWFRleHRvRGVzZGVDZW50cm8iLCJzYWZlQ2VudGVyWCIsImFqdXN0YXJGb250U2l6ZUFBbmNob1Zpc3VhbCIsInByb3Bvc2VkRm9udFNpemUiLCJ0YXJnZXRWaXN1YWxXaWR0aCIsInNhZmVQcm9wb3NlZCIsInNhZmVUYXJnZXRXaWR0aCIsImN1cnJlbnRGb250U2l6ZSIsIm5leHRTaXplIiwibWVhc3VyZWRXaWR0aCIsIml0ZXJhdGlvbiIsImNhbmRpZGF0ZSIsInByZXZTaXplIiwiYWJzIiwiZmluYWxTaXplIiwiY2FsY3VsYXJYVGV4dG9DZW50cmFkbyIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImFjdHVhbGl6YXJGb25kb1NlY2Npb24iLCJudWV2b0ZvbmRvIiwiZm9uZG8iLCJvbkRlc2VsZWNjaW9uYXIiLCJpc0VkaXRpbmciLCJ0aWVuZVNlbGVjY2lvbiIsImNhbWJpYXJDb2xvckZvbmRvU2VjY2lvbiIsIm51ZXZvQ29sb3IiLCJoaXN0b3JpYWxMZW5ndGgiLCJmdXR1cm9zTGVuZ3RoIiwiZXNTZWNjaW9uUGFudGFsbGFCeUlkIiwiYWx0b01vZG8iLCJhbHRvQ2FudmFzRGluYW1pY28iLCJhYnJpck1vZGFsQm9ycmFyU2VjY2lvbiIsImNlcnJhck1vZGFsQm9ycmFyU2VjY2lvbiIsImNvbmZpcm1hckJvcnJhclNlY2Npb24iLCJvblNlbGVjdFNlY2Npb24iLCJfc2VjY2lvbkFjdGl2YUlkIiwicmVzb2x2ZXJWaWV3cG9ydFNjcm9sbFNlY2Npb25lcyIsInN0YWdlQ29udGFpbmVyIiwibWFpbkVsZW1lbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3ciLCJpc1Njcm9sbGFibGUiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsIiwidmlld3BvcnQiLCJ2aWV3cG9ydFRvcCIsInZpZXdwb3J0Qm90dG9tIiwiZG9jdW1lbnRFbGVtZW50Iiwidmlld3BvcnRSZWN0IiwiYm90dG9tIiwiYWx0dXJhU3RhZ2VQeCIsImFsdHVyYUNhbnZhcyIsInB4UG9yVW5pZGFkIiwiY2VudHJvVmlld3BvcnQiLCJtZWpvcklkIiwibWVqb3JWaXNpYmxlIiwibWVqb3JSYXRpbyIsIm1lam9yRGlzdGFuY2lhQ2VudHJvIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJhbHR1cmFTZWNjaW9uIiwidmlzaWJsZSIsInJhdGlvVmlzaWJsZSIsImRpc3RhbmNpYUNlbnRybyIsIm1lam9yYVBvclZpc2libGUiLCJlbXBhdGVWaXNpYmxlIiwibWVqb3JhUG9yUmF0aW8iLCJlbXBhdGVSYXRpbyIsIm1lam9yYVBvckNlbnRybyIsInNjcm9sbFRhcmdldCIsInNjaGVkdWxlU3luYyIsImV2ZW50VGFyZ2V0IiwidmlzdWFsVmlld3BvcnQiLCJndWlhTGluZWFzIiwibW9zdHJhckd1aWFzIiwibGltcGlhckd1aWFzIiwiY29uZmlndXJhckRyYWdFbmQiLCJhbmNob0NhbnZhcyIsIm1hcmdlblNlbnNpYmlsaWRhZCIsIm1hZ25ldFJhZGl1cyIsInNlY3Rpb25NYWduZXRSYWRpdXMiLCJzbmFwU3RyZW5ndGgiLCJzZWN0aW9uU25hcFN0cmVuZ3RoIiwic2VjdGlvbkxpbmVUb2xlcmFuY2UiLCJzbmFwVG9FZGdlcyIsInNuYXBUb0NlbnRlcnMiLCJhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzIiwib25EcmFnU3RhcnRHbG9iYWwiLCJvbkRyYWdFbmRHbG9iYWwiLCJfbGluZUludGVyc2VjdGlvbkNhY2hlIiwiX2dydXBvTGlkZXIiLCJyZWNlbnRseUVuZGVkR3JvdXBEcmFnIiwiX3NraXBVbnRpbCIsImhheUxpbmVhcyIsInNvbWUiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJnZXRMYXllciIsImNsZWFyVGltZW91dCIsImxpbmVPYmoiLCJhcmVhIiwicHVudG9zTGltcGlvcyIsIl9lbGVtZW50UmVmcyIsImxpbmVYIiwibGluZVkiLCJzdGFydFgiLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsInN0YXJ0RGVudHJvIiwiZW5kRGVudHJvIiwiaW50ZXJzZWN0YSIsImxpbmVJbnRlcnNlY3RzUmVjdCIsIngxIiwieTEiLCJ4MiIsInkyIiwicmVjdExlZnQiLCJyZWN0VG9wIiwicmVjdFJpZ2h0IiwicmVjdEJvdHRvbSIsImxpbmVJbnRlcnNlY3RzTGluZSIsIngzIiwieTMiLCJ4NCIsInk0IiwiZGVub20iLCJ0IiwidSIsIm9iamV0b0VuRWRpY2lvbiIsIm5vZGVDbGFzcyIsImJlZm9yZU1ldHJpY3MiLCJlZGl0aW5nVmFsdWUiLCJzaG91bGRLZWVwQ2VudGVyUHJldmlldyIsIl9fZ3JvdXBBbGlnbiIsIl9fYXV0b1dpZHRoIiwiZXhwZWN0ZWRYIiwib2JqWCIsIm9ialkiLCJmb3JjZVVwZGF0ZSIsImFmdGVyTWV0cmljcyIsImFmdGVyWCIsImRlbHRhWCIsImZpbmFsT2JqIiwiZmluYWxOb2RlIiwiZmluYWxOb2RlTWV0cmljcyIsImZpbmFsWCIsImRlbHRhRmluYWxWc0V4cGVjdGVkIiwiX2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MiLCJfb2JqZXRvc0FjdHVhbGVzIiwiX3NlY2Npb25lc09yZGVuYWRhcyIsIl9hbHRvQ2FudmFzIiwiaWRzIiwiYWN0aXZlU2VjdGlvbklkIiwic2V0SG92ZXJJZEdsb2JhbCIsImV4aXN0cyIsImNsZWFudXAiLCJzdGFnZUdlc3R1cmVzIiwibW9iaWxlQ2FudmFzVG9vbGJhck9mZnNldCIsIm1vYmlsZVNlY3Rpb25BY3Rpb25zVG9wIiwiZGl2IiwibWFyZ2luVG9wIiwib3ZlcmZsb3dYIiwiV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmciLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsInRyYW5zaXRpb24iLCJyZWYiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJwb3NpdGlvbiIsImVzUHJpbWVyYSIsImVzVWx0aW1hIiwiZXN0YUFuaW1hbmRvIiwic2VjdGlvbkJ1dHRvbkJhc2UiLCJzZWN0aW9uQnV0dG9uRGlzYWJsZWQiLCJzZWN0aW9uQnV0dG9uUHJpbWFyeSIsInNlY3Rpb25CdXR0b25OZXV0cmFsIiwic2VjdGlvbkJ1dHRvblN1Y2Nlc3MiLCJzZWN0aW9uQnV0dG9uRGFuZ2VyIiwiYWN0aW9uQnV0dG9ucyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXJlY2Npb24iLCJkaXNhYmxlZCIsInRpdGxlIiwic3BhbiIsIm1vZG9TZWNjaW9uIiwiZXNQYW50YWxsYSIsInJpZ2h0IiwidHlwZSIsInpJbmRleCIsInBlcmZlY3REcmF3RW5hYmxlZCIsImxpc3RlbmluZyIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsInByZXZlbnREZWZhdWx0IiwiaGl0R3JhcGhFbmFibGVkIiwiYmFja2dyb3VuZCIsImJveFNoYWRvdyIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwiZmxhdE1hcCIsImFsdHVyYVB4IiwiZXNBY3RpdmEiLCJlbGVtZW50b3MiLCJvblNlbGVjdCIsIm9uVXBkYXRlRm9uZG9PZmZzZXQiLCJtb2JpbGVCYWNrZ3JvdW5kRWRpdEVuYWJsZWQiLCJvbkJhY2tncm91bmRJbWFnZVN0YXR1c0NoYW5nZSIsImZpbGwiLCJzdHJva2UiLCJvblRhcCIsImNvbnRyb2xZIiwicGVybWl0ZVJlc2l6ZUFsdHVyYSIsIm5hbWUiLCJkYXNoIiwib3BhY2l0eSIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsImRyYWdnYWJsZSIsImNvcm5lclJhZGl1cyIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldCIsInJhZGl1cyIsInJvdW5kIiwiaXNJbkVkaXRNb2RlIiwib25Ib3ZlciIsImlzU2VsZWN0ZWQiLCJvblBpY2tDZWxsIiwiaW5mbyIsImV2dCIsImNhbmNlbEJ1YmJsZSIsIm9uRHJhZ01vdmVQZXJzb25hbGl6YWRvIiwicG9zIiwiX2lzRHJhZ2dpbmciLCJvbkRyYWdTdGFydFBlcnNvbmFsaXphZG8iLCJkcmFnSWQiLCJvbkRyYWdFbmRQZXJzb25hbGl6YWRvIiwib25DaGFuZ2UiLCJ1cGRhdGVkIiwib2JqT3JpZ2luYWwiLCJmaW5hbGl6b0RyYWciLCJudWV2YVNlY2Npb24iLCJjb29yZGVuYWRhc0FqdXN0YWRhcyIsIm9ialByZXZpZXciLCJ0ZXh0b1ByZXZpZXciLCJwcmV2aWV3T2JqIiwicHJldmlld1giLCJpZHhTZWMiLCJ5TG9jYWwiLCJ5Tm9ybSIsInByZVNlbGVjY2lvbmFkbyIsIm9uU3RhcnRUZXh0RWRpdCIsIm9iamVjdFgiLCJvYmplY3RZIiwiaW5saW5lVmlzaWJpbGl0eU1vZGUiLCJmaW5pc2hJbmxpbmVFZGl0IiwiZXNTaGlmdCIsInNoaWZ0S2V5IiwiaXNEcmFnUHJldmlldyIsInNraXBIaXN0b3JpYWwiLCJpc0JhdGNoVXBkYXRlRmluYWwiLCJkcmFnSW5pY2lhbCIsImRlbHRhWSIsIm9iamV0byIsInBvc0luaWNpYWwiLCJjb29yZGVuYWRhc0ZpbmFsZXMiLCJzZWNjaW9uRmluYWxJZCIsInlSZWxQeCIsImhheURpZmVyZW5jaWFzIiwidmFsb3JBbnRlcmlvciIsInZhbG9yTnVldm8iLCJzZWxlY2Npb25BY3R1YWwiLCJlbGVtZW50SWQiLCJzZWxlY3RlZEVsZW1lbnRzIiwib25UcmFuc2Zvcm0iLCJuZXdBdHRycyIsIm9iakluZGV4IiwidXBkYXRlZEVsZW1lbnQiLCJyb3RhdGlvbiIsImdhbGxlcnlNZXRyaWNzIiwic2NhbGVYIiwic2NhbGVZIiwiaXNSZXNpemluZyIsImNsZWFuQXR0cnMiLCJmaW5hbEF0dHJzIiwicmVxdWVzdGVkRm9udFNpemUiLCJzaG91bGRNYXRjaFZpc3VhbFdpZHRoIiwidGV4dFZpc3VhbFdpZHRoIiwiY2VudGVyZWRYIiwidGV4dENlbnRlclgiLCJjbGVhbkZvbnRTaXplIiwib3JpZ2luYWxYIiwib3JpZ2luYWxZIiwiZmluYWxGb250U2l6ZSIsImZpbmFsWSIsImlkeCIsInNhZmUiLCJjb21taXRTbmFwc2hvdCIsIm5vZGVBZnRlckNvbW1pdCIsInJlY3RBZnRlckNvbW1pdCIsIm5vZGVYIiwibm9kZVkiLCJub2RlU2NhbGVYIiwibm9kZVNjYWxlWSIsIm5vZGVGb250U2l6ZSIsIm5vZGVSZWN0V2lkdGgiLCJub2RlUmVjdEhlaWdodCIsImVyciIsIm1lc3NhZ2UiLCJob3ZlcmVkRWxlbWVudCIsImVsZW1lbnRvU2VsZWNjaW9uYWRvIiwibGluZUVsZW1lbnQiLCJvblVwZGF0ZUxpbmUiLCJpc0RyYWdHcnVwYWxBY3RpdmUiLCJsaW5lYSIsImVzTGluZWFTZWNjaW9uIiwicHJpb3JpdHkiLCJzaGFkb3dFbmFibGVkIiwidGV4dEFsaWduIiwiYWxpZ24iLCJvbk92ZXJsYXlNb3VudENoYW5nZSIsIm5leHRWYWx1ZSIsIm5leHRUZXh0Iiwib25EZWJ1Z0V2ZW50Iiwib25GaW5pc2giLCJmaW5pc2hJZCIsInRleHRvTnVldm9SYXciLCJ0ZXh0b051ZXZvVmFsaWRhZG8iLCJsaXZlTm9kZUF0RmluaXNoIiwibGl2ZU1ldHJpY3NBdEZpbmlzaCIsInJhd0xlbmd0aCIsInRyaW1tZWRMZW5ndGgiLCJwcmV2aWV3UmVmIiwiYWN0dWFsaXphZG8iLCJwYXRjaCIsInNob3VsZEtlZXBDZW50ZXJYIiwibmV4dFgiLCJwYXRjaFgiLCJvYmplY3RYQmVmb3JlQ29tbWl0IiwibGl2ZU5vZGVYQXRGaW5pc2giLCJwcmV2aWV3Q2VudGVyWCIsInRleHRMZW5ndGgiLCJsb2dGaW5pc2hWaXNpYmlsaXR5Q2hlY2siLCJwaGFzZSIsIm92ZXJsYXlEb21QcmVzZW50IiwibGl2ZU5vZGUiLCJyZWFjdGl2ZUVkaXRpbmdJZCIsImdsb2JhbEVkaXRpbmdJZCIsIm5vZGVPcGFjaXR5Iiwibm9kZVZpc2libGUiLCJzdGFnZUFmdGVyRmluaXNoRWRpdCIsInNjYWxlVmlzdWFsIiwid2lkdGhNb2RlIiwibm9kZVJlZiIsImNvbnRlbmVkb3IiLCJib3giLCJhYnNQb3MiLCJnZXRBYnNvbHV0ZVBvc2l0aW9uIiwiZWxlbWVudG9FblBhbnRhbGxhWCIsImVsZW1lbnRvRW5QYW50YWxsYVkiLCJhbmNob0VsZW1lbnRvIiwiYm90b25YIiwiYm90b25ZIiwiYWxpZ25JdGVtcyIsInBvaW50ZXJFdmVudHMiLCJiYWNrZHJvcEZpbHRlciIsImJvcmRlciIsInN0b3BQcm9wYWdhdGlvbiIsIm9uQ2VycmFyIiwic2VjdGlvbk5hbWUiLCJpdGVtQ291bnQiLCJpc0RlbGV0aW5nIiwib25DYW5jZWwiLCJvbkNvbmZpcm0iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/CanvasEditor.jsx\n"));

/***/ })

});