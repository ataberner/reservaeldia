"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_components_CanvasEditor_jsx",{

/***/ "(pages-dir-browser)/./src/components/ElementoCanvas.jsx":
/*!*******************************************!*\
  !*** ./src/components/ElementoCanvas.jsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementoCanvas)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-konva */ \"(pages-dir-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var use_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! use-image */ \"(pages-dir-browser)/./node_modules/use-image/index.js\");\n/* harmony import */ var use_image__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(use_image__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _models_lineConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/models/lineConstants */ \"(pages-dir-browser)/./src/models/lineConstants.js\");\n/* harmony import */ var _drag_dragGrupal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/drag/dragGrupal */ \"(pages-dir-browser)/./src/drag/dragGrupal.js\");\n/* harmony import */ var _drag_dragIndividual__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/drag/dragIndividual */ \"(pages-dir-browser)/./src/drag/dragIndividual.js\");\n/* harmony import */ var _utils_getTextMetrics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/getTextMetrics */ \"(pages-dir-browser)/./src/utils/getTextMetrics.js\");\n// ElementoCanvas.jsx - REEMPLAZAR TODO EL ARCHIVO\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction normalizeFontSize(value) {\n    let fallback = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 24;\n    const parsed = Number(value);\n    return Number.isFinite(parsed) && parsed > 0 ? parsed : fallback;\n}\nfunction isBoldFontWeight(weight) {\n    const normalized = String(weight || \"normal\").toLowerCase();\n    return normalized === \"bold\" || normalized === \"bolder\" || [\n        \"500\",\n        \"600\",\n        \"700\",\n        \"800\",\n        \"900\"\n    ].includes(normalized);\n}\nfunction resolveKonvaFontStyle(fontStyle, fontWeight) {\n    const style = String(fontStyle || \"normal\").toLowerCase();\n    const isItalic = style.includes(\"italic\") || style.includes(\"oblique\");\n    const isBold = style.includes(\"bold\") || isBoldFontWeight(fontWeight);\n    if (isBold && isItalic) return \"bold italic\";\n    if (isBold) return \"bold\";\n    if (isItalic) return \"italic\";\n    return \"normal\";\n}\nfunction ElementoCanvas(param) {\n    let { obj, isSelected, isInEditMode, onSelect, onChange, editingId, registerRef, onHover, preSeleccionado, selectionCount = 0, onDragMovePersonalizado, onDragStartPersonalizado, onDragEndPersonalizado, dragStartPos, hasDragged, onStartTextEdit, editingMode = false, inlineOverlayMountedId = null, inlineVisibilityMode = \"reactive\" } = param;\n    _s();\n    const [img] = use_image__WEBPACK_IMPORTED_MODULE_2___default()(obj.src || null, \"anonymous\");\n    const [measuredTextWidth, setMeasuredTextWidth] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const textNodeRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const baseTextLayoutRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null); // guarda el centro/baseline inicial\n    // ðŸ”¥ PREVENIR onChange RECURSIVO PARA AUTOFIX\n    const handleChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ElementoCanvas.useCallback[handleChange]\": (id, newData)=>{\n            if (newData.fromAutoFix || !onChange) return;\n            onChange(id, newData);\n        }\n    }[\"ElementoCanvas.useCallback[handleChange]\"], [\n        onChange\n    ]);\n    const handleRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ElementoCanvas.useCallback[handleRef]\": (node)=>{\n            if (registerRef) {\n                registerRef(obj.id, node || null);\n            // âŒ NO despachar \"element-ref-registrado\" acÃ¡\n            // CanvasEditor.registerRef ya lo hace.\n            }\n        }\n    }[\"ElementoCanvas.useCallback[handleRef]\"], [\n        obj.id,\n        registerRef\n    ]);\n    // âœ… Click con estado fresco (evita stale closures del useMemo)\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ElementoCanvas.useCallback[handleClick]\": (e)=>{\n            e.cancelBubble = true;\n            if (!hasDragged.current) {\n                // ðŸ§  Texto normal\n                if (obj.tipo === \"texto\") {\n                    if (isSelected) {\n                        onStartTextEdit === null || onStartTextEdit === void 0 ? void 0 : onStartTextEdit(obj.id, obj.texto);\n                    } else {\n                        onSelect(obj.id, obj, e);\n                    }\n                } else if (obj.tipo === \"forma\" && obj.figura === \"rect\") {\n                    if (isSelected) {\n                        onStartTextEdit === null || onStartTextEdit === void 0 ? void 0 : onStartTextEdit(obj.id, obj.texto || \"\");\n                    } else {\n                        onSelect(obj.id, obj, e);\n                    }\n                } else {\n                    onSelect(obj.id, obj, e);\n                }\n            }\n        }\n    }[\"ElementoCanvas.useCallback[handleClick]\"], [\n        obj,\n        isSelected,\n        onSelect,\n        onStartTextEdit\n    ]);\n    // ðŸ”¥ MEMOIZAR PROPIEDADES COMUNES\n    const commonProps = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"ElementoCanvas.useMemo[commonProps]\": ()=>{\n            var _obj_x, _obj_y;\n            return {\n                x: (_obj_x = obj.x) !== null && _obj_x !== void 0 ? _obj_x : 0,\n                y: (_obj_y = obj.y) !== null && _obj_y !== void 0 ? _obj_y : 0,\n                rotation: obj.rotation || 0,\n                scaleX: obj.scaleX || 1,\n                scaleY: obj.scaleY || 1,\n                draggable: !editingMode,\n                listening: !isInEditMode,\n                onMouseDown: ({\n                    \"ElementoCanvas.useMemo[commonProps]\": (e)=>{\n                        var _e_currentTarget;\n                        e.cancelBubble = true;\n                        hasDragged.current = false;\n                        (_e_currentTarget = e.currentTarget) === null || _e_currentTarget === void 0 ? void 0 : _e_currentTarget.draggable(true);\n                    }\n                })[\"ElementoCanvas.useMemo[commonProps]\"],\n                onMouseUp: ({\n                    \"ElementoCanvas.useMemo[commonProps]\": (e)=>{\n                        var _e_currentTarget;\n                        if (((_e_currentTarget = e.currentTarget) === null || _e_currentTarget === void 0 ? void 0 : _e_currentTarget.draggable) && !hasDragged.current) {\n                            e.currentTarget.draggable(false);\n                        }\n                    }\n                })[\"ElementoCanvas.useMemo[commonProps]\"],\n                onClick: handleClick,\n                onTap: handleClick,\n                onDragStart: ({\n                    \"ElementoCanvas.useMemo[commonProps]\": (e)=>{\n                        onDragStartPersonalizado === null || onDragStartPersonalizado === void 0 ? void 0 : onDragStartPersonalizado(obj.id, e);\n                        window._dragCount = 0;\n                        window._lastMouse = null;\n                        window._lastElement = null;\n                        hasDragged.current = true;\n                        window._isDragging = true;\n                        // ðŸ”¥ Intentar drag grupal\n                        const fueGrupal = (0,_drag_dragGrupal__WEBPACK_IMPORTED_MODULE_5__.startDragGrupalLider)(e, obj);\n                        if (!fueGrupal) {\n                            (0,_drag_dragIndividual__WEBPACK_IMPORTED_MODULE_6__.startDragIndividual)(e, dragStartPos);\n                        }\n                    }\n                })[\"ElementoCanvas.useMemo[commonProps]\"],\n                onDragMove: ({\n                    \"ElementoCanvas.useMemo[commonProps]\": (e)=>{\n                        hasDragged.current = true;\n                        const stage = e.target.getStage();\n                        const mousePos = stage.getPointerPosition();\n                        const elementPos = {\n                            x: e.target.x(),\n                            y: e.target.y()\n                        };\n                        window._lastMouse = mousePos;\n                        window._lastElement = elementPos;\n                        // ðŸ”¥ DRAG GRUPAL - SOLO EL LÃDER PROCESA\n                        if (window._grupoLider && obj.id === window._grupoLider) {\n                            (0,_drag_dragGrupal__WEBPACK_IMPORTED_MODULE_5__.previewDragGrupal)(e, obj, onChange);\n                            onDragMovePersonalizado === null || onDragMovePersonalizado === void 0 ? void 0 : onDragMovePersonalizado({\n                                x: e.target.x(),\n                                y: e.target.y()\n                            }, obj.id);\n                            return;\n                        }\n                        // ðŸ”¥ SI ES SEGUIDOR DEL GRUPO, NO PROCESAR\n                        if (window._grupoLider) {\n                            const elementosSeleccionados = window._elementosSeleccionados || [];\n                            if (elementosSeleccionados.includes(obj.id) && obj.id !== window._grupoLider) {\n                                return;\n                            }\n                        }\n                        // ðŸ”„ DRAG INDIVIDUAL - Solo si no hay drag grupal activo\n                        if (!window._grupoLider) {\n                            (0,_drag_dragIndividual__WEBPACK_IMPORTED_MODULE_6__.previewDragIndividual)(e, obj, onDragMovePersonalizado);\n                        }\n                    }\n                })[\"ElementoCanvas.useMemo[commonProps]\"],\n                onDragEnd: ({\n                    \"ElementoCanvas.useMemo[commonProps]\": (e)=>{\n                        window._isDragging = false;\n                        const node = e.currentTarget;\n                        // ðŸ”¥ Intentar drag grupal\n                        const fueGrupal = (0,_drag_dragGrupal__WEBPACK_IMPORTED_MODULE_5__.endDragGrupal)(e, obj, onChange, hasDragged);\n                        if (fueGrupal) {\n                            onDragEndPersonalizado === null || onDragEndPersonalizado === void 0 ? void 0 : onDragEndPersonalizado();\n                            return;\n                        }\n                        // ðŸ”„ DRAG INDIVIDUAL (no cambiÃ³)\n                        (0,_drag_dragIndividual__WEBPACK_IMPORTED_MODULE_6__.endDragIndividual)(obj, node, onChange, onDragEndPersonalizado, hasDragged);\n                    }\n                })[\"ElementoCanvas.useMemo[commonProps]\"]\n            };\n        }\n    }[\"ElementoCanvas.useMemo[commonProps]\"], [\n        obj,\n        editingMode,\n        isInEditMode,\n        handleClick,\n        onDragMovePersonalizado,\n        onDragStartPersonalizado,\n        onDragEndPersonalizado,\n        dragStartPos,\n        hasDragged,\n        onChange\n    ]);\n    // ðŸ”¥ MEMOIZAR HANDLERS HOVER\n    const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ElementoCanvas.useCallback[handleMouseEnter]\": ()=>{\n            if (!onHover || window._isDragging || isInEditMode) return;\n            onHover(obj.id);\n        }\n    }[\"ElementoCanvas.useCallback[handleMouseEnter]\"], [\n        onHover,\n        obj.id,\n        isInEditMode\n    ]);\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ElementoCanvas.useCallback[handleMouseLeave]\": ()=>{\n            if (!onHover || isInEditMode) return;\n            onHover(null);\n        }\n    }[\"ElementoCanvas.useCallback[handleMouseLeave]\"], [\n        onHover,\n        isInEditMode\n    ]);\n    const recalcGroupAlign = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ElementoCanvas.useCallback[recalcGroupAlign]\": ()=>{\n            if (obj.tipo !== \"texto\") return;\n            if (!obj.__groupAlign || !obj.__groupId) return;\n            if ( false || typeof onChange !== \"function\") return;\n            const refs = window._elementRefs || {};\n            const getObj = window.__getObjById || ({\n                \"ElementoCanvas.useCallback[recalcGroupAlign]\": ()=>null\n            })[\"ElementoCanvas.useCallback[recalcGroupAlign]\"];\n            let maxW = 0;\n            let thisW = 0;\n            for (const [id, node] of Object.entries(refs)){\n                const o = getObj(id);\n                if (!o || o.tipo !== \"texto\" || o.__groupId !== obj.__groupId) continue;\n                const w = (node === null || node === void 0 ? void 0 : node.getTextWidth) ? Math.ceil(node.getTextWidth()) : 0;\n                if (id === obj.id) thisW = w;\n                if (w > maxW) maxW = w;\n            }\n            if (!maxW || !thisW) return;\n            const baseX = Number.isFinite(obj.__groupOriginX) ? obj.__groupOriginX : obj.x || 0;\n            let targetX = baseX;\n            if (obj.__groupAlign === \"center\") {\n                targetX = baseX + (maxW - thisW) / 2;\n            } else if (obj.__groupAlign === \"right\") {\n                targetX = baseX + (maxW - thisW);\n            }\n            if (Math.abs((obj.x || 0) - targetX) > 0.5) {\n                onChange(obj.id, {\n                    x: targetX\n                });\n            }\n        }\n    }[\"ElementoCanvas.useCallback[recalcGroupAlign]\"], [\n        obj.id,\n        obj.x,\n        obj.tipo,\n        obj.__groupAlign,\n        obj.__groupId,\n        obj.__groupOriginX,\n        onChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"ElementoCanvas.useEffect\": ()=>{\n            // Recalcular cuando este texto cambia y tras montar sus vecinos\n            let r1, r2;\n            r1 = requestAnimationFrame({\n                \"ElementoCanvas.useEffect\": ()=>{\n                    r2 = requestAnimationFrame({\n                        \"ElementoCanvas.useEffect\": ()=>{\n                            recalcGroupAlign();\n                        }\n                    }[\"ElementoCanvas.useEffect\"]);\n                }\n            }[\"ElementoCanvas.useEffect\"]);\n            return ({\n                \"ElementoCanvas.useEffect\": ()=>{\n                    if (r1) cancelAnimationFrame(r1);\n                    if (r2) cancelAnimationFrame(r2);\n                }\n            })[\"ElementoCanvas.useEffect\"];\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ElementoCanvas.useEffect\"], [\n        recalcGroupAlign,\n        obj.texto,\n        obj.fontFamily,\n        obj.fontSize,\n        obj.fontStyle,\n        obj.fontWeight\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"ElementoCanvas.useEffect\": ()=>{\n            if (!obj || obj.tipo !== \"texto\") return;\n            if (obj.__groupAlign) return;\n            const isAutoWidth = !obj.width && obj.__autoWidth !== false;\n            if (!isAutoWidth) return;\n            let raf1 = null;\n            let raf2 = null;\n            raf1 = requestAnimationFrame({\n                \"ElementoCanvas.useEffect\": ()=>{\n                    raf2 = requestAnimationFrame({\n                        \"ElementoCanvas.useEffect\": ()=>{\n                            const node = textNodeRef.current;\n                            if (!node || typeof node.getTextWidth !== \"function\") return;\n                            const wReal = Math.ceil(node.getTextWidth() || 0);\n                            if (wReal > 0) setMeasuredTextWidth(wReal);\n                        }\n                    }[\"ElementoCanvas.useEffect\"]);\n                }\n            }[\"ElementoCanvas.useEffect\"]);\n            return ({\n                \"ElementoCanvas.useEffect\": ()=>{\n                    if (raf1) cancelAnimationFrame(raf1);\n                    if (raf2) cancelAnimationFrame(raf2);\n                }\n            })[\"ElementoCanvas.useEffect\"];\n        }\n    }[\"ElementoCanvas.useEffect\"], [\n        obj === null || obj === void 0 ? void 0 : obj.id,\n        obj === null || obj === void 0 ? void 0 : obj.texto,\n        obj === null || obj === void 0 ? void 0 : obj.fontFamily,\n        obj === null || obj === void 0 ? void 0 : obj.fontSize,\n        obj === null || obj === void 0 ? void 0 : obj.fontStyle,\n        obj === null || obj === void 0 ? void 0 : obj.fontWeight,\n        obj === null || obj === void 0 ? void 0 : obj.lineHeight,\n        obj === null || obj === void 0 ? void 0 : obj.width,\n        obj === null || obj === void 0 ? void 0 : obj.__autoWidth,\n        obj === null || obj === void 0 ? void 0 : obj.__groupAlign\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"ElementoCanvas.useEffect\": ()=>{\n            setMeasuredTextWidth(null);\n            // tambiÃ©n conviene resetear el layout base cuando cambia de texto\n            if ((obj === null || obj === void 0 ? void 0 : obj.tipo) === \"texto\") baseTextLayoutRef.current = null;\n        }\n    }[\"ElementoCanvas.useEffect\"], [\n        obj === null || obj === void 0 ? void 0 : obj.id\n    ]);\n    const groupRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"ElementoCanvas.useEffect\": ()=>{\n            // Cachear cuando cambie el color\n            if (groupRef.current && obj.tipo === \"icono\" && obj.color && obj.color !== \"#000000\") {\n                var _groupRef_current_getLayer;\n                groupRef.current.cache();\n                (_groupRef_current_getLayer = groupRef.current.getLayer()) === null || _groupRef_current_getLayer === void 0 ? void 0 : _groupRef_current_getLayer.batchDraw();\n            }\n        }\n    }[\"ElementoCanvas.useEffect\"], [\n        obj.color,\n        obj.id\n    ]);\n    // Convierte \"minX minY width height\" -> nÃºmeros\n    function parseViewBox(vb) {\n        if (!vb || typeof vb !== \"string\") return null;\n        const parts = vb.trim().split(/\\s+/).map(Number);\n        if (parts.length !== 4 || parts.some((n)=>Number.isNaN(n))) return null;\n        const [minX, minY, vbWidth, vbHeight] = parts;\n        return {\n            minX,\n            minY,\n            vbWidth,\n            vbHeight\n        };\n    }\n    if (obj.tipo === \"forma\" && obj.figura === \"line\") {\n        let linePoints = obj.points;\n        let pointsFixed = false;\n        if (!linePoints || !Array.isArray(linePoints) || linePoints.length < 4) {\n            linePoints = [\n                0,\n                0,\n                _models_lineConstants__WEBPACK_IMPORTED_MODULE_4__.LINE_CONSTANTS.DEFAULT_LENGTH,\n                0\n            ]; // Usar constante\n            pointsFixed = true;\n        } else {\n            const puntosValidados = [];\n            for(let i = 0; i < 4; i++){\n                const punto = parseFloat(linePoints[i]);\n                puntosValidados.push(isNaN(punto) ? 0 : punto);\n            }\n            if (JSON.stringify(puntosValidados) !== JSON.stringify(linePoints.slice(0, 4))) {\n                linePoints = puntosValidados;\n                pointsFixed = true;\n            } else {\n                linePoints = linePoints.slice(0, 4);\n            }\n        }\n        if (pointsFixed && handleChange) {\n            setTimeout(()=>{\n                handleChange(obj.id, {\n                    points: linePoints,\n                    fromAutoFix: true\n                });\n            }, 0);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Line, {\n            ...commonProps,\n            ref: handleRef,\n            points: linePoints,\n            onMouseEnter: handleMouseEnter,\n            onMouseLeave: handleMouseLeave,\n            stroke: obj.color || _models_lineConstants__WEBPACK_IMPORTED_MODULE_4__.LINE_CONSTANTS.DEFAULT_COLOR,\n            strokeWidth: obj.strokeWidth || _models_lineConstants__WEBPACK_IMPORTED_MODULE_4__.LINE_CONSTANTS.STROKE_WIDTH,\n            tension: 0,\n            lineCap: \"round\",\n            lineJoin: \"round\",\n            perfectDrawEnabled: false,\n            hitStrokeWidth: Math.max(_models_lineConstants__WEBPACK_IMPORTED_MODULE_4__.LINE_CONSTANTS.HIT_STROKE_WIDTH, obj.strokeWidth || 2),\n            shadowForStrokeEnabled: false,\n            opacity: isSelected ? 1 : 0.95,\n            shadowColor: isSelected ? \"rgba(119, 61, 190, 0.3)\" : \"transparent\",\n            shadowBlur: isSelected ? 8 : 0,\n            shadowOffset: {\n                x: 0,\n                y: 2\n            }\n        }, void 0, false, {\n            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n            lineNumber: 399,\n            columnNumber: 7\n        }, this);\n    }\n    if (obj.tipo === \"texto\") {\n        const visibilityMode = inlineVisibilityMode === \"window\" ? \"window\" : \"reactive\";\n        const isEditingByWindow = window._currentEditingId === obj.id;\n        const isEditingByReactive = editingId === obj.id;\n        const overlayDomPresentLoose = (()=>{\n            if (typeof document === \"undefined\") return false;\n            const safeId = String(obj.id).replace(/\"/g, '\\\\\"');\n            return Boolean(document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]')));\n        })();\n        const overlayDomPresent = inlineOverlayMountedId === obj.id && overlayDomPresentLoose;\n        const isEditingByOverlay = overlayDomPresent;\n        const isEditing = visibilityMode === \"reactive\" ? isEditingByReactive || isEditingByOverlay : isEditingByWindow || isEditingByReactive || isEditingByOverlay;\n        const fontFamily = obj.fontFamily || \"sans-serif\";\n        const align = (obj.align || \"left\").toLowerCase();\n        var _obj_colorTexto, _ref, _ref1;\n        const fillColor = (_ref1 = (_ref = (_obj_colorTexto = obj.colorTexto) !== null && _obj_colorTexto !== void 0 ? _obj_colorTexto : obj.fill) !== null && _ref !== void 0 ? _ref : obj.color) !== null && _ref1 !== void 0 ? _ref1 : \"#000\";\n        const baseLineHeight = typeof obj.lineHeight === \"number\" && obj.lineHeight > 0 ? obj.lineHeight : 1.2;\n        const lineHeight = baseLineHeight * 0.92;\n        var _obj_texto;\n        // âœ… Evita bbox sobrado a la derecha por espacios/tabs invisibles al final de lÃ­nea\n        const rawText = String((_obj_texto = obj.texto) !== null && _obj_texto !== void 0 ? _obj_texto : \"\");\n        const safeText = rawText.replace(/[ \\t]+$/gm, \"\");\n        // âœ… VALIDACIÃ“N: Asegurar valores numÃ©ricos vÃ¡lidos\n        const validX = typeof obj.x === \"number\" && !isNaN(obj.x) ? obj.x : 0;\n        const validY = typeof obj.y === \"number\" && !isNaN(obj.y) ? obj.y : 0;\n        const validFontSize = normalizeFontSize(obj.fontSize, 24);\n        const textDecoration = typeof obj.textDecoration === \"string\" && obj.textDecoration.trim().length > 0 ? obj.textDecoration : \"none\";\n        // ðŸ”¹ PASO 1: Calcular dimensiones del texto PRIMERO\n        const ctx = document.createElement(\"canvas\").getContext(\"2d\");\n        const style = obj.fontStyle || \"normal\";\n        const weight = obj.fontWeight || \"normal\";\n        const konvaFontStyle = resolveKonvaFontStyle(style, weight);\n        // âœ… si la fuente tiene espacios, envolverla en comillas para que canvas no caiga a fallback\n        const fontForCanvas = fontFamily.includes(\",\") ? fontFamily : /\\s/.test(fontFamily) ? '\"'.concat(fontFamily, '\"') : fontFamily;\n        // âœ… orden correcto: style -> weight -> size -> family\n        ctx.font = \"\".concat(style, \" \").concat(weight, \" \").concat(validFontSize, \"px \").concat(fontForCanvas);\n        const lines = safeText.split(/\\r?\\n/);\n        const maxLineWidth = Math.max(...lines.map((line)=>ctx.measureText(line).width), 20);\n        const numLines = lines.length;\n        const textWidth = Math.ceil(maxLineWidth);\n        const textHeight = validFontSize * lineHeight * numLines;\n        // ðŸ”¹ PASO 2: Calcular posiciÃ³n solo una vez y congelar el centro\n        let positionRaw = (0,_utils_getTextMetrics__WEBPACK_IMPORTED_MODULE_7__.getCenteredTextPosition)({\n            rectY: validY,\n            rectHeight: textHeight,\n            fontSize: validFontSize,\n            fontFamily,\n            fontWeight: obj.fontWeight || \"normal\",\n            fontStyle: obj.fontStyle || \"normal\"\n        });\n        // Inicializar layout base solo la PRIMERA vez\n        if (!baseTextLayoutRef.current) {\n            baseTextLayoutRef.current = {\n                // centro vertical \"ideal\" que queremos conservar\n                rectCenter: positionRaw.rectCenter,\n                // offset desde el centro al baseline (depende solo de la fuente/tamaÃ±o)\n                baselineToCenter: positionRaw.baseline - positionRaw.rectCenter,\n                ascent: positionRaw.ascent,\n                descent: positionRaw.descent\n            };\n        }\n        const base = baseTextLayoutRef.current;\n        const rectCenterFixed = base.rectCenter;\n        const baselineY = rectCenterFixed + base.baselineToCenter;\n        const textTopFixed = baselineY - base.ascent;\n        const position = {\n            baseline: baselineY,\n            textTop: textTopFixed,\n            ascent: base.ascent,\n            descent: base.descent,\n            rectCenter: rectCenterFixed\n        };\n        // ðŸ” Debug: informaciÃ³n completa de posiciÃ³n y centrado\n        // âš ï¸ Warning si hay valores invÃ¡lidos\n        if (obj.x !== validX || obj.y !== validY || obj.fontSize !== validFontSize) {\n            console.warn(\"âš ï¸ Objeto de texto tiene valores invÃ¡lidos:\", {\n                id: obj.id,\n                x: obj.x,\n                y: obj.y,\n                fontSize: obj.fontSize\n            });\n        }\n        const ANCHO_CANVAS = 800;\n        const availableWidth = Math.max(1, ANCHO_CANVAS - validX);\n        // ancho real del texto (mÃ¡xima lÃ­nea, segÃºn tu cÃ¡lculo actual)\n        const realTextWidth = Math.max(1, textWidth);\n        // âœ… Si entra, NO usamos width (bounds ajustado)\n        // âœ… Si no entra, usamos width=available y wrap por caracteres para cortar en el borde\n        const shouldWrapToCanvasEdge = realTextWidth > availableWidth;\n        const wrapToUse = shouldWrapToCanvasEdge ? \"char\" : \"none\";\n        const widthToUse = shouldWrapToCanvasEdge ? availableWidth : undefined;\n        const inlineCaretOnlyMode = true;\n        const appliedOpacity = isEditing && !inlineCaretOnlyMode ? 0 : 1;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Text, {\n                ...commonProps,\n                ref: (node)=>{\n                    textNodeRef.current = node;\n                    handleRef(node); // registra + dispara \"element-ref-registrado\"\n                },\n                onMouseEnter: handleMouseEnter,\n                onMouseLeave: handleMouseLeave,\n                text: safeText,\n                x: validX,\n                y: obj.y,\n                wrap: wrapToUse,\n                width: widthToUse,\n                align: align,\n                fontSize: validFontSize,\n                fontFamily: fontFamily,\n                fontWeight: obj.fontWeight || \"normal\",\n                fontStyle: konvaFontStyle,\n                textDecoration: textDecoration,\n                lineHeight: lineHeight,\n                fill: fillColor,\n                opacity: appliedOpacity,\n                verticalAlign: \"top\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                lineNumber: 547,\n                columnNumber: 9\n            }, this)\n        }, void 0, false);\n    }\n    if (obj.tipo === \"rsvp-boton\") {\n        const fontFamily = obj.fontFamily || \"sans-serif\";\n        const width = obj.ancho || 200;\n        const height = obj.alto || 50;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Rect, {\n                    ...commonProps,\n                    width: width,\n                    height: height,\n                    cornerRadius: 8,\n                    fill: obj.color || \"#773dbe\",\n                    stroke: isSelected || preSeleccionado ? \"#773dbe\" : undefined,\n                    strokeWidth: isSelected || preSeleccionado ? 2 : 0,\n                    onClick: (e)=>{\n                        e.cancelBubble = true;\n                        onSelect === null || onSelect === void 0 ? void 0 : onSelect(obj.id, obj, e);\n                    },\n                    onDragMove: (e)=>{\n                        var _window__elementRefs;\n                        const nuevaPos = e.target.position();\n                        const textoNode = (_window__elementRefs = window._elementRefs) === null || _window__elementRefs === void 0 ? void 0 : _window__elementRefs[\"\".concat(obj.id, \"-text\")];\n                        if (textoNode) {\n                            var _textoNode_getLayer;\n                            textoNode.x(nuevaPos.x);\n                            textoNode.y(nuevaPos.y);\n                            (_textoNode_getLayer = textoNode.getLayer()) === null || _textoNode_getLayer === void 0 ? void 0 : _textoNode_getLayer.batchDraw();\n                        }\n                    }\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 586,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Text, {\n                    ref: (node)=>{\n                        if (registerRef) {\n                            registerRef(\"\".concat(obj.id, \"-text\"), node || null); // si querÃ©s manipular el texto aparte\n                        }\n                    },\n                    x: obj.x,\n                    y: obj.y,\n                    width: width,\n                    height: height,\n                    text: obj.texto || \"Confirmar asistencia\",\n                    fontSize: normalizeFontSize(obj.fontSize, 18),\n                    fontFamily: fontFamily,\n                    fontStyle: resolveKonvaFontStyle(obj.fontStyle || \"normal\", obj.fontWeight || \"bold\"),\n                    fontWeight: obj.fontWeight || \"bold\",\n                    textDecoration: obj.textDecoration || \"none\",\n                    fill: obj.colorTexto || \"#ffffff\",\n                    align: obj.align || \"center\",\n                    verticalAlign: \"middle\",\n                    listening: false,\n                    opacity: isInEditMode ? 0 : 1\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 610,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    if (obj.tipo === \"imagen\" && img) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Image, {\n            ...commonProps,\n            ref: handleRef,\n            id: obj.id,\n            image: img,\n            crossOrigin: \"anonymous\",\n            width: obj.width || img.width,\n            height: obj.height || img.height,\n            onMouseEnter: handleMouseEnter,\n            onMouseLeave: handleMouseLeave,\n            stroke: isSelected || preSeleccionado ? \"#773dbe\" : undefined,\n            strokeWidth: isSelected || preSeleccionado ? 1 : 0\n        }, void 0, false, {\n            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n            lineNumber: 641,\n            columnNumber: 7\n        }, this);\n    }\n    /* ---------------- ICONO SVG (tipo:\"icono\", formato:\"svg\") â€” CON HITBOX FUNCIONAL ---------------- */ if (obj.tipo === \"icono\" && obj.formato === \"svg\") {\n        const color = obj.color || \"#000000\";\n        const paths = Array.isArray(obj.paths) ? obj.paths : [];\n        const W = Number(obj.width) || 128;\n        const H = Number(obj.height) || 128;\n        const vb = parseViewBox(obj.viewBox) || {\n            minX: 0,\n            minY: 0,\n            vbWidth: 100,\n            vbHeight: 100\n        };\n        const showIconSelectionFrame = (isSelected || preSeleccionado) && selectionCount <= 1;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Group, {\n            ...commonProps,\n            ref: handleRef,\n            onMouseEnter: handleMouseEnter,\n            onMouseLeave: handleMouseLeave,\n            width: W,\n            height: H,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Rect, {\n                    x: 0,\n                    y: 0,\n                    width: W,\n                    height: H,\n                    fill: \"rgba(0,0,0,0.001)\" // Casi transparente pero clickeable\n                    ,\n                    stroke: \"transparent\" // Sin borde\n                    ,\n                    listening: true,\n                    draggable: false\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 677,\n                    columnNumber: 9\n                }, this),\n                paths.map((p, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Path, {\n                        data: p.d,\n                        fill: color,\n                        scaleX: W / vb.vbWidth,\n                        scaleY: H / vb.vbHeight,\n                        x: -vb.minX * (W / vb.vbWidth),\n                        y: -vb.minY * (H / vb.vbHeight),\n                        listening: false,\n                        perfectDrawEnabled: false\n                    }, i, false, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                        lineNumber: 690,\n                        columnNumber: 11\n                    }, this)),\n                showIconSelectionFrame && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Rect, {\n                    x: 0,\n                    y: 0,\n                    width: W,\n                    height: H,\n                    stroke: \"#773dbe\",\n                    strokeWidth: 1,\n                    fill: \"transparent\",\n                    listening: false\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 705,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n            lineNumber: 668,\n            columnNumber: 7\n        }, this);\n    }\n    /* ---------------- ICONO RASTER (PNG/JPG/WEBP) â€“ sin recolor ---------------- */ if (obj.tipo === \"icono\" && (obj.formato === \"png\" || obj.formato === \"jpg\" || obj.formato === \"webp\")) {\n        const [img] = use_image__WEBPACK_IMPORTED_MODULE_2___default()(obj.url, \"anonymous\");\n        var _img_width, _img_height;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Image, {\n            ...commonProps,\n            ref: handleRef,\n            image: img,\n            crossOrigin: \"anonymous\",\n            width: obj.width || ((_img_width = img === null || img === void 0 ? void 0 : img.width) !== null && _img_width !== void 0 ? _img_width : 120),\n            height: obj.height || ((_img_height = img === null || img === void 0 ? void 0 : img.height) !== null && _img_height !== void 0 ? _img_height : 120),\n            listening: true,\n            // UX cursor (sin romper tu hover)\n            onMouseEnter: (e)=>{\n                const stage = e.currentTarget.getStage();\n                if (stage) stage.container().style.cursor = \"grab\";\n                handleMouseEnter === null || handleMouseEnter === void 0 ? void 0 : handleMouseEnter(e);\n            },\n            onMouseLeave: (e)=>{\n                const stage = e.currentTarget.getStage();\n                if (stage) stage.container().style.cursor = \"default\";\n                handleMouseLeave === null || handleMouseLeave === void 0 ? void 0 : handleMouseLeave(e);\n            },\n            // âœ… CLAVE: NO pisar el onClick/onTap ni el onDragEnd \"real\" del sistema\n            // Si querÃ©s mantener un comportamiento extra en click, hacelo sin cambiar la firma:\n            onClick: (e)=>{\n                var // delega al commonProps.onClick (selecciÃ³n consistente)\n                _commonProps_onClick;\n                (_commonProps_onClick = commonProps.onClick) === null || _commonProps_onClick === void 0 ? void 0 : _commonProps_onClick.call(commonProps, e);\n            },\n            onTap: (e)=>{\n                var // en Konva, tap suele mapear a click; si querÃ©s, delegalo igual\n                _commonProps_onClick;\n                (_commonProps_onClick = commonProps.onClick) === null || _commonProps_onClick === void 0 ? void 0 : _commonProps_onClick.call(commonProps, e);\n            },\n            // âœ… CLAVE: delegar a commonProps.onDragEnd para que:\n            // - se limpien guÃ­as (onDragEndPersonalizado)\n            // - se haga finalizoDrag + ABSâ†’REL\n            onDragEnd: (e)=>{\n                var _commonProps_onDragEnd;\n                (_commonProps_onDragEnd = commonProps.onDragEnd) === null || _commonProps_onDragEnd === void 0 ? void 0 : _commonProps_onDragEnd.call(commonProps, e);\n                // limpieza de cursor (extra)\n                const stage = e.currentTarget.getStage();\n                if (stage) stage.container().style.cursor = \"default\";\n            }\n        }, void 0, false, {\n            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n            lineNumber: 726,\n            columnNumber: 7\n        }, this);\n    }\n    /* ---------------- LEGACY: ICONO SVG (tipo: \"icono-svg\" con obj.d) ---------------- */ if (obj.tipo === \"icono-svg\") {\n        const W = Number(obj.width) || 128;\n        const H = Number(obj.height) || 128;\n        const showLegacyIconSelectionFrame = (isSelected || preSeleccionado) && selectionCount <= 1;\n        const vb = parseViewBox(obj.viewBox) || {\n            minX: 0,\n            minY: 0,\n            vbWidth: 100,\n            vbHeight: 100\n        };\n        const scaleX = vb.vbWidth ? W / vb.vbWidth : 1;\n        const scaleY = vb.vbHeight ? H / vb.vbHeight : 1;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Group, {\n            ...commonProps,\n            ref: handleRef,\n            draggable: true,\n            onMouseEnter: handleMouseEnter,\n            onMouseLeave: handleMouseLeave,\n            onClick: (e)=>{\n                var _commonProps_onClick;\n                return (_commonProps_onClick = commonProps.onClick) === null || _commonProps_onClick === void 0 ? void 0 : _commonProps_onClick.call(commonProps, e);\n            },\n            onTap: (e)=>{\n                var _commonProps_onTap;\n                return (_commonProps_onTap = commonProps.onTap) === null || _commonProps_onTap === void 0 ? void 0 : _commonProps_onTap.call(commonProps, e);\n            },\n            onDragEnd: (e)=>{\n                var _commonProps_onDragEnd;\n                (_commonProps_onDragEnd = commonProps.onDragEnd) === null || _commonProps_onDragEnd === void 0 ? void 0 : _commonProps_onDragEnd.call(commonProps, e);\n            },\n            onTransformEnd: (e)=>{\n                const node = e.target;\n                var _node_scaleX;\n                const scaleXNode = typeof node.scaleX === \"function\" ? node.scaleX() : (_node_scaleX = node.scaleX) !== null && _node_scaleX !== void 0 ? _node_scaleX : 1;\n                var _node_scaleY;\n                const scaleYNode = typeof node.scaleY === \"function\" ? node.scaleY() : (_node_scaleY = node.scaleY) !== null && _node_scaleY !== void 0 ? _node_scaleY : 1;\n                const patch = {\n                    x: node.x(),\n                    y: node.y(),\n                    rotation: node.rotation() || 0,\n                    width: Math.max(1, W * Math.abs(scaleXNode || 1)),\n                    height: Math.max(1, H * Math.abs(scaleYNode || 1)),\n                    scaleX: 1,\n                    scaleY: 1,\n                    isFinal: true\n                };\n                onChange === null || onChange === void 0 ? void 0 : onChange(obj.id, patch);\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Rect, {\n                    x: 0,\n                    y: 0,\n                    width: W,\n                    height: H,\n                    fill: \"rgba(0,0,0,0.001)\",\n                    stroke: showLegacyIconSelectionFrame ? \"#773dbe\" : undefined,\n                    strokeWidth: showLegacyIconSelectionFrame ? 1 : 0,\n                    listening: true\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 816,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Group, {\n                    x: 0,\n                    y: 0,\n                    scaleX: scaleX,\n                    scaleY: scaleY,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Group, {\n                        x: -vb.minX,\n                        y: -vb.minY,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Path, {\n                            data: obj.d,\n                            fill: obj.color || \"#000\",\n                            stroke: obj.color || \"#000\",\n                            strokeWidth: 1,\n                            perfectDrawEnabled: true,\n                            listening: false\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                            lineNumber: 828,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                        lineNumber: 827,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 826,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n            lineNumber: 786,\n            columnNumber: 7\n        }, this);\n    }\n    if (obj.tipo === \"forma\") {\n        const propsForma = {\n            ...commonProps,\n            fill: obj.color || \"#000000\"\n        };\n        switch(obj.figura){\n            case \"rect\":\n                // Opcional: normalizamos width/height para usar en ambos nodos\n                const width = Math.abs(obj.width || 100);\n                const height = Math.abs(obj.height || 100);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Rect, {\n                            ...propsForma,\n                            ref: handleRef,\n                            onMouseEnter: handleMouseEnter,\n                            onMouseLeave: handleMouseLeave,\n                            width: width,\n                            height: height,\n                            cornerRadius: obj.cornerRadius || 0,\n                            stroke: isSelected || preSeleccionado ? \"#773dbe\" : undefined,\n                            strokeWidth: isSelected || preSeleccionado ? 1 : 0,\n                            // ðŸ–±ï¸ Doble click para entrar en ediciÃ³n inline\n                            onDblClick: (e)=>{\n                                e.cancelBubble = true;\n                                if (onStartTextEdit) {\n                                    onStartTextEdit(obj.id, obj.texto || \"\");\n                                }\n                            },\n                            onDblTap: (e)=>{\n                                e.cancelBubble = true;\n                                if (onStartTextEdit) {\n                                    onStartTextEdit(obj.id, obj.texto || \"\");\n                                }\n                            },\n                            // ðŸšš Sincronizar el texto mientras se arrastra la forma\n                            onDragMove: (e)=>{\n                                // Mantener cualquier lÃ³gica de drag original que venga de commonProps\n                                if (typeof propsForma.onDragMove === \"function\") {\n                                    propsForma.onDragMove(e);\n                                }\n                                const { x, y } = e.target.position();\n                                const stage = e.target.getStage();\n                                const textoNode = stage === null || stage === void 0 ? void 0 : stage.findOne(\"#\".concat(obj.id, \"-text\"));\n                                if (textoNode) {\n                                    var _textoNode_getLayer;\n                                    textoNode.x(x);\n                                    textoNode.y(y);\n                                    (_textoNode_getLayer = textoNode.getLayer()) === null || _textoNode_getLayer === void 0 ? void 0 : _textoNode_getLayer.batchDraw();\n                                }\n                            },\n                            onDragEnd: (e)=>{\n                                // Mantener lÃ³gica original de dragEnd (guardar posiciÃ³n, drag grupal, etc.)\n                                if (typeof propsForma.onDragEnd === \"function\") {\n                                    propsForma.onDragEnd(e);\n                                }\n                                const { x, y } = e.target.position();\n                                const stage = e.target.getStage();\n                                const textoNode = stage === null || stage === void 0 ? void 0 : stage.findOne(\"#\".concat(obj.id, \"-text\"));\n                                if (textoNode) {\n                                    var _textoNode_getLayer;\n                                    textoNode.x(x);\n                                    textoNode.y(y);\n                                    (_textoNode_getLayer = textoNode.getLayer()) === null || _textoNode_getLayer === void 0 ? void 0 : _textoNode_getLayer.batchDraw();\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                            lineNumber: 861,\n                            columnNumber: 13\n                        }, this),\n                        obj.texto && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Text, {\n                            id: \"\".concat(obj.id, \"-text\"),\n                            ref: (node)=>{\n                                if (registerRef) {\n                                    registerRef(\"\".concat(obj.id, \"-text\"), node || null); // seguÃ­s usando tu sistema de refs\n                                }\n                            },\n                            x: obj.x,\n                            y: obj.y,\n                            width: width,\n                            height: height,\n                            text: obj.texto,\n                            fontSize: normalizeFontSize(obj.fontSize, 24),\n                            fontFamily: obj.fontFamily || \"sans-serif\",\n                            fontWeight: obj.fontWeight || \"normal\",\n                            fontStyle: resolveKonvaFontStyle(obj.fontStyle || \"normal\", obj.fontWeight || \"normal\"),\n                            textDecoration: obj.textDecoration || \"none\",\n                            fill: obj.colorTexto || \"#000000\",\n                            align: obj.align || \"center\",\n                            verticalAlign: \"middle\",\n                            listening: false,\n                            opacity: isInEditMode ? 0 : 1\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                            lineNumber: 921,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true);\n            case \"circle\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Circle, {\n                    ...propsForma,\n                    ref: handleRef,\n                    radius: obj.radius || 50,\n                    onMouseEnter: handleMouseEnter,\n                    onMouseLeave: handleMouseLeave,\n                    stroke: isSelected || preSeleccionado ? \"#773dbe\" : undefined,\n                    strokeWidth: isSelected || preSeleccionado ? 1 : 0\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 951,\n                    columnNumber: 11\n                }, this);\n            case \"triangle\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_1__.RegularPolygon, {\n                    ...propsForma,\n                    ref: handleRef,\n                    sides: 3,\n                    radius: obj.radius || 60,\n                    onMouseEnter: handleMouseEnter,\n                    onMouseLeave: handleMouseLeave,\n                    stroke: isSelected || preSeleccionado ? \"#773dbe\" : undefined,\n                    strokeWidth: isSelected || preSeleccionado ? 1 : 0\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\ElementoCanvas.jsx\",\n                    lineNumber: 964,\n                    columnNumber: 11\n                }, this);\n            default:\n                return null;\n        }\n    }\n    return null;\n}\n_s(ElementoCanvas, \"bn+J8i4beBPnZ2CQYnH2pi72UBE=\", false, function() {\n    return [\n        (use_image__WEBPACK_IMPORTED_MODULE_2___default())\n    ];\n});\n_c = ElementoCanvas;\nvar _c;\n$RefreshReg$(_c, \"ElementoCanvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0VsZW1lbnRvQ2FudmFzLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxrREFBa0Q7OztBQUN1RDtBQUN4RTtBQUN5QztBQUNsQjtBQUNtQztBQUNXO0FBQ3JDO0FBRWpFLFNBQVN1QixrQkFBa0JDLEtBQUs7UUFBRUMsV0FBQUEsaUVBQVc7SUFDM0MsTUFBTUMsU0FBU0MsT0FBT0g7SUFDdEIsT0FBT0csT0FBT0MsUUFBUSxDQUFDRixXQUFXQSxTQUFTLElBQUlBLFNBQVNEO0FBQzFEO0FBRUEsU0FBU0ksaUJBQWlCQyxNQUFNO0lBQzlCLE1BQU1DLGFBQWFDLE9BQU9GLFVBQVUsVUFBVUcsV0FBVztJQUN6RCxPQUNFRixlQUFlLFVBQ2ZBLGVBQWUsWUFDZjtRQUFDO1FBQU87UUFBTztRQUFPO1FBQU87S0FBTSxDQUFDRyxRQUFRLENBQUNIO0FBRWpEO0FBRUEsU0FBU0ksc0JBQXNCQyxTQUFTLEVBQUVDLFVBQVU7SUFDbEQsTUFBTUMsUUFBUU4sT0FBT0ksYUFBYSxVQUFVSCxXQUFXO0lBQ3ZELE1BQU1NLFdBQVdELE1BQU1KLFFBQVEsQ0FBQyxhQUFhSSxNQUFNSixRQUFRLENBQUM7SUFDNUQsTUFBTU0sU0FBU0YsTUFBTUosUUFBUSxDQUFDLFdBQVdMLGlCQUFpQlE7SUFFMUQsSUFBSUcsVUFBVUQsVUFBVSxPQUFPO0lBQy9CLElBQUlDLFFBQVEsT0FBTztJQUNuQixJQUFJRCxVQUFVLE9BQU87SUFDckIsT0FBTztBQUNUO0FBTWUsU0FBU0UsZUFBZSxLQW9CdEM7UUFwQnNDLEVBQ3JDQyxHQUFHLEVBQ0hDLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxRQUFRLEVBQ1JDLFFBQVEsRUFDUkMsU0FBUyxFQUNUQyxXQUFXLEVBQ1hDLE9BQU8sRUFDUEMsZUFBZSxFQUNmQyxpQkFBaUIsQ0FBQyxFQUNsQkMsdUJBQXVCLEVBQ3ZCQyx3QkFBd0IsRUFDeEJDLHNCQUFzQixFQUN0QkMs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SUFBSU4sU0FBUyxJQUFJLFVBQVVNLElBQUlMLFVBQVUsSUFBSTs0QkFDOUV5TCxnQkFBZ0JwTCxJQUFJb0wsY0FBYyxJQUFJOzRCQUN0Q1AsTUFBTTdLLElBQUk0SyxVQUFVLElBQUk7NEJBQ3hCRixPQUFPMUssSUFBSTBLLEtBQUssSUFBSTs0QkFDcEJvRCxlQUFjOzRCQUNkakwsV0FBVzs0QkFDWDRHLFNBQVN2SixlQUFlLElBQUk7Ozs7Ozs7O1lBT3RDLEtBQUs7Z0JBQ0gscUJBQ0UsOERBQUN4QywrQ0FBTUE7b0JBQ0osR0FBRytSLFVBQVU7b0JBQ2QvRyxLQUFLN0c7b0JBQ0xnTyxRQUFRN1AsSUFBSTZQLE1BQU0sSUFBSTtvQkFDdEJsSCxjQUFjdEU7b0JBQ2R1RSxjQUFjdEU7b0JBQ2R1RSxRQUFRNUksY0FBY08sa0JBQWtCLFlBQVlpTjtvQkFDcEQxRSxhQUFhOUksY0FBY08sa0JBQWtCLElBQUk7Ozs7OztZQUl2RCxLQUFLO2dCQUNILHFCQUNFLDhEQUFDNUMsdURBQWNBO29CQUNaLEdBQUc2UixVQUFVO29CQUNkL0csS0FBSzdHO29CQUNMaU8sT0FBTztvQkFDUEQsUUFBUTdQLElBQUk2UCxNQUFNLElBQUk7b0JBQ3RCbEgsY0FBY3RFO29CQUNkdUUsY0FBY3RFO29CQUNkdUUsUUFBUTVJLGNBQWNPLGtCQUFrQixZQUFZaU47b0JBQ3BEMUUsYUFBYTlJLGNBQWNPLGtCQUFrQixJQUFJOzs7Ozs7WUFLdkQ7Z0JBQ0UsT0FBTztRQUNYO0lBQ0Y7SUFFQSxPQUFPO0FBQ1Q7R0FoN0J3QlQ7O1FBcUJSaEMsa0RBQVFBOzs7S0FyQkFnQyIsInNvdXJjZXMiOlsiQzpcXFJlc2VydmFlbGRpYVxcc3JjXFxjb21wb25lbnRzXFxFbGVtZW50b0NhbnZhcy5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRWxlbWVudG9DYW52YXMuanN4IC0gUkVFTVBMQVpBUiBUT0RPIEVMIEFSQ0hJVk9cclxuaW1wb3J0IHsgVGV4dCwgSW1hZ2UgYXMgS29udmFJbWFnZSwgUmVjdCwgQ2lyY2xlLCBMaW5lLCBSZWd1bGFyUG9seWdvbiwgUGF0aCwgR3JvdXAgfSBmcm9tIFwicmVhY3Qta29udmFcIjtcclxuaW1wb3J0IHVzZUltYWdlIGZyb20gXCJ1c2UtaW1hZ2VcIjtcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBMSU5FX0NPTlNUQU5UUyB9IGZyb20gJ0AvbW9kZWxzL2xpbmVDb25zdGFudHMnO1xyXG5pbXBvcnQgeyBwcmV2aWV3RHJhZ0dydXBhbCwgc3RhcnREcmFnR3J1cGFsTGlkZXIsIGVuZERyYWdHcnVwYWwgfSBmcm9tIFwiQC9kcmFnL2RyYWdHcnVwYWxcIjtcclxuaW1wb3J0IHsgc3RhcnREcmFnSW5kaXZpZHVhbCwgcHJldmlld0RyYWdJbmRpdmlkdWFsLCBlbmREcmFnSW5kaXZpZHVhbCB9IGZyb20gXCJAL2RyYWcvZHJhZ0luZGl2aWR1YWxcIjtcclxuaW1wb3J0IHsgZ2V0Q2VudGVyZWRUZXh0UG9zaXRpb24gfSBmcm9tIFwiQC91dGlscy9nZXRUZXh0TWV0cmljc1wiO1xyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplRm9udFNpemUodmFsdWUsIGZhbGxiYWNrID0gMjQpIHtcclxuICBjb25zdCBwYXJzZWQgPSBOdW1iZXIodmFsdWUpO1xyXG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSAmJiBwYXJzZWQgPiAwID8gcGFyc2VkIDogZmFsbGJhY2s7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQm9sZEZvbnRXZWlnaHQod2VpZ2h0KSB7XHJcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFN0cmluZyh3ZWlnaHQgfHwgXCJub3JtYWxcIikudG9Mb3dlckNhc2UoKTtcclxuICByZXR1cm4gKFxyXG4gICAgbm9ybWFsaXplZCA9PT0gXCJib2xkXCIgfHxcclxuICAgIG5vcm1hbGl6ZWQgPT09IFwiYm9sZGVyXCIgfHxcclxuICAgIFtcIjUwMFwiLCBcIjYwMFwiLCBcIjcwMFwiLCBcIjgwMFwiLCBcIjkwMFwiXS5pbmNsdWRlcyhub3JtYWxpemVkKVxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc29sdmVLb252YUZvbnRTdHlsZShmb250U3R5bGUsIGZvbnRXZWlnaHQpIHtcclxuICBjb25zdCBzdHlsZSA9IFN0cmluZyhmb250U3R5bGUgfHwgXCJub3JtYWxcIikudG9Mb3dlckNhc2UoKTtcclxuICBjb25zdCBpc0l0YWxpYyA9IHN0eWxlLmluY2x1ZGVzKFwiaXRhbGljXCIpIHx8IHN0eWxlLmluY2x1ZGVzKFwib2JsaXF1ZVwiKTtcclxuICBjb25zdCBpc0JvbGQgPSBzdHlsZS5pbmNsdWRlcyhcImJvbGRcIikgfHwgaXNCb2xkRm9udFdlaWdodChmb250V2VpZ2h0KTtcclxuXHJcbiAgaWYgKGlzQm9sZCAmJiBpc0l0YWxpYykgcmV0dXJuIFwiYm9sZCBpdGFsaWNcIjtcclxuICBpZiAoaXNCb2xkKSByZXR1cm4gXCJib2xkXCI7XHJcbiAgaWYgKGlzSXRhbGljKSByZXR1cm4gXCJpdGFsaWNcIjtcclxuICByZXR1cm4gXCJub3JtYWxcIjtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnRvQ2FudmFzKHtcclxuICBvYmosXHJcbiAgaXNTZWxlY3RlZCxcclxuICBpc0luRWRpdE1vZGUsXHJcbiAgb25TZWxlY3QsXHJcbiAgb25DaGFuZ2UsXHJcbiAgZWRpdGluZ0lkLFxyXG4gIHJlZ2lzdGVyUmVmLFxyXG4gIG9uSG92ZXIsXG4gIHByZVNlbGVjY2lvbmFkbyxcbiAgc2VsZWN0aW9uQ291bnQgPSAwLFxuICBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbyxcbiAgb25EcmFnU3RhcnRQZXJzb25hbGl6YWRvLFxuICBvbkRyYWdFbmRQZXJzb25hbGl6YWRvLFxuICBkcmFnU3RhcnRQb3MsXHJcbiAgaGFzRHJhZ2dlZCxcclxuICBvblN0YXJ0VGV4dEVkaXQsXHJcbiAgZWRpdGluZ01vZGUgPSBmYWxzZSxcclxuICBpbmxpbmVPdmVybGF5TW91bnRlZElkID0gbnVsbCxcclxuICBpbmxpbmVWaXNpYmlsaXR5TW9kZSA9IFwicmVhY3RpdmVcIlxyXG59KSB7XHJcbiAgY29uc3QgW2ltZ10gPSB1c2VJbWFnZShvYmouc3JjIHx8IG51bGwsIFwiYW5vbnltb3VzXCIpO1xyXG4gIGNvbnN0IFttZWFzdXJlZFRleHRXaWR0aCwgc2V0TWVhc3VyZWRUZXh0V2lkdGhdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIGNvbnN0IHRleHROb2RlUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IGJhc2VUZXh0TGF5b3V0UmVmID0gdXNlUmVmKG51bGwpOyAvLyBndWFyZGEgZWwgY2VudHJvL2Jhc2VsaW5lIGluaWNpYWxcclxuXHJcblxyXG4gIC8vIPCflKUgUFJFVkVOSVIgb25DaGFuZ2UgUkVDVVJTSVZPIFBBUkEgQVVUT0ZJWFxyXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKChpZCwgbmV3RGF0YSkgPT4ge1xyXG4gICAgaWYgKG5ld0RhdGEuZnJvbUF1dG9GaXggfHwgIW9uQ2hhbmdlKSByZXR1cm47XHJcbiAgICBvbkNoYW5nZShpZCwgbmV3RGF0YSk7XHJcbiAgfSwgW29uQ2hhbmdlXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUNhbGxiYWNrKChub2RlKSA9PiB7XHJcbiAgICBpZiAocmVnaXN0ZXJSZWYpIHtcclxuICAgICAgcmVnaXN0ZXJSZWYob2JqLmlkLCBub2RlIHx8IG51bGwpO1xyXG4gICAgICAvLyDinYwgTk8gZGVzcGFjaGFyIFwiZWxlbWVudC1yZWYtcmVnaXN0cmFkb1wiIGFjw6FcclxuICAgICAgLy8gQ2FudmFzRWRpdG9yLnJlZ2lzdGVyUmVmIHlhIGxvIGhhY2UuXHJcbiAgICB9XHJcbiAgfSwgW29iai5pZCwgcmVnaXN0ZXJSZWZdKTtcclxuXHJcblxyXG5cclxuICAvLyDinIUgQ2xpY2sgY29uIGVzdGFkbyBmcmVzY28gKGV2aXRhIHN0YWxlIGNsb3N1cmVzIGRlbCB1c2VNZW1vKVxyXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoZSkgPT4ge1xyXG4gICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcblxyXG4gICAgICBpZiAoIWhhc0RyYWdnZWQuY3VycmVudCkge1xyXG4gICAgICAgIC8vIPCfp6AgVGV4dG8gbm9ybWFsXHJcbiAgICAgICAgaWYgKG9iai50aXBvID09PSBcInRleHRvXCIpIHtcclxuICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIG9uU3RhcnRUZXh0RWRpdD8uKG9iai5pZCwgb2JqLnRleHRvKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9uU2VsZWN0KG9iai5pZCwgb2JqLCBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIPCfhpUgRm9ybWEgY29uIHRleHRvIChyZWN0KVxyXG4gICAgICAgIGVsc2UgaWYgKG9iai50aXBvID09PSBcImZvcm1hXCIgJiYgb2JqLmZpZ3VyYSA9PT0gXCJyZWN0XCIpIHtcclxuICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIG9uU3RhcnRUZXh0RWRpdD8uKG9iai5pZCwgb2JqLnRleHRvIHx8IFwiXCIpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb25TZWxlY3Qob2JqLmlkLCBvYmosIGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g8J+nsSBQYXJhIHRvZG8gbG8gZGVtw6FzXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBvblNlbGVjdChvYmouaWQsIG9iaiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW29iaiwgaXNTZWxlY3RlZCwgb25TZWxlY3QsIG9uU3RhcnRUZXh0RWRpdF1cclxuICApO1xyXG5cclxuXHJcblxyXG4gIC8vIPCflKUgTUVNT0laQVIgUFJPUElFREFERVMgQ09NVU5FU1xyXG4gIGNvbnN0IGNvbW1vblByb3BzID0gdXNlTWVtbygoKSA9PiAoe1xyXG4gICAgeDogb2JqLnggPz8gMCxcclxuICAgIHk6IG9iai55ID8/IDAsXHJcbiAgICByb3RhdGlvbjogb2JqLnJvdGF0aW9uIHx8IDAsXHJcbiAgICBzY2FsZVg6IG9iai5zY2FsZVggfHwgMSxcclxuICAgIHNjYWxlWTogb2JqLnNjYWxlWSB8fCAxLFxyXG4gICAgZHJhZ2dhYmxlOiAhZWRpdGluZ01vZGUsXHJcbiAgICBsaXN0ZW5pbmc6ICFpc0luRWRpdE1vZGUsXHJcblxyXG4gICAgb25Nb3VzZURvd246IChlKSA9PiB7XHJcbiAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgICAgaGFzRHJhZ2dlZC5jdXJyZW50ID0gZmFsc2U7XHJcblxyXG4gICAgICBlLmN1cnJlbnRUYXJnZXQ/LmRyYWdnYWJsZSh0cnVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25Nb3VzZVVwOiAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0Py5kcmFnZ2FibGUgJiYgIWhhc0RyYWdnZWQuY3VycmVudCkge1xyXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5kcmFnZ2FibGUoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxyXG4gICAgb25UYXA6IGhhbmRsZUNsaWNrLFxyXG5cclxuICAgIG9uRHJhZ1N0YXJ0OiAoZSkgPT4ge1xyXG5cclxuICAgICAgb25EcmFnU3RhcnRQZXJzb25hbGl6YWRvPy4ob2JqLmlkLCBlKTtcclxuXHJcbiAgICAgIHdpbmRvdy5fZHJhZ0NvdW50ID0gMDtcclxuICAgICAgd2luZG93Ll9sYXN0TW91c2UgPSBudWxsO1xyXG4gICAgICB3aW5kb3cuX2xhc3RFbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgICAgIGhhc0RyYWdnZWQuY3VycmVudCA9IHRydWU7XHJcbiAgICAgIHdpbmRvdy5faXNEcmFnZ2luZyA9IHRydWU7XHJcblxyXG5cclxuICAgICAgLy8g8J+UpSBJbnRlbnRhciBkcmFnIGdydXBhbFxyXG4gICAgICBjb25zdCBmdWVHcnVwYWwgPSBzdGFydERyYWdHcnVwYWxMaWRlcihlLCBvYmopO1xyXG4gICAgICBpZiAoIWZ1ZUdydXBhbCkge1xyXG4gICAgICAgIHN0YXJ0RHJhZ0luZGl2aWR1YWwoZSwgZHJhZ1N0YXJ0UG9zKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgb25EcmFnTW92ZTogKGUpID0+IHtcclxuICAgICAgaGFzRHJhZ2dlZC5jdXJyZW50ID0gdHJ1ZTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YWdlID0gZS50YXJnZXQuZ2V0U3RhZ2UoKTtcclxuICAgICAgY29uc3QgbW91c2VQb3MgPSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKTtcclxuICAgICAgY29uc3QgZWxlbWVudFBvcyA9IHsgeDogZS50YXJnZXQueCgpLCB5OiBlLnRhcmdldC55KCkgfTtcclxuXHJcbiAgICAgIHdpbmRvdy5fbGFzdE1vdXNlID0gbW91c2VQb3M7XHJcbiAgICAgIHdpbmRvdy5fbGFzdEVsZW1lbnQgPSBlbGVtZW50UG9zO1xyXG5cclxuICAgICAgLy8g8J+UpSBEUkFHIEdSVVBBTCAtIFNPTE8gRUwgTMONREVSIFBST0NFU0FcbiAgICAgIGlmICh3aW5kb3cuX2dydXBvTGlkZXIgJiYgb2JqLmlkID09PSB3aW5kb3cuX2dydXBvTGlkZXIpIHtcbiAgICAgICAgcHJldmlld0RyYWdHcnVwYWwoZSwgb2JqLCBvbkNoYW5nZSk7XG4gICAgICAgIG9uRHJhZ01vdmVQZXJzb25hbGl6YWRvPy4oeyB4OiBlLnRhcmdldC54KCksIHk6IGUudGFyZ2V0LnkoKSB9LCBvYmouaWQpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxyXG4gICAgICAvLyDwn5SlIFNJIEVTIFNFR1VJRE9SIERFTCBHUlVQTywgTk8gUFJPQ0VTQVJcclxuICAgICAgaWYgKHdpbmRvdy5fZ3J1cG9MaWRlcikge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MgPSB3aW5kb3cuX2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MgfHwgW107XHJcbiAgICAgICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMob2JqLmlkKSAmJiBvYmouaWQgIT09IHdpbmRvdy5fZ3J1cG9MaWRlcikge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g8J+UhCBEUkFHIElORElWSURVQUwgLSBTb2xvIHNpIG5vIGhheSBkcmFnIGdydXBhbCBhY3Rpdm9cclxuICAgICAgaWYgKCF3aW5kb3cuX2dydXBvTGlkZXIpIHtcclxuICAgICAgICBwcmV2aWV3RHJhZ0luZGl2aWR1YWwoZSwgb2JqLCBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuXHJcblxyXG4gICAgb25EcmFnRW5kOiAoZSkgPT4ge1xyXG5cclxuICAgICAgd2luZG93Ll9pc0RyYWdnaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICBjb25zdCBub2RlID0gZS5jdXJyZW50VGFyZ2V0O1xyXG5cclxuICAgICAgLy8g8J+UpSBJbnRlbnRhciBkcmFnIGdydXBhbFxuICAgICAgY29uc3QgZnVlR3J1cGFsID0gZW5kRHJhZ0dydXBhbChlLCBvYmosIG9uQ2hhbmdlLCBoYXNEcmFnZ2VkKTtcbiAgICAgIGlmIChmdWVHcnVwYWwpIHtcbiAgICAgICAgb25EcmFnRW5kUGVyc29uYWxpemFkbz8uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxyXG4gICAgICAvLyDwn5SEIERSQUcgSU5ESVZJRFVBTCAobm8gY2FtYmnDsylcclxuICAgICAgZW5kRHJhZ0luZGl2aWR1YWwob2JqLCBub2RlLCBvbkNoYW5nZSwgb25EcmFnRW5kUGVyc29uYWxpemFkbywgaGFzRHJhZ2dlZCk7XHJcblxyXG5cclxuICAgIH0sXHJcblxyXG5cclxuICB9KSwgW1xyXG4gICAgb2JqLFxyXG4gICAgZWRpdGluZ01vZGUsXHJcbiAgICBpc0luRWRpdE1vZGUsXHJcbiAgICBoYW5kbGVDbGljayxcclxuICAgIG9uRHJhZ01vdmVQZXJzb25hbGl6YWRvLFxyXG4gICAgb25EcmFnU3RhcnRQZXJzb25hbGl6YWRvLFxyXG4gICAgb25EcmFnRW5kUGVyc29uYWxpemFkbyxcclxuICAgIGRyYWdTdGFydFBvcyxcclxuICAgIGhhc0RyYWdnZWQsXHJcbiAgICBvbkNoYW5nZSxcclxuICBdKTtcclxuXHJcbiAgLy8g8J+UpSBNRU1PSVpBUiBIQU5ETEVSUyBIT1ZFUlxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoIW9uSG92ZXIgfHwgd2luZG93Ll9pc0RyYWdnaW5nIHx8IGlzSW5FZGl0TW9kZSkgcmV0dXJuO1xyXG4gICAgb25Ib3ZlcihvYmouaWQpO1xyXG4gIH0sIFtvbkhvdmVyLCBvYmouaWQsIGlzSW5FZGl0TW9kZV0pO1xyXG5cclxuXHJcbiAgY29uc3QgaGFuZGxlTW91c2VMZWF2ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghb25Ib3ZlciB8fCBpc0luRWRpdE1vZGUpIHJldHVybjtcclxuICAgIG9uSG92ZXIobnVsbCk7XHJcbiAgfSwgW29uSG92ZXIsIGlzSW5FZGl0TW9kZV0pO1xyXG5cclxuICBjb25zdCByZWNhbGNHcm91cEFsaWduID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKG9iai50aXBvICE9PSBcInRleHRvXCIpIHJldHVybjtcclxuICAgIGlmICghb2JqLl9fZ3JvdXBBbGlnbiB8fCAhb2JqLl9fZ3JvdXBJZCkgcmV0dXJuO1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIG9uQ2hhbmdlICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCByZWZzID0gd2luZG93Ll9lbGVtZW50UmVmcyB8fCB7fTtcclxuICAgIGNvbnN0IGdldE9iaiA9IHdpbmRvdy5fX2dldE9iakJ5SWQgfHwgKCgpID0+IG51bGwpO1xyXG5cclxuICAgIGxldCBtYXhXID0gMDtcclxuICAgIGxldCB0aGlzVyA9IDA7XHJcblxyXG4gICAgZm9yIChjb25zdCBbaWQsIG5vZGVdIG9mIE9iamVjdC5lbnRyaWVzKHJlZnMpKSB7XHJcbiAgICAgIGNvbnN0IG8gPSBnZXRPYmooaWQpO1xyXG4gICAgICBpZiAoIW8gfHwgby50aXBvICE9PSBcInRleHRvXCIgfHwgby5fX2dyb3VwSWQgIT09IG9iai5fX2dyb3VwSWQpIGNvbnRpbnVlO1xyXG4gICAgICBjb25zdCB3ID0gbm9kZT8uZ2V0VGV4dFdpZHRoID8gTWF0aC5jZWlsKG5vZGUuZ2V0VGV4dFdpZHRoKCkpIDogMDtcclxuICAgICAgaWYgKGlkID09PSBvYmouaWQpIHRoaXNXID0gdztcclxuICAgICAgaWYgKHcgPiBtYXhXKSBtYXhXID0gdztcclxuICAgIH1cclxuICAgIGlmICghbWF4VyB8fCAhdGhpc1cpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBiYXNlWCA9IE51bWJlci5pc0Zpbml0ZShvYmouX19ncm91cE9yaWdpblgpID8gb2JqLl9fZ3JvdXBPcmlnaW5YIDogKG9iai54IHx8IDApO1xyXG4gICAgbGV0IHRhcmdldFggPSBiYXNlWDtcclxuICAgIGlmIChvYmouX19ncm91cEFsaWduID09PSBcImNlbnRlclwiKSB7XHJcbiAgICAgIHRhcmdldFggPSBiYXNlWCArIChtYXhXIC0gdGhpc1cpIC8gMjtcclxuICAgIH0gZWxzZSBpZiAob2JqLl9fZ3JvdXBBbGlnbiA9PT0gXCJyaWdodFwiKSB7XHJcbiAgICAgIHRhcmdldFggPSBiYXNlWCArIChtYXhXIC0gdGhpc1cpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChNYXRoLmFicygob2JqLnggfHwgMCkgLSB0YXJnZXRYKSA+IDAuNSkge1xyXG4gICAgICBvbkNoYW5nZShvYmouaWQsIHsgeDogdGFyZ2V0WCB9KTtcclxuICAgIH1cclxuICB9LCBbb2JqLmlkLCBvYmoueCwgb2JqLnRpcG8sIG9iai5fX2dyb3VwQWxpZ24sIG9iai5fX2dyb3VwSWQsIG9iai5fX2dyb3VwT3JpZ2luWCwgb25DaGFuZ2VdKTtcclxuXHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIFJlY2FsY3VsYXIgY3VhbmRvIGVzdGUgdGV4dG8gY2FtYmlhIHkgdHJhcyBtb250YXIgc3VzIHZlY2lub3NcclxuICAgIGxldCByMSwgcjI7XHJcbiAgICByMSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIHIyID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICByZWNhbGNHcm91cEFsaWduKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAocjEpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHIxKTtcclxuICAgICAgaWYgKHIyKSBjYW5jZWxBbmltYXRpb25GcmFtZShyMik7XHJcbiAgICB9O1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xyXG4gIH0sIFtyZWNhbGNHcm91cEFsaWduLCBvYmoudGV4dG8sIG9iai5mb250RmFtaWx5LCBvYmouZm9udFNpemUsIG9iai5mb250U3R5bGUsIG9iai5mb250V2VpZ2h0XSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW9iaiB8fCBvYmoudGlwbyAhPT0gXCJ0ZXh0b1wiKSByZXR1cm47XHJcbiAgICBpZiAob2JqLl9fZ3JvdXBBbGlnbikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGlzQXV0b1dpZHRoID0gIW9iai53aWR0aCAmJiBvYmouX19hdXRvV2lkdGggIT09IGZhbHNlO1xyXG4gICAgaWYgKCFpc0F1dG9XaWR0aCkgcmV0dXJuO1xyXG5cclxuICAgIGxldCByYWYxID0gbnVsbDtcclxuICAgIGxldCByYWYyID0gbnVsbDtcclxuXHJcbiAgICByYWYxID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgcmFmMiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRleHROb2RlUmVmLmN1cnJlbnQ7XHJcbiAgICAgICAgaWYgKCFub2RlIHx8IHR5cGVvZiBub2RlLmdldFRleHRXaWR0aCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHdSZWFsID0gTWF0aC5jZWlsKG5vZGUuZ2V0VGV4dFdpZHRoKCkgfHwgMCk7XHJcbiAgICAgICAgaWYgKHdSZWFsID4gMCkgc2V0TWVhc3VyZWRUZXh0V2lkdGgod1JlYWwpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChyYWYxKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYxKTtcclxuICAgICAgaWYgKHJhZjIpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZjIpO1xyXG4gICAgfTtcclxuICB9LCBbXHJcbiAgICBvYmo/LmlkLFxyXG4gICAgb2JqPy50ZXh0byxcclxuICAgIG9iaj8uZm9udEZhbWlseSxcclxuICAgIG9iaj8uZm9udFNpemUsXHJcbiAgICBvYmo/LmZvbnRTdHlsZSxcclxuICAgIG9iaj8uZm9udFdlaWdodCxcclxuICAgIG9iaj8ubGluZUhlaWdodCxcclxuICAgIG9iaj8ud2lkdGgsXHJcbiAgICBvYmo/Ll9fYXV0b1dpZHRoLFxyXG4gICAgb2JqPy5fX2dyb3VwQWxpZ24sXHJcbiAgXSk7XHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldE1lYXN1cmVkVGV4dFdpZHRoKG51bGwpO1xyXG4gICAgLy8gdGFtYmnDqW4gY29udmllbmUgcmVzZXRlYXIgZWwgbGF5b3V0IGJhc2UgY3VhbmRvIGNhbWJpYSBkZSB0ZXh0b1xyXG4gICAgaWYgKG9iaj8udGlwbyA9PT0gXCJ0ZXh0b1wiKSBiYXNlVGV4dExheW91dFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICB9LCBbb2JqPy5pZF0pO1xyXG5cclxuXHJcblxyXG4gIGNvbnN0IGdyb3VwUmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gQ2FjaGVhciBjdWFuZG8gY2FtYmllIGVsIGNvbG9yXHJcbiAgICBpZiAoZ3JvdXBSZWYuY3VycmVudCAmJiBvYmoudGlwbyA9PT0gXCJpY29ub1wiICYmIG9iai5jb2xvciAmJiBvYmouY29sb3IgIT09IFwiIzAwMDAwMFwiKSB7XHJcbiAgICAgIGdyb3VwUmVmLmN1cnJlbnQuY2FjaGUoKTtcclxuICAgICAgZ3JvdXBSZWYuY3VycmVudC5nZXRMYXllcigpPy5iYXRjaERyYXcoKTtcclxuICAgIH1cclxuICB9LCBbb2JqLmNvbG9yLCBvYmouaWRdKTtcclxuXHJcblxyXG4gIC8vIENvbnZpZXJ0ZSBcIm1pblggbWluWSB3aWR0aCBoZWlnaHRcIiAtPiBuw7ptZXJvc1xyXG4gIGZ1bmN0aW9uIHBhcnNlVmlld0JveCh2Yikge1xyXG4gICAgaWYgKCF2YiB8fCB0eXBlb2YgdmIgIT09IFwic3RyaW5nXCIpIHJldHVybiBudWxsO1xyXG4gICAgY29uc3QgcGFydHMgPSB2Yi50cmltKCkuc3BsaXQoL1xccysvKS5tYXAoTnVtYmVyKTtcclxuICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDQgfHwgcGFydHMuc29tZSgobikgPT4gTnVtYmVyLmlzTmFOKG4pKSkgcmV0dXJuIG51bGw7XHJcbiAgICBjb25zdCBbbWluWCwgbWluWSwgdmJXaWR0aCwgdmJIZWlnaHRdID0gcGFydHM7XHJcbiAgICByZXR1cm4geyBtaW5YLCBtaW5ZLCB2YldpZHRoLCB2YkhlaWdodCB9O1xyXG4gIH1cclxuXHJcblxyXG4gIGlmIChvYmoudGlwbyA9PT0gXCJmb3JtYVwiICYmIG9iai5maWd1cmEgPT09IFwibGluZVwiKSB7XHJcbiAgICBsZXQgbGluZVBvaW50cyA9IG9iai5wb2ludHM7XHJcbiAgICBsZXQgcG9pbnRzRml4ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoIWxpbmVQb2ludHMgfHwgIUFycmF5LmlzQXJyYXkobGluZVBvaW50cykgfHwgbGluZVBvaW50cy5sZW5ndGggPCA0KSB7XHJcbiAgICAgIGxpbmVQb2ludHMgPSBbMCwgMCwgTElORV9DT05TVEFOVFMuREVGQVVMVF9MRU5HVEgsIDBdOyAvLyBVc2FyIGNvbnN0YW50ZVxyXG4gICAgICBwb2ludHNGaXhlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBwdW50b3NWYWxpZGFkb3MgPSBbXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICBjb25zdCBwdW50byA9IHBhcnNlRmxvYXQobGluZVBvaW50c1tpXSk7XHJcbiAgICAgICAgcHVudG9zVmFsaWRhZG9zLnB1c2goaXNOYU4ocHVudG8pID8gMCA6IHB1bnRvKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHB1bnRvc1ZhbGlkYWRvcykgIT09IEpTT04uc3RyaW5naWZ5KGxpbmVQb2ludHMuc2xpY2UoMCwgNCkpKSB7XHJcbiAgICAgICAgbGluZVBvaW50cyA9IHB1bnRvc1ZhbGlkYWRvcztcclxuICAgICAgICBwb2ludHNGaXhlZCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGluZVBvaW50cyA9IGxpbmVQb2ludHMuc2xpY2UoMCwgNCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAocG9pbnRzRml4ZWQgJiYgaGFuZGxlQ2hhbmdlKSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGhhbmRsZUNoYW5nZShvYmouaWQsIHtcclxuICAgICAgICAgIHBvaW50czogbGluZVBvaW50cyxcclxuICAgICAgICAgIGZyb21BdXRvRml4OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sIDApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TGluZVxyXG4gICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICByZWY9e2hhbmRsZVJlZn1cclxuICAgICAgICBwb2ludHM9e2xpbmVQb2ludHN9XHJcbiAgICAgICAgb25Nb3VzZUVudGVyPXtoYW5kbGVNb3VzZUVudGVyfVxyXG4gICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VMZWF2ZX1cclxuICAgICAgICBzdHJva2U9e29iai5jb2xvciB8fCBMSU5FX0NPTlNUQU5UUy5ERUZBVUxUX0NPTE9SfVxyXG4gICAgICAgIHN0cm9rZVdpZHRoPXtvYmouc3Ryb2tlV2lkdGggfHwgTElORV9DT05TVEFOVFMuU1RST0tFX1dJRFRIfVxyXG4gICAgICAgIHRlbnNpb249ezB9XHJcbiAgICAgICAgbGluZUNhcD1cInJvdW5kXCJcclxuICAgICAgICBsaW5lSm9pbj1cInJvdW5kXCJcclxuICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgIGhpdFN0cm9rZVdpZHRoPXtNYXRoLm1heChMSU5FX0NPTlNUQU5UUy5ISVRfU1RST0tFX1dJRFRILCBvYmouc3Ryb2tlV2lkdGggfHwgMil9XHJcbiAgICAgICAgc2hhZG93Rm9yU3Ryb2tlRW5hYmxlZD17ZmFsc2V9XHJcbiAgICAgICAgb3BhY2l0eT17aXNTZWxlY3RlZCA/IDEgOiAwLjk1fVxyXG4gICAgICAgIHNoYWRvd0NvbG9yPXtpc1NlbGVjdGVkID8gXCJyZ2JhKDExOSwgNjEsIDE5MCwgMC4zKVwiIDogXCJ0cmFuc3BhcmVudFwifVxyXG4gICAgICAgIHNoYWRvd0JsdXI9e2lzU2VsZWN0ZWQgPyA4IDogMH1cclxuICAgICAgICBzaGFkb3dPZmZzZXQ9e3sgeDogMCwgeTogMiB9fVxyXG4gICAgICAvPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG5cclxuICBpZiAob2JqLnRpcG8gPT09IFwidGV4dG9cIikge1xyXG4gICAgY29uc3QgdmlzaWJpbGl0eU1vZGUgPVxyXG4gICAgICBpbmxpbmVWaXNpYmlsaXR5TW9kZSA9PT0gXCJ3aW5kb3dcIiA/IFwid2luZG93XCIgOiBcInJlYWN0aXZlXCI7XHJcbiAgICBjb25zdCBpc0VkaXRpbmdCeVdpbmRvdyA9IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA9PT0gb2JqLmlkO1xyXG4gICAgY29uc3QgaXNFZGl0aW5nQnlSZWFjdGl2ZSA9IGVkaXRpbmdJZCA9PT0gb2JqLmlkO1xyXG4gICAgY29uc3Qgb3ZlcmxheURvbVByZXNlbnRMb29zZSA9ICgoKSA9PiB7XHJcbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBmYWxzZTtcclxuICAgICAgY29uc3Qgc2FmZUlkID0gU3RyaW5nKG9iai5pZCkucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xyXG4gICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pbmxpbmUtZWRpdG9yLWlkPVwiJHtzYWZlSWR9XCJdYCkpO1xyXG4gICAgfSkoKTtcclxuICAgIGNvbnN0IG92ZXJsYXlEb21QcmVzZW50ID1cclxuICAgICAgaW5saW5lT3ZlcmxheU1vdW50ZWRJZCA9PT0gb2JqLmlkICYmIG92ZXJsYXlEb21QcmVzZW50TG9vc2U7XHJcbiAgICBjb25zdCBpc0VkaXRpbmdCeU92ZXJsYXkgPSBvdmVybGF5RG9tUHJlc2VudDtcclxuICAgIGNvbnN0IGlzRWRpdGluZyA9XHJcbiAgICAgIHZpc2liaWxpdHlNb2RlID09PSBcInJlYWN0aXZlXCJcclxuICAgICAgICA/IChpc0VkaXRpbmdCeVJlYWN0aXZlIHx8IGlzRWRpdGluZ0J5T3ZlcmxheSlcclxuICAgICAgICA6IChpc0VkaXRpbmdCeVdpbmRvdyB8fCBpc0VkaXRpbmdCeVJlYWN0aXZlIHx8IGlzRWRpdGluZ0J5T3ZlcmxheSk7XHJcbiAgICBjb25zdCBmb250RmFtaWx5ID0gb2JqLmZvbnRGYW1pbHkgfHwgXCJzYW5zLXNlcmlmXCI7XHJcbiAgICBjb25zdCBhbGlnbiA9IChvYmouYWxpZ24gfHwgXCJsZWZ0XCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBmaWxsQ29sb3IgPSBvYmouY29sb3JUZXh0byA/PyBvYmouZmlsbCA/PyBvYmouY29sb3IgPz8gXCIjMDAwXCI7XHJcbiAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XHJcbiAgICAgIHR5cGVvZiBvYmoubGluZUhlaWdodCA9PT0gXCJudW1iZXJcIiAmJiBvYmoubGluZUhlaWdodCA+IDAgPyBvYmoubGluZUhlaWdodCA6IDEuMjtcclxuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBiYXNlTGluZUhlaWdodCAqIDAuOTI7XHJcblxyXG5cclxuICAgIC8vIOKchSBFdml0YSBiYm94IHNvYnJhZG8gYSBsYSBkZXJlY2hhIHBvciBlc3BhY2lvcy90YWJzIGludmlzaWJsZXMgYWwgZmluYWwgZGUgbMOtbmVhXHJcbiAgICBjb25zdCByYXdUZXh0ID0gU3RyaW5nKG9iai50ZXh0byA/PyBcIlwiKTtcclxuICAgIGNvbnN0IHNhZmVUZXh0ID0gcmF3VGV4dC5yZXBsYWNlKC9bIFxcdF0rJC9nbSwgXCJcIik7XHJcblxyXG5cclxuICAgIC8vIOKchSBWQUxJREFDScOTTjogQXNlZ3VyYXIgdmFsb3JlcyBudW3DqXJpY29zIHbDoWxpZG9zXHJcbiAgICBjb25zdCB2YWxpZFggPSB0eXBlb2Ygb2JqLnggPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKG9iai54KSA/IG9iai54IDogMDtcclxuICAgIGNvbnN0IHZhbGlkWSA9IHR5cGVvZiBvYmoueSA9PT0gXCJudW1iZXJcIiAmJiAhaXNOYU4ob2JqLnkpID8gb2JqLnkgOiAwO1xyXG4gICAgY29uc3QgdmFsaWRGb250U2l6ZSA9IG5vcm1hbGl6ZUZvbnRTaXplKG9iai5mb250U2l6ZSwgMjQpO1xyXG4gICAgY29uc3QgdGV4dERlY29yYXRpb24gPVxyXG4gICAgICB0eXBlb2Ygb2JqLnRleHREZWNvcmF0aW9uID09PSBcInN0cmluZ1wiICYmIG9iai50ZXh0RGVjb3JhdGlvbi50cmltKCkubGVuZ3RoID4gMFxyXG4gICAgICAgID8gb2JqLnRleHREZWNvcmF0aW9uXHJcbiAgICAgICAgOiBcIm5vbmVcIjtcclxuXHJcbiAgICAvLyDwn5S5IFBBU08gMTogQ2FsY3VsYXIgZGltZW5zaW9uZXMgZGVsIHRleHRvIFBSSU1FUk9cclxuICAgIGNvbnN0IGN0eCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgY29uc3Qgc3R5bGUgPSBvYmouZm9udFN0eWxlIHx8IFwibm9ybWFsXCI7XHJcbiAgICBjb25zdCB3ZWlnaHQgPSBvYmouZm9udFdlaWdodCB8fCBcIm5vcm1hbFwiO1xyXG4gICAgY29uc3Qga29udmFGb250U3R5bGUgPSByZXNvbHZlS29udmFGb250U3R5bGUoc3R5bGUsIHdlaWdodCk7XHJcblxyXG4gICAgLy8g4pyFIHNpIGxhIGZ1ZW50ZSB0aWVuZSBlc3BhY2lvcywgZW52b2x2ZXJsYSBlbiBjb21pbGxhcyBwYXJhIHF1ZSBjYW52YXMgbm8gY2FpZ2EgYSBmYWxsYmFja1xyXG4gICAgY29uc3QgZm9udEZvckNhbnZhcyA9IGZvbnRGYW1pbHkuaW5jbHVkZXMoXCIsXCIpXHJcbiAgICAgID8gZm9udEZhbWlseVxyXG4gICAgICA6ICgvXFxzLy50ZXN0KGZvbnRGYW1pbHkpID8gYFwiJHtmb250RmFtaWx5fVwiYCA6IGZvbnRGYW1pbHkpO1xyXG5cclxuICAgIC8vIOKchSBvcmRlbiBjb3JyZWN0bzogc3R5bGUgLT4gd2VpZ2h0IC0+IHNpemUgLT4gZmFtaWx5XHJcbiAgICBjdHguZm9udCA9IGAke3N0eWxlfSAke3dlaWdodH0gJHt2YWxpZEZvbnRTaXplfXB4ICR7Zm9udEZvckNhbnZhc31gO1xyXG5cclxuICAgIGNvbnN0IGxpbmVzID0gc2FmZVRleHQuc3BsaXQoL1xccj9cXG4vKTtcclxuICAgIGNvbnN0IG1heExpbmVXaWR0aCA9IE1hdGgubWF4KC4uLmxpbmVzLm1hcChsaW5lID0+IGN0eC5tZWFzdXJlVGV4dChsaW5lKS53aWR0aCksIDIwKTtcclxuICAgIGNvbnN0IG51bUxpbmVzID0gbGluZXMubGVuZ3RoO1xyXG4gICAgY29uc3QgdGV4dFdpZHRoID0gTWF0aC5jZWlsKG1heExpbmVXaWR0aCk7XHJcbiAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gdmFsaWRGb250U2l6ZSAqIGxpbmVIZWlnaHQgKiBudW1MaW5lcztcclxuXHJcbiAgICAvLyDwn5S5IFBBU08gMjogQ2FsY3VsYXIgcG9zaWNpw7NuIHNvbG8gdW5hIHZleiB5IGNvbmdlbGFyIGVsIGNlbnRyb1xyXG4gICAgbGV0IHBvc2l0aW9uUmF3ID0gZ2V0Q2VudGVyZWRUZXh0UG9zaXRpb24oe1xyXG4gICAgICByZWN0WTogdmFsaWRZLFxyXG4gICAgICByZWN0SGVpZ2h0OiB0ZXh0SGVpZ2h0LFxyXG4gICAgICBmb250U2l6ZTogdmFsaWRGb250U2l6ZSxcclxuICAgICAgZm9udEZhbWlseSxcclxuICAgICAgZm9udFdlaWdodDogb2JqLmZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIixcclxuICAgICAgZm9udFN0eWxlOiBvYmouZm9udFN0eWxlIHx8IFwibm9ybWFsXCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJbmljaWFsaXphciBsYXlvdXQgYmFzZSBzb2xvIGxhIFBSSU1FUkEgdmV6XHJcbiAgICBpZiAoIWJhc2VUZXh0TGF5b3V0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgYmFzZVRleHRMYXlvdXRSZWYuY3VycmVudCA9IHtcclxuICAgICAgICAvLyBjZW50cm8gdmVydGljYWwgXCJpZGVhbFwiIHF1ZSBxdWVyZW1vcyBjb25zZXJ2YXJcclxuICAgICAgICByZWN0Q2VudGVyOiBwb3NpdGlvblJhdy5yZWN0Q2VudGVyLFxyXG4gICAgICAgIC8vIG9mZnNldCBkZXNkZSBlbCBjZW50cm8gYWwgYmFzZWxpbmUgKGRlcGVuZGUgc29sbyBkZSBsYSBmdWVudGUvdGFtYcOxbylcclxuICAgICAgICBiYXNlbGluZVRvQ2VudGVyOiBwb3NpdGlvblJhdy5iYXNlbGluZSAtIHBvc2l0aW9uUmF3LnJlY3RDZW50ZXIsXHJcbiAgICAgICAgYXNjZW50OiBwb3NpdGlvblJhdy5hc2NlbnQsXHJcbiAgICAgICAgZGVzY2VudDogcG9zaXRpb25SYXcuZGVzY2VudCxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBiYXNlID0gYmFzZVRleHRMYXlvdXRSZWYuY3VycmVudDtcclxuICAgIGNvbnN0IHJlY3RDZW50ZXJGaXhlZCA9IGJhc2UucmVjdENlbnRlcjtcclxuICAgIGNvbnN0IGJhc2VsaW5lWSA9IHJlY3RDZW50ZXJGaXhlZCArIGJhc2UuYmFzZWxpbmVUb0NlbnRlcjtcclxuICAgIGNvbnN0IHRleHRUb3BGaXhlZCA9IGJhc2VsaW5lWSAtIGJhc2UuYXNjZW50O1xyXG5cclxuICAgIGNvbnN0IHBvc2l0aW9uID0ge1xyXG4gICAgICBiYXNlbGluZTogYmFzZWxpbmVZLFxyXG4gICAgICB0ZXh0VG9wOiB0ZXh0VG9wRml4ZWQsXHJcbiAgICAgIGFzY2VudDogYmFzZS5hc2NlbnQsXHJcbiAgICAgIGRlc2NlbnQ6IGJhc2UuZGVzY2VudCxcclxuICAgICAgcmVjdENlbnRlcjogcmVjdENlbnRlckZpeGVkLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyDwn5SNIERlYnVnOiBpbmZvcm1hY2nDs24gY29tcGxldGEgZGUgcG9zaWNpw7NuIHkgY2VudHJhZG9cclxuXHJcblxyXG4gICAgLy8g4pqg77iPIFdhcm5pbmcgc2kgaGF5IHZhbG9yZXMgaW52w6FsaWRvc1xyXG4gICAgaWYgKG9iai54ICE9PSB2YWxpZFggfHwgb2JqLnkgIT09IHZhbGlkWSB8fCBvYmouZm9udFNpemUgIT09IHZhbGlkRm9udFNpemUpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwi4pqg77iPIE9iamV0byBkZSB0ZXh0byB0aWVuZSB2YWxvcmVzIGludsOhbGlkb3M6XCIsIHtcclxuICAgICAgICBpZDogb2JqLmlkLFxyXG4gICAgICAgIHg6IG9iai54LFxyXG4gICAgICAgIHk6IG9iai55LFxyXG4gICAgICAgIGZvbnRTaXplOiBvYmouZm9udFNpemUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICAgICBjb25zdCBBTkNIT19DQU5WQVMgPSA4MDA7XHJcbiAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IE1hdGgubWF4KDEsIEFOQ0hPX0NBTlZBUyAtIHZhbGlkWCk7XHJcblxyXG4gICAgLy8gYW5jaG8gcmVhbCBkZWwgdGV4dG8gKG3DoXhpbWEgbMOtbmVhLCBzZWfDum4gdHUgY8OhbGN1bG8gYWN0dWFsKVxyXG4gICAgY29uc3QgcmVhbFRleHRXaWR0aCA9IE1hdGgubWF4KDEsIHRleHRXaWR0aCk7XHJcblxyXG4gICAgLy8g4pyFIFNpIGVudHJhLCBOTyB1c2Ftb3Mgd2lkdGggKGJvdW5kcyBhanVzdGFkbylcclxuICAgIC8vIOKchSBTaSBubyBlbnRyYSwgdXNhbW9zIHdpZHRoPWF2YWlsYWJsZSB5IHdyYXAgcG9yIGNhcmFjdGVyZXMgcGFyYSBjb3J0YXIgZW4gZWwgYm9yZGVcclxuICAgIGNvbnN0IHNob3VsZFdyYXBUb0NhbnZhc0VkZ2UgPSByZWFsVGV4dFdpZHRoID4gYXZhaWxhYmxlV2lkdGg7XHJcblxyXG4gICAgY29uc3Qgd3JhcFRvVXNlID0gc2hvdWxkV3JhcFRvQ2FudmFzRWRnZSA/IFwiY2hhclwiIDogXCJub25lXCI7XHJcbiAgICBjb25zdCB3aWR0aFRvVXNlID0gc2hvdWxkV3JhcFRvQ2FudmFzRWRnZSA/IGF2YWlsYWJsZVdpZHRoIDogdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgaW5saW5lQ2FyZXRPbmx5TW9kZSA9IHRydWU7XHJcbiAgICBjb25zdCBhcHBsaWVkT3BhY2l0eSA9XHJcbiAgICAgIGlzRWRpdGluZyAmJiAhaW5saW5lQ2FyZXRPbmx5TW9kZSA/IDAgOiAxO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDw+XHJcbiAgICAgICAgPFRleHRcclxuICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICAgIHJlZj17KG5vZGUpID0+IHtcclxuICAgICAgICAgICAgdGV4dE5vZGVSZWYuY3VycmVudCA9IG5vZGU7XHJcbiAgICAgICAgICAgIGhhbmRsZVJlZihub2RlKTsgLy8gcmVnaXN0cmEgKyBkaXNwYXJhIFwiZWxlbWVudC1yZWYtcmVnaXN0cmFkb1wiXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Nb3VzZUVudGVyPXtoYW5kbGVNb3VzZUVudGVyfVxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxyXG4gICAgICAgICAgdGV4dD17c2FmZVRleHR9XHJcbiAgICAgICAgICB4PXt2YWxpZFh9XHJcbiAgICAgICAgICB5PXtvYmoueX1cclxuICAgICAgICAgIHdyYXA9e3dyYXBUb1VzZX1cclxuICAgICAgICAgIHdpZHRoPXt3aWR0aFRvVXNlfVxyXG4gICAgICAgICAgYWxpZ249e2FsaWdufVxyXG4gICAgICAgICAgZm9udFNpemU9e3ZhbGlkRm9udFNpemV9XHJcbiAgICAgICAgICBmb250RmFtaWx5PXtmb250RmFtaWx5fVxyXG4gICAgICAgICAgZm9udFdlaWdodD17b2JqLmZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIn1cclxuICAgICAgICAgIGZvbnRTdHlsZT17a29udmFGb250U3R5bGV9XHJcbiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbj17dGV4dERlY29yYXRpb259XHJcbiAgICAgICAgICBsaW5lSGVpZ2h0PXtsaW5lSGVpZ2h0fVxyXG4gICAgICAgICAgZmlsbD17ZmlsbENvbG9yfVxyXG4gICAgICAgICAgb3BhY2l0eT17YXBwbGllZE9wYWNpdHl9XHJcbiAgICAgICAgICB2ZXJ0aWNhbEFsaWduPVwidG9wXCJcclxuICAgICAgICAvPlxyXG5cclxuXHJcbiAgICAgIDwvPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmIChvYmoudGlwbyA9PT0gXCJyc3ZwLWJvdG9uXCIpIHtcclxuICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBvYmouZm9udEZhbWlseSB8fCBcInNhbnMtc2VyaWZcIjtcclxuXHJcbiAgICBjb25zdCB3aWR0aCA9IG9iai5hbmNobyB8fCAyMDA7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBvYmouYWx0byB8fCA1MDtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8PlxyXG4gICAgICAgIHsvKiDwn5+jIEJvdMOzbiAoZm9uZG8pICovfVxyXG4gICAgICAgIDxSZWN0XHJcbiAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XHJcbiAgICAgICAgICB3aWR0aD17d2lkdGh9XHJcbiAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgICAgICAgIGNvcm5lclJhZGl1cz17OH1cclxuICAgICAgICAgIGZpbGw9e29iai5jb2xvciB8fCBcIiM3NzNkYmVcIn1cclxuICAgICAgICAgIHN0cm9rZT17aXNTZWxlY3RlZCB8fCBwcmVTZWxlY2Npb25hZG8gPyBcIiM3NzNkYmVcIiA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgIHN0cm9rZVdpZHRoPXtpc1NlbGVjdGVkIHx8IHByZVNlbGVjY2lvbmFkbyA/IDIgOiAwfVxyXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBvblNlbGVjdD8uKG9iai5pZCwgb2JqLCBlKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbkRyYWdNb3ZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBudWV2YVBvcyA9IGUudGFyZ2V0LnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRvTm9kZSA9IHdpbmRvdy5fZWxlbWVudFJlZnM/LltgJHtvYmouaWR9LXRleHRgXTtcclxuICAgICAgICAgICAgaWYgKHRleHRvTm9kZSkge1xyXG4gICAgICAgICAgICAgIHRleHRvTm9kZS54KG51ZXZhUG9zLngpO1xyXG4gICAgICAgICAgICAgIHRleHRvTm9kZS55KG51ZXZhUG9zLnkpO1xyXG4gICAgICAgICAgICAgIHRleHRvTm9kZS5nZXRMYXllcigpPy5iYXRjaERyYXcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAvPlxyXG5cclxuICAgICAgICB7Lyog8J+UpCBUZXh0byBlbmNpbWEgZGVsIGJvdMOzbiAqL31cclxuICAgICAgICA8VGV4dFxyXG4gICAgICAgICAgcmVmPXsobm9kZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVnaXN0ZXJSZWYpIHtcclxuICAgICAgICAgICAgICByZWdpc3RlclJlZihgJHtvYmouaWR9LXRleHRgLCBub2RlIHx8IG51bGwpOyAvLyBzaSBxdWVyw6lzIG1hbmlwdWxhciBlbCB0ZXh0byBhcGFydGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHg9e29iai54fVxyXG4gICAgICAgICAgeT17b2JqLnl9XHJcbiAgICAgICAgICB3aWR0aD17d2lkdGh9XHJcbiAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgICAgICAgIHRleHQ9e29iai50ZXh0byB8fCBcIkNvbmZpcm1hciBhc2lzdGVuY2lhXCJ9XHJcbiAgICAgICAgICBmb250U2l6ZT17bm9ybWFsaXplRm9udFNpemUob2JqLmZvbnRTaXplLCAxOCl9XHJcbiAgICAgICAgICBmb250RmFtaWx5PXtmb250RmFtaWx5fVxyXG4gICAgICAgICAgZm9udFN0eWxlPXtyZXNvbHZlS29udmFGb250U3R5bGUob2JqLmZvbnRTdHlsZSB8fCBcIm5vcm1hbFwiLCBvYmouZm9udFdlaWdodCB8fCBcImJvbGRcIil9XHJcbiAgICAgICAgICBmb250V2VpZ2h0PXtvYmouZm9udFdlaWdodCB8fCBcImJvbGRcIn1cclxuICAgICAgICAgIHRleHREZWNvcmF0aW9uPXtvYmoudGV4dERlY29yYXRpb24gfHwgXCJub25lXCJ9XHJcbiAgICAgICAgICBmaWxsPXtvYmouY29sb3JUZXh0byB8fCBcIiNmZmZmZmZcIn1cclxuICAgICAgICAgIGFsaWduPXtvYmouYWxpZ24gfHwgXCJjZW50ZXJcIn1cclxuICAgICAgICAgIHZlcnRpY2FsQWxpZ249XCJtaWRkbGVcIlxyXG4gICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgIG9wYWNpdHk9e2lzSW5FZGl0TW9kZSA/IDAgOiAxfVxyXG4gICAgICAgIC8+XHJcblxyXG4gICAgICA8Lz5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGlmIChvYmoudGlwbyA9PT0gXCJpbWFnZW5cIiAmJiBpbWcpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxLb252YUltYWdlXHJcbiAgICAgICAgey4uLmNvbW1vblByb3BzfVxyXG4gICAgICAgIHJlZj17aGFuZGxlUmVmfVxyXG4gICAgICAgIGlkPXtvYmouaWR9XHJcbiAgICAgICAgaW1hZ2U9e2ltZ31cclxuICAgICAgICBjcm9zc09yaWdpbj1cImFub255bW91c1wiXHJcbiAgICAgICAgd2lkdGg9e29iai53aWR0aCB8fCBpbWcud2lkdGh9XHJcbiAgICAgICAgaGVpZ2h0PXtvYmouaGVpZ2h0IHx8IGltZy5oZWlnaHR9XHJcbiAgICAgICAgb25Nb3VzZUVudGVyPXtoYW5kbGVNb3VzZUVudGVyfVxyXG4gICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VMZWF2ZX1cclxuICAgICAgICBzdHJva2U9e2lzU2VsZWN0ZWQgfHwgcHJlU2VsZWNjaW9uYWRvID8gXCIjNzczZGJlXCIgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgc3Ryb2tlV2lkdGg9e2lzU2VsZWN0ZWQgfHwgcHJlU2VsZWNjaW9uYWRvID8gMSA6IDB9XHJcbiAgICAgIC8+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0gSUNPTk8gU1ZHICh0aXBvOlwiaWNvbm9cIiwgZm9ybWF0bzpcInN2Z1wiKSDigJQgQ09OIEhJVEJPWCBGVU5DSU9OQUwgLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4gIGlmIChvYmoudGlwbyA9PT0gXCJpY29ub1wiICYmIG9iai5mb3JtYXRvID09PSBcInN2Z1wiKSB7XG4gICAgY29uc3QgY29sb3IgPSBvYmouY29sb3IgfHwgXCIjMDAwMDAwXCI7XG4gICAgY29uc3QgcGF0aHMgPSBBcnJheS5pc0FycmF5KG9iai5wYXRocykgPyBvYmoucGF0aHMgOiBbXTtcbiAgICBjb25zdCBXID0gTnVtYmVyKG9iai53aWR0aCkgfHwgMTI4O1xuICAgIGNvbnN0IEggPSBOdW1iZXIob2JqLmhlaWdodCkgfHwgMTI4O1xuICAgIGNvbnN0IHZiID0gcGFyc2VWaWV3Qm94KG9iai52aWV3Qm94KSB8fCB7IG1pblg6IDAsIG1pblk6IDAsIHZiV2lkdGg6IDEwMCwgdmJIZWlnaHQ6IDEwMCB9O1xuICAgIGNvbnN0IHNob3dJY29uU2VsZWN0aW9uRnJhbWUgPSAoaXNTZWxlY3RlZCB8fCBwcmVTZWxlY2Npb25hZG8pICYmIHNlbGVjdGlvbkNvdW50IDw9IDE7XG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxHcm91cFxyXG4gICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICByZWY9e2hhbmRsZVJlZn1cclxuICAgICAgICBvbk1vdXNlRW50ZXI9e2hhbmRsZU1vdXNlRW50ZXJ9XHJcbiAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxyXG4gICAgICAgIHdpZHRoPXtXfVxyXG4gICAgICAgIGhlaWdodD17SH1cclxuICAgICAgPlxyXG4gICAgICAgIHsvKiDwn5SlIEhJVEJPWCBJTlZJU0lCTEUgLSBTT0xPIHBhcmEgZXZlbnRvcyBkZSBkcmFnL2NsaWNrICovfVxyXG4gICAgICAgIDxSZWN0XHJcbiAgICAgICAgICB4PXswfVxyXG4gICAgICAgICAgeT17MH1cclxuICAgICAgICAgIHdpZHRoPXtXfVxyXG4gICAgICAgICAgaGVpZ2h0PXtIfVxyXG4gICAgICAgICAgZmlsbD1cInJnYmEoMCwwLDAsMC4wMDEpXCIgIC8vIENhc2kgdHJhbnNwYXJlbnRlIHBlcm8gY2xpY2tlYWJsZVxyXG4gICAgICAgICAgc3Ryb2tlPVwidHJhbnNwYXJlbnRcIiAgICAgIC8vIFNpbiBib3JkZVxyXG4gICAgICAgICAgbGlzdGVuaW5nPXt0cnVlfSAgICAgICAgICAvLyBERUJFIHJlY2liaXIgZXZlbnRvc1xyXG4gICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cclxuICAgICAgICAvPlxyXG5cclxuICAgICAgICB7LyogQ29udGVuaWRvIFNWRyB2aXN1YWwgLSBOTyBtYW5lamEgZXZlbnRvcyAqL31cclxuICAgICAgICB7cGF0aHMubWFwKChwLCBpKSA9PiAoXHJcbiAgICAgICAgICA8UGF0aFxyXG4gICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgIGRhdGE9e3AuZH1cclxuICAgICAgICAgICAgZmlsbD17Y29sb3J9XHJcbiAgICAgICAgICAgIHNjYWxlWD17VyAvIHZiLnZiV2lkdGh9XHJcbiAgICAgICAgICAgIHNjYWxlWT17SCAvIHZiLnZiSGVpZ2h0fVxyXG4gICAgICAgICAgICB4PXstdmIubWluWCAqIChXIC8gdmIudmJXaWR0aCl9XHJcbiAgICAgICAgICAgIHk9ey12Yi5taW5ZICogKEggLyB2Yi52YkhlaWdodCl9XHJcbiAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9ICAgICAgICAvLyBOTyBtYW5lamEgZXZlbnRvc1xyXG4gICAgICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApKX1cclxuXHJcbiAgICAgICAgey8qIE1hcmNvIGRlIHNlbGVjY2nDs24gdmlzdWFsICovfVxyXG4gICAgICAgIHtzaG93SWNvblNlbGVjdGlvbkZyYW1lICYmIChcbiAgICAgICAgICA8UmVjdFxuICAgICAgICAgICAgeD17MH1cbiAgICAgICAgICAgIHk9ezB9XG4gICAgICAgICAgICB3aWR0aD17V31cbiAgICAgICAgICAgIGhlaWdodD17SH1cclxuICAgICAgICAgICAgc3Ryb2tlPVwiIzc3M2RiZVwiXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsxfVxyXG4gICAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfSAgICAgICAgLy8gU29sbyB2aXN1YWxcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9Hcm91cD5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyogLS0tLS0tLS0tLS0tLS0tLSBJQ09OTyBSQVNURVIgKFBORy9KUEcvV0VCUCkg4oCTIHNpbiByZWNvbG9yIC0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICBpZiAob2JqLnRpcG8gPT09IFwiaWNvbm9cIiAmJiAob2JqLmZvcm1hdG8gPT09IFwicG5nXCIgfHwgb2JqLmZvcm1hdG8gPT09IFwianBnXCIgfHwgb2JqLmZvcm1hdG8gPT09IFwid2VicFwiKSkge1xyXG4gICAgY29uc3QgW2ltZ10gPSB1c2VJbWFnZShvYmoudXJsLCBcImFub255bW91c1wiKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8S29udmFJbWFnZVxyXG4gICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICByZWY9e2hhbmRsZVJlZn1cclxuICAgICAgICBpbWFnZT17aW1nfVxyXG4gICAgICAgIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCJcclxuICAgICAgICB3aWR0aD17b2JqLndpZHRoIHx8IChpbWc/LndpZHRoID8/IDEyMCl9XHJcbiAgICAgICAgaGVpZ2h0PXtvYmouaGVpZ2h0IHx8IChpbWc/LmhlaWdodCA/PyAxMjApfVxyXG4gICAgICAgIGxpc3RlbmluZz17dHJ1ZX1cclxuXHJcbiAgICAgICAgLy8gVVggY3Vyc29yIChzaW4gcm9tcGVyIHR1IGhvdmVyKVxyXG4gICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHN0YWdlID0gZS5jdXJyZW50VGFyZ2V0LmdldFN0YWdlKCk7XHJcbiAgICAgICAgICBpZiAoc3RhZ2UpIHN0YWdlLmNvbnRhaW5lcigpLnN0eWxlLmN1cnNvciA9IFwiZ3JhYlwiO1xyXG4gICAgICAgICAgaGFuZGxlTW91c2VFbnRlcj8uKGUpO1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgY29uc3Qgc3RhZ2UgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0U3RhZ2UoKTtcclxuICAgICAgICAgIGlmIChzdGFnZSkgc3RhZ2UuY29udGFpbmVyKCkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICBoYW5kbGVNb3VzZUxlYXZlPy4oZSk7XHJcbiAgICAgICAgfX1cclxuXHJcbiAgICAgICAgLy8g4pyFIENMQVZFOiBOTyBwaXNhciBlbCBvbkNsaWNrL29uVGFwIG5pIGVsIG9uRHJhZ0VuZCBcInJlYWxcIiBkZWwgc2lzdGVtYVxyXG4gICAgICAgIC8vIFNpIHF1ZXLDqXMgbWFudGVuZXIgdW4gY29tcG9ydGFtaWVudG8gZXh0cmEgZW4gY2xpY2ssIGhhY2VsbyBzaW4gY2FtYmlhciBsYSBmaXJtYTpcclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgLy8gZGVsZWdhIGFsIGNvbW1vblByb3BzLm9uQ2xpY2sgKHNlbGVjY2nDs24gY29uc2lzdGVudGUpXHJcbiAgICAgICAgICBjb21tb25Qcm9wcy5vbkNsaWNrPy4oZSk7XHJcbiAgICAgICAgfX1cclxuICAgICAgICBvblRhcD17KGUpID0+IHtcclxuICAgICAgICAgIC8vIGVuIEtvbnZhLCB0YXAgc3VlbGUgbWFwZWFyIGEgY2xpY2s7IHNpIHF1ZXLDqXMsIGRlbGVnYWxvIGlndWFsXHJcbiAgICAgICAgICBjb21tb25Qcm9wcy5vbkNsaWNrPy4oZSk7XHJcbiAgICAgICAgfX1cclxuXHJcbiAgICAgICAgLy8g4pyFIENMQVZFOiBkZWxlZ2FyIGEgY29tbW9uUHJvcHMub25EcmFnRW5kIHBhcmEgcXVlOlxyXG4gICAgICAgIC8vIC0gc2UgbGltcGllbiBndcOtYXMgKG9uRHJhZ0VuZFBlcnNvbmFsaXphZG8pXHJcbiAgICAgICAgLy8gLSBzZSBoYWdhIGZpbmFsaXpvRHJhZyArIEFCU+KGklJFTFxyXG4gICAgICAgIG9uRHJhZ0VuZD17KGUpID0+IHtcclxuICAgICAgICAgIGNvbW1vblByb3BzLm9uRHJhZ0VuZD8uKGUpO1xyXG5cclxuICAgICAgICAgIC8vIGxpbXBpZXphIGRlIGN1cnNvciAoZXh0cmEpXHJcbiAgICAgICAgICBjb25zdCBzdGFnZSA9IGUuY3VycmVudFRhcmdldC5nZXRTdGFnZSgpO1xyXG4gICAgICAgICAgaWYgKHN0YWdlKSBzdGFnZS5jb250YWluZXIoKS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICB9fVxyXG4gICAgICAvPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0gTEVHQUNZOiBJQ09OTyBTVkcgKHRpcG86IFwiaWNvbm8tc3ZnXCIgY29uIG9iai5kKSAtLS0tLS0tLS0tLS0tLS0tICovXHJcbiAgaWYgKG9iai50aXBvID09PSBcImljb25vLXN2Z1wiKSB7XG4gICAgY29uc3QgVyA9IE51bWJlcihvYmoud2lkdGgpIHx8IDEyODtcbiAgICBjb25zdCBIID0gTnVtYmVyKG9iai5oZWlnaHQpIHx8IDEyODtcbiAgICBjb25zdCBzaG93TGVnYWN5SWNvblNlbGVjdGlvbkZyYW1lID0gKGlzU2VsZWN0ZWQgfHwgcHJlU2VsZWNjaW9uYWRvKSAmJiBzZWxlY3Rpb25Db3VudCA8PSAxO1xuXHJcbiAgICBjb25zdCB2YiA9IHBhcnNlVmlld0JveChvYmoudmlld0JveCkgfHwgeyBtaW5YOiAwLCBtaW5ZOiAwLCB2YldpZHRoOiAxMDAsIHZiSGVpZ2h0OiAxMDAgfTtcclxuICAgIGNvbnN0IHNjYWxlWCA9IHZiLnZiV2lkdGggPyBXIC8gdmIudmJXaWR0aCA6IDE7XHJcbiAgICBjb25zdCBzY2FsZVkgPSB2Yi52YkhlaWdodCA/IEggLyB2Yi52YkhlaWdodCA6IDE7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEdyb3VwXHJcbiAgICAgICAgey4uLmNvbW1vblByb3BzfVxyXG4gICAgICAgIHJlZj17aGFuZGxlUmVmfVxyXG4gICAgICAgIGRyYWdnYWJsZT17dHJ1ZX1cclxuICAgICAgICBvbk1vdXNlRW50ZXI9e2hhbmRsZU1vdXNlRW50ZXJ9XHJcbiAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxyXG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBjb21tb25Qcm9wcy5vbkNsaWNrPy4oZSl9XHJcbiAgICAgICAgb25UYXA9eyhlKSA9PiBjb21tb25Qcm9wcy5vblRhcD8uKGUpfVxyXG4gICAgICAgIG9uRHJhZ0VuZD17KGUpID0+IHtcclxuICAgICAgICAgIGNvbW1vblByb3BzLm9uRHJhZ0VuZD8uKGUpO1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25UcmFuc2Zvcm1FbmQ9eyhlKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBub2RlID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICBjb25zdCBzY2FsZVhOb2RlID1cclxuICAgICAgICAgICAgdHlwZW9mIG5vZGUuc2NhbGVYID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnNjYWxlWCgpIDogKG5vZGUuc2NhbGVYID8/IDEpO1xyXG4gICAgICAgICAgY29uc3Qgc2NhbGVZTm9kZSA9XHJcbiAgICAgICAgICAgIHR5cGVvZiBub2RlLnNjYWxlWSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS5zY2FsZVkoKSA6IChub2RlLnNjYWxlWSA/PyAxKTtcclxuICAgICAgICAgIGNvbnN0IHBhdGNoID0ge1xyXG4gICAgICAgICAgICB4OiBub2RlLngoKSxcclxuICAgICAgICAgICAgeTogbm9kZS55KCksXHJcbiAgICAgICAgICAgIHJvdGF0aW9uOiBub2RlLnJvdGF0aW9uKCkgfHwgMCxcclxuICAgICAgICAgICAgd2lkdGg6IE1hdGgubWF4KDEsIFcgKiBNYXRoLmFicyhzY2FsZVhOb2RlIHx8IDEpKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCgxLCBIICogTWF0aC5hYnMoc2NhbGVZTm9kZSB8fCAxKSksXHJcbiAgICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgICBpc0ZpbmFsOiB0cnVlLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG9uQ2hhbmdlPy4ob2JqLmlkLCBwYXRjaCk7XHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxSZWN0XG4gICAgICAgICAgeD17MH1cbiAgICAgICAgICB5PXswfVxuICAgICAgICAgIHdpZHRoPXtXfVxuICAgICAgICAgIGhlaWdodD17SH1cbiAgICAgICAgICBmaWxsPVwicmdiYSgwLDAsMCwwLjAwMSlcIlxuICAgICAgICAgIHN0cm9rZT17c2hvd0xlZ2FjeUljb25TZWxlY3Rpb25GcmFtZSA/IFwiIzc3M2RiZVwiIDogdW5kZWZpbmVkfVxuICAgICAgICAgIHN0cm9rZVdpZHRoPXtzaG93TGVnYWN5SWNvblNlbGVjdGlvbkZyYW1lID8gMSA6IDB9XG4gICAgICAgICAgbGlzdGVuaW5nPXt0cnVlfVxuICAgICAgICAvPlxuICAgICAgICA8R3JvdXAgeD17MH0geT17MH0gc2NhbGVYPXtzY2FsZVh9IHNjYWxlWT17c2NhbGVZfT5cclxuICAgICAgICAgIDxHcm91cCB4PXstdmIubWluWH0geT17LXZiLm1pbll9PlxyXG4gICAgICAgICAgICA8UGF0aFxyXG4gICAgICAgICAgICAgIGRhdGE9e29iai5kfVxyXG4gICAgICAgICAgICAgIGZpbGw9e29iai5jb2xvciB8fCBcIiMwMDBcIn1cclxuICAgICAgICAgICAgICBzdHJva2U9e29iai5jb2xvciB8fCBcIiMwMDBcIn1cclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD17MX1cclxuICAgICAgICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWRcclxuICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9Hcm91cD5cclxuICAgICAgICA8L0dyb3VwPlxyXG4gICAgICA8L0dyb3VwPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICBpZiAob2JqLnRpcG8gPT09IFwiZm9ybWFcIikge1xyXG4gICAgY29uc3QgcHJvcHNGb3JtYSA9IHtcclxuICAgICAgLi4uY29tbW9uUHJvcHMsXHJcbiAgICAgIGZpbGw6IG9iai5jb2xvciB8fCBcIiMwMDAwMDBcIixcclxuICAgIH07XHJcblxyXG4gICAgc3dpdGNoIChvYmouZmlndXJhKSB7XHJcbiAgICAgIGNhc2UgXCJyZWN0XCI6XHJcbiAgICAgICAgLy8gT3BjaW9uYWw6IG5vcm1hbGl6YW1vcyB3aWR0aC9oZWlnaHQgcGFyYSB1c2FyIGVuIGFtYm9zIG5vZG9zXHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmFicyhvYmoud2lkdGggfHwgMTAwKTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmFicyhvYmouaGVpZ2h0IHx8IDEwMCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8PlxyXG4gICAgICAgICAgICB7Lyog8J+fqiBGb3JtYSAqL31cclxuICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICB7Li4ucHJvcHNGb3JtYX1cclxuICAgICAgICAgICAgICByZWY9e2hhbmRsZVJlZn1cclxuICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2hhbmRsZU1vdXNlRW50ZXJ9XHJcbiAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxyXG4gICAgICAgICAgICAgIHdpZHRoPXt3aWR0aH1cclxuICAgICAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgICAgICAgICAgICBjb3JuZXJSYWRpdXM9e29iai5jb3JuZXJSYWRpdXMgfHwgMH1cclxuICAgICAgICAgICAgICBzdHJva2U9e2lzU2VsZWN0ZWQgfHwgcHJlU2VsZWNjaW9uYWRvID8gXCIjNzczZGJlXCIgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2lzU2VsZWN0ZWQgfHwgcHJlU2VsZWNjaW9uYWRvID8gMSA6IDB9XHJcbiAgICAgICAgICAgICAgLy8g8J+Wse+4jyBEb2JsZSBjbGljayBwYXJhIGVudHJhciBlbiBlZGljacOzbiBpbmxpbmVcclxuICAgICAgICAgICAgICBvbkRibENsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uU3RhcnRUZXh0RWRpdCkge1xyXG4gICAgICAgICAgICAgICAgICBvblN0YXJ0VGV4dEVkaXQob2JqLmlkLCBvYmoudGV4dG8gfHwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvbkRibFRhcD17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChvblN0YXJ0VGV4dEVkaXQpIHtcclxuICAgICAgICAgICAgICAgICAgb25TdGFydFRleHRFZGl0KG9iai5pZCwgb2JqLnRleHRvIHx8IFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLy8g8J+amiBTaW5jcm9uaXphciBlbCB0ZXh0byBtaWVudHJhcyBzZSBhcnJhc3RyYSBsYSBmb3JtYVxyXG4gICAgICAgICAgICAgIG9uRHJhZ01vdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBNYW50ZW5lciBjdWFscXVpZXIgbMOzZ2ljYSBkZSBkcmFnIG9yaWdpbmFsIHF1ZSB2ZW5nYSBkZSBjb21tb25Qcm9wc1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wc0Zvcm1hLm9uRHJhZ01vdmUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICBwcm9wc0Zvcm1hLm9uRHJhZ01vdmUoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBlLnRhcmdldC5wb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhZ2UgPSBlLnRhcmdldC5nZXRTdGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dG9Ob2RlID0gc3RhZ2U/LmZpbmRPbmUoYCMke29iai5pZH0tdGV4dGApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0b05vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgdGV4dG9Ob2RlLngoeCk7XHJcbiAgICAgICAgICAgICAgICAgIHRleHRvTm9kZS55KHkpO1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0b05vZGUuZ2V0TGF5ZXIoKT8uYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvbkRyYWdFbmQ9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBNYW50ZW5lciBsw7NnaWNhIG9yaWdpbmFsIGRlIGRyYWdFbmQgKGd1YXJkYXIgcG9zaWNpw7NuLCBkcmFnIGdydXBhbCwgZXRjLilcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcHNGb3JtYS5vbkRyYWdFbmQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICBwcm9wc0Zvcm1hLm9uRHJhZ0VuZChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGUudGFyZ2V0LnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFnZSA9IGUudGFyZ2V0LmdldFN0YWdlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0b05vZGUgPSBzdGFnZT8uZmluZE9uZShgIyR7b2JqLmlkfS10ZXh0YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRvTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0b05vZGUueCh4KTtcclxuICAgICAgICAgICAgICAgICAgdGV4dG9Ob2RlLnkoeSk7XHJcbiAgICAgICAgICAgICAgICAgIHRleHRvTm9kZS5nZXRMYXllcigpPy5iYXRjaERyYXcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgey8qIOKcj++4jyBUZXh0byBlbmNpbWEgZGUgbGEgZm9ybWEgKi99XHJcbiAgICAgICAgICAgIHtvYmoudGV4dG8gJiYgKFxyXG4gICAgICAgICAgICAgIDxUZXh0XHJcbiAgICAgICAgICAgICAgICBpZD17YCR7b2JqLmlkfS10ZXh0YH0gICAgICAgICAgLy8g8J+RiCBpZCBwYXJhIHBvZGVyIGVuY29udHJhcmxvIGRlc2RlIGVsIFJlY3RcclxuICAgICAgICAgICAgICAgIHJlZj17KG5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lzdGVyUmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWYoYCR7b2JqLmlkfS10ZXh0YCwgbm9kZSB8fCBudWxsKTsgLy8gc2VndcOtcyB1c2FuZG8gdHUgc2lzdGVtYSBkZSByZWZzXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICB4PXtvYmoueH1cclxuICAgICAgICAgICAgICAgIHk9e29iai55fVxyXG4gICAgICAgICAgICAgICAgd2lkdGg9e3dpZHRofVxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XHJcbiAgICAgICAgICAgICAgICB0ZXh0PXtvYmoudGV4dG99XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZT17bm9ybWFsaXplRm9udFNpemUob2JqLmZvbnRTaXplLCAyNCl9XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5PXtvYmouZm9udEZhbWlseSB8fCBcInNhbnMtc2VyaWZcIn1cclxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ9e29iai5mb250V2VpZ2h0IHx8IFwibm9ybWFsXCJ9XHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU9e3Jlc29sdmVLb252YUZvbnRTdHlsZShvYmouZm9udFN0eWxlIHx8IFwibm9ybWFsXCIsIG9iai5mb250V2VpZ2h0IHx8IFwibm9ybWFsXCIpfVxyXG4gICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb249e29iai50ZXh0RGVjb3JhdGlvbiB8fCBcIm5vbmVcIn1cclxuICAgICAgICAgICAgICAgIGZpbGw9e29iai5jb2xvclRleHRvIHx8IFwiIzAwMDAwMFwifVxyXG4gICAgICAgICAgICAgICAgYWxpZ249e29iai5hbGlnbiB8fCBcImNlbnRlclwifVxyXG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbj1cIm1pZGRsZVwiXHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfSAgICAgICAgICAgICAgLy8g8J+RiCBlbCB0ZXh0byBubyByb2JhIGV2ZW50b3MsIGxvcyByZWNpYmUgZWwgUmVjdFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eT17aXNJbkVkaXRNb2RlID8gMCA6IDF9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICk7XHJcblxyXG5cclxuICAgICAgY2FzZSBcImNpcmNsZVwiOlxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8Q2lyY2xlXHJcbiAgICAgICAgICAgIHsuLi5wcm9wc0Zvcm1hfVxyXG4gICAgICAgICAgICByZWY9e2hhbmRsZVJlZn1cclxuICAgICAgICAgICAgcmFkaXVzPXtvYmoucmFkaXVzIHx8IDUwfVxyXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2hhbmRsZU1vdXNlRW50ZXJ9XHJcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VMZWF2ZX1cclxuICAgICAgICAgICAgc3Ryb2tlPXtpc1NlbGVjdGVkIHx8IHByZVNlbGVjY2lvbmFkbyA/IFwiIzc3M2RiZVwiIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aD17aXNTZWxlY3RlZCB8fCBwcmVTZWxlY2Npb25hZG8gPyAxIDogMH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIGNhc2UgXCJ0cmlhbmdsZVwiOlxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8UmVndWxhclBvbHlnb25cclxuICAgICAgICAgICAgey4uLnByb3BzRm9ybWF9XHJcbiAgICAgICAgICAgIHJlZj17aGFuZGxlUmVmfVxyXG4gICAgICAgICAgICBzaWRlcz17M31cclxuICAgICAgICAgICAgcmFkaXVzPXtvYmoucmFkaXVzIHx8IDYwfVxyXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2hhbmRsZU1vdXNlRW50ZXJ9XHJcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VMZWF2ZX1cclxuICAgICAgICAgICAgc3Ryb2tlPXtpc1NlbGVjdGVkIHx8IHByZVNlbGVjY2lvbmFkbyA/IFwiIzc3M2RiZVwiIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aD17aXNTZWxlY3RlZCB8fCBwcmVTZWxlY2Npb25hZG8gPyAxIDogMH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRleHQiLCJJbWFnZSIsIktvbnZhSW1hZ2UiLCJSZWN0IiwiQ2lyY2xlIiwiTGluZSIsIlJlZ3VsYXJQb2x5Z29uIiwiUGF0aCIsIkdyb3VwIiwidXNlSW1hZ2UiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZU1lbW8iLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsIkxJTkVfQ09OU1RBTlRTIiwicHJldmlld0RyYWdHcnVwYWwiLCJzdGFydERyYWdHcnVwYWxMaWRlciIsImVuZERyYWdHcnVwYWwiLCJzdGFydERyYWdJbmRpdmlkdWFsIiwicHJldmlld0RyYWdJbmRpdmlkdWFsIiwiZW5kRHJhZ0luZGl2aWR1YWwiLCJnZXRDZW50ZXJlZFRleHRQb3NpdGlvbiIsIm5vcm1hbGl6ZUZvbnRTaXplIiwidmFsdWUiLCJmYWxsYmFjayIsInBhcnNlZCIsIk51bWJlciIsImlzRmluaXRlIiwiaXNCb2xkRm9udFdlaWdodCIsIndlaWdodCIsIm5vcm1hbGl6ZWQiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicmVzb2x2ZUtvbnZhRm9udFN0eWxlIiwiZm9udFN0eWxlIiwiZm9udFdlaWdodCIsInN0eWxlIiwiaXNJdGFsaWMiLCJpc0JvbGQiLCJFbGVtZW50b0NhbnZhcyIsIm9iaiIsImlzU2VsZWN0ZWQiLCJpc0luRWRpdE1vZGUiLCJvblNlbGVjdCIsIm9uQ2hhbmdlIiwiZWRpdGluZ0lkIiwicmVnaXN0ZXJSZWYiLCJvbkhvdmVyIiwicHJlU2VsZWNjaW9uYWRvIiwic2VsZWN0aW9uQ291bnQiLCJvbkRyYWdNb3ZlUGVyc29uYWxpemFkbyIsIm9uRHJhZ1N0YXJ0UGVyc29uYWxpemFkbyIsIm9uRHJhZ0VuZFBlcnNvbmFsaXphZG8iLCJkcmFnU3RhcnRQb3MiLCJoYXNEcmFnZ2VkIiwib25TdGFydFRleHRFZGl0IiwiZWRpdGluZ01vZGUiLCJpbmxpbmVPdmVybGF5TW91bnRlZElkIiwiaW5saW5lVmlzaWJpbGl0eU1vZGUiLCJpbWciLCJzcmMiLCJtZWFzdXJlZFRleHRXaWR0aCIsInNldE1lYXN1cmVkVGV4dFdpZHRoIiwidGV4dE5vZGVSZWYiLCJiYXNlVGV4dExheW91dFJlZiIsImhhbmRsZUNoYW5nZSIsImlkIiwibmV3RGF0YSIsImZyb21BdXRvRml4IiwiaGFuZGxlUmVmIiwibm9kZSIsImhhbmRsZUNsaWNrIiwiZSIsImNhbmNlbEJ1YmJsZSIsImN1cnJlbnQiLCJ0aXBvIiwidGV4dG8iLCJmaWd1cmEiLCJjb21tb25Qcm9wcyIsIngiLCJ5Iiwicm90YXRpb24iLCJzY2FsZVgiLCJzY2FsZVkiLCJkcmFnZ2FibGUiLCJsaXN0ZW5pbmciLCJvbk1vdXNlRG93biIsImN1cnJlbnRUYXJnZXQiLCJvbk1vdXNlVXAiLCJvbkNsaWNrIiwib25UYXAiLCJvbkRyYWdTdGFydCIsIndpbmRvdyIsIl9kcmFnQ291bnQiLCJfbGFzdE1vdXNlIiwiX2xhc3RFbGVtZW50IiwiX2lzRHJhZ2dpbmciLCJmdWVHcnVwYWwiLCJvbkRyYWdNb3ZlIiwic3RhZ2UiLCJ0YXJnZXQiLCJnZXRTdGFnZSIsIm1vdXNlUG9zIiwiZ2V0UG9pbnRlclBvc2l0aW9uIiwiZWxlbWVudFBvcyIsIl9ncnVwb0xpZGVyIiwiZWxlbWVudG9zU2VsZWNjaW9uYWRvcyIsIl9lbGVtZW50b3NTZWxlY2Npb25hZG9zIiwib25EcmFnRW5kIiwiaGFuZGxlTW91c2VFbnRlciIsImhhbmRsZU1vdXNlTGVhdmUiLCJyZWNhbGNHcm91cEFsaWduIiwiX19ncm91cEFsaWduIiwiX19ncm91cElkIiwicmVmcyIsIl9lbGVtZW50UmVmcyIsImdldE9iaiIsIl9fZ2V0T2JqQnlJZCIsIm1heFciLCJ0aGlzVyIsIk9iamVjdCIsImVudHJpZXMiLCJvIiwidyIsImdldFRleHRXaWR0aCIsIk1hdGgiLCJjZWlsIiwiYmFzZVgiLCJfX2dyb3VwT3JpZ2luWCIsInRhcmdldFgiLCJhYnMiLCJyMSIsInIyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJpc0F1dG9XaWR0aCIsIndpZHRoIiwiX19hdXRvV2lkdGgiLCJyYWYxIiwicmFmMiIsIndSZWFsIiwibGluZUhlaWdodCIsImdyb3VwUmVmIiwiY29sb3IiLCJjYWNoZSIsImdldExheWVyIiwiYmF0Y2hEcmF3IiwicGFyc2VWaWV3Qm94IiwidmIiLCJwYXJ0cyIsInRyaW0iLCJzcGxpdCIsIm1hcCIsImxlbmd0aCIsInNvbWUiLCJuIiwiaXNOYU4iLCJtaW5YIiwibWluWSIsInZiV2lkdGgiLCJ2YkhlaWdodCIsImxpbmVQb2ludHMiLCJwb2ludHMiLCJwb2ludHNGaXhlZCIsIkFycmF5IiwiaXNBcnJheSIsIkRFRkFVTFRfTEVOR1RIIiwicHVudG9zVmFsaWRhZG9zIiwiaSIsInB1bnRvIiwicGFyc2VGbG9hdCIsInB1c2giLCJKU09OIiwic3RyaW5naWZ5Iiwic2xpY2UiLCJzZXRUaW1lb3V0IiwicmVmIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwic3Ryb2tlIiwiREVGQVVMVF9DT0xPUiIsInN0cm9rZVdpZHRoIiwiU1RST0tFX1dJRFRIIiwidGVuc2lvbiIsImxpbmVDYXAiLCJsaW5lSm9pbiIsInBlcmZlY3REcmF3RW5hYmxlZCIsImhpdFN0cm9rZVdpZHRoIiwibWF4IiwiSElUX1NUUk9LRV9XSURUSCIsInNoYWRvd0ZvclN0cm9rZUVuYWJsZWQiLCJvcGFjaXR5Iiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0IiwidmlzaWJpbGl0eU1vZGUiLCJpc0VkaXRpbmdCeVdpbmRvdyIsIl9jdXJyZW50RWRpdGluZ0lkIiwiaXNFZGl0aW5nQnlSZWFjdGl2ZSIsIm92ZXJsYXlEb21QcmVzZW50TG9vc2UiLCJkb2N1bWVudCIsInNhZmVJZCIsInJlcGxhY2UiLCJCb29sZWFuIiwicXVlcnlTZWxlY3RvciIsIm92ZXJsYXlEb21QcmVzZW50IiwiaXNFZGl0aW5nQnlPdmVybGF5IiwiaXNFZGl0aW5nIiwiYWxpZ24iLCJmaWxsQ29sb3IiLCJjb2xvclRleHRvIiwiZmlsbCIsImJhc2VMaW5lSGVpZ2h0IiwicmF3VGV4dCIsInNhZmVUZXh0IiwidmFsaWRYIiwidmFsaWRZIiwidmFsaWRGb250U2l6ZSIsInRleHREZWNvcmF0aW9uIiwiY3R4IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJrb252YUZvbnRTdHlsZSIsImZvbnRGb3JDYW52YXMiLCJ0ZXN0IiwiZm9udCIsImxpbmVzIiwibWF4TGluZVdpZHRoIiwibGluZSIsIm1lYXN1cmVUZXh0IiwibnVtTGluZXMiLCJ0ZXh0V2lkdGgiLCJ0ZXh0SGVpZ2h0IiwicG9zaXRpb25SYXciLCJyZWN0WSIsInJlY3RIZWlnaHQiLCJyZWN0Q2VudGVyIiwiYmFzZWxpbmVUb0NlbnRlciIsImJhc2VsaW5lIiwiYXNjZW50IiwiZGVzY2VudCIsImJhc2UiLCJyZWN0Q2VudGVyRml4ZWQiLCJiYXNlbGluZVkiLCJ0ZXh0VG9wRml4ZWQiLCJwb3NpdGlvbiIsInRleHRUb3AiLCJjb25zb2xlIiwid2FybiIsIkFOQ0hPX0NBTlZBUyIsImF2YWlsYWJsZVdpZHRoIiwicmVhbFRleHRXaWR0aCIsInNob3VsZFdyYXBUb0NhbnZhc0VkZ2UiLCJ3cmFwVG9Vc2UiLCJ3aWR0aFRvVXNlIiwidW5kZWZpbmVkIiwiaW5saW5lQ2FyZXRPbmx5TW9kZSIsImFwcGxpZWRPcGFjaXR5IiwidGV4dCIsIndyYXAiLCJ2ZXJ0aWNhbEFsaWduIiwiYW5jaG8iLCJoZWlnaHQiLCJhbHRvIiwiY29ybmVyUmFkaXVzIiwibnVldmFQb3MiLCJ0ZXh0b05vZGUiLCJpbWFnZSIsImNyb3NzT3JpZ2luIiwiZm9ybWF0byIsInBhdGhzIiwiVyIsIkgiLCJ2aWV3Qm94Iiwic2hvd0ljb25TZWxlY3Rpb25GcmFtZSIsInAiLCJkYXRhIiwiZCIsInVybCIsImNvbnRhaW5lciIsImN1cnNvciIsInNob3dMZWdhY3lJY29uU2VsZWN0aW9uRnJhbWUiLCJvblRyYW5zZm9ybUVuZCIsInNjYWxlWE5vZGUiLCJzY2FsZVlOb2RlIiwicGF0Y2giLCJpc0ZpbmFsIiwicHJvcHNGb3JtYSIsIm9uRGJsQ2xpY2siLCJvbkRibFRhcCIsImZpbmRPbmUiLCJyYWRpdXMiLCJzaWRlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/ElementoCanvas.jsx\n"));

/***/ })

});