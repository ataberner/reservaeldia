"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_components_CanvasEditor_jsx",{

/***/ "(pages-dir-browser)/./src/components/CanvasEditor.jsx":
/*!*****************************************!*\
  !*** ./src/components/CanvasEditor.jsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(pages-dir-browser)/./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-konva */ \"(pages-dir-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var _ElementoCanvas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ElementoCanvas */ \"(pages-dir-browser)/./src/components/ElementoCanvas.jsx\");\n/* harmony import */ var _LineControls__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LineControls */ \"(pages-dir-browser)/./src/components/LineControls.jsx\");\n/* harmony import */ var _utils_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/layout */ \"(pages-dir-browser)/./src/utils/layout.ts\");\n/* harmony import */ var _models_estructuraInicial__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/models/estructuraInicial */ \"(pages-dir-browser)/./src/models/estructuraInicial.js\");\n/* harmony import */ var _hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/usePlantillasDeSeccion */ \"(pages-dir-browser)/./src/hooks/usePlantillasDeSeccion.js\");\n/* harmony import */ var _hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/hooks/useImperativeObjects */ \"(pages-dir-browser)/./src/hooks/useImperativeObjects.js\");\n/* harmony import */ var _SelectionBounds__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SelectionBounds */ \"(pages-dir-browser)/./src/components/SelectionBounds.jsx\");\n/* harmony import */ var _HoverIndicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./HoverIndicator */ \"(pages-dir-browser)/./src/components/HoverIndicator.jsx\");\n/* harmony import */ var _LineToolbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LineToolbar */ \"(pages-dir-browser)/./src/components/LineToolbar.jsx\");\n/* harmony import */ var _hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/hooks/useKeyboardShortcuts */ \"(pages-dir-browser)/./src/hooks/useKeyboardShortcuts.js\");\n/* harmony import */ var _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/fontManager */ \"(pages-dir-browser)/./src/utils/fontManager.js\");\n/* harmony import */ var _hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/hooks/useInlineEditor */ \"(pages-dir-browser)/./src/hooks/useInlineEditor.js\");\n/* harmony import */ var _ShapeToolbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ShapeToolbar */ \"(pages-dir-browser)/./src/components/ShapeToolbar.jsx\");\n/* harmony import */ var _hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/hooks/useEditorHandlers */ \"(pages-dir-browser)/./src/hooks/useEditorHandlers.js\");\n/* harmony import */ var _InlineTextEditor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./InlineTextEditor */ \"(pages-dir-browser)/./src/components/InlineTextEditor.jsx\");\n/* harmony import */ var _FontSelector__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./FontSelector */ \"(pages-dir-browser)/./src/components/FontSelector.jsx\");\n/* harmony import */ var _utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/utils/accionesFondo */ \"(pages-dir-browser)/./src/utils/accionesFondo.js\");\n/* harmony import */ var _utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/utils/editorSecciones */ \"(pages-dir-browser)/./src/utils/editorSecciones.js\");\n/* harmony import */ var _editor_selection_selectionUtils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./editor/selection/selectionUtils */ \"(pages-dir-browser)/./src/components/editor/selection/selectionUtils.js\");\n/* harmony import */ var _utils_plantillas__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @/utils/plantillas */ \"(pages-dir-browser)/./src/utils/plantillas.js\");\n/* harmony import */ var _components_editor_GaleriaKonva__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @/components/editor/GaleriaKonva */ \"(pages-dir-browser)/./src/components/editor/GaleriaKonva.jsx\");\n/* harmony import */ var _editor_FondoSeccion__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./editor/FondoSeccion */ \"(pages-dir-browser)/./src/components/editor/FondoSeccion.jsx\");\n/* harmony import */ var _MenuOpcionesElemento__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./MenuOpcionesElemento */ \"(pages-dir-browser)/./src/components/MenuOpcionesElemento.jsx\");\n/* harmony import */ var _utils_calcGrid__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @/utils/calcGrid */ \"(pages-dir-browser)/./src/utils/calcGrid.js\");\n/* harmony import */ var _components_editor_countdown_CountdownKonva__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @/components/editor/countdown/CountdownKonva */ \"(pages-dir-browser)/./src/components/editor/countdown/CountdownKonva.jsx\");\n/* harmony import */ var _hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @/hooks/useGuiasCentrado */ \"(pages-dir-browser)/./src/hooks/useGuiasCentrado.js\");\n/* harmony import */ var _components_editor_toolbar_FloatingTextToolbar__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @/components/editor/toolbar/FloatingTextToolbar */ \"(pages-dir-browser)/./src/components/editor/toolbar/FloatingTextToolbar.jsx\");\n/* harmony import */ var _SelectorColorSeccion__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./SelectorColorSeccion */ \"(pages-dir-browser)/./src/components/SelectorColorSeccion.jsx\");\n/* harmony import */ var konva__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! konva */ \"(pages-dir-browser)/./node_modules/konva/lib/index.js\");\n/* harmony import */ var konva__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(konva__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var _config_fonts__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../config/fonts */ \"(pages-dir-browser)/./src/config/fonts.js\");\n/* harmony import */ var _hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @/hooks/useAuthClaims */ \"(pages-dir-browser)/./src/hooks/useAuthClaims.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronUp,Layers,Monitor,MoveDown,MoveUp,PlusCircle,Settings,Trash2,Unlink2!=!lucide-react */ \"(pages-dir-browser)/__barrel_optimize__?names=ChevronDown,ChevronUp,Layers,Monitor,MoveDown,MoveUp,PlusCircle,Settings,Trash2,Unlink2!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./editor/persistence/useBorradorSync */ \"(pages-dir-browser)/./src/components/editor/persistence/useBorradorSync.js\");\n/* harmony import */ var _editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./editor/sections/useSectionsManager */ \"(pages-dir-browser)/./src/components/editor/sections/useSectionsManager.js\");\n/* harmony import */ var _components_editor_sections_ConfirmDeleteSectionModal__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @/components/editor/sections/ConfirmDeleteSectionModal */ \"(pages-dir-browser)/./src/components/editor/sections/ConfirmDeleteSectionModal.jsx\");\n/* harmony import */ var _editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./editor/events/useEditorEvents */ \"(pages-dir-browser)/./src/components/editor/events/useEditorEvents.js\");\n/* harmony import */ var _editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./editor/window/useEditorWindowBridge */ \"(pages-dir-browser)/./src/components/editor/window/useEditorWindowBridge.js\");\n/* harmony import */ var _editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./editor/history/useHistoryManager */ \"(pages-dir-browser)/./src/components/editor/history/useHistoryManager.js\");\n/* harmony import */ var _components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @/components/editor/mobile/useCanvasScaleLayout */ \"(pages-dir-browser)/./src/components/editor/mobile/useCanvasScaleLayout.js\");\n/* harmony import */ var _components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @/components/editor/mobile/useCanvasInteractionState */ \"(pages-dir-browser)/./src/components/editor/mobile/useCanvasInteractionState.js\");\n/* harmony import */ var _editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./editor/mobile/useStageGestures */ \"(pages-dir-browser)/./src/components/editor/mobile/useStageGestures.js\");\n/* harmony import */ var _components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @/components/editor/overlays/useOptionButtonPosition */ \"(pages-dir-browser)/./src/components/editor/overlays/useOptionButtonPosition.js\");\n/* harmony import */ var _components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @/components/canvas/CanvasElementsLayer */ \"(pages-dir-browser)/./src/components/canvas/CanvasElementsLayer.jsx\");\n/* harmony import */ var _components_canvas_DividersOverlayStage__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @/components/canvas/DividersOverlayStage */ \"(pages-dir-browser)/./src/components/canvas/DividersOverlayStage.jsx\");\n// components/CanvasEditor.jsx\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(konva__WEBPACK_IMPORTED_MODULE_32___default().dragDistance) = 8;\nfunction resolveKonvaPixelRatio() {\n    if (false) {}\n    const dpr = Number(window.devicePixelRatio || 1);\n    const coarsePointer = typeof window.matchMedia === \"function\" && window.matchMedia(\"(pointer: coarse)\").matches;\n    const minSide = Math.min(Number(window.innerWidth || 0), Number(window.innerHeight || 0));\n    const mobileLike = coarsePointer || minSide > 0 && minSide <= 1024;\n    if (mobileLike) return 1;\n    return Math.min(dpr, 2);\n}\n(konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) = resolveKonvaPixelRatio();\nconst ALTURA_REFERENCIA_PANTALLA = 500;\nconst ALTURA_PANTALLA_EDITOR = 500;\nfunction normalizarAltoModo(modo) {\n    const m = String(modo || \"fijo\").toLowerCase();\n    return m === \"pantalla\" ? \"pantalla\" : \"fijo\";\n}\nfunction isBoldFontWeight(weight) {\n    const normalized = String(weight || \"normal\").toLowerCase();\n    return normalized === \"bold\" || normalized === \"bolder\" || [\n        \"500\",\n        \"600\",\n        \"700\",\n        \"800\",\n        \"900\"\n    ].includes(normalized);\n}\nfunction resolveKonvaFontStyle(fontStyle, fontWeight) {\n    const style = String(fontStyle || \"normal\").toLowerCase();\n    const isItalic = style.includes(\"italic\") || style.includes(\"oblique\");\n    const isBold = style.includes(\"bold\") || isBoldFontWeight(fontWeight);\n    if (isBold && isItalic) return \"bold italic\";\n    if (isBold) return \"bold\";\n    if (isItalic) return \"italic\";\n    return \"normal\";\n}\n// ??? FUNCIÓN HELPER PARA LIMPIAR UNDEFINED\nconst limpiarObjetoUndefined = (obj)=>{\n    if (Array.isArray(obj)) {\n        return obj.map(limpiarObjetoUndefined);\n    }\n    if (obj !== null && typeof obj === 'object') {\n        const objLimpio = {};\n        Object.keys(obj).forEach((key)=>{\n            const valor = obj[key];\n            if (valor !== undefined) {\n                objLimpio[key] = limpiarObjetoUndefined(valor);\n            }\n        });\n        return objLimpio;\n    }\n    return obj;\n};\n// Utils de cursor global (arriba del componente)\nfunction setGlobalCursor() {\n    let cursor = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '', stageRef = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n    try {\n        var _stageRef_current_container, _stageRef_current;\n        document.body.style.cursor = cursor || '';\n        // ?? limpiamos también el contenedor del Stage si existe\n        const stage = (stageRef === null || stageRef === void 0 ? void 0 : (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_container = _stageRef_current.container) === null || _stageRef_current_container === void 0 ? void 0 : _stageRef_current_container.call(_stageRef_current)) || null;\n        if (stage) stage.style.cursor = cursor || '';\n        // fallback: canvas principal\n        const canvas = document.querySelector('canvas');\n        if (canvas && canvas.parentElement) canvas.parentElement.style.cursor = cursor || '';\n    } catch (e) {}\n}\nfunction clearGlobalCursor() {\n    let stageRef = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n    setGlobalCursor('', stageRef);\n}\nfunction isInlineDebugEnabled() {\n    return  true && window.__INLINE_DEBUG !== false;\n}\nfunction formatInlineLogPayload() {\n    let payload = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    try {\n        return JSON.stringify(payload, null, 2);\n    } catch (error) {\n        return String(error || payload);\n    }\n}\nfunction inlineDebugLog(event) {\n    let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    if (!isInlineDebugEnabled()) return;\n    const essentialEvents = new Set([\n        \"start-inline-edit\",\n        \"linebreak-model-sync\",\n        \"linebreak-transformer\"\n    ]);\n    if (!essentialEvents.has(event)) return;\n    const ts = new Date().toISOString();\n    const body = formatInlineLogPayload(payload);\n    console.log(\"[INLINE][\".concat(ts, \"] \").concat(event, \"\\n\").concat(body));\n}\nfunction nextInlineFrameMeta() {\n    var _window_performance;\n    if (false) {}\n    const prev = Number(window.__INLINE_FRAME_SEQ || 0);\n    const next = prev + 1;\n    window.__INLINE_FRAME_SEQ = next;\n    const perfMs = typeof ((_window_performance = window.performance) === null || _window_performance === void 0 ? void 0 : _window_performance.now) === \"function\" ? Number(window.performance.now().toFixed(3)) : null;\n    return {\n        frame: next,\n        perfMs\n    };\n}\nfunction getInlineLineStats(value) {\n    var _normalized_match;\n    const normalized = String(value !== null && value !== void 0 ? value : \"\").replace(/\\r\\n/g, \"\\n\");\n    const trailing = (_normalized_match = normalized.match(/\\n+$/)) === null || _normalized_match === void 0 ? void 0 : _normalized_match[0];\n    return {\n        normalized,\n        length: normalized.length,\n        lineCount: normalized === \"\" ? 1 : normalized.split(\"\\n\").length,\n        trailingNewlines: trailing ? trailing.length : 0\n    };\n}\nfunction normalizeInlineDebugAB(rawConfig) {\n    const raw = rawConfig && typeof rawConfig === \"object\" ? rawConfig : {};\n    const visibilitySource = raw.visibilitySource === \"window\" ? \"window\" : \"reactive\";\n    const finishMode = raw.finishMode === \"immediate\" || raw.finishMode === \"raf\" || raw.finishMode === \"timeout100\" ? raw.finishMode : \"raf\";\n    const overlayWidthMode = raw.overlayWidthMode === \"fit-content\" ? \"fit-content\" : \"measured\";\n    return {\n        visibilitySource,\n        finishMode,\n        overlayWidthMode\n    };\n}\nfunction CanvasEditor(param) {\n    let { slug, zoom = 1, onHistorialChange, onFuturosChange, userId, onStartupStatusChange } = param;\n    var _window__resizeData;\n    _s();\n    const [objetos, setObjetos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [celdaGaleriaActiva, setCeldaGaleriaActiva] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [secciones, setSecciones] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [historial, setHistorial] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [futuros, setFuturos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [elementosSeleccionados, setElementosSeleccionados] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [cargado, setCargado] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { dragStartPos, hasDragged, isDragging, setIsDragging } = (0,_components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__[\"default\"])();\n    const imperativeObjects = (0,_hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__.useImperativeObjects)();\n    const [animandoSeccion, setAnimandoSeccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seccionActivaId, setSeccionActivaId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seleccionActiva, setSeleccionActiva] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [inicioSeleccion, setInicioSeleccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [areaSeleccion, setAreaSeleccion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [elementosPreSeleccionados, setElementosPreSeleccionados] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const guiaLayerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [hoverId, setHoverId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const altoCanvas = secciones.reduce((acc, s)=>acc + s.altura, 0) || 800;\n    const [seccionesAnimando, setSeccionesAnimando] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const { refrescar: refrescarPlantillasDeSeccion } = (0,_hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n    const [elementoCopiado, setElementoCopiado] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const elementRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const inlineEditPreviewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null,\n        centerX: null\n    });\n    const inlineCommitDebugRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null\n    });\n    const prevEditingIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inlineRenderValueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        id: null,\n        value: \"\"\n    });\n    const [inlineOverlayMountedId, setInlineOverlayMountedId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const contenedorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const editorOverlayRootRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoSectionViewportRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoSectionScrollRafRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const seccionActivaIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const ignoreNextUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const [anchoStage, setAnchoStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(800);\n    const [mostrarSelectorFuente, setMostrarSelectorFuente] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mostrarSubmenuCapa, setMostrarSubmenuCapa] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fuentesDisponibles = _config_fonts__WEBPACK_IMPORTED_MODULE_33__.ALL_FONTS;\n    const { esAdmin, loadingClaims } = (0,_hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__.useAuthClaims)();\n    const [backgroundLoadBySection, setBackgroundLoadBySection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [mobileBackgroundEditSectionId, setMobileBackgroundEditSectionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [deleteSectionModal, setDeleteSectionModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isOpen: false,\n        sectionId: null\n    });\n    const [isDeletingSection, setIsDeletingSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mobileSectionActionsOpen, setMobileSectionActionsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const supportsPointerEvents =  true && typeof window.PointerEvent !== \"undefined\";\n    const isTextResizeDebugEnabled = ()=> true && Boolean(window.__DBG_TEXT_RESIZE);\n    const textResizeDebug = function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        if (!isTextResizeDebugEnabled()) return;\n        console.log(\"[TEXT-COMMIT]\", ...args);\n    };\n    (0,_editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__[\"default\"])({\n        slug,\n        userId,\n        objetos,\n        secciones,\n        cargado,\n        setObjetos,\n        setSecciones,\n        setCargado,\n        setSeccionActivaId,\n        ignoreNextUpdateRef,\n        stageRef,\n        normalizarAltoModo,\n        validarPuntosLinea: _editor_selection_selectionUtils__WEBPACK_IMPORTED_MODULE_22__.validarPuntosLinea,\n        ALTURA_PANTALLA_EDITOR\n    });\n    const { controlandoAltura, iniciarControlAltura, finalizarControlAltura, togglePantallaCompletaSeccion, handleCrearSeccion } = (0,_editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__[\"default\"])({\n        slug,\n        secciones,\n        setSecciones,\n        objetos,\n        setObjetos,\n        seccionActivaId,\n        setSeccionActivaId,\n        crearSeccion: _models_estructuraInicial__WEBPACK_IMPORTED_MODULE_7__.crearSeccion,\n        normalizarAltoModo,\n        limpiarObjetoUndefined,\n        ALTURA_REFERENCIA_PANTALLA,\n        stageRef,\n        setGlobalCursor,\n        clearGlobalCursor\n    });\n    const nuevoTextoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,_editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__[\"default\"])({\n        celdaGaleriaActiva,\n        setCeldaGaleriaActiva,\n        setObjetos,\n        secciones,\n        seccionActivaId,\n        setElementosSeleccionados,\n        normalizarAltoModo,\n        ALTURA_PANTALLA_EDITOR,\n        nuevoTextoRef\n    });\n    const seccionesOrdenadas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[seccionesOrdenadas]\": ()=>[\n                ...secciones\n            ].sort({\n                \"CanvasEditor.useMemo[seccionesOrdenadas]\": (a, b)=>a.orden - b.orden\n            }[\"CanvasEditor.useMemo[seccionesOrdenadas]\"])\n    }[\"CanvasEditor.useMemo[seccionesOrdenadas]\"], [\n        secciones\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            setBackgroundLoadBySection({});\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        slug\n    ]);\n    const handleBackgroundImageStatusChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\": (payload)=>{\n            const sectionId = payload === null || payload === void 0 ? void 0 : payload.sectionId;\n            if (!sectionId) return;\n            const hasBackgroundImage = (payload === null || payload === void 0 ? void 0 : payload.hasBackgroundImage) === true;\n            const imageUrl = typeof (payload === null || payload === void 0 ? void 0 : payload.imageUrl) === \"string\" ? payload.imageUrl : \"\";\n            const incomingStatus = typeof (payload === null || payload === void 0 ? void 0 : payload.status) === \"string\" ? payload.status : \"loading\";\n            const status = hasBackgroundImage ? incomingStatus === \"loaded\" || incomingStatus === \"failed\" ? incomingStatus : \"loading\" : \"none\";\n            setBackgroundLoadBySection({\n                \"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\": (prev)=>{\n                    const current = prev[sectionId];\n                    if (current && current.status === status && current.hasBackgroundImage === hasBackgroundImage && current.imageUrl === imageUrl) {\n                        return prev;\n                    }\n                    return {\n                        ...prev,\n                        [sectionId]: {\n                            status,\n                            hasBackgroundImage,\n                            imageUrl\n                        }\n                    };\n                }\n            }[\"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleBackgroundImageStatusChange]\"], []);\n    const backgroundLoadSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[backgroundLoadSummary]\": ()=>{\n            const sectionsWithBackgroundImage = (secciones || []).filter({\n                \"CanvasEditor.useMemo[backgroundLoadSummary].sectionsWithBackgroundImage\": (seccion)=>(seccion === null || seccion === void 0 ? void 0 : seccion.fondoTipo) === \"imagen\" && typeof (seccion === null || seccion === void 0 ? void 0 : seccion.fondoImagen) === \"string\" && seccion.fondoImagen.trim().length > 0\n            }[\"CanvasEditor.useMemo[backgroundLoadSummary].sectionsWithBackgroundImage\"]);\n            let loaded = 0;\n            let failed = 0;\n            let pending = 0;\n            sectionsWithBackgroundImage.forEach({\n                \"CanvasEditor.useMemo[backgroundLoadSummary]\": (seccion)=>{\n                    var _backgroundLoadBySection_seccion_id;\n                    const status = (_backgroundLoadBySection_seccion_id = backgroundLoadBySection[seccion.id]) === null || _backgroundLoadBySection_seccion_id === void 0 ? void 0 : _backgroundLoadBySection_seccion_id.status;\n                    if (!status || status === \"loading\") {\n                        pending += 1;\n                        return;\n                    }\n                    if (status === \"loaded\") {\n                        loaded += 1;\n                        return;\n                    }\n                    if (status === \"failed\") {\n                        failed += 1;\n                        return;\n                    }\n                    pending += 1;\n                }\n            }[\"CanvasEditor.useMemo[backgroundLoadSummary]\"]);\n            return {\n                total: sectionsWithBackgroundImage.length,\n                loaded,\n                failed,\n                pending\n            };\n        }\n    }[\"CanvasEditor.useMemo[backgroundLoadSummary]\"], [\n        backgroundLoadBySection,\n        secciones\n    ]);\n    const startupReady = cargado && backgroundLoadSummary.pending === 0;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (typeof onStartupStatusChange !== \"function\") return;\n            const payload = {\n                slug,\n                draftLoaded: cargado === true,\n                totalBackgrounds: backgroundLoadSummary.total,\n                loadedBackgrounds: backgroundLoadSummary.loaded,\n                failedBackgrounds: backgroundLoadSummary.failed,\n                pendingBackgrounds: backgroundLoadSummary.pending\n            };\n            if (!startupReady) {\n                onStartupStatusChange({\n                    ...payload,\n                    status: \"running\"\n                });\n                return;\n            }\n            let cancelled = false;\n            let rafA = 0;\n            let rafB = 0;\n            rafA = requestAnimationFrame({\n                \"CanvasEditor.useEffect\": ()=>{\n                    rafB = requestAnimationFrame({\n                        \"CanvasEditor.useEffect\": ()=>{\n                            if (cancelled) return;\n                            onStartupStatusChange({\n                                ...payload,\n                                status: \"ready\"\n                            });\n                        }\n                    }[\"CanvasEditor.useEffect\"]);\n                }\n            }[\"CanvasEditor.useEffect\"]);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    cancelled = true;\n                    if (rafA) cancelAnimationFrame(rafA);\n                    if (rafB) cancelAnimationFrame(rafB);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        backgroundLoadSummary.failed,\n        backgroundLoadSummary.loaded,\n        backgroundLoadSummary.pending,\n        backgroundLoadSummary.total,\n        cargado,\n        onStartupStatusChange,\n        slug,\n        startupReady\n    ]);\n    const seccionPendienteEliminar = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[seccionPendienteEliminar]\": ()=>secciones.find({\n                \"CanvasEditor.useMemo[seccionPendienteEliminar]\": (seccion)=>seccion.id === deleteSectionModal.sectionId\n            }[\"CanvasEditor.useMemo[seccionPendienteEliminar]\"]) || null\n    }[\"CanvasEditor.useMemo[seccionPendienteEliminar]\"], [\n        secciones,\n        deleteSectionModal.sectionId\n    ]);\n    const cantidadElementosSeccionPendiente = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\": ()=>{\n            if (!(seccionPendienteEliminar === null || seccionPendienteEliminar === void 0 ? void 0 : seccionPendienteEliminar.id)) return 0;\n            return objetos.filter({\n                \"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\": (obj)=>obj.seccionId === seccionPendienteEliminar.id\n            }[\"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\"]).length;\n        }\n    }[\"CanvasEditor.useMemo[cantidadElementosSeccionPendiente]\"], [\n        objetos,\n        seccionPendienteEliminar\n    ]);\n    const { editing, startEdit, updateEdit, finishEdit// () => void\n     } = (0,_hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__[\"default\"])();\n    const obtenerMetricasNodoInline = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[obtenerMetricasNodoInline]\": (node)=>{\n            if (!node) return null;\n            try {\n                var _node_getClassName;\n                const className = ((_node_getClassName = node.getClassName) === null || _node_getClassName === void 0 ? void 0 : _node_getClassName.call(node)) || null;\n                const x = typeof node.x === \"function\" ? node.x() : null;\n                const y = typeof node.y === \"function\" ? node.y() : null;\n                const textWidth = className === \"Text\" && typeof node.getTextWidth === \"function\" ? Math.ceil(node.getTextWidth() || 0) : null;\n                const rect = typeof node.getClientRect === \"function\" ? node.getClientRect({\n                    skipTransform: false,\n                    skipShadow: true,\n                    skipStroke: true\n                }) : null;\n                return {\n                    className,\n                    x,\n                    y,\n                    textWidth,\n                    rect: rect ? {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    } : null\n                };\n            } catch (error) {\n                return {\n                    error: String(error)\n                };\n            }\n        }\n    }[\"CanvasEditor.useCallback[obtenerMetricasNodoInline]\"], []);\n    const cerrarMenusFlotantes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cerrarMenusFlotantes]\": ()=>{\n            setMostrarPanelZ(false);\n            setMostrarSubmenuCapa(false);\n            setMostrarSelectorFuente(false);\n            setMostrarSelectorTamano(false);\n            setHoverId(null);\n        }\n    }[\"CanvasEditor.useCallback[cerrarMenusFlotantes]\"], []);\n    // ???Elemento actualmente seleccionado (o null)\n    const objetoSeleccionado = elementosSeleccionados.length === 1 ? objetos.find((o)=>o.id === elementosSeleccionados[0]) : null;\n    const [mostrarSelectorTamano, setMostrarSelectorTamano] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const tamaniosDisponibles = Array.from({\n        length: (260 - 6) / 2 + 1\n    }, (_, i)=>6 + i * 2);\n    const botonOpcionesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const _refEventQueued = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const registerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[registerRef]\": (id, node)=>{\n            if (!node) {\n                delete elementRefs.current[id];\n                imperativeObjects.registerObject(id, null);\n                return;\n            }\n            elementRefs.current[id] = node;\n            imperativeObjects.registerObject(id, node);\n            // ? Debounce por frame para evitar ráfagas de re-attach del Transformer\n            if (_refEventQueued.current.has(id)) return;\n            _refEventQueued.current.add(id);\n            requestAnimationFrame({\n                \"CanvasEditor.useCallback[registerRef]\": ()=>{\n                    _refEventQueued.current.delete(id);\n                    try {\n                        window.dispatchEvent(new CustomEvent(\"element-ref-registrado\", {\n                            detail: {\n                                id\n                            }\n                        }));\n                    } catch (e) {}\n                }\n            }[\"CanvasEditor.useCallback[registerRef]\"]);\n        }\n    }[\"CanvasEditor.useCallback[registerRef]\"], [\n        imperativeObjects\n    ]);\n    const loadedFontFamiliesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const { isMobile, isMobilePortrait, scale, anchoContenedor, escalaActiva, escalaVisual, wrapperBaseWidth, escalaFitMobilePortrait } = (0,_components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__[\"default\"])({\n        contenedorRef,\n        zoom\n    });\n    const mobileTypographyToolbarVisible = isMobile && Boolean(objetoSeleccionado && (objetoSeleccionado.tipo === \"texto\" || objetoSeleccionado.tipo === \"forma\" && objetoSeleccionado.figura === \"rect\" && typeof objetoSeleccionado.texto === \"string\"));\n    const mobileTextToolbarVisible = mobileTypographyToolbarVisible || isMobile && (objetoSeleccionado === null || objetoSeleccionado === void 0 ? void 0 : objetoSeleccionado.tipo) === \"icono\";\n    const mobileFontStripVisible = mobileTypographyToolbarVisible && mostrarSelectorFuente;\n    const mobileSizeStripVisible = mobileTypographyToolbarVisible && mostrarSelectorTamano;\n    const mobileBottomTypographyStripVisible = mobileFontStripVisible || mobileSizeStripVisible;\n    const optionButtonSize = isMobile ? 38 : 24;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const desiredRatio = isMobile ? 1 : resolveKonvaPixelRatio();\n            if ((konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) !== desiredRatio) {\n                var _stageRef_current_getStage_batchDraw, _stageRef_current_getStage, _stageRef_current_getStage1, _stageRef_current;\n                (konva__WEBPACK_IMPORTED_MODULE_32___default().pixelRatio) = desiredRatio;\n                (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage1 = _stageRef_current.getStage) === null || _stageRef_current_getStage1 === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current_getStage1.call(_stageRef_current)) === null || _stageRef_current_getStage === void 0 ? void 0 : (_stageRef_current_getStage_batchDraw = _stageRef_current_getStage.batchDraw) === null || _stageRef_current_getStage_batchDraw === void 0 ? void 0 : _stageRef_current_getStage_batchDraw.call(_stageRef_current_getStage);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile\n    ]);\n    const inlineDebugAB = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[inlineDebugAB]\": ()=>{\n            if (false) {}\n            return normalizeInlineDebugAB(window.__INLINE_AB);\n        }\n    }[\"CanvasEditor.useMemo[inlineDebugAB]\"], [\n        editing.id,\n        editing.value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!isMobile && mobileSectionActionsOpen) {\n                setMobileSectionActionsOpen(false);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile,\n        mobileSectionActionsOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!isMobile) return;\n            setMobileSectionActionsOpen(false);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId,\n        isMobile\n    ]);\n    const handleInlineOverlayMountChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleInlineOverlayMountChange]\": (id, mounted)=>{\n            const safeId = id || null;\n            if (!safeId) return;\n            setInlineOverlayMountedId({\n                \"CanvasEditor.useCallback[handleInlineOverlayMountChange]\": (previous)=>{\n                    const next = mounted ? safeId : previous === safeId ? null : previous;\n                    inlineDebugLog(\"overlay-mounted-state\", {\n                        id: safeId,\n                        mounted,\n                        previousOverlayMountedId: previous,\n                        nextOverlayMountedId: next\n                    });\n                    return next;\n                }\n            }[\"CanvasEditor.useCallback[handleInlineOverlayMountChange]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleInlineOverlayMountChange]\"], []);\n    const captureInlineSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[captureInlineSnapshot]\": function(eventName) {\n            let extra = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            var _inlineCommitDebugRef_current, _stageRef_current_getStage, _stageRef_current;\n            if (false) {}\n            if (!isInlineDebugEnabled()) return;\n            if (window.__INLINE_SNAPSHOT !== true) return;\n            const snapshotAllowlist = new Set([\n                \"enter: pre-start\",\n                \"enter: after-start-sync\",\n                \"finish: blur\",\n                \"finish: after-finishEdit\",\n                \"exit: immediate\"\n            ]);\n            if (!snapshotAllowlist.has(eventName)) return;\n            const frameMeta = nextInlineFrameMeta();\n            const snapshotId = extra.id || editing.id || ((_inlineCommitDebugRef_current = inlineCommitDebugRef.current) === null || _inlineCommitDebugRef_current === void 0 ? void 0 : _inlineCommitDebugRef_current.id) || prevEditingIdRef.current || null;\n            const node = snapshotId ? elementRefs.current[snapshotId] : null;\n            const nodeMetrics = obtenerMetricasNodoInline(node);\n            const objMetrics = snapshotId ? ({\n                \"CanvasEditor.useCallback[captureInlineSnapshot]\": ()=>{\n                    const obj = objetos.find({\n                        \"CanvasEditor.useCallback[captureInlineSnapshot].obj\": (o)=>o.id === snapshotId\n                    }[\"CanvasEditor.useCallback[captureInlineSnapshot].obj\"]);\n                    if (!obj) return null;\n                    var _obj_texto;\n                    return {\n                        id: obj.id,\n                        tipo: obj.tipo || null,\n                        x: Number.isFinite(obj.x) ? obj.x : null,\n                        y: Number.isFinite(obj.y) ? obj.y : null,\n                        textoLength: String((_obj_texto = obj.texto) !== null && _obj_texto !== void 0 ? _obj_texto : \"\").length,\n                        fontSize: Number.isFinite(obj.fontSize) ? obj.fontSize : null,\n                        lineHeight: Number.isFinite(obj.lineHeight) && obj.lineHeight > 0 ? obj.lineHeight : null\n                    };\n                }\n            })[\"CanvasEditor.useCallback[captureInlineSnapshot]\"]() : null;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            let stageRect = null;\n            try {\n                var _stage_container_getBoundingClientRect, _stage_container, _stage_container1;\n                const r = stage === null || stage === void 0 ? void 0 : (_stage_container1 = stage.container) === null || _stage_container1 === void 0 ? void 0 : (_stage_container = _stage_container1.call(stage)) === null || _stage_container === void 0 ? void 0 : (_stage_container_getBoundingClientRect = _stage_container.getBoundingClientRect) === null || _stage_container_getBoundingClientRect === void 0 ? void 0 : _stage_container_getBoundingClientRect.call(_stage_container);\n                if (r) {\n                    stageRect = {\n                        x: r.x,\n                        y: r.y,\n                        width: r.width,\n                        height: r.height\n                    };\n                }\n            } catch (e) {\n                stageRect = null;\n            }\n            let inlineRect = null;\n            let inlineStyle = null;\n            let inlineContentRect = null;\n            let inlineContentMetrics = null;\n            if (snapshotId) {\n                const safeId = String(snapshotId).replace(/\"/g, '\\\\\"');\n                const overlayEl = document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'));\n                if (overlayEl) {\n                    var _contentEl_getBoundingClientRect;\n                    const r = overlayEl.getBoundingClientRect();\n                    inlineRect = {\n                        x: r.x,\n                        y: r.y,\n                        width: r.width,\n                        height: r.height\n                    };\n                    inlineStyle = {\n                        left: overlayEl.style.left,\n                        top: overlayEl.style.top,\n                        minWidth: overlayEl.style.minWidth,\n                        maxWidth: overlayEl.style.maxWidth,\n                        width: overlayEl.style.width\n                    };\n                    const contentEl = overlayEl.querySelector('[contenteditable=\"true\"]');\n                    const contentRect = contentEl === null || contentEl === void 0 ? void 0 : (_contentEl_getBoundingClientRect = contentEl.getBoundingClientRect) === null || _contentEl_getBoundingClientRect === void 0 ? void 0 : _contentEl_getBoundingClientRect.call(contentEl);\n                    if (contentRect) {\n                        inlineContentRect = {\n                            x: contentRect.x,\n                            y: contentRect.y,\n                            width: contentRect.width,\n                            height: contentRect.height\n                        };\n                    }\n                    inlineContentMetrics = contentEl ? {\n                        scrollWidth: contentEl.scrollWidth,\n                        clientWidth: contentEl.clientWidth,\n                        isFocused: document.activeElement === contentEl\n                    } : null;\n                }\n            }\n            let transformerRect = null;\n            try {\n                var _stage_findOne;\n                const transformer = stage === null || stage === void 0 ? void 0 : (_stage_findOne = stage.findOne) === null || _stage_findOne === void 0 ? void 0 : _stage_findOne.call(stage, \"Transformer\");\n                if (transformer) {\n                    var _transformer_nodes;\n                    const trRect = transformer.getClientRect({\n                        skipTransform: false,\n                        skipShadow: true,\n                        skipStroke: true\n                    });\n                    const nodes = ((_transformer_nodes = transformer.nodes) === null || _transformer_nodes === void 0 ? void 0 : _transformer_nodes.call(transformer)) || [];\n                    transformerRect = trRect ? {\n                        x: trRect.x,\n                        y: trRect.y,\n                        width: trRect.width,\n                        height: trRect.height,\n                        nodesCount: nodes.length,\n                        includesSnapshotNode: !!(node && nodes.includes(node))\n                    } : null;\n                }\n            } catch (e) {\n                transformerRect = null;\n            }\n            var _editing_id, _window__currentEditingId;\n            inlineDebugLog(\"snapshot-\".concat(eventName), {\n                ...frameMeta,\n                ...extra,\n                id: snapshotId,\n                eventName,\n                editingId: (_editing_id = editing.id) !== null && _editing_id !== void 0 ? _editing_id : null,\n                currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null,\n                overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                inlineAB: inlineDebugAB,\n                escalaVisual,\n                stageRect,\n                nodeMetrics,\n                objMetrics,\n                transformerRect,\n                inlineRect,\n                inlineStyle,\n                inlineContentRect,\n                inlineContentMetrics,\n                scrollX: window.scrollX,\n                scrollY: window.scrollY,\n                innerWidth: window.innerWidth,\n                innerHeight: window.innerHeight\n            });\n        }\n    }[\"CanvasEditor.useCallback[captureInlineSnapshot]\"], [\n        editing.id,\n        escalaVisual,\n        inlineDebugAB,\n        inlineOverlayMountedId,\n        objetos,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const currentId = editing.id || null;\n            var _editing_value;\n            const currentValue = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n            const prev = inlineRenderValueRef.current;\n            if (currentId && prev.id === currentId && prev.value !== currentValue) {\n                const prevStats = getInlineLineStats(prev.value);\n                const nextStats = getInlineLineStats(currentValue);\n                const linebreakChanged = prevStats.lineCount !== nextStats.lineCount || prevStats.trailingNewlines !== nextStats.trailingNewlines;\n                if (linebreakChanged) {\n                    var _stageRef_current_getStage, _stageRef_current;\n                    const frameMeta = nextInlineFrameMeta();\n                    const node = elementRefs.current[currentId] || null;\n                    const nodeMetrics = obtenerMetricasNodoInline(node);\n                    const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n                    let transformerRect = null;\n                    try {\n                        var _stage_findOne;\n                        const transformer = stage === null || stage === void 0 ? void 0 : (_stage_findOne = stage.findOne) === null || _stage_findOne === void 0 ? void 0 : _stage_findOne.call(stage, \"Transformer\");\n                        if (transformer) {\n                            var _transformer_nodes;\n                            const trRect = transformer.getClientRect({\n                                skipTransform: false,\n                                skipShadow: true,\n                                skipStroke: true\n                            });\n                            const nodes = ((_transformer_nodes = transformer.nodes) === null || _transformer_nodes === void 0 ? void 0 : _transformer_nodes.call(transformer)) || [];\n                            transformerRect = trRect ? {\n                                x: trRect.x,\n                                y: trRect.y,\n                                width: trRect.width,\n                                height: trRect.height,\n                                nodesCount: nodes.length,\n                                includesEditingNode: !!(node && nodes.includes(node))\n                            } : null;\n                        }\n                    } catch (e) {\n                        transformerRect = null;\n                    }\n                    let overlayRect = null;\n                    let contentRect = null;\n                    const safeId = String(currentId).replace(/\"/g, '\\\\\"');\n                    const overlayEl = document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'));\n                    if (overlayEl) {\n                        var _contentEl_getBoundingClientRect;\n                        const r = overlayEl.getBoundingClientRect();\n                        overlayRect = {\n                            x: r.x,\n                            y: r.y,\n                            width: r.width,\n                            height: r.height\n                        };\n                        const contentEl = overlayEl.querySelector('[contenteditable=\"true\"]');\n                        const cr = contentEl === null || contentEl === void 0 ? void 0 : (_contentEl_getBoundingClientRect = contentEl.getBoundingClientRect) === null || _contentEl_getBoundingClientRect === void 0 ? void 0 : _contentEl_getBoundingClientRect.call(contentEl);\n                        if (cr) {\n                            contentRect = {\n                                x: cr.x,\n                                y: cr.y,\n                                width: cr.width,\n                                height: cr.height\n                            };\n                        }\n                    }\n                    inlineDebugLog(\"linebreak-transformer\", {\n                        ...frameMeta,\n                        id: currentId,\n                        prevLength: prevStats.length,\n                        nextLength: nextStats.length,\n                        prevLineCount: prevStats.lineCount,\n                        nextLineCount: nextStats.lineCount,\n                        prevTrailingNewlines: prevStats.trailingNewlines,\n                        nextTrailingNewlines: nextStats.trailingNewlines,\n                        overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                        overlayRect,\n                        contentRect,\n                        nodeMetrics,\n                        transformerRect\n                    });\n                }\n                captureInlineSnapshot(\"input: after-render\", {\n                    id: currentId,\n                    previousLength: prev.value.length,\n                    valueLength: currentValue.length\n                });\n            }\n            inlineRenderValueRef.current = {\n                id: currentId,\n                value: currentValue\n            };\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value,\n        captureInlineSnapshot,\n        inlineOverlayMountedId,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            if (window.__INLINE_DEBUG === undefined) {\n                window.__INLINE_DEBUG = false;\n            }\n            if (window.__INLINE_FRAME_SEQ === undefined) {\n                window.__INLINE_FRAME_SEQ = 0;\n            }\n            const normalizedAB = normalizeInlineDebugAB(window.__INLINE_AB);\n            window.__INLINE_AB = {\n                ...normalizedAB\n            };\n            inlineDebugLog(\"debug-enabled\", {\n                enabled: window.__INLINE_DEBUG,\n                inlineAB: window.__INLINE_AB,\n                frameSeq: window.__INLINE_FRAME_SEQ\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const currentId = editing.id || null;\n            const previousId = prevEditingIdRef.current;\n            if (currentId && currentId !== previousId) {\n                requestAnimationFrame({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        captureInlineSnapshot(\"enter: raf1\", {\n                            id: currentId,\n                            previousId\n                        });\n                        requestAnimationFrame({\n                            \"CanvasEditor.useEffect\": ()=>{\n                                captureInlineSnapshot(\"enter: raf2\", {\n                                    id: currentId,\n                                    previousId\n                                });\n                            }\n                        }[\"CanvasEditor.useEffect\"]);\n                    }\n                }[\"CanvasEditor.useEffect\"]);\n            }\n            if (!currentId && previousId) {\n                captureInlineSnapshot(\"exit: immediate\", {\n                    id: previousId\n                });\n                requestAnimationFrame({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        captureInlineSnapshot(\"exit: raf1\", {\n                            id: previousId\n                        });\n                        requestAnimationFrame({\n                            \"CanvasEditor.useEffect\": ()=>{\n                                captureInlineSnapshot(\"exit: raf2\", {\n                                    id: previousId\n                                });\n                            }\n                        }[\"CanvasEditor.useEffect\"]);\n                    }\n                }[\"CanvasEditor.useEffect\"]);\n            }\n            prevEditingIdRef.current = currentId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        captureInlineSnapshot\n    ]);\n    const fuentesNecesarias = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[fuentesNecesarias]\": ()=>{\n            // fuentes usadas en textos + countdown (si aplica) + formas con texto (rect)\n            const fonts = (objetos || []).filter({\n                \"CanvasEditor.useMemo[fuentesNecesarias].fonts\": (o)=>(o.tipo === \"texto\" || o.tipo === \"countdown\" || o.tipo === \"forma\" && o.figura === \"rect\") && o.fontFamily\n            }[\"CanvasEditor.useMemo[fuentesNecesarias].fonts\"]).map({\n                \"CanvasEditor.useMemo[fuentesNecesarias].fonts\": (o)=>String(o.fontFamily).replace(/['\"]/g, \"\").split(\",\")[0].trim()\n            }[\"CanvasEditor.useMemo[fuentesNecesarias].fonts\"]).filter(Boolean);\n            return [\n                ...new Set(fonts)\n            ];\n        }\n    }[\"CanvasEditor.useMemo[fuentesNecesarias]\"], [\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            window.editing = editing;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            var _window__currentEditingId;\n            const previousCurrentEditingId = (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null;\n            window._currentEditingId = (editing === null || editing === void 0 ? void 0 : editing.id) || null;\n            var _editing_value;\n            inlineDebugLog(\"sync-global-editing\", {\n                editingId: (editing === null || editing === void 0 ? void 0 : editing.id) || null,\n                valueLength: String((_editing_value = editing === null || editing === void 0 ? void 0 : editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\").length,\n                previousCurrentEditingId,\n                nextCurrentEditingId: window._currentEditingId\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    var _window__currentEditingId;\n                    inlineDebugLog(\"sync-global-editing-cleanup\", {\n                        editingId: (editing === null || editing === void 0 ? void 0 : editing.id) || null,\n                        currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null\n                    });\n                    if (window.editing && window.editing.id === editing.id) {\n                        delete window.editing;\n                    }\n                    if (window._currentEditingId === editing.id) {\n                        window._currentEditingId = null;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id\n    ]);\n    // ?? Función para actualizar offsets de imagen de fondo (SIN UNDEFINED)\n    const actualizarOffsetFondo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[actualizarOffsetFondo]\": function(seccionId, nuevosOffsets) {\n            let esPreview = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n            setSecciones({\n                \"CanvasEditor.useCallback[actualizarOffsetFondo]\": (prev)=>prev.map({\n                        \"CanvasEditor.useCallback[actualizarOffsetFondo]\": (s)=>{\n                            if (s.id !== seccionId) return s;\n                            // ?? CREAR OBJETO LIMPIO\n                            const seccionActualizada = {\n                                ...s\n                            };\n                            // ?? SOLO AGREGAR CAMPOS SI TIENEN VALORES VÁLIDOS\n                            if (nuevosOffsets.offsetX !== undefined && nuevosOffsets.offsetX !== null) {\n                                seccionActualizada.fondoImagenOffsetX = nuevosOffsets.offsetX;\n                            }\n                            if (nuevosOffsets.offsetY !== undefined && nuevosOffsets.offsetY !== null) {\n                                seccionActualizada.fondoImagenOffsetY = nuevosOffsets.offsetY;\n                            }\n                            return seccionActualizada;\n                        }\n                    }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"])\n            }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"]);\n        }\n    }[\"CanvasEditor.useCallback[actualizarOffsetFondo]\"], [\n        setSecciones\n    ]);\n    // Asigna una imagen (por URL) a la celda activa\n    function asignarImagenAGaleria(url) {\n        setObjetos((prev)=>{\n            var _g_cells_index, _g_cells_index1;\n            if (!celdaGaleriaActiva) return prev;\n            const { objId, index } = celdaGaleriaActiva;\n            const i = prev.findIndex((o)=>o.id === objId && o.tipo === \"galeria\");\n            if (i === -1) return prev;\n            const copia = structuredClone(prev);\n            const g = copia[i];\n            // Seguridad: que exista y que haya cells[index]\n            if (!(g === null || g === void 0 ? void 0 : g.cells) || !g.cells[index]) return prev;\n            var _g_cells_index2, _g_cells_index_fit, _g_cells_index_bg;\n            g.cells[index] = {\n                ...(_g_cells_index2 = g.cells[index]) !== null && _g_cells_index2 !== void 0 ? _g_cells_index2 : {},\n                mediaUrl: url,\n                fit: (_g_cells_index_fit = (_g_cells_index = g.cells[index]) === null || _g_cells_index === void 0 ? void 0 : _g_cells_index.fit) !== null && _g_cells_index_fit !== void 0 ? _g_cells_index_fit : \"cover\",\n                bg: (_g_cells_index_bg = (_g_cells_index1 = g.cells[index]) === null || _g_cells_index1 === void 0 ? void 0 : _g_cells_index1.bg) !== null && _g_cells_index_bg !== void 0 ? _g_cells_index_bg : \"#eee\"\n            };\n            return copia;\n        });\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Limpiar flag de resize al montar el componente\n            window._resizeData = null;\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    const [mostrarPanelZ, setMostrarPanelZ] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSelectionRotating, setIsSelectionRotating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const logOptionButtonMenuDebug = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[logOptionButtonMenuDebug]\": function(eventName) {\n            let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            if ( false || window.__DBG_OPTION_BUTTON !== true) return;\n            console.log(\"[OPTION-BUTTON][MENU] \".concat(eventName), {\n                ts: new Date().toISOString(),\n                ...payload\n            });\n        }\n    }[\"CanvasEditor.useCallback[logOptionButtonMenuDebug]\"], []);\n    const togglePanelOpciones = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[togglePanelOpciones]\": function() {\n            let source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"unknown\", nativeEvent = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n            setMostrarPanelZ({\n                \"CanvasEditor.useCallback[togglePanelOpciones]\": (prev)=>{\n                    const next = !prev;\n                    var _elementosSeleccionados_, _nativeEvent_type, _nativeEvent_pointerType;\n                    logOptionButtonMenuDebug(\"toggle\", {\n                        source,\n                        prev,\n                        next,\n                        selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                        selectionCount: elementosSeleccionados.length,\n                        isMobile,\n                        nativeEventType: (_nativeEvent_type = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.type) !== null && _nativeEvent_type !== void 0 ? _nativeEvent_type : null,\n                        pointerType: (_nativeEvent_pointerType = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.pointerType) !== null && _nativeEvent_pointerType !== void 0 ? _nativeEvent_pointerType : null\n                    });\n                    return next;\n                }\n            }[\"CanvasEditor.useCallback[togglePanelOpciones]\"]);\n        }\n    }[\"CanvasEditor.useCallback[togglePanelOpciones]\"], [\n        elementosSeleccionados,\n        isMobile,\n        logOptionButtonMenuDebug\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _elementosSeleccionados_;\n            logOptionButtonMenuDebug(\"panel-state\", {\n                open: mostrarPanelZ,\n                selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                selectionCount: elementosSeleccionados.length,\n                isMobile\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        mostrarPanelZ,\n        elementosSeleccionados,\n        isMobile,\n        logOptionButtonMenuDebug\n    ]);\n    const moverElemento = (accion)=>{\n        const index = objetos.findIndex((o)=>o.id === elementosSeleccionados[0]);\n        if (index === -1) return;\n        const nuevos = [\n            ...objetos\n        ];\n        const [elemento] = nuevos.splice(index, 1);\n        if (accion === \"al-frente\") {\n            nuevos.push(elemento);\n        } else if (accion === \"al-fondo\") {\n            nuevos.unshift(elemento);\n        } else if (accion === \"subir\" && index < objetos.length - 1) {\n            nuevos.splice(index + 1, 0, elemento);\n        } else if (accion === \"bajar\" && index > 0) {\n            nuevos.splice(index - 1, 0, elemento);\n        } else {\n            nuevos.splice(index, 0, elemento); // sin cambios\n        }\n        setObjetos(nuevos);\n        setMostrarPanelZ(false);\n    };\n    const { onDeshacer, onRehacer, onDuplicar, onEliminar, onCopiar, onPegar, onCambiarAlineacion } = (0,_hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n        objetos,\n        setObjetos,\n        elementosSeleccionados,\n        setElementosSeleccionados,\n        historial,\n        setHistorial,\n        futuros,\n        setFuturos,\n        setSecciones,\n        ignoreNextUpdateRef,\n        setMostrarPanelZ\n    });\n    (0,_editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__[\"default\"])({\n        cargado,\n        objetos,\n        secciones,\n        setHistorial,\n        setFuturos,\n        ignoreNextUpdateRef\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current;\n            const stage = (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current);\n            if (!stage) return;\n            const content = stage.content;\n            if (!content) return;\n            // ? Estado base: scroll vertical permitido sobre canvas vacío\n            const setScrollMode = {\n                \"CanvasEditor.useEffect.setScrollMode\": ()=>{\n                    content.style.touchAction = \"pan-y\";\n                }\n            }[\"CanvasEditor.useEffect.setScrollMode\"];\n            // ? Durante drag: bloquear scroll para editar fino\n            const setEditMode = {\n                \"CanvasEditor.useEffect.setEditMode\": ()=>{\n                    content.style.touchAction = \"none\";\n                }\n            }[\"CanvasEditor.useEffect.setEditMode\"];\n            // ? NUEVO: estado React confiable para UI (Transformer/hover/etc.)\n            const onDragStart = {\n                \"CanvasEditor.useEffect.onDragStart\": ()=>{\n                    setIsDragging(true);\n                }\n            }[\"CanvasEditor.useEffect.onDragStart\"];\n            const onDragEnd = {\n                \"CanvasEditor.useEffect.onDragEnd\": ()=>{\n                    setIsDragging(false);\n                }\n            }[\"CanvasEditor.useEffect.onDragEnd\"];\n            // ? Failsafe: por si termina “raro” (touch cancel, pointer up, etc.)\n            const stopDragging = {\n                \"CanvasEditor.useEffect.stopDragging\": ()=>{\n                    setIsDragging(false);\n                    setScrollMode();\n                }\n            }[\"CanvasEditor.useEffect.stopDragging\"];\n            // Inicial\n            setScrollMode();\n            setIsDragging(false); // ?? por las dudas, al montar\n            content.style.WebkitUserSelect = \"none\";\n            content.style.WebkitTouchCallout = \"none\";\n            // Konva events\n            stage.on(\"dragstart\", setEditMode);\n            stage.on(\"dragend\", setScrollMode);\n            // ? NUEVO (UI state)\n            stage.on(\"dragstart\", onDragStart);\n            stage.on(\"dragend\", onDragEnd);\n            // Failsafes (si el drag termina raro)\n            stage.on(\"touchend\", stopDragging);\n            stage.on(\"pointerup\", stopDragging);\n            stage.on(\"mouseup\", stopDragging);\n            stage.on(\"touchcancel\", stopDragging);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    stage.off(\"dragstart\", setEditMode);\n                    stage.off(\"dragend\", setScrollMode);\n                    stage.off(\"dragstart\", onDragStart);\n                    stage.off(\"dragend\", onDragEnd);\n                    stage.off(\"touchend\", stopDragging);\n                    stage.off(\"pointerup\", stopDragging);\n                    stage.off(\"mouseup\", stopDragging);\n                    stage.off(\"touchcancel\", stopDragging);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        setIsDragging\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current;\n            const content = (stage === null || stage === void 0 ? void 0 : stage.content) || (stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage));\n            if (!content) return;\n            const setDragDistanceForInput = {\n                \"CanvasEditor.useEffect.setDragDistanceForInput\": (pointerType)=>{\n                    const isTouchLike = pointerType === \"touch\" || pointerType === \"pen\" || typeof pointerType !== \"string\" && isMobile;\n                    (konva__WEBPACK_IMPORTED_MODULE_32___default().dragDistance) = isTouchLike ? 14 : 5;\n                }\n            }[\"CanvasEditor.useEffect.setDragDistanceForInput\"];\n            const onPointerDown = {\n                \"CanvasEditor.useEffect.onPointerDown\": (event)=>setDragDistanceForInput(event.pointerType)\n            }[\"CanvasEditor.useEffect.onPointerDown\"];\n            const onTouchStart = {\n                \"CanvasEditor.useEffect.onTouchStart\": ()=>setDragDistanceForInput(\"touch\")\n            }[\"CanvasEditor.useEffect.onTouchStart\"];\n            const onMouseDown = {\n                \"CanvasEditor.useEffect.onMouseDown\": ()=>setDragDistanceForInput(\"mouse\")\n            }[\"CanvasEditor.useEffect.onMouseDown\"];\n            setDragDistanceForInput(isMobile ? \"touch\" : \"mouse\");\n            content.addEventListener(\"pointerdown\", onPointerDown, {\n                passive: true\n            });\n            content.addEventListener(\"touchstart\", onTouchStart, {\n                passive: true\n            });\n            content.addEventListener(\"mousedown\", onMouseDown, {\n                passive: true\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    content.removeEventListener(\"pointerdown\", onPointerDown);\n                    content.removeEventListener(\"touchstart\", onTouchStart);\n                    content.removeEventListener(\"mousedown\", onMouseDown);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        isMobile\n    ]);\n    // Recordar última sección activa\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            seccionActivaIdRef.current = seccionActivaId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (seccionActivaId) window._lastSeccionActivaId = seccionActivaId;\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!mobileBackgroundEditSectionId) {\n                window.dispatchEvent(new Event(\"salir-modo-mover-fondo\"));\n                return;\n            }\n            window.dispatchEvent(new CustomEvent(\"activar-modo-mover-fondo\", {\n                detail: {\n                    sectionId: mobileBackgroundEditSectionId\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        mobileBackgroundEditSectionId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!nuevoTextoRef.current) return;\n            const obj = objetos.find({\n                \"CanvasEditor.useEffect.obj\": (o)=>o.id === nuevoTextoRef.current\n            }[\"CanvasEditor.useEffect.obj\"]);\n            if (obj) {\n                setElementosSeleccionados([\n                    obj.id\n                ]);\n                // NO iniciar edición automáticamente - solo seleccionar\n                nuevoTextoRef.current = null;\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const handleClickFuera = {\n                \"CanvasEditor.useEffect.handleClickFuera\": (e)=>{\n                    if (!e.target.closest(\".popup-fuente\")) {\n                        setMostrarSelectorFuente(false);\n                        setMostrarSelectorTamano(false);\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleClickFuera\"];\n            document.addEventListener(\"mousedown\", handleClickFuera);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickFuera)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (onHistorialChange) {\n                onHistorialChange(historial);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        historial,\n        onHistorialChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (onFuturosChange) {\n                onFuturosChange(futuros);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        futuros,\n        onFuturosChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Pre-cargar fuentes populares al iniciar\n            _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.preloadPopularFonts();\n            // Escuchar evento de fuentes cargadas para redibujar\n            const handleFontsLoaded = {\n                \"CanvasEditor.useEffect.handleFontsLoaded\": ()=>{\n                    if (stageRef.current) {\n                        stageRef.current.batchDraw();\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleFontsLoaded\"];\n            window.addEventListener('fonts-loaded', handleFontsLoaded);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    window.removeEventListener('fonts-loaded', handleFontsLoaded);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            let alive = true;\n            async function precargar() {\n                // Solo precargar fuentes nuevas para evitar re-renders globales del stage\n                if (!fuentesNecesarias.length) return;\n                const pendientes = fuentesNecesarias.filter({\n                    \"CanvasEditor.useEffect.precargar.pendientes\": (fontName)=>!loadedFontFamiliesRef.current.has(fontName)\n                }[\"CanvasEditor.useEffect.precargar.pendientes\"]);\n                if (!pendientes.length) return;\n                try {\n                    var _fontManager_loadFonts, _document_fonts, _document;\n                    // ? Ideal: que fontManager.loadFonts devuelva Promise\n                    // Si hoy no devuelve, igual lo resolvemos con document.fonts más abajo.\n                    const maybePromise = (_fontManager_loadFonts = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.loadFonts) === null || _fontManager_loadFonts === void 0 ? void 0 : _fontManager_loadFonts.call(_utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager, pendientes);\n                    // Si devuelve promise, esperamos\n                    if (maybePromise && typeof maybePromise.then === \"function\") {\n                        await maybePromise;\n                    }\n                    // ? Segundo seguro: esperar a que el browser confirme\n                    // (esto garantiza que no haya fallback)\n                    if ((_document = document) === null || _document === void 0 ? void 0 : (_document_fonts = _document.fonts) === null || _document_fonts === void 0 ? void 0 : _document_fonts.load) {\n                        await Promise.all(pendientes.map({\n                            \"CanvasEditor.useEffect.precargar\": (f)=>document.fonts.load('16px \"'.concat(f, '\"'))\n                        }[\"CanvasEditor.useEffect.precargar\"]));\n                    }\n                    if (!alive) return;\n                    pendientes.forEach({\n                        \"CanvasEditor.useEffect.precargar\": (fontName)=>loadedFontFamiliesRef.current.add(fontName)\n                    }[\"CanvasEditor.useEffect.precargar\"]);\n                    // Redraw por si acaso\n                    requestAnimationFrame({\n                        \"CanvasEditor.useEffect.precargar\": ()=>{\n                            var _stageRef_current_batchDraw, _stageRef_current;\n                            (_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_batchDraw = _stageRef_current.batchDraw) === null || _stageRef_current_batchDraw === void 0 ? void 0 : _stageRef_current_batchDraw.call(_stageRef_current);\n                        }\n                    }[\"CanvasEditor.useEffect.precargar\"]);\n                } catch (e) {\n                    console.warn(\"?? Error precargando fuentes:\", e);\n                }\n            }\n            // Solo precargar cuando ya cargaste el borrador (para evitar overlay raro)\n            if (cargado) precargar();\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    alive = false;\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        cargado,\n        fuentesNecesarias\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{}\n    }[\"CanvasEditor.useEffect\"], [\n        seleccionActiva,\n        areaSeleccion,\n        inicioSeleccion\n    ]);\n    const actualizarObjeto = (index, nuevo)=>{\n        const nuevos = [\n            ...objetos\n        ];\n        const { fromTransform, ...cleanNuevo } = nuevo;\n        // Preservar datos específicos según el tipo de objeto\n        if (nuevos[index].tipo === 'forma' && nuevos[index].figura === 'line') {\n            // Para líneas, asegurar que los puntos se preserven\n            nuevos[index] = {\n                ...nuevos[index],\n                ...cleanNuevo,\n                points: cleanNuevo.points || nuevos[index].points || [\n                    0,\n                    0,\n                    100,\n                    0\n                ]\n            };\n        } else {\n            nuevos[index] = {\n                ...nuevos[index],\n                ...cleanNuevo\n            };\n        }\n        setObjetos(nuevos);\n    };\n    const actualizarObjetoPorId = (id, cambios)=>{\n        const index = objetos.findIndex((o)=>o.id === id);\n        if (index === -1) return console.warn(\"? No se encontró el objeto con ID:\", id);\n        actualizarObjeto(index, cambios);\n    };\n    const normalizarMedidasGaleria = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[normalizarMedidasGaleria]\": (galeria, widthCandidate, xCandidate)=>{\n            const canvasWidth = 800;\n            const rows = Math.max(1, Number(galeria === null || galeria === void 0 ? void 0 : galeria.rows) || 1);\n            const cols = Math.max(1, Number(galeria === null || galeria === void 0 ? void 0 : galeria.cols) || 1);\n            const gap = Math.max(0, Number(galeria === null || galeria === void 0 ? void 0 : galeria.gap) || 0);\n            const cellRatio = (galeria === null || galeria === void 0 ? void 0 : galeria.ratio) === \"4:3\" ? 3 / 4 : (galeria === null || galeria === void 0 ? void 0 : galeria.ratio) === \"16:9\" ? 9 / 16 : 1;\n            const minGridWidth = gap * (cols - 1) + cols;\n            let widthPct = Number(widthCandidate) / canvasWidth * 100;\n            if (!Number.isFinite(widthPct)) widthPct = Number(galeria === null || galeria === void 0 ? void 0 : galeria.widthPct);\n            if (!Number.isFinite(widthPct)) widthPct = 70;\n            widthPct = Math.max(10, Math.min(100, widthPct));\n            let width = canvasWidth * widthPct / 100;\n            width = Math.min(canvasWidth, Math.max(minGridWidth, width));\n            widthPct = Math.max(10, Math.min(100, width / canvasWidth * 100));\n            const maxX = Math.max(0, canvasWidth - width);\n            const fallbackX = Number.isFinite(Number(galeria === null || galeria === void 0 ? void 0 : galeria.x)) ? Number(galeria.x) : 0;\n            const rawX = Number.isFinite(Number(xCandidate)) ? Number(xCandidate) : fallbackX;\n            const x = Math.max(0, Math.min(rawX, maxX));\n            const cellW = Math.max(1, (width - gap * (cols - 1)) / cols);\n            const cellH = cellW * cellRatio;\n            const height = rows * cellH + gap * (rows - 1);\n            return {\n                width,\n                height,\n                widthPct,\n                x\n            };\n        }\n    }[\"CanvasEditor.useCallback[normalizarMedidasGaleria]\"], []);\n    const actualizarLinea = (lineId, nuevaData)=>{\n        const index = objetos.findIndex((obj)=>obj.id === lineId);\n        if (index === -1) {\n            return;\n        }\n        if (nuevaData.isPreview) {\n            // Preview: Solo actualización visual sin historial\n            setObjetos((prev)=>{\n                const nuevos = [\n                    ...prev\n                ];\n                const { isPreview, ...cleanData } = nuevaData;\n                // Asegurar que los puntos siempre sean un array válido\n                if (cleanData.points) {\n                    cleanData.points = cleanData.points.map((p)=>parseFloat(p) || 0);\n                }\n                // ?? PRESERVAR strokeWidth si existe\n                if (cleanData.strokeWidth !== undefined) {\n                    cleanData.strokeWidth = parseInt(cleanData.strokeWidth) || 2;\n                }\n                nuevos[index] = {\n                    ...nuevos[index],\n                    ...cleanData\n                };\n                return nuevos;\n            });\n        } else if (nuevaData.isFinal) {\n            // Final: Guardar en historial\n            setObjetos((prev)=>{\n                const nuevos = [\n                    ...prev\n                ];\n                const { isFinal, ...cleanData } = nuevaData;\n                // Asegurar que los puntos siempre sean un array válido\n                if (cleanData.points) {\n                    cleanData.points = cleanData.points.map((p)=>parseFloat(p) || 0);\n                }\n                // ?? PRESERVAR strokeWidth si existe\n                if (cleanData.strokeWidth !== undefined) {\n                    cleanData.strokeWidth = parseInt(cleanData.strokeWidth) || 2;\n                }\n                nuevos[index] = {\n                    ...nuevos[index],\n                    ...cleanData\n                };\n                return nuevos;\n            });\n        }\n    };\n    // ?? Métricas de texto consistentes con el render de ElementoCanvas\n    const obtenerMetricasTexto = function(texto) {\n        let { fontSize = 24, fontFamily = \"sans-serif\", fontWeight = \"normal\", fontStyle = \"normal\", lineHeight = 1.2 } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n            const fallbackSize = Number.isFinite(fontSize) && fontSize > 0 ? fontSize : 24;\n            return {\n                width: Math.max(20, String(texto !== null && texto !== void 0 ? texto : \"\").length * (fallbackSize * 0.55)),\n                height: fallbackSize * lineHeight\n            };\n        }\n        const safeFontSize = Number.isFinite(fontSize) && fontSize > 0 ? fontSize : 24;\n        const safeLineHeight = Number.isFinite(lineHeight) && lineHeight > 0 ? lineHeight : 1.2;\n        const safeFamily = String(fontFamily || \"sans-serif\");\n        const fontForCanvas = safeFamily.includes(\",\") ? safeFamily : /\\s/.test(safeFamily) ? '\"'.concat(safeFamily, '\"') : safeFamily;\n        ctx.font = \"\".concat(fontStyle || \"normal\", \" \").concat(fontWeight || \"normal\", \" \").concat(safeFontSize, \"px \").concat(fontForCanvas);\n        const rawText = String(texto !== null && texto !== void 0 ? texto : \"\");\n        const safeText = rawText.replace(/[ \\t]+$/gm, \"\");\n        const lines = safeText.split(/\\r?\\n/);\n        const maxLineWidth = Math.max(...lines.map((line)=>ctx.measureText(line).width), 20);\n        return {\n            width: maxLineWidth,\n            height: safeFontSize * safeLineHeight * Math.max(lines.length, 1)\n        };\n    };\n    const medirAnchoTextoKonva = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[medirAnchoTextoKonva]\": function(objTexto, textoObjetivo) {\n            let fontSizeOverride = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n            if (!objTexto || \"object\" === \"undefined\") return null;\n            try {\n                var _probe_getTextWidth;\n                const safeText = String(textoObjetivo !== null && textoObjetivo !== void 0 ? textoObjetivo : \"\").replace(/[ \\t]+$/gm, \"\");\n                const safeFontFamily = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.isFontAvailable(objTexto.fontFamily) ? objTexto.fontFamily : \"sans-serif\";\n                const safeFontSize = Number.isFinite(fontSizeOverride) && fontSizeOverride > 0 ? fontSizeOverride : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n                const baseLineHeight = Number.isFinite(objTexto.lineHeight) && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n                const probe = new (konva__WEBPACK_IMPORTED_MODULE_32___default().Text)({\n                    text: safeText,\n                    fontSize: safeFontSize,\n                    fontFamily: safeFontFamily,\n                    fontWeight: objTexto.fontWeight || \"normal\",\n                    fontStyle: resolveKonvaFontStyle(objTexto.fontStyle || \"normal\", objTexto.fontWeight || \"normal\"),\n                    lineHeight: baseLineHeight * 0.92,\n                    padding: 0,\n                    wrap: \"none\"\n                });\n                const width = Number(((_probe_getTextWidth = probe.getTextWidth) === null || _probe_getTextWidth === void 0 ? void 0 : _probe_getTextWidth.call(probe)) || 0);\n                probe.destroy();\n                return Number.isFinite(width) && width > 0 ? width : null;\n            } catch (e) {\n                return null;\n            }\n        }\n    }[\"CanvasEditor.useCallback[medirAnchoTextoKonva]\"], []);\n    const medirAltoTextoKonva = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[medirAltoTextoKonva]\": function(objTexto, textoObjetivo) {\n            let fontSizeOverride = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n            if (!objTexto || \"object\" === \"undefined\") return null;\n            try {\n                var _probe_height;\n                const safeText = String(textoObjetivo !== null && textoObjetivo !== void 0 ? textoObjetivo : \"\").replace(/[ \\t]+$/gm, \"\");\n                const safeFontFamily = _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager.isFontAvailable(objTexto.fontFamily) ? objTexto.fontFamily : \"sans-serif\";\n                const safeFontSize = Number.isFinite(fontSizeOverride) && fontSizeOverride > 0 ? fontSizeOverride : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n                const baseLineHeight = Number.isFinite(objTexto.lineHeight) && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n                const probe = new (konva__WEBPACK_IMPORTED_MODULE_32___default().Text)({\n                    text: safeText,\n                    fontSize: safeFontSize,\n                    fontFamily: safeFontFamily,\n                    fontWeight: objTexto.fontWeight || \"normal\",\n                    fontStyle: resolveKonvaFontStyle(objTexto.fontStyle || \"normal\", objTexto.fontWeight || \"normal\"),\n                    lineHeight: baseLineHeight * 0.92,\n                    padding: 0,\n                    wrap: \"none\"\n                });\n                const height = Number(((_probe_height = probe.height) === null || _probe_height === void 0 ? void 0 : _probe_height.call(probe)) || 0);\n                probe.destroy();\n                return Number.isFinite(height) && height > 0 ? height : null;\n            } catch (e) {\n                return null;\n            }\n        }\n    }[\"CanvasEditor.useCallback[medirAltoTextoKonva]\"], []);\n    const calcularXTextoCentradoPorTamano = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoCentradoPorTamano]\": (objTexto, nextFontSize)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const previousMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const previousWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, objTexto.fontSize);\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const previousWidth = Number.isFinite(previousWidthFromKonva) && previousWidthFromKonva > 0 ? previousWidthFromKonva : previousMetrics.width;\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            const currentX = Number.isFinite(objTexto.x) ? objTexto.x : 0;\n            const centerX = currentX + previousWidth / 2;\n            return centerX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoCentradoPorTamano]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    const calcularXTextoDesdeCentro = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoDesdeCentro]\": (objTexto, nextFontSize, centerX)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            }\n            const safeCenterX = Number(centerX);\n            if (!Number.isFinite(safeCenterX)) {\n                return calcularXTextoCentradoPorTamano(objTexto, nextFontSize);\n            }\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            return safeCenterX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoDesdeCentro]\"], [\n        calcularXTextoCentradoPorTamano,\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    const calcularYTextoDesdeCentro = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularYTextoDesdeCentro]\": (objTexto, nextFontSize, centerY)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.y) ? objTexto.y : 0;\n            }\n            const safeCenterY = Number(centerY);\n            if (!Number.isFinite(safeCenterY)) {\n                return Number.isFinite(objTexto.y) ? objTexto.y : 0;\n            }\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const nextMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextHeightFromKonva = medirAltoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const nextHeight = Number.isFinite(nextHeightFromKonva) && nextHeightFromKonva > 0 ? nextHeightFromKonva : nextMetrics.height;\n            return safeCenterY - nextHeight / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularYTextoDesdeCentro]\"], [\n        obtenerMetricasTexto,\n        medirAltoTextoKonva\n    ]);\n    const calcularPosTextoDesdeCentro = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularPosTextoDesdeCentro]\": function(objTexto, nextFontSize, centerX, centerY) {\n            let rotationDeg = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                return {\n                    x: Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0,\n                    y: null\n                };\n            }\n            const safeNextSize = Number.isFinite(nextFontSize) && nextFontSize > 0 ? nextFontSize : Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            const safeCenterX = Number(centerX);\n            const safeCenterY = Number(centerY);\n            const safeRotation = Number(rotationDeg);\n            const theta = (Number.isFinite(safeRotation) ? safeRotation : 0) * (Math.PI / 180);\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const metrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: safeNextSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const widthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const heightFromKonva = medirAltoTextoKonva(objTexto, objTexto.texto, safeNextSize);\n            const width = Number.isFinite(widthFromKonva) && widthFromKonva > 0 ? widthFromKonva : metrics.width;\n            const height = Number.isFinite(heightFromKonva) && heightFromKonva > 0 ? heightFromKonva : metrics.height;\n            const halfW = width / 2;\n            const halfH = height / 2;\n            const centerOffsetX = halfW * Math.cos(theta) - halfH * Math.sin(theta);\n            const centerOffsetY = halfW * Math.sin(theta) + halfH * Math.cos(theta);\n            const fallbackX = calcularXTextoDesdeCentro(objTexto, safeNextSize, safeCenterX);\n            const fallbackY = calcularYTextoDesdeCentro(objTexto, safeNextSize, safeCenterY);\n            return {\n                x: Number.isFinite(safeCenterX) ? safeCenterX - centerOffsetX : fallbackX,\n                y: Number.isFinite(safeCenterY) ? safeCenterY - centerOffsetY : fallbackY,\n                width,\n                height\n            };\n        }\n    }[\"CanvasEditor.useCallback[calcularPosTextoDesdeCentro]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva,\n        medirAltoTextoKonva,\n        calcularXTextoDesdeCentro,\n        calcularYTextoDesdeCentro\n    ]);\n    const ajustarFontSizeAAnchoVisual = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[ajustarFontSizeAAnchoVisual]\": (objTexto, proposedFontSize, targetVisualWidth)=>{\n            const safeProposed = Number(proposedFontSize);\n            const safeTargetWidth = Number(targetVisualWidth);\n            var _objTexto_id, _objTexto_fontSize;\n            textResizeDebug(\"fit-width:start\", {\n                id: (_objTexto_id = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id !== void 0 ? _objTexto_id : null,\n                proposedFontSize: safeProposed,\n                targetVisualWidth: safeTargetWidth,\n                currentFontSize: (_objTexto_fontSize = objTexto === null || objTexto === void 0 ? void 0 : objTexto.fontSize) !== null && _objTexto_fontSize !== void 0 ? _objTexto_fontSize : null\n            });\n            if (!objTexto || objTexto.tipo !== \"texto\") {\n                var _objTexto_id1;\n                textResizeDebug(\"fit-width:skip-invalid-obj\", {\n                    id: (_objTexto_id1 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id1 !== void 0 ? _objTexto_id1 : null\n                });\n                return Number.isFinite(safeProposed) && safeProposed > 0 ? safeProposed : 24;\n            }\n            if (!Number.isFinite(safeProposed) || safeProposed <= 0) {\n                var _objTexto_id2;\n                textResizeDebug(\"fit-width:skip-invalid-size\", {\n                    id: (_objTexto_id2 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id2 !== void 0 ? _objTexto_id2 : null\n                });\n                return Number.isFinite(objTexto.fontSize) && objTexto.fontSize > 0 ? objTexto.fontSize : 24;\n            }\n            if (!Number.isFinite(safeTargetWidth) || safeTargetWidth <= 0) {\n                var _objTexto_id3;\n                textResizeDebug(\"fit-width:skip-invalid-width\", {\n                    id: (_objTexto_id3 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id3 !== void 0 ? _objTexto_id3 : null\n                });\n                return safeProposed;\n            }\n            let nextSize = Math.max(6, safeProposed);\n            // Dos iteraciones alcanzan para compensar el desajuste entre preview escalado y render final.\n            for(let i = 0; i < 2; i += 1){\n                const measuredWidth = medirAnchoTextoKonva(objTexto, objTexto.texto, nextSize);\n                if (!Number.isFinite(measuredWidth) || measuredWidth <= 0) {\n                    var _objTexto_id4;\n                    textResizeDebug(\"fit-width:break-no-measure\", {\n                        id: (_objTexto_id4 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id4 !== void 0 ? _objTexto_id4 : null,\n                        iteration: i,\n                        measuredWidth\n                    });\n                    break;\n                }\n                const ratio = safeTargetWidth / measuredWidth;\n                if (!Number.isFinite(ratio) || ratio <= 0) {\n                    var _objTexto_id5;\n                    textResizeDebug(\"fit-width:break-invalid-ratio\", {\n                        id: (_objTexto_id5 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id5 !== void 0 ? _objTexto_id5 : null,\n                        iteration: i,\n                        ratio,\n                        measuredWidth,\n                        targetVisualWidth: safeTargetWidth\n                    });\n                    break;\n                }\n                const candidate = Math.max(6, nextSize * ratio);\n                var _objTexto_id6;\n                textResizeDebug(\"fit-width:iter\", {\n                    id: (_objTexto_id6 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id6 !== void 0 ? _objTexto_id6 : null,\n                    iteration: i,\n                    measuredWidth,\n                    ratio,\n                    prevSize: nextSize,\n                    candidate\n                });\n                if (Math.abs(candidate - nextSize) <= 0.01) {\n                    nextSize = candidate;\n                    break;\n                }\n                nextSize = candidate;\n            }\n            const finalSize = Number(nextSize.toFixed(3));\n            var _objTexto_id7;\n            textResizeDebug(\"fit-width:end\", {\n                id: (_objTexto_id7 = objTexto === null || objTexto === void 0 ? void 0 : objTexto.id) !== null && _objTexto_id7 !== void 0 ? _objTexto_id7 : null,\n                finalSize,\n                targetVisualWidth: safeTargetWidth\n            });\n            return finalSize;\n        }\n    }[\"CanvasEditor.useCallback[ajustarFontSizeAAnchoVisual]\"], [\n        medirAnchoTextoKonva,\n        textResizeDebug\n    ]);\n    const calcularXTextoCentrado = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[calcularXTextoCentrado]\": (objTexto, textoObjetivo)=>{\n            if (!objTexto || objTexto.tipo !== \"texto\") return Number.isFinite(objTexto === null || objTexto === void 0 ? void 0 : objTexto.x) ? objTexto.x : 0;\n            const baseLineHeight = typeof objTexto.lineHeight === \"number\" && objTexto.lineHeight > 0 ? objTexto.lineHeight : 1.2;\n            const previousMetrics = obtenerMetricasTexto(objTexto.texto, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const nextMetrics = obtenerMetricasTexto(textoObjetivo, {\n                fontSize: objTexto.fontSize,\n                fontFamily: objTexto.fontFamily,\n                fontWeight: objTexto.fontWeight,\n                fontStyle: objTexto.fontStyle,\n                lineHeight: baseLineHeight * 0.92\n            });\n            const previousWidthFromKonva = medirAnchoTextoKonva(objTexto, objTexto.texto);\n            const nextWidthFromKonva = medirAnchoTextoKonva(objTexto, textoObjetivo);\n            const previousWidth = Number.isFinite(previousWidthFromKonva) && previousWidthFromKonva > 0 ? previousWidthFromKonva : previousMetrics.width;\n            const nextWidth = Number.isFinite(nextWidthFromKonva) && nextWidthFromKonva > 0 ? nextWidthFromKonva : nextMetrics.width;\n            const currentX = Number.isFinite(objTexto.x) ? objTexto.x : 0;\n            const centerX = currentX + previousWidth / 2;\n            return centerX - nextWidth / 2;\n        }\n    }[\"CanvasEditor.useCallback[calcularXTextoCentrado]\"], [\n        obtenerMetricasTexto,\n        medirAnchoTextoKonva\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const describeTarget = {\n                \"CanvasEditor.useEffect.describeTarget\": (target)=>{\n                    var _target_classList;\n                    if (target === window) return \"window\";\n                    if (target === document) return \"document\";\n                    if (!(target instanceof Element)) return \"unknown\";\n                    const tag = String(target.tagName || \"\").toLowerCase();\n                    const id = target.id ? \"#\".concat(target.id) : \"\";\n                    const classes = ((_target_classList = target.classList) === null || _target_classList === void 0 ? void 0 : _target_classList.length) ? \".\".concat(Array.from(target.classList).slice(0, 2).join(\".\")) : \"\";\n                    return \"\".concat(tag).concat(id).concat(classes) || \"element\";\n                }\n            }[\"CanvasEditor.useEffect.describeTarget\"];\n            const isInsideFloatingUi = {\n                \"CanvasEditor.useEffect.isInsideFloatingUi\": (target)=>{\n                    if (!(target instanceof Element)) return false;\n                    return Boolean(target.closest(\".menu-z-index\") || target.closest('[data-option-button=\"true\"]'));\n                }\n            }[\"CanvasEditor.useEffect.isInsideFloatingUi\"];\n            const handlePointerOutside = {\n                \"CanvasEditor.useEffect.handlePointerOutside\": (event)=>{\n                    const insideFloatingUi = isInsideFloatingUi(event.target);\n                    if (insideFloatingUi) {\n                        var _event_pointerType;\n                        logOptionButtonMenuDebug(\"outside-ignore\", {\n                            source: \"global-pointerdown\",\n                            target: describeTarget(event.target),\n                            eventType: event.type,\n                            pointerType: (_event_pointerType = event.pointerType) !== null && _event_pointerType !== void 0 ? _event_pointerType : null\n                        });\n                        return;\n                    }\n                    setMostrarPanelZ({\n                        \"CanvasEditor.useEffect.handlePointerOutside\": (prev)=>{\n                            if (!prev) return prev;\n                            var _event_pointerType;\n                            logOptionButtonMenuDebug(\"outside-close\", {\n                                source: \"global-pointerdown\",\n                                target: describeTarget(event.target),\n                                eventType: event.type,\n                                pointerType: (_event_pointerType = event.pointerType) !== null && _event_pointerType !== void 0 ? _event_pointerType : null,\n                                prev,\n                                next: false\n                            });\n                            return false;\n                        }\n                    }[\"CanvasEditor.useEffect.handlePointerOutside\"]);\n                }\n            }[\"CanvasEditor.useEffect.handlePointerOutside\"];\n            if ( true && \"PointerEvent\" in window) {\n                document.addEventListener(\"pointerdown\", handlePointerOutside, true);\n                return ({\n                    \"CanvasEditor.useEffect\": ()=>{\n                        document.removeEventListener(\"pointerdown\", handlePointerOutside, true);\n                    }\n                })[\"CanvasEditor.useEffect\"];\n            }\n            document.addEventListener(\"mousedown\", handlePointerOutside, true);\n            document.addEventListener(\"touchstart\", handlePointerOutside, {\n                capture: true,\n                passive: true\n            });\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    document.removeEventListener(\"mousedown\", handlePointerOutside, true);\n                    document.removeEventListener(\"touchstart\", handlePointerOutside, true);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        logOptionButtonMenuDebug\n    ]);\n    const actualizarFondoSeccion = (id, nuevoFondo)=>{\n        setSecciones((prev)=>prev.map((s)=>s.id === id ? {\n                    ...s,\n                    fondo: nuevoFondo\n                } : s));\n    };\n    (0,_hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n        onDeshacer,\n        onRehacer,\n        onDuplicar,\n        onEliminar,\n        onDeseleccionar: {\n            \"CanvasEditor.useKeyboardShortcuts\": ()=>{\n                if (elementosSeleccionados.length > 0) {\n                    setElementosSeleccionados([]);\n                    setMostrarPanelZ(false);\n                    setMostrarSubmenuCapa(false);\n                    setMostrarSelectorFuente(false);\n                    setMostrarSelectorTamano(false);\n                    setHoverId(null);\n                }\n            }\n        }[\"CanvasEditor.useKeyboardShortcuts\"],\n        onCopiar,\n        onPegar,\n        onCambiarAlineacion,\n        isEditing: !!editing.id,\n        tieneSeleccion: elementosSeleccionados.length > 0\n    });\n    const cambiarColorFondoSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (seccionId, nuevoColor)=>{\n            setSecciones({\n                \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (prev)=>prev.map({\n                        \"CanvasEditor.useCallback[cambiarColorFondoSeccion]\": (s)=>{\n                            if (s.id !== seccionId) return s;\n                            return {\n                                ...s,\n                                fondo: nuevoColor\n                            };\n                        }\n                    }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"])\n            }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"]);\n        }\n    }[\"CanvasEditor.useCallback[cambiarColorFondoSeccion]\"], [\n        setSecciones\n    ]);\n    (0,_editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__[\"default\"])({\n        seccionesOrdenadas,\n        secciones,\n        seccionActivaId,\n        objetos,\n        altoCanvas,\n        calcularOffsetY: _utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY,\n        cambiarColorFondoSeccion,\n        onDeshacer,\n        onRehacer,\n        historialLength: historial.length,\n        futurosLength: futuros.length,\n        stageRef\n    });\n    const esSeccionPantallaById = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[esSeccionPantallaById]\": (seccionId)=>{\n            const s = seccionesOrdenadas.find({\n                \"CanvasEditor.useCallback[esSeccionPantallaById].s\": (x)=>x.id === seccionId\n            }[\"CanvasEditor.useCallback[esSeccionPantallaById].s\"]);\n            return s && normalizarAltoModo(s.altoModo) === \"pantalla\";\n        }\n    }[\"CanvasEditor.useCallback[esSeccionPantallaById]\"], [\n        seccionesOrdenadas\n    ]);\n    const altoCanvasDinamico = seccionesOrdenadas.reduce((acc, s)=>acc + s.altura, 0) || 800;\n    const abrirModalBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[abrirModalBorrarSeccion]\": (seccionId)=>{\n            if (!seccionId || isDeletingSection) return;\n            setDeleteSectionModal({\n                isOpen: true,\n                sectionId: seccionId\n            });\n        }\n    }[\"CanvasEditor.useCallback[abrirModalBorrarSeccion]\"], [\n        isDeletingSection\n    ]);\n    const cerrarModalBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[cerrarModalBorrarSeccion]\": ()=>{\n            if (isDeletingSection) return;\n            setDeleteSectionModal({\n                isOpen: false,\n                sectionId: null\n            });\n        }\n    }[\"CanvasEditor.useCallback[cerrarModalBorrarSeccion]\"], [\n        isDeletingSection\n    ]);\n    const confirmarBorrarSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[confirmarBorrarSeccion]\": async ()=>{\n            const seccionId = deleteSectionModal.sectionId;\n            if (!seccionId || isDeletingSection) return;\n            setIsDeletingSection(true);\n            try {\n                await (0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.borrarSeccion)({\n                    seccionId,\n                    secciones,\n                    objetos,\n                    slug,\n                    seccionActivaId,\n                    setSecciones,\n                    setObjetos,\n                    setSeccionActivaId\n                });\n                setDeleteSectionModal({\n                    isOpen: false,\n                    sectionId: null\n                });\n            } finally{\n                setIsDeletingSection(false);\n            }\n        }\n    }[\"CanvasEditor.useCallback[confirmarBorrarSeccion]\"], [\n        deleteSectionModal.sectionId,\n        isDeletingSection,\n        secciones,\n        objetos,\n        slug,\n        seccionActivaId,\n        setSecciones,\n        setObjetos,\n        setSeccionActivaId\n    ]);\n    // 3) Cada vez que el usuario selecciona una sección, actualizamos global y notificamos\n    const onSelectSeccion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[onSelectSeccion]\": (id)=>{\n            try {\n                setSeccionActivaId(id);\n                window._seccionActivaId = id;\n                window.dispatchEvent(new CustomEvent(\"seccion-activa\", {\n                    detail: {\n                        id\n                    }\n                }));\n            } catch (e) {\n                console.warn(\"No pude emitir seccion-activa:\", e);\n            }\n        }\n    }[\"CanvasEditor.useCallback[onSelectSeccion]\"], [\n        setSeccionActivaId\n    ]);\n    const resolverViewportScrollSecciones = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[resolverViewportScrollSecciones]\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container, _stageContainer_closest;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            const stageContainer = stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage);\n            if (!stageContainer || \"object\" === \"undefined\") return null;\n            const mainElement = (_stageContainer_closest = stageContainer.closest) === null || _stageContainer_closest === void 0 ? void 0 : _stageContainer_closest.call(stageContainer, \"main\");\n            if (mainElement) return mainElement;\n            let current = stageContainer.parentElement;\n            while(current && current !== document.body){\n                const style = window.getComputedStyle(current);\n                const overflowY = String(style.overflowY || \"\").toLowerCase();\n                const overflow = String(style.overflow || \"\").toLowerCase();\n                const isScrollable = overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\" || overflow === \"auto\" || overflow === \"scroll\" || overflow === \"overlay\";\n                if (isScrollable && current.scrollHeight > current.clientHeight + 1) {\n                    return current;\n                }\n                current = current.parentElement;\n            }\n            return window;\n        }\n    }[\"CanvasEditor.useCallback[resolverViewportScrollSecciones]\"], []);\n    const sincronizarSeccionVisiblePorScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current, _stage_container, _stageContainer_getBoundingClientRect;\n            if (!seccionesOrdenadas.length || \"object\" === \"undefined\") return;\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n            const stageContainer = stage === null || stage === void 0 ? void 0 : (_stage_container = stage.container) === null || _stage_container === void 0 ? void 0 : _stage_container.call(stage);\n            if (!stageContainer) return;\n            const stageRect = (_stageContainer_getBoundingClientRect = stageContainer.getBoundingClientRect) === null || _stageContainer_getBoundingClientRect === void 0 ? void 0 : _stageContainer_getBoundingClientRect.call(stageContainer);\n            if (!stageRect || !Number.isFinite(stageRect.top) || !Number.isFinite(stageRect.height)) {\n                return;\n            }\n            const viewport = autoSectionViewportRef.current || resolverViewportScrollSecciones();\n            if (!viewport) return;\n            let viewportTop = 0;\n            let viewportBottom = window.innerHeight || document.documentElement.clientHeight || 0;\n            if (viewport !== window) {\n                var _viewport_getBoundingClientRect;\n                const viewportRect = (_viewport_getBoundingClientRect = viewport.getBoundingClientRect) === null || _viewport_getBoundingClientRect === void 0 ? void 0 : _viewport_getBoundingClientRect.call(viewport);\n                if (!viewportRect) return;\n                viewportTop = viewportRect.top;\n                viewportBottom = viewportRect.bottom;\n            }\n            if (!Number.isFinite(viewportTop) || !Number.isFinite(viewportBottom) || viewportBottom <= viewportTop) {\n                return;\n            }\n            const alturaStagePx = Number(stageRect.height || 0);\n            const alturaCanvas = Math.max(1, Number(altoCanvasDinamico) || 1);\n            if (!(alturaStagePx > 0)) return;\n            const pxPorUnidad = alturaStagePx / alturaCanvas;\n            if (!(pxPorUnidad > 0)) return;\n            const centroViewport = (viewportTop + viewportBottom) / 2;\n            let mejorId = null;\n            let mejorVisible = 0;\n            let mejorRatio = -1;\n            let mejorDistanciaCentro = Number.POSITIVE_INFINITY;\n            seccionesOrdenadas.forEach({\n                \"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\": (seccion, index)=>{\n                    const alturaSeccion = Math.max(1, Number(seccion.altura) || 1);\n                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index);\n                    const top = stageRect.top + offsetY * pxPorUnidad;\n                    const bottom = top + alturaSeccion * pxPorUnidad;\n                    const visible = Math.max(0, Math.min(bottom, viewportBottom) - Math.max(top, viewportTop));\n                    if (visible <= 0) return;\n                    const ratioVisible = visible / (alturaSeccion * pxPorUnidad);\n                    const distanciaCentro = Math.abs((top + bottom) / 2 - centroViewport);\n                    const mejoraPorVisible = visible > mejorVisible + 1;\n                    const empateVisible = Math.abs(visible - mejorVisible) <= 1;\n                    const mejoraPorRatio = empateVisible && ratioVisible > mejorRatio + 0.001;\n                    const empateRatio = empateVisible && Math.abs(ratioVisible - mejorRatio) <= 0.001;\n                    const mejoraPorCentro = empateRatio && distanciaCentro < mejorDistanciaCentro;\n                    if (mejoraPorVisible || mejoraPorRatio || mejoraPorCentro) {\n                        mejorId = seccion.id;\n                        mejorVisible = visible;\n                        mejorRatio = ratioVisible;\n                        mejorDistanciaCentro = distanciaCentro;\n                    }\n                }\n            }[\"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\"]);\n            if (!mejorId) return;\n            if (seccionActivaIdRef.current === mejorId) return;\n            onSelectSeccion(mejorId);\n        }\n    }[\"CanvasEditor.useCallback[sincronizarSeccionVisiblePorScroll]\"], [\n        altoCanvasDinamico,\n        onSelectSeccion,\n        resolverViewportScrollSecciones,\n        seccionesOrdenadas\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            if (!seccionesOrdenadas.length) return undefined;\n            autoSectionViewportRef.current = resolverViewportScrollSecciones();\n            const scrollTarget = autoSectionViewportRef.current || window;\n            const scheduleSync = {\n                \"CanvasEditor.useEffect.scheduleSync\": ()=>{\n                    if (autoSectionScrollRafRef.current) return;\n                    autoSectionScrollRafRef.current = window.requestAnimationFrame({\n                        \"CanvasEditor.useEffect.scheduleSync\": ()=>{\n                            autoSectionScrollRafRef.current = 0;\n                            sincronizarSeccionVisiblePorScroll();\n                        }\n                    }[\"CanvasEditor.useEffect.scheduleSync\"]);\n                }\n            }[\"CanvasEditor.useEffect.scheduleSync\"];\n            scheduleSync();\n            const eventTarget = scrollTarget === window ? window : scrollTarget;\n            eventTarget.addEventListener(\"scroll\", scheduleSync, {\n                passive: true\n            });\n            window.addEventListener(\"resize\", scheduleSync);\n            window.addEventListener(\"orientationchange\", scheduleSync);\n            if (window.visualViewport) {\n                window.visualViewport.addEventListener(\"scroll\", scheduleSync);\n                window.visualViewport.addEventListener(\"resize\", scheduleSync);\n            }\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    eventTarget.removeEventListener(\"scroll\", scheduleSync);\n                    window.removeEventListener(\"resize\", scheduleSync);\n                    window.removeEventListener(\"orientationchange\", scheduleSync);\n                    if (window.visualViewport) {\n                        window.visualViewport.removeEventListener(\"scroll\", scheduleSync);\n                        window.visualViewport.removeEventListener(\"resize\", scheduleSync);\n                    }\n                    if (autoSectionScrollRafRef.current) {\n                        window.cancelAnimationFrame(autoSectionScrollRafRef.current);\n                        autoSectionScrollRafRef.current = 0;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        resolverViewportScrollSecciones,\n        seccionesOrdenadas.length,\n        sincronizarSeccionVisiblePorScroll\n    ]);\n    // ?? NUEVO HOOK PARA GUÍAS\n    const { guiaLineas, mostrarGuias, limpiarGuias, configurarDragEnd } = (0,_hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__[\"default\"])({\n        anchoCanvas: 800,\n        altoCanvas: altoCanvasDinamico,\n        // UX: guía de sección solo al centrar, con imán sutil.\n        margenSensibilidad: 8,\n        magnetRadius: 10,\n        sectionMagnetRadius: 6,\n        snapStrength: 0.8,\n        sectionSnapStrength: 1,\n        sectionLineTolerance: 0.75,\n        snapToEdges: true,\n        snapToCenters: true,\n        seccionesOrdenadas\n    });\n    // ?? Función para actualizar posición del botón SIN re-render\n    const { actualizarPosicionBotonOpciones } = (0,_components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__[\"default\"])({\n        botonOpcionesRef,\n        layoutRootRef: editorOverlayRootRef,\n        elementRefs,\n        elementosSeleccionados,\n        stageRef,\n        escalaVisual,\n        escalaActiva,\n        isMobile,\n        buttonSize: optionButtonSize\n    });\n    const handleTransformInteractionStart = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleTransformInteractionStart]\": function() {\n            let payload = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n            const rotating = (payload === null || payload === void 0 ? void 0 : payload.isRotate) === true;\n            setIsSelectionRotating(rotating);\n            if (rotating) {\n                setMostrarPanelZ(false);\n            }\n        }\n    }[\"CanvasEditor.useCallback[handleTransformInteractionStart]\"], []);\n    const handleTransformInteractionEnd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleTransformInteractionEnd]\": ()=>{\n            setIsSelectionRotating(false);\n            requestAnimationFrame({\n                \"CanvasEditor.useCallback[handleTransformInteractionEnd]\": ()=>{\n                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                        actualizarPosicionBotonOpciones(\"transform-interaction-end\");\n                    }\n                }\n            }[\"CanvasEditor.useCallback[handleTransformInteractionEnd]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleTransformInteractionEnd]\"], [\n        actualizarPosicionBotonOpciones\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (elementosSeleccionados.length === 1 && !editing.id) return;\n            setIsSelectionRotating(false);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados.length,\n        editing.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const onDragStartGlobal = {\n                \"CanvasEditor.useEffect.onDragStartGlobal\": ()=>{\n                    // limpiar hover/preselección inmediatamente para evitar \"flash\" visual\n                    (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)({\n                        \"CanvasEditor.useEffect.onDragStartGlobal\": ()=>{\n                            setHoverId(null);\n                            setElementosPreSeleccionados([]);\n                            setIsDragging(true);\n                        }\n                    }[\"CanvasEditor.useEffect.onDragStartGlobal\"]);\n                }\n            }[\"CanvasEditor.useEffect.onDragStartGlobal\"];\n            const onDragEndGlobal = {\n                \"CanvasEditor.useEffect.onDragEndGlobal\": ()=>{\n                // nada por ahora; si quisieras, podrías recalcular algo acá\n                }\n            }[\"CanvasEditor.useEffect.onDragEndGlobal\"];\n            window.addEventListener(\"dragging-start\", onDragStartGlobal);\n            window.addEventListener(\"dragging-end\", onDragEndGlobal);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    window.removeEventListener(\"dragging-start\", onDragStartGlobal);\n                    window.removeEventListener(\"dragging-end\", onDragEndGlobal);\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    // ?? OPTIMIZACIÓN: Limpiar cache de intersección al cambiar selección\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            // Limpiar cache cuando cambia la selección\n            if (window._lineIntersectionCache) {\n                window._lineIntersectionCache = {};\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados.length\n    ]);\n    // ?? OPTIMIZACIÓN: Forzar actualización de líneas después de drag grupal\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (window._grupoLider || elementosSeleccionados.length === 0) return;\n            // Solo correr esta optimización cuando acaba de finalizar un drag grupal.\n            const now = typeof performance !== \"undefined\" && typeof performance.now === \"function\" ? performance.now() : Date.now();\n            const recentlyEndedGroupDrag = Number.isFinite(window._skipUntil) && window._skipUntil > now;\n            if (!recentlyEndedGroupDrag) return;\n            const hayLineas = objetos.some({\n                \"CanvasEditor.useEffect.hayLineas\": (obj)=>elementosSeleccionados.includes(obj.id) && obj.tipo === 'forma' && obj.figura === 'line'\n            }[\"CanvasEditor.useEffect.hayLineas\"]);\n            if (!hayLineas) return;\n            const timer = setTimeout({\n                \"CanvasEditor.useEffect.timer\": ()=>{\n                    elementosSeleccionados.forEach({\n                        \"CanvasEditor.useEffect.timer\": (id)=>{\n                            const node = elementRefs.current[id];\n                            if (node && node.getLayer) {\n                                var _node_getLayer;\n                                (_node_getLayer = node.getLayer()) === null || _node_getLayer === void 0 ? void 0 : _node_getLayer.batchDraw();\n                            }\n                        }\n                    }[\"CanvasEditor.useEffect.timer\"]);\n                }\n            }[\"CanvasEditor.useEffect.timer\"], 50);\n            return ({\n                \"CanvasEditor.useEffect\": ()=>clearTimeout(timer)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados,\n        objetos\n    ]);\n    const detectarInterseccionLinea = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CanvasEditor.useMemo[detectarInterseccionLinea]\": ()=>{\n            return ({\n                \"CanvasEditor.useMemo[detectarInterseccionLinea]\": (lineObj, area, stage)=>{\n                    try {\n                        var _window__elementRefs;\n                        if (!lineObj || !area || !lineObj.points) return false;\n                        let points = lineObj.points;\n                        if (!Array.isArray(points) || points.length < 4) {\n                            points = [\n                                0,\n                                0,\n                                100,\n                                0\n                            ];\n                        }\n                        const puntosLimpios = [\n                            parseFloat(points[0]) || 0,\n                            parseFloat(points[1]) || 0,\n                            parseFloat(points[2]) || 100,\n                            parseFloat(points[3]) || 0\n                        ];\n                        // ?? USAR LA POSICIÓN DEL NODO REAL EN EL STAGE\n                        const node = (_window__elementRefs = window._elementRefs) === null || _window__elementRefs === void 0 ? void 0 : _window__elementRefs[lineObj.id];\n                        const lineX = node ? node.x() : lineObj.x || 0;\n                        const lineY = node ? node.y() : lineObj.y || 0;\n                        // Coordenadas absolutas de los puntos\n                        const startX = lineX + puntosLimpios[0];\n                        const startY = lineY + puntosLimpios[1];\n                        const endX = lineX + puntosLimpios[2];\n                        const endY = lineY + puntosLimpios[3];\n                        // ?? MÉTODO 1: Verificar si algún punto está dentro del área\n                        const startDentro = startX >= area.x && startX <= area.x + area.width && startY >= area.y && startY <= area.y + area.height;\n                        const endDentro = endX >= area.x && endX <= area.x + area.width && endY >= area.y && endY <= area.y + area.height;\n                        if (startDentro || endDentro) {\n                            return true;\n                        }\n                        // ?? MÉTODO 2: Verificar intersección línea-rectángulo\n                        const intersecta = lineIntersectsRect(startX, startY, endX, endY, area.x, area.y, area.x + area.width, area.y + area.height);\n                        if (intersecta) {\n                            return true;\n                        }\n                        return false;\n                    } catch (error) {\n                        return false;\n                    }\n                }\n            })[\"CanvasEditor.useMemo[detectarInterseccionLinea]\"];\n        }\n    }[\"CanvasEditor.useMemo[detectarInterseccionLinea]\"], []);\n    // Función auxiliar para verificar intersección línea-rectángulo\n    function lineIntersectsRect(x1, y1, x2, y2, rectLeft, rectTop, rectRight, rectBottom) {\n        // Verificar si la línea intersecta con alguno de los 4 lados del rectángulo\n        return lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectTop, rectRight, rectTop) || // Top\n        lineIntersectsLine(x1, y1, x2, y2, rectRight, rectTop, rectRight, rectBottom) || // Right\n        lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectBottom, rectRight, rectBottom) || // Bottom\n        lineIntersectsLine(x1, y1, x2, y2, rectLeft, rectTop, rectLeft, rectBottom) // Left\n        ;\n    }\n    // Función auxiliar para verificar intersección línea-línea\n    function lineIntersectsLine(x1, y1, x2, y2, x3, y3, x4, y4) {\n        const denom = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n        if (Math.abs(denom) < 0.0001) return false;\n        const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / denom;\n        const u = -((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / denom;\n        return t >= 0 && t <= 1 && u >= 0 && u <= 1;\n    }\n    // ?? Ajustar el transformer cuando cambia el texto inline\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            var _node_getClassName, _node_getStage;\n            if (!editing.id || !elementRefs.current[editing.id]) return;\n            const node = elementRefs.current[editing.id];\n            const objetoEnEdicion = objetos.find({\n                \"CanvasEditor.useEffect.objetoEnEdicion\": (o)=>o.id === editing.id\n            }[\"CanvasEditor.useEffect.objetoEnEdicion\"]);\n            if (!objetoEnEdicion) return;\n            const nodeClass = (_node_getClassName = node.getClassName) === null || _node_getClassName === void 0 ? void 0 : _node_getClassName.call(node);\n            const beforeMetrics = obtenerMetricasNodoInline(node);\n            var _editing_value;\n            const editingValue = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n            const shouldKeepCenterPreview = objetoEnEdicion.tipo === \"texto\" && !objetoEnEdicion.__groupAlign && !Number.isFinite(objetoEnEdicion.width) && objetoEnEdicion.__autoWidth !== false;\n            const expectedX = shouldKeepCenterPreview ? calcularXTextoCentrado(objetoEnEdicion, editingValue) : Number.isFinite(objetoEnEdicion.x) ? objetoEnEdicion.x : null;\n            var _objetoEnEdicion_x, _objetoEnEdicion_y;\n            inlineDebugLog(\"preview-effect-start\", {\n                id: editing.id,\n                valueLength: editingValue.length,\n                nodeClass,\n                objX: (_objetoEnEdicion_x = objetoEnEdicion.x) !== null && _objetoEnEdicion_x !== void 0 ? _objetoEnEdicion_x : null,\n                objY: (_objetoEnEdicion_y = objetoEnEdicion.y) !== null && _objetoEnEdicion_y !== void 0 ? _objetoEnEdicion_y : null,\n                shouldKeepCenterPreview,\n                expectedX,\n                beforeMetrics\n            });\n            // ?? Actualizar el transformer si está presente\n            const transformer = (_node_getStage = node.getStage()) === null || _node_getStage === void 0 ? void 0 : _node_getStage.findOne('Transformer');\n            if (transformer && transformer.nodes && transformer.nodes().includes(node)) {\n                var _transformer_getLayer;\n                transformer.forceUpdate(); // Actualiza manualmente el transformer\n                (_transformer_getLayer = transformer.getLayer()) === null || _transformer_getLayer === void 0 ? void 0 : _transformer_getLayer.batchDraw(); // Redibuja\n                let transformerRect = null;\n                try {\n                    transformerRect = transformer.getClientRect({\n                        skipTransform: false,\n                        skipShadow: true,\n                        skipStroke: true\n                    });\n                } catch (e) {\n                    transformerRect = null;\n                }\n                inlineDebugLog(\"preview-transformer-updated\", {\n                    id: editing.id,\n                    transformerRect: transformerRect ? {\n                        x: transformerRect.x,\n                        y: transformerRect.y,\n                        width: transformerRect.width,\n                        height: transformerRect.height\n                    } : null\n                });\n            }\n            const afterMetrics = obtenerMetricasNodoInline(node);\n            var _afterMetrics_x;\n            const afterX = typeof node.x === \"function\" ? node.x() : (_afterMetrics_x = afterMetrics === null || afterMetrics === void 0 ? void 0 : afterMetrics.x) !== null && _afterMetrics_x !== void 0 ? _afterMetrics_x : null;\n            inlineDebugLog(\"preview-props-sync\", {\n                id: editing.id,\n                valueLength: editingValue.length,\n                expectedX,\n                afterX,\n                deltaX: Number.isFinite(afterX) && Number.isFinite(expectedX) ? afterX - expectedX : null,\n                beforeMetrics,\n                afterMetrics\n            });\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        editing.value,\n        objetos,\n        obtenerMetricasNodoInline,\n        calcularXTextoCentrado\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const pending = inlineCommitDebugRef.current;\n            if (!(pending === null || pending === void 0 ? void 0 : pending.id)) return;\n            if (editing.id) return;\n            const finalObj = objetos.find({\n                \"CanvasEditor.useEffect.finalObj\": (o)=>o.id === pending.id\n            }[\"CanvasEditor.useEffect.finalObj\"]);\n            const finalNode = elementRefs.current[pending.id];\n            const finalNodeMetrics = obtenerMetricasNodoInline(finalNode);\n            const finalX = Number.isFinite(finalObj === null || finalObj === void 0 ? void 0 : finalObj.x) ? finalObj.x : null;\n            const deltaFinalVsExpected = Number.isFinite(finalX) && Number.isFinite(pending.expectedX) ? finalX - pending.expectedX : null;\n            inlineDebugLog(\"finish-post-commit\", {\n                ...pending,\n                finalX,\n                deltaFinalVsExpected,\n                finalNodeMetrics\n            });\n            inlineCommitDebugRef.current = {\n                id: null\n            };\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        editing.id,\n        objetos,\n        obtenerMetricasNodoInline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window._elementosSeleccionados = elementosSeleccionados;\n            window._objetosActuales = objetos;\n            window._elementRefs = elementRefs.current;\n            window._seccionesOrdenadas = [\n                ...secciones\n            ].sort({\n                \"CanvasEditor.useEffect\": (a, b)=>a.orden - b.orden\n            }[\"CanvasEditor.useEffect\"]);\n            window._altoCanvas = altoCanvas;\n            window.dispatchEvent(new CustomEvent(\"editor-selection-change\", {\n                detail: {\n                    ids: [\n                        ...elementosSeleccionados\n                    ],\n                    activeSectionId: seccionActivaId || null,\n                    galleryCell: celdaGaleriaActiva || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        elementosSeleccionados,\n        objetos,\n        secciones,\n        altoCanvas,\n        seccionActivaId,\n        celdaGaleriaActiva\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!celdaGaleriaActiva) return;\n            const { objId } = celdaGaleriaActiva;\n            const galeriaExiste = objetos.some({\n                \"CanvasEditor.useEffect.galeriaExiste\": (o)=>o.id === objId && o.tipo === \"galeria\"\n            }[\"CanvasEditor.useEffect.galeriaExiste\"]);\n            if (!galeriaExiste) {\n                setCeldaGaleriaActiva(null);\n                return;\n            }\n            if (elementosSeleccionados.length !== 1 || elementosSeleccionados[0] !== objId) {\n                setCeldaGaleriaActiva(null);\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        celdaGaleriaActiva,\n        elementosSeleccionados,\n        objetos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window._celdaGaleriaActiva = celdaGaleriaActiva || null;\n            window.dispatchEvent(new CustomEvent(\"editor-gallery-cell-change\", {\n                detail: {\n                    cell: celdaGaleriaActiva || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        celdaGaleriaActiva\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            window.dispatchEvent(new CustomEvent(\"seccion-activa\", {\n                detail: {\n                    id: seccionActivaId || null\n                }\n            }));\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        seccionActivaId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (false) {}\n            window.setHoverIdGlobal = setHoverId;\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    if (window.setHoverIdGlobal === setHoverId) {\n                        delete window.setHoverIdGlobal;\n                    }\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (!hoverId) return;\n            const exists = objetos.some({\n                \"CanvasEditor.useEffect.exists\": (o)=>o.id === hoverId\n            }[\"CanvasEditor.useEffect.exists\"]);\n            if (!exists) setHoverId(null);\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        hoverId,\n        objetos\n    ]);\n    // Cleanup del sistema imperativo\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            return ({\n                \"CanvasEditor.useEffect\": ()=>{\n                    imperativeObjects.cleanup();\n                }\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    const stageGestures = (0,_editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__[\"default\"])({\n        secciones,\n        objetos,\n        elementRefs,\n        dragStartPos,\n        hasDragged,\n        seleccionActiva,\n        inicioSeleccion,\n        areaSeleccion,\n        detectarInterseccionLinea,\n        setElementosSeleccionados,\n        setElementosPreSeleccionados,\n        setSeleccionActiva,\n        setInicioSeleccion,\n        setAreaSeleccion,\n        onSelectSeccion,\n        cerrarMenusFlotantes\n    });\n    const mobileCanvasToolbarOffset = mobileTextToolbarVisible ? mobileBottomTypographyStripVisible ? 88 : 32 : 0;\n    const mobileSectionActionsTop = mobileBottomTypographyStripVisible ? \"calc(172px + env(safe-area-inset-top, 0px))\" : mobileTextToolbarVisible ? \"calc(118px + env(safe-area-inset-top, 0px))\" : \"calc(64px + env(safe-area-inset-top, 0px))\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: editorOverlayRootRef,\n        className: \"flex justify-center\",\n        style: {\n            // ? Dejamos que el scroll lo maneje el <main> del DashboardLayout (un solo scroll)\n            marginTop: 0,\n            position: \"relative\",\n            overflowX: \"hidden\",\n            // ? UX mobile: permitir scroll vertical natural alrededor del canvas\n            touchAction: \"pan-y\",\n            WebkitOverflowScrolling: \"touch\",\n            // ? espacio para que no “choque” con header / barras\n            paddingTop: 12 + mobileCanvasToolbarOffset,\n            paddingBottom: \"calc(96px + env(safe-area-inset-bottom, 0px))\",\n            transition: \"padding-top 180ms ease\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: contenedorRef,\n                style: {\n                    width: \"100%\",\n                    maxWidth: \"1200px\",\n                    backgroundColor: \"#f5f5f5\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    paddingTop: \"20px\",\n                    paddingBottom: \"calc(40px + env(safe-area-inset-bottom, 0px))\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        transform: \"scale(\".concat(escalaVisual, \")\"),\n                        transformOrigin: 'top center',\n                        width: zoom === 0.8 ? \"1220px\" : \"1000px\",\n                        position: \"relative\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        style: {\n                            width: zoom === 0.8 ? \"1220px\" : \"1000px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        },\n                        children: [\n                            seccionActivaId && seccionesOrdenadas.map((seccion, index)=>{\n                                if (seccion.id !== seccionActivaId) return null;\n                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                const esPrimera = index === 0;\n                                const esUltima = index === seccionesOrdenadas.length - 1;\n                                const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                const sectionButtonBase = \"px-3 py-2 rounded-xl text-xs font-semibold transition-all duration-200 border focus:outline-none focus-visible:ring-2 focus-visible:ring-[#dccaf7]\";\n                                const sectionButtonDisabled = \"cursor-not-allowed border-gray-200 bg-gray-100 text-gray-400 shadow-none\";\n                                const sectionButtonPrimary = \"border-[#ccb6ef] bg-gradient-to-r from-[#8a57cf] via-[#773dbe] to-[#6737b3] text-white shadow-[0_10px_22px_rgba(119,61,190,0.30)] hover:-translate-y-[1px] hover:from-[#7f4fc5] hover:via-[#6f3bbc] hover:to-[#5f31a8] hover:shadow-[0_14px_28px_rgba(119,61,190,0.38)]\";\n                                const sectionButtonNeutral = \"border-[#e4d7f6] bg-white/95 text-[#5f3596] shadow-[0_6px_16px_rgba(15,23,42,0.06)] hover:-translate-y-[1px] hover:border-[#cdb9ee] hover:bg-[#faf6ff] hover:shadow-[0_12px_24px_rgba(119,61,190,0.16)]\";\n                                const sectionButtonSuccess = \"border-emerald-300 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_10px_22px_rgba(5,150,105,0.28)] hover:-translate-y-[1px] hover:from-emerald-600 hover:to-emerald-700 hover:shadow-[0_14px_28px_rgba(5,150,105,0.36)]\";\n                                const sectionButtonDanger = \"border-rose-300 bg-gradient-to-r from-rose-500 to-red-600 text-white shadow-[0_10px_22px_rgba(225,29,72,0.28)] hover:-translate-y-[1px] hover:from-rose-600 hover:to-red-700 hover:shadow-[0_14px_28px_rgba(225,29,72,0.36)]\";\n                                const actionButtons = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.moverSeccion)({\n                                                    seccionId: seccion.id,\n                                                    direccion: \"subir\",\n                                                    secciones,\n                                                    slug,\n                                                    setSecciones,\n                                                    setSeccionesAnimando\n                                                }),\n                                            disabled: esPrimera || estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(esPrimera || estaAnimando ? sectionButtonDisabled : sectionButtonPrimary, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: esPrimera ? \"Ya es la primera sección\" : \"Subir sección\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.MoveUp, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2840,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    \"Subir secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2839,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2821,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_editorSecciones__WEBPACK_IMPORTED_MODULE_21__.moverSeccion)({\n                                                    seccionId: seccion.id,\n                                                    direccion: \"bajar\",\n                                                    secciones,\n                                                    slug,\n                                                    setSecciones,\n                                                    setSeccionesAnimando\n                                                }),\n                                            disabled: esUltima || estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(esUltima || estaAnimando ? sectionButtonDisabled : sectionButtonPrimary, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: esUltima ? \"Ya es la última sección\" : \"Bajar sección\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.MoveDown, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2865,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Bajar secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2864,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2846,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleCrearSeccion,\n                                            disabled: estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando ? \"\".concat(sectionButtonDisabled, \" animate-pulse\") : sectionButtonPrimary),\n                                            title: \"A\\xf1adir una nueva secci\\xf3n debajo\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.PlusCircle, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2881,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"A\\xf1adir secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2880,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2871,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(sectionButtonNeutral, \" flex items-center justify-between gap-2\"),\n                                            title: \"Cambiar color de fondo de esta secci\\xf3n\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"inline-flex items-center gap-1.5\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"h-3.5 w-3.5 rounded border border-white/80 shadow-sm\",\n                                                            style: {\n                                                                backgroundColor: seccion.fondo || \"#ffffff\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2891,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Fondo secci\\xf3n\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2890,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SelectorColorSeccion__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                    seccion: seccion,\n                                                    disabled: estaAnimando || isDeletingSection,\n                                                    onChange: (id, color)=>cambiarColorFondoSeccion(id, color)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 2897,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2886,\n                                            columnNumber: 19\n                                        }, this),\n                                        (()=>{\n                                            const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                            const esPantalla = modoSeccion === \"pantalla\";\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>togglePantallaCompletaSeccion(seccion.id),\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(esPantalla ? sectionButtonPrimary : sectionButtonNeutral),\n                                                        title: \"Hace que esta secci\\xf3n sea de pantalla completa (100vh) al publicar\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-flex items-center gap-1.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Monitor, {\n                                                                    className: \"w-3.5 h-3.5\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                    lineNumber: 2920,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                esPantalla ? \"Pantalla completa: ON\" : \"Pantalla completa: OFF\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2919,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2911,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    seccion.fondoTipo === \"imagen\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>(0,_utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__.desanclarImagenDeFondo)({\n                                                                seccionId: seccion.id,\n                                                                secciones,\n                                                                objetos,\n                                                                setSecciones,\n                                                                setObjetos,\n                                                                setElementosSeleccionados\n                                                            }),\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(sectionButtonNeutral),\n                                                        title: \"Desanclar imagen de fondo\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-flex items-center gap-1.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Unlink2, {\n                                                                    className: \"w-3.5 h-3.5\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                    lineNumber: 2942,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                \"Desanclar fondo\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 2941,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2927,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    seccion.fondoTipo === \"imagen\" && isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            setMobileBackgroundEditSectionId((prev)=>prev === seccion.id ? null : seccion.id);\n                                                        },\n                                                        className: \"\".concat(sectionButtonBase, \" \").concat(mobileBackgroundEditSectionId === seccion.id ? \"border-indigo-300 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-[0_10px_22px_rgba(79,70,229,0.28)] hover:-translate-y-[1px] hover:from-indigo-600 hover:to-indigo-700 hover:shadow-[0_14px_28px_rgba(79,70,229,0.36)]\" : sectionButtonNeutral),\n                                                        title: \"Modo mover fondo en mobile\",\n                                                        children: mobileBackgroundEditSectionId === seccion.id ? \"Mover fondo: ON\" : \"Mover fondo\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2949,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2909,\n                                                columnNumber: 23\n                                            }, this);\n                                        })(),\n                                        !loadingClaims && esAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>(0,_utils_plantillas__WEBPACK_IMPORTED_MODULE_23__.guardarSeccionComoPlantilla)({\n                                                    seccionId: seccion.id,\n                                                    secciones,\n                                                    objetos,\n                                                    refrescarPlantillasDeSeccion\n                                                }),\n                                            disabled: estaAnimando,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando ? sectionButtonDisabled : sectionButtonSuccess, \" \").concat(estaAnimando ? \"animate-pulse\" : \"\"),\n                                            title: \"Guardar esta secci\\xf3n como plantilla\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Layers, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 2990,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    \"Plantilla\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 2989,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2973,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                if (isMobile) {\n                                                    setMobileSectionActionsOpen(false);\n                                                }\n                                                abrirModalBorrarSeccion(seccion.id);\n                                            },\n                                            disabled: estaAnimando || isDeletingSection,\n                                            className: \"\".concat(sectionButtonBase, \" \").concat(estaAnimando || isDeletingSection ? sectionButtonDisabled : sectionButtonDanger, \" \").concat(estaAnimando || isDeletingSection ? \"animate-pulse\" : \"\"),\n                                            title: \"Borrar esta secci\\xf3n y todos sus elementos\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-1.5\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Trash2, {\n                                                        className: \"w-3.5 h-3.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3012,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Borrar secci\\xf3n\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 3011,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 2997,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true);\n                                if (isMobile) {\n                                    if (typeof document === \"undefined\") return null;\n                                    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"fixed z-[90] flex flex-col items-end gap-2\",\n                                        style: {\n                                            top: mobileSectionActionsTop,\n                                            right: \"max(8px, env(safe-area-inset-right, 0px))\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>setMobileSectionActionsOpen((prev)=>!prev),\n                                                className: \"flex h-9 w-9 items-center justify-center rounded-full border border-[#ccb6ef] bg-gradient-to-r from-[#8a57cf] via-[#773dbe] to-[#6737b3] text-white shadow-[0_10px_22px_rgba(119,61,190,0.35)] transition-all duration-200 hover:-translate-y-[1px] hover:from-[#7f4fc5] hover:via-[#6f3bbc] hover:to-[#5f31a8] hover:shadow-[0_14px_28px_rgba(119,61,190,0.42)]\",\n                                                title: \"Acciones de secci\\xf3n\",\n                                                children: mobileSectionActionsOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.ChevronUp, {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3036,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.ChevronDown, {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3038,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 3029,\n                                                columnNumber: 21\n                                            }, this),\n                                            mobileSectionActionsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-[min(84vw,230px)] max-h-[62vh] overflow-y-auto rounded-xl border border-purple-200 bg-white/95 p-2 shadow-2xl backdrop-blur\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-col gap-2\",\n                                                    children: actionButtons\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3044,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                lineNumber: 3043,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                        lineNumber: 3022,\n                                        columnNumber: 19\n                                    }, this), document.body, \"orden-mobile-\".concat(seccion.id));\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute flex flex-col gap-2\",\n                                    style: {\n                                        top: offsetY + 20,\n                                        right: -150,\n                                        zIndex: 25,\n                                        maxWidth: 260\n                                    },\n                                    children: actionButtons\n                                }, \"orden-\".concat(seccion.id), false, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 3054,\n                                    columnNumber: 17\n                                }, this);\n                            }),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    position: \"relative\",\n                                    width: 800,\n                                    height: altoCanvasDinamico\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Stage, {\n                                    ref: stageRef,\n                                    width: 800,\n                                    height: altoCanvasDinamico,\n                                    perfectDrawEnabled: false,\n                                    listening: true,\n                                    imageSmoothingEnabled: false,\n                                    preventDefault: false,\n                                    hitGraphEnabled: true,\n                                    style: {\n                                        background: \"white\",\n                                        overflow: \"visible\",\n                                        position: \"relative\",\n                                        boxShadow: \"0 4px 20px rgba(0,0,0,0.5)\"\n                                    },\n                                    onMouseDown: stageGestures.onMouseDown,\n                                    onTouchStart: stageGestures.onTouchStart,\n                                    onTouchMove: stageGestures.onTouchMove,\n                                    onTouchEnd: stageGestures.onTouchEnd,\n                                    onMouseMove: stageGestures.onMouseMove,\n                                    onMouseUp: stageGestures.onMouseUp,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                            children: [\n                                                seccionesOrdenadas.flatMap((seccion, index)=>{\n                                                    const alturaPx = seccion.altura;\n                                                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                    const esActiva = seccion.id === seccionActivaId;\n                                                    const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                                    const elementos = [\n                                                        // Fondo de sección - puede ser color o imagen\n                                                        seccion.fondoTipo === \"imagen\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editor_FondoSeccion__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            seccion: seccion,\n                                                            offsetY: offsetY,\n                                                            alturaPx: alturaPx,\n                                                            onSelect: ()=>onSelectSeccion(seccion.id),\n                                                            onUpdateFondoOffset: actualizarOffsetFondo,\n                                                            isMobile: isMobile,\n                                                            mobileBackgroundEditEnabled: mobileBackgroundEditSectionId === seccion.id,\n                                                            onBackgroundImageStatusChange: handleBackgroundImageStatusChange\n                                                        }, \"fondo-\".concat(seccion.id), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3118,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                            id: seccion.id,\n                                                            x: 0,\n                                                            y: offsetY,\n                                                            width: 800,\n                                                            height: alturaPx,\n                                                            fill: seccion.fondo || \"#ffffff\",\n                                                            stroke: \"transparent\",\n                                                            strokeWidth: 0,\n                                                            listening: true,\n                                                            preventDefault: false,\n                                                            onClick: ()=>onSelectSeccion(seccion.id),\n                                                            onTap: ()=>onSelectSeccion(seccion.id)\n                                                        }, \"seccion-\".concat(seccion.id), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3130,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ];\n                                                    return elementos;\n                                                }),\n                                                seccionActivaId && seccionesOrdenadas.map((seccion, index)=>{\n                                                    if (seccion.id !== seccionActivaId) return null;\n                                                    const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                    const controlY = offsetY + seccion.altura - 5; // 5px antes del final\n                                                    const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                                    const permiteResizeAltura = modoSeccion !== \"pantalla\";\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                        name: \"ui\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Line, {\n                                                                name: \"ui\",\n                                                                points: [\n                                                                    50,\n                                                                    controlY,\n                                                                    750,\n                                                                    controlY\n                                                                ],\n                                                                stroke: \"#773dbe\",\n                                                                strokeWidth: 2,\n                                                                dash: [\n                                                                    5,\n                                                                    5\n                                                                ],\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3167,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                                x: 400,\n                                                                y: controlY,\n                                                                listening: permiteResizeAltura,\n                                                                opacity: permiteResizeAltura ? 1 : 0.25,\n                                                                onPointerDown: permiteResizeAltura ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onMouseDown: permiteResizeAltura && !supportsPointerEvents ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onTouchStart: permiteResizeAltura && !supportsPointerEvents ? (e)=>iniciarControlAltura(e, seccion.id) : undefined,\n                                                                onMouseEnter: ()=>{\n                                                                    if (!controlandoAltura && permiteResizeAltura) setGlobalCursor(\"ns-resize\", stageRef);\n                                                                },\n                                                                onMouseLeave: ()=>{\n                                                                    if (!controlandoAltura && permiteResizeAltura) clearGlobalCursor(stageRef);\n                                                                },\n                                                                draggable: false,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -45,\n                                                                        y: -22,\n                                                                        width: 90,\n                                                                        height: 44,\n                                                                        fill: \"transparent\",\n                                                                        listening: true\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3204,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -25,\n                                                                        y: -6,\n                                                                        width: 50,\n                                                                        height: 12,\n                                                                        fill: controlandoAltura === seccion.id ? \"#773dbe\" : \"rgba(119, 61, 190, 0.9)\",\n                                                                        cornerRadius: 6,\n                                                                        shadowColor: \"rgba(0,0,0,0.3)\",\n                                                                        shadowBlur: controlandoAltura === seccion.id ? 8 : 6,\n                                                                        shadowOffset: {\n                                                                            x: 0,\n                                                                            y: controlandoAltura === seccion.id ? 4 : 3\n                                                                        },\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3214,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    controlandoAltura === seccion.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: -30,\n                                                                        y: -8,\n                                                                        width: 60,\n                                                                        height: 16,\n                                                                        fill: \"transparent\",\n                                                                        stroke: \"#773dbe\",\n                                                                        strokeWidth: 2,\n                                                                        cornerRadius: 8,\n                                                                        opacity: 0.6,\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3229,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                                                                        x: -6,\n                                                                        y: -3,\n                                                                        text: \"??\",\n                                                                        fontSize: 10,\n                                                                        fill: \"white\",\n                                                                        fontFamily: \"Arial\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3244,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: -15,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3255,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: -10,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3256,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: 10,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3257,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Circle, {\n                                                                        x: 15,\n                                                                        y: 0,\n                                                                        radius: 1.5,\n                                                                        fill: \"rgba(255,255,255,0.8)\",\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3258,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3177,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                x: 755,\n                                                                y: controlY - 10,\n                                                                width: 40,\n                                                                height: 20,\n                                                                fill: \"rgba(119, 61, 190, 0.1)\",\n                                                                stroke: \"rgba(119, 61, 190, 0.3)\",\n                                                                strokeWidth: 1,\n                                                                cornerRadius: 4,\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3263,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                                                                x: 760,\n                                                                y: controlY - 6,\n                                                                text: \"\".concat(Math.round(seccion.altura), \"px\"),\n                                                                fontSize: 11,\n                                                                fill: \"#773dbe\",\n                                                                fontFamily: \"Arial\",\n                                                                fontWeight: \"bold\",\n                                                                listening: false\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3276,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, \"control-altura-\".concat(seccion.id), true, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3165,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                }),\n                                                controlandoAltura && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                    name: \"ui\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                            x: 0,\n                                                            y: 0,\n                                                            width: 800,\n                                                            height: altoCanvasDinamico,\n                                                            fill: \"rgba(119, 61, 190, 0.05)\",\n                                                            listening: false\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3294,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        seccionesOrdenadas.map((seccion, index)=>{\n                                                            const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                            const modoSeccion = normalizarAltoModo(seccion.altoModo);\n                                                            const permiteResizeAltura = modoSeccion !== \"pantalla\";\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: 0,\n                                                                        y: offsetY,\n                                                                        width: 800,\n                                                                        height: seccion.altura,\n                                                                        fill: seccion.fondo || \"transparent\",\n                                                                        onClick: ()=>onSelectSeccion(seccion.id)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3313,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    seccion.id === controlandoAltura && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                                        x: 0,\n                                                                        y: offsetY,\n                                                                        width: 800,\n                                                                        height: seccion.altura,\n                                                                        fill: \"transparent\",\n                                                                        stroke: \"#773dbe\",\n                                                                        strokeWidth: 3,\n                                                                        dash: [\n                                                                            8,\n                                                                            4\n                                                                        ],\n                                                                        listening: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                        lineNumber: 3324,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                ]\n                                                            }, seccion.id, true, {\n                                                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                                lineNumber: 3311,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        })\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3292,\n                                                    columnNumber: 21\n                                                }, this),\n                                                objetos.map((obj, i)=>{\n                                                    // ?? Determinar si está en modo edición\n                                                    const isInEditMode = editing.id === obj.id && elementosSeleccionados[0] === obj.id;\n                                                    // ??? Caso especial: la galería la renderizamos acá (no usa ElementoCanvas)\n                                                    if (obj.tipo === \"galeria\") {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_GaleriaKonva__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                            obj: obj,\n                                                            registerRef: registerRef,\n                                                            onHover: setHoverId,\n                                                            isSelected: elementosSeleccionados.includes(obj.id),\n                                                            celdaGaleriaActiva: celdaGaleriaActiva,\n                                                            onPickCell: (info)=>setCeldaGaleriaActiva(info),\n                                                            seccionesOrdenadas: seccionesOrdenadas,\n                                                            altoCanvas: altoCanvas,\n                                                            onSelect: (id, e)=>{\n                                                                (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                                setElementosSeleccionados([\n                                                                    id\n                                                                ]);\n                                                            },\n                                                            onDragMovePersonalizado: (pos, id)=>{\n                                                                window._isDragging = true;\n                                                                if (!window._grupoLider) {\n                                                                    mostrarGuias(pos, id, objetos, elementRefs);\n                                                                }\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            },\n                                                            onDragStartPersonalizado: function() {\n                                                                let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id;\n                                                                if (!elementosSeleccionados.includes(dragId)) {\n                                                                    setElementosSeleccionados([\n                                                                        dragId\n                                                                    ]);\n                                                                }\n                                                                setHoverId(null);\n                                                                setIsDragging(true);\n                                                            },\n                                                            onDragEndPersonalizado: ()=>{\n                                                                setIsDragging(false);\n                                                                limpiarGuias();\n                                                                if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                    actualizarPosicionBotonOpciones();\n                                                                }\n                                                            },\n                                                            onChange: (id, nuevo)=>{\n                                                                setObjetos((prev)=>{\n                                                                    const i = prev.findIndex((o)=>o.id === id);\n                                                                    if (i === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[i] = {\n                                                                        ...updated[i],\n                                                                        ...nuevo\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                            }\n                                                        }, obj.id, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3353,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    if (obj.tipo === \"countdown\") {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_countdown_CountdownKonva__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            obj: obj,\n                                                            registerRef: registerRef,\n                                                            onHover: setHoverId,\n                                                            isSelected: elementosSeleccionados.includes(obj.id),\n                                                            seccionesOrdenadas: seccionesOrdenadas,\n                                                            altoCanvas: altoCanvas,\n                                                            // ? selección\n                                                            onSelect: (id, e)=>{\n                                                                (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                                setElementosSeleccionados([\n                                                                    id\n                                                                ]);\n                                                            },\n                                                            // ? PREVIEW liviano (no tocar estado del objeto para que no haya lag)\n                                                            onDragStartPersonalizado: function() {\n                                                                let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id;\n                                                                if (!elementosSeleccionados.includes(dragId)) {\n                                                                    setElementosSeleccionados([\n                                                                        dragId\n                                                                    ]);\n                                                                }\n                                                                setHoverId(null);\n                                                                setIsDragging(true);\n                                                            },\n                                                            onDragMovePersonalizado: (pos, id)=>{\n                                                                if (!window._grupoLider) {\n                                                                    mostrarGuias(pos, id, objetos, elementRefs);\n                                                                }\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            },\n                                                            // ? FIN de drag: limpiar guías / UI auxiliar\n                                                            onDragEndPersonalizado: ()=>{\n                                                                setIsDragging(false);\n                                                                limpiarGuias();\n                                                                if (typeof actualizarPosicionBotonOpciones === \"function\") {\n                                                                    actualizarPosicionBotonOpciones();\n                                                                }\n                                                            },\n                                                            // ? refs para el motor de drag\n                                                            dragStartPos: dragStartPos,\n                                                            hasDragged: hasDragged,\n                                                            // ? ¡Clave! Al finalizar, tratamos x/y absolutas como en ElementoCanvas:\n                                                            onChange: (id, cambios)=>{\n                                                                setObjetos((prev)=>{\n                                                                    const i = prev.findIndex((o)=>o.id === id);\n                                                                    if (i === -1) return prev;\n                                                                    const objOriginal = prev[i];\n                                                                    // ?? Si no es final de drag, mergeamos sin más (no tocar coords)\n                                                                    if (!cambios.finalizoDrag) {\n                                                                        const updated = [\n                                                                            ...prev\n                                                                        ];\n                                                                        updated[i] = {\n                                                                            ...updated[i],\n                                                                            ...cambios\n                                                                        };\n                                                                        return updated;\n                                                                    }\n                                                                    // ?? Final de drag: 'cambios.y' viene ABSOLUTA (Stage coords)\n                                                                    const { nuevaSeccion, coordenadasAjustadas } = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.determinarNuevaSeccion)(cambios.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                    let next = {\n                                                                        ...cambios\n                                                                    };\n                                                                    delete next.finalizoDrag;\n                                                                    if (nuevaSeccion) {\n                                                                        next = {\n                                                                            ...next,\n                                                                            ...coordenadasAjustadas,\n                                                                            seccionId: nuevaSeccion\n                                                                        };\n                                                                    } else {\n                                                                        // convertir y absoluta ? y relativa a la sección actual\n                                                                        next.y = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(cambios.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                    }\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[i] = {\n                                                                        ...updated[i],\n                                                                        ...next\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                            }\n                                                        }, obj.id, false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 3409,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    const objPreview = editing.id === obj.id && obj.tipo === \"texto\" ? (()=>{\n                                                        var _editing_value;\n                                                        const textoPreview = String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\");\n                                                        const previewObj = {\n                                                            ...obj,\n                                                            texto: textoPreview\n                                                        };\n                                                        const shouldKeepCenterPreview = !obj.__groupAlign && !Number.isFinite(obj.width) && obj.__autoWidth !== false;\n                                                        if (shouldKeepCenterPreview) {\n                                                            const previewX = calcularXTextoCentrado(obj, textoPreview);\n                                                            if (Number.isFinite(previewX)) {\n                                                                previewObj.x = previewX;\n                                                            }\n                                                        }\n                                                        return previewObj;\n                                                    })() : obj;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ElementoCanvas__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                        obj: {\n                                                            ...objPreview,\n                                                            // ?? yLocal: en sección pantalla usamos yNorm * 500\n                                                            // fallback legacy: si no hay yNorm, usamos obj.y\n                                                            y: (()=>{\n                                                                const idxSec = seccionesOrdenadas.findIndex((s)=>s.id === objPreview.seccionId);\n                                                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, idxSec);\n                                                                const yLocal = esSeccionPantallaById(objPreview.seccionId) ? Number.isFinite(objPreview.yNorm) ? objPreview.yNorm * ALTURA_PANTALLA_EDITOR : objPreview.y : objPreview.y;\n                                                                return yLocal + offsetY;\n                                                            })()\n                                                        },\n                                                        anchoCanvas: 800,\n                                                        isSelected: !isInEditMode && elementosSeleccionados.includes(obj.id),\n                                                        preSeleccionado: !isInEditMode && elementosPreSeleccionados.includes(obj.id),\n                                                        isInEditMode: isInEditMode,\n                                                        onHover: isInEditMode ? null : setHoverId,\n                                                        registerRef: registerRef,\n                                                        onStartTextEdit: isInEditMode ? null : (id, texto)=>{\n                                                            var _node_getLayer_batchDraw, _node_getLayer, _node_getLayer1;\n                                                            const node = elementRefs.current[id];\n                                                            const nodeMetrics = obtenerMetricasNodoInline(node);\n                                                            var _window__currentEditingId;\n                                                            const previousCurrentEditingId = (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null;\n                                                            setInlineOverlayMountedId(null);\n                                                            captureInlineSnapshot(\"enter: pre-start\", {\n                                                                id,\n                                                                previousId: previousCurrentEditingId,\n                                                                textoLength: String(texto !== null && texto !== void 0 ? texto : \"\").length\n                                                            });\n                                                            window._currentEditingId = id;\n                                                            inlineEditPreviewRef.current = {\n                                                                id: null,\n                                                                centerX: null\n                                                            };\n                                                            var _obj_x, _obj_y;\n                                                            inlineDebugLog(\"start-inline-edit\", {\n                                                                id,\n                                                                textoLength: String(texto !== null && texto !== void 0 ? texto : \"\").length,\n                                                                objectX: (_obj_x = obj === null || obj === void 0 ? void 0 : obj.x) !== null && _obj_x !== void 0 ? _obj_x : null,\n                                                                objectY: (_obj_y = obj === null || obj === void 0 ? void 0 : obj.y) !== null && _obj_y !== void 0 ? _obj_y : null,\n                                                                previousCurrentEditingId,\n                                                                nextCurrentEditingId: window._currentEditingId,\n                                                                nodeMetrics\n                                                            });\n                                                            startEdit(id, texto);\n                                                            node === null || node === void 0 ? void 0 : node.draggable(false);\n                                                            node === null || node === void 0 ? void 0 : (_node_getLayer1 = node.getLayer) === null || _node_getLayer1 === void 0 ? void 0 : (_node_getLayer = _node_getLayer1.call(node)) === null || _node_getLayer === void 0 ? void 0 : (_node_getLayer_batchDraw = _node_getLayer.batchDraw) === null || _node_getLayer_batchDraw === void 0 ? void 0 : _node_getLayer_batchDraw.call(_node_getLayer);\n                                                            var _window__currentEditingId1;\n                                                            captureInlineSnapshot(\"enter: after-start-sync\", {\n                                                                id,\n                                                                previousId: previousCurrentEditingId,\n                                                                nextCurrentEditingId: (_window__currentEditingId1 = window._currentEditingId) !== null && _window__currentEditingId1 !== void 0 ? _window__currentEditingId1 : null\n                                                            });\n                                                        },\n                                                        editingId: editing.id,\n                                                        inlineOverlayMountedId: inlineOverlayMountedId,\n                                                        inlineVisibilityMode: inlineDebugAB.visibilitySource,\n                                                        finishInlineEdit: finishEdit,\n                                                        onSelect: isInEditMode ? null : (id, obj, e)=>{\n                                                            var _e_evt;\n                                                            if (obj.tipo === \"rsvp-boton\") {\n                                                                return;\n                                                            }\n                                                            if (editing.id && editing.id !== id) {\n                                                                finishEdit();\n                                                            }\n                                                            (e === null || e === void 0 ? void 0 : e.evt) && (e.evt.cancelBubble = true);\n                                                            const esShift = e === null || e === void 0 ? void 0 : (_e_evt = e.evt) === null || _e_evt === void 0 ? void 0 : _e_evt.shiftKey;\n                                                            setElementosSeleccionados((prev)=>{\n                                                                if (esShift) {\n                                                                    if (prev.includes(id)) {\n                                                                        return prev.filter((x)=>x !== id);\n                                                                    } else {\n                                                                        return [\n                                                                            ...prev,\n                                                                            id\n                                                                        ];\n                                                                    }\n                                                                } else {\n                                                                    return [\n                                                                        id\n                                                                    ];\n                                                                }\n                                                            });\n                                                        },\n                                                        onChange: (id, nuevo)=>{\n                                                            // ?? NUEVO: Manejar preview inmediato de drag grupal\n                                                            if (nuevo.isDragPreview) {\n                                                                setObjetos((prev)=>{\n                                                                    const index = prev.findIndex((o)=>o.id === id);\n                                                                    if (index === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    const { isDragPreview, skipHistorial, ...cleanNuevo } = nuevo;\n                                                                    updated[index] = {\n                                                                        ...updated[index],\n                                                                        ...cleanNuevo\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? MANEJAR SOLO batch update final de drag grupal\n                                                            if (nuevo.isBatchUpdateFinal && id === 'BATCH_UPDATE_GROUP_FINAL') {\n                                                                const { elementos, dragInicial, deltaX, deltaY } = nuevo;\n                                                                setObjetos((prev)=>{\n                                                                    return prev.map((objeto)=>{\n                                                                        if (elementos.includes(objeto.id)) {\n                                                                            if (dragInicial && dragInicial[objeto.id]) {\n                                                                                const posInicial = dragInicial[objeto.id];\n                                                                                return {\n                                                                                    ...objeto,\n                                                                                    x: posInicial.x + deltaX,\n                                                                                    y: posInicial.y + deltaY\n                                                                                };\n                                                                            }\n                                                                        }\n                                                                        return objeto;\n                                                                    });\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? NO procesar si viene del Transform\n                                                            if (nuevo.fromTransform) {\n                                                                return;\n                                                            }\n                                                            const objOriginal = objetos.find((o)=>o.id === id);\n                                                            if (!objOriginal) return;\n                                                            // ?? Para drag final, procesar inmediatamente\n                                                            if (nuevo.finalizoDrag) {\n                                                                const { nuevaSeccion, coordenadasAjustadas } = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.determinarNuevaSeccion)(nuevo.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                let coordenadasFinales = {\n                                                                    ...nuevo\n                                                                };\n                                                                delete coordenadasFinales.finalizoDrag;\n                                                                if (nuevaSeccion) {\n                                                                    coordenadasFinales = {\n                                                                        ...coordenadasFinales,\n                                                                        ...coordenadasAjustadas,\n                                                                        seccionId: nuevaSeccion\n                                                                    };\n                                                                } else {\n                                                                    coordenadasFinales.y = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(nuevo.y, objOriginal.seccionId, seccionesOrdenadas);\n                                                                }\n                                                                // 1) Determinar sección final\n                                                                const seccionFinalId = coordenadasFinales.seccionId || objOriginal.seccionId;\n                                                                // 2) Obtener yRelPx (y relativa dentro de la sección en px)\n                                                                let yRelPx;\n                                                                if (nuevaSeccion) {\n                                                                    // coordenadasAjustadas normalmente ya trae y relativa\n                                                                    yRelPx = Number.isFinite(coordenadasFinales.y) ? coordenadasFinales.y : 0;\n                                                                } else {\n                                                                    // si no cambió de sección, convertimos desde y absoluta\n                                                                    yRelPx = Number.isFinite(coordenadasFinales.y) ? coordenadasFinales.y : 0;\n                                                                }\n                                                                // 3) Aplicar política pantalla: guardar yNorm\n                                                                if (esSeccionPantallaById(seccionFinalId)) {\n                                                                    const yNorm = Math.max(0, Math.min(1, yRelPx / ALTURA_PANTALLA_EDITOR));\n                                                                    coordenadasFinales.yNorm = yNorm;\n                                                                    delete coordenadasFinales.y; // ? clave: evitamos mezclar sistemas\n                                                                } else {\n                                                                    // fijo: guardar y en px\n                                                                    coordenadasFinales.y = yRelPx;\n                                                                    delete coordenadasFinales.yNorm;\n                                                                }\n                                                                // Actualizar inmediatamente\n                                                                setObjetos((prev)=>{\n                                                                    const index = prev.findIndex((o)=>o.id === id);\n                                                                    if (index === -1) return prev;\n                                                                    const updated = [\n                                                                        ...prev\n                                                                    ];\n                                                                    updated[index] = {\n                                                                        ...updated[index],\n                                                                        ...coordenadasFinales\n                                                                    };\n                                                                    return updated;\n                                                                });\n                                                                return;\n                                                            }\n                                                            // ?? Para otros cambios (transform, etc.)\n                                                            const hayDiferencias = Object.keys(nuevo).some((key)=>{\n                                                                const valorAnterior = objOriginal[key];\n                                                                const valorNuevo = nuevo[key];\n                                                                if (typeof valorAnterior === 'number' && typeof valorNuevo === 'number') {\n                                                                    return Math.abs(valorAnterior - valorNuevo) > 0.01;\n                                                                }\n                                                                return valorAnterior !== valorNuevo;\n                                                            });\n                                                            if (!hayDiferencias) return;\n                                                            const seccionId = nuevo.seccionId || objOriginal.seccionId;\n                                                            const seccion = seccionesOrdenadas.find((s)=>s.id === seccionId);\n                                                            if (!seccion) return;\n                                                            setObjetos((prev)=>{\n                                                                const index = prev.findIndex((o)=>o.id === id);\n                                                                if (index === -1) return prev;\n                                                                const updated = [\n                                                                    ...prev\n                                                                ];\n                                                                updated[index] = {\n                                                                    ...updated[index],\n                                                                    ...nuevo\n                                                                };\n                                                                return updated;\n                                                            });\n                                                        },\n                                                        onDragStartPersonalizado: isInEditMode ? null : function() {\n                                                            let dragId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : obj.id, e = arguments.length > 1 ? arguments[1] : void 0;\n                                                            const seleccionActual = Array.isArray(window._elementosSeleccionados) ? window._elementosSeleccionados : elementosSeleccionados;\n                                                            if (!seleccionActual.includes(dragId)) {\n                                                                setElementosSeleccionados([\n                                                                    dragId\n                                                                ]);\n                                                            }\n                                                            (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                                                setHoverId(null);\n                                                                setElementosPreSeleccionados([]);\n                                                                setIsDragging(true);\n                                                            });\n                                                        },\n                                                        onDragEndPersonalizado: isInEditMode ? null : ()=>{\n                                                            setIsDragging(false);\n                                                            configurarDragEnd([]);\n                                                        },\n                                                        onDragMovePersonalizado: isInEditMode ? null : (pos, elementId)=>{\n                                                            // ?? NO mostrar guías durante drag grupal\n                                                            if (!window._grupoLider) {\n                                                                mostrarGuias(pos, elementId, objetos, elementRefs);\n                                                            }\n                                                            if (elementosSeleccionados.includes(elementId)) {\n                                                                requestAnimationFrame(()=>{\n                                                                    if (typeof actualizarPosicionBotonOpciones === 'function') {\n                                                                        actualizarPosicionBotonOpciones();\n                                                                    }\n                                                                });\n                                                            }\n                                                        },\n                                                        dragStartPos: dragStartPos,\n                                                        hasDragged: hasDragged\n                                                    }, obj.id, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3523,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                }),\n                                                seleccionActiva && areaSeleccion && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                    name: \"ui\",\n                                                    x: areaSeleccion.x,\n                                                    y: areaSeleccion.y,\n                                                    width: areaSeleccion.width,\n                                                    height: areaSeleccion.height,\n                                                    fill: \"rgba(119, 61, 190, 0.1)\" // violeta claro\n                                                    ,\n                                                    stroke: \"#773dbe\",\n                                                    strokeWidth: 1,\n                                                    dash: [\n                                                        4,\n                                                        4\n                                                    ]\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 3793,\n                                                    columnNumber: 21\n                                                }, this),\n                                                elementosSeleccionados.length > 0 && (()=>{\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SelectionBounds__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                        selectedElements: elementosSeleccionados,\n                                                        elementRefs: elementRefs,\n                                                        objetos: objetos,\n                                                        isDragging: isDragging,\n                                                        isMobile: isMobile,\n                                                        onTransformInteractionStart: handleTransformInteractionStart,\n                                                        onTransformInteractionEnd: handleTransformInteractionEnd,\n                                                        onTransform: (newAttrs)=>{\n                                                            if (elementosSeleccionados.length === 1) {\n                                                                const id = elementosSeleccionados[0];\n                                                                const objIndex = objetos.findIndex((o)=>o.id === id);\n                                                                if (objIndex !== -1) {\n                                                                    if (newAttrs.isPreview) {\n                                                                        // Preview: actualización sin historial\n                                                                        setObjetos((prev)=>{\n                                                                            const nuevos = [\n                                                                                ...prev\n                                                                            ];\n                                                                            const elemento = nuevos[objIndex];\n                                                                            // Countdown: durante preview dejamos que Konva escale el nodo\n                                                                            // sin tocar estado React para evitar desincronización con Transformer.\n                                                                            if (elemento.tipo === \"countdown\" || elemento.tipo === \"forma\" && (elemento.figura === \"circle\" || elemento.figura === \"triangle\")) {\n                                                                                return prev;\n                                                                            }\n                                                                            if (elemento.tipo === \"texto\" && Number.isFinite(newAttrs.fontSize)) {\n                                                                                // Para texto dejamos que Konva haga el preview de escala en vivo.\n                                                                                // Actualizar estado React en cada frame genera micro-jitter visual.\n                                                                                return prev;\n                                                                            }\n                                                                            const updatedElement = {\n                                                                                ...elemento,\n                                                                                rotation: newAttrs.rotation || elemento.rotation || 0\n                                                                            };\n                                                                            if (elemento.tipo === \"galeria\") {\n                                                                                const galleryMetrics = normalizarMedidasGaleria(elemento, newAttrs.width, newAttrs.x);\n                                                                                updatedElement.width = galleryMetrics.width;\n                                                                                updatedElement.height = galleryMetrics.height;\n                                                                                updatedElement.widthPct = galleryMetrics.widthPct;\n                                                                                updatedElement.x = galleryMetrics.x;\n                                                                                updatedElement.rotation = elemento.rotation || 0;\n                                                                                updatedElement.scaleX = 1;\n                                                                                updatedElement.scaleY = 1;\n                                                                            } else {\n                                                                                if (newAttrs.width !== undefined) updatedElement.width = newAttrs.width;\n                                                                                if (newAttrs.height !== undefined) updatedElement.height = newAttrs.height;\n                                                                                if (newAttrs.radius !== undefined) updatedElement.radius = newAttrs.radius;\n                                                                                updatedElement.scaleX = 1;\n                                                                                updatedElement.scaleY = 1;\n                                                                            }\n                                                                            nuevos[objIndex] = updatedElement;\n                                                                            return nuevos;\n                                                                        });\n                                                                        // ?? ACTUALIZAR POSICIÓN DEL BOTÓN DURANTE TRANSFORM\n                                                                        requestAnimationFrame(()=>{\n                                                                            if (typeof actualizarPosicionBotonOpciones === 'function') {\n                                                                                actualizarPosicionBotonOpciones();\n                                                                            }\n                                                                        });\n                                                                    } else if (newAttrs.isFinal) {\n                                                                        // Final: actualización completa\n                                                                        window._resizeData = {\n                                                                            isResizing: false\n                                                                        };\n                                                                        const { isPreview, isFinal, ...cleanAttrs } = newAttrs;\n                                                                        // ?? CONVERTIR coordenadas absolutas a relativas ANTES de guardar\n                                                                        const objOriginal = objetos[objIndex];\n                                                                        let finalAttrs = {\n                                                                            ...cleanAttrs,\n                                                                            y: (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(cleanAttrs.y, objOriginal.seccionId, seccionesOrdenadas),\n                                                                            fromTransform: true\n                                                                        };\n                                                                        // ? COUNTDOWN: conservar escala final del drag (sin reconversión a chipWidth)\n                                                                        // para que el tamaño final coincida exactamente con lo soltado.\n                                                                        if (objOriginal.tipo === \"texto\" && Number.isFinite(cleanAttrs.fontSize)) {\n                                                                            const requestedFontSize = Math.max(6, Number(cleanAttrs.fontSize) || 6);\n                                                                            const originalFontSize = Number.isFinite(objOriginal.fontSize) ? objOriginal.fontSize : 24;\n                                                                            const rotationFinal = Number.isFinite(cleanAttrs.rotation) ? cleanAttrs.rotation : Number.isFinite(objOriginal.rotation) ? objOriginal.rotation : 0;\n                                                                            const previousRotation = Number.isFinite(objOriginal.rotation) ? objOriginal.rotation : 0;\n                                                                            const rotationChanged = Math.abs(rotationFinal - previousRotation) > 0.1;\n                                                                            const fontSizeChanged = Math.abs(requestedFontSize - originalFontSize) > 0.05;\n                                                                            const shouldMatchVisualWidth = objOriginal.__autoWidth !== false && !Number.isFinite(objOriginal.width) && !rotationChanged;\n                                                                            const nextFontSize = shouldMatchVisualWidth ? ajustarFontSizeAAnchoVisual(objOriginal, requestedFontSize, cleanAttrs.textVisualWidth) : requestedFontSize;\n                                                                            const shouldUseNodePose = rotationChanged && !fontSizeChanged && Number.isFinite(cleanAttrs.x) && Number.isFinite(cleanAttrs.y);\n                                                                            const centeredPosAbs = shouldUseNodePose ? {\n                                                                                x: Number(cleanAttrs.x),\n                                                                                y: Number(cleanAttrs.y)\n                                                                            } : calcularPosTextoDesdeCentro(objOriginal, nextFontSize, cleanAttrs.textCenterX, cleanAttrs.textCenterY, rotationFinal);\n                                                                            const centeredX = centeredPosAbs.x;\n                                                                            const centeredYAbs = centeredPosAbs.y;\n                                                                            const centeredY = Number.isFinite(centeredYAbs) ? (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.convertirAbsARel)(centeredYAbs, objOriginal.seccionId, seccionesOrdenadas) : Number.isFinite(objOriginal.y) ? objOriginal.y : 0;\n                                                                            var _objOriginal_id, _cleanAttrs_fontSize, _cleanAttrs_textVisualWidth, _cleanAttrs_textCenterX, _cleanAttrs_textCenterY, _objOriginal_x, _objOriginal_y;\n                                                                            textResizeDebug(\"transform-final:text\", {\n                                                                                id: (_objOriginal_id = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id !== void 0 ? _objOriginal_id : null,\n                                                                                requestedFontSize,\n                                                                                nextFontSize,\n                                                                                shouldMatchVisualWidth,\n                                                                                cleanFontSize: (_cleanAttrs_fontSize = cleanAttrs.fontSize) !== null && _cleanAttrs_fontSize !== void 0 ? _cleanAttrs_fontSize : null,\n                                                                                textVisualWidth: (_cleanAttrs_textVisualWidth = cleanAttrs.textVisualWidth) !== null && _cleanAttrs_textVisualWidth !== void 0 ? _cleanAttrs_textVisualWidth : null,\n                                                                                textCenterX: (_cleanAttrs_textCenterX = cleanAttrs.textCenterX) !== null && _cleanAttrs_textCenterX !== void 0 ? _cleanAttrs_textCenterX : null,\n                                                                                textCenterY: (_cleanAttrs_textCenterY = cleanAttrs.textCenterY) !== null && _cleanAttrs_textCenterY !== void 0 ? _cleanAttrs_textCenterY : null,\n                                                                                rotationFinal,\n                                                                                rotationChanged,\n                                                                                fontSizeChanged,\n                                                                                shouldUseNodePose,\n                                                                                centeredX,\n                                                                                centeredYAbs,\n                                                                                centeredY,\n                                                                                originalX: (_objOriginal_x = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.x) !== null && _objOriginal_x !== void 0 ? _objOriginal_x : null,\n                                                                                originalY: (_objOriginal_y = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.y) !== null && _objOriginal_y !== void 0 ? _objOriginal_y : null\n                                                                            });\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                fontSize: nextFontSize,\n                                                                                x: Number.isFinite(centeredX) ? centeredX : Number.isFinite(objOriginal.x) ? objOriginal.x : 0,\n                                                                                y: centeredY,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.textCenterX;\n                                                                            delete finalAttrs.textCenterY;\n                                                                            delete finalAttrs.textVisualWidth;\n                                                                            var _objOriginal_id1, _finalAttrs_fontSize, _finalAttrs_x, _finalAttrs_y;\n                                                                            textResizeDebug(\"transform-final:text-attrs\", {\n                                                                                id: (_objOriginal_id1 = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id1 !== void 0 ? _objOriginal_id1 : null,\n                                                                                finalFontSize: (_finalAttrs_fontSize = finalAttrs.fontSize) !== null && _finalAttrs_fontSize !== void 0 ? _finalAttrs_fontSize : null,\n                                                                                finalX: (_finalAttrs_x = finalAttrs.x) !== null && _finalAttrs_x !== void 0 ? _finalAttrs_x : null,\n                                                                                finalY: (_finalAttrs_y = finalAttrs.y) !== null && _finalAttrs_y !== void 0 ? _finalAttrs_y : null\n                                                                            });\n                                                                        } else if (objOriginal.tipo === \"countdown\") {\n                                                                            var _objOriginal_scaleX, _objOriginal_scaleY;\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                scaleX: Number.isFinite(cleanAttrs.scaleX) ? cleanAttrs.scaleX : (_objOriginal_scaleX = objOriginal.scaleX) !== null && _objOriginal_scaleX !== void 0 ? _objOriginal_scaleX : 1,\n                                                                                scaleY: Number.isFinite(cleanAttrs.scaleY) ? cleanAttrs.scaleY : (_objOriginal_scaleY = objOriginal.scaleY) !== null && _objOriginal_scaleY !== void 0 ? _objOriginal_scaleY : 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"forma\" && objOriginal.figura === \"circle\") {\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: Number.isFinite(cleanAttrs.x) ? cleanAttrs.x : objOriginal.x || 0,\n                                                                                radius: Number.isFinite(cleanAttrs.radius) ? cleanAttrs.radius : objOriginal.radius || 50,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"forma\" && objOriginal.figura === \"triangle\") {\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: Number.isFinite(cleanAttrs.x) ? cleanAttrs.x : objOriginal.x || 0,\n                                                                                radius: Number.isFinite(cleanAttrs.radius) ? cleanAttrs.radius : objOriginal.radius || 60,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                            delete finalAttrs.width;\n                                                                            delete finalAttrs.height;\n                                                                        } else if (objOriginal.tipo === \"galeria\") {\n                                                                            const galleryMetrics = normalizarMedidasGaleria(objOriginal, cleanAttrs.width, cleanAttrs.x);\n                                                                            finalAttrs = {\n                                                                                ...finalAttrs,\n                                                                                x: galleryMetrics.x,\n                                                                                width: galleryMetrics.width,\n                                                                                height: galleryMetrics.height,\n                                                                                widthPct: galleryMetrics.widthPct,\n                                                                                rotation: objOriginal.rotation || 0,\n                                                                                scaleX: 1,\n                                                                                scaleY: 1\n                                                                            };\n                                                                        }\n                                                                        // ? offsetY solo para debug (evita ReferenceError)\n                                                                        let offsetY = 0;\n                                                                        try {\n                                                                            const idx = seccionesOrdenadas.findIndex((s)=>s.id === objOriginal.seccionId);\n                                                                            const safe = idx >= 0 ? idx : 0;\n                                                                            // Nota: en tu código lo llamás a veces con 2 params, a veces con 3.\n                                                                            // Acá usamos 3, consistente con otras partes del archivo.\n                                                                            offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, safe, altoCanvas) || 0;\n                                                                        } catch (e) {\n                                                                            offsetY = 0;\n                                                                        }\n                                                                        if (objOriginal.tipo === \"countdown\" || objOriginal.tipo === \"texto\") {\n                                                                            if (objOriginal.tipo === \"texto\") {\n                                                                                var _objOriginal_id2, _finalAttrs_fontSize1, _finalAttrs_x1, _finalAttrs_y1, _objOriginal_seccionId;\n                                                                                const commitSnapshot = {\n                                                                                    id: (_objOriginal_id2 = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.id) !== null && _objOriginal_id2 !== void 0 ? _objOriginal_id2 : null,\n                                                                                    finalFontSize: (_finalAttrs_fontSize1 = finalAttrs.fontSize) !== null && _finalAttrs_fontSize1 !== void 0 ? _finalAttrs_fontSize1 : null,\n                                                                                    finalX: (_finalAttrs_x1 = finalAttrs.x) !== null && _finalAttrs_x1 !== void 0 ? _finalAttrs_x1 : null,\n                                                                                    finalY: (_finalAttrs_y1 = finalAttrs.y) !== null && _finalAttrs_y1 !== void 0 ? _finalAttrs_y1 : null,\n                                                                                    seccionId: (_objOriginal_seccionId = objOriginal === null || objOriginal === void 0 ? void 0 : objOriginal.seccionId) !== null && _objOriginal_seccionId !== void 0 ? _objOriginal_seccionId : null\n                                                                                };\n                                                                                textResizeDebug(\"transform-final:commit\", {\n                                                                                    ...commitSnapshot\n                                                                                });\n                                                                                if (isTextResizeDebugEnabled()) {\n                                                                                    requestAnimationFrame(()=>{\n                                                                                        requestAnimationFrame(()=>{\n                                                                                            var _elementRefs_current;\n                                                                                            const nodeAfterCommit = (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[commitSnapshot.id];\n                                                                                            if (!nodeAfterCommit) {\n                                                                                                textResizeDebug(\"transform-final:post-render:no-node\", {\n                                                                                                    id: commitSnapshot.id\n                                                                                                });\n                                                                                                return;\n                                                                                            }\n                                                                                            try {\n                                                                                                const rectAfterCommit = nodeAfterCommit.getClientRect({\n                                                                                                    skipTransform: false,\n                                                                                                    skipShadow: true,\n                                                                                                    skipStroke: true\n                                                                                                });\n                                                                                                textResizeDebug(\"transform-final:post-render\", {\n                                                                                                    ...commitSnapshot,\n                                                                                                    nodeX: typeof nodeAfterCommit.x === \"function\" ? nodeAfterCommit.x() : null,\n                                                                                                    nodeY: typeof nodeAfterCommit.y === \"function\" ? nodeAfterCommit.y() : null,\n                                                                                                    nodeScaleX: typeof nodeAfterCommit.scaleX === \"function\" ? nodeAfterCommit.scaleX() : null,\n                                                                                                    nodeScaleY: typeof nodeAfterCommit.scaleY === \"function\" ? nodeAfterCommit.scaleY() : null,\n                                                                                                    nodeFontSize: typeof nodeAfterCommit.fontSize === \"function\" ? nodeAfterCommit.fontSize() : null,\n                                                                                                    nodeRectWidth: Number.isFinite(rectAfterCommit === null || rectAfterCommit === void 0 ? void 0 : rectAfterCommit.width) ? rectAfterCommit.width : null,\n                                                                                                    nodeRectHeight: Number.isFinite(rectAfterCommit === null || rectAfterCommit === void 0 ? void 0 : rectAfterCommit.height) ? rectAfterCommit.height : null\n                                                                                                });\n                                                                                            } catch (err) {\n                                                                                                textResizeDebug(\"transform-final:post-render:error\", {\n                                                                                                    id: commitSnapshot.id,\n                                                                                                    message: (err === null || err === void 0 ? void 0 : err.message) || String(err)\n                                                                                                });\n                                                                                            }\n                                                                                        });\n                                                                                    });\n                                                                                }\n                                                                            }\n                                                                            actualizarObjeto(objIndex, finalAttrs);\n                                                                        } else {\n                                                                            requestAnimationFrame(()=>{\n                                                                                actualizarObjeto(objIndex, finalAttrs);\n                                                                            });\n                                                                        }\n                                                                    }\n                                                                }\n                                                            }\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 3809,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                })(),\n                                                !((_window__resizeData = window._resizeData) === null || _window__resizeData === void 0 ? void 0 : _window__resizeData.isResizing) && !isDragging && !window._isDragging && !window._grupoLider && !editing.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HoverIndicator__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    hoveredElement: hoverId,\n                                                    elementRefs: elementRefs,\n                                                    objetos: objetos\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 4128,\n                                                    columnNumber: 21\n                                                }, this),\n                                                elementosSeleccionados.length === 1 && (()=>{\n                                                    const elementoSeleccionado = objetos.find((obj)=>obj.id === elementosSeleccionados[0]);\n                                                    if ((elementoSeleccionado === null || elementoSeleccionado === void 0 ? void 0 : elementoSeleccionado.tipo) === 'forma' && (elementoSeleccionado === null || elementoSeleccionado === void 0 ? void 0 : elementoSeleccionado.figura) === 'line') {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LineControls__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                            name: \"ui\",\n                                                            lineElement: elementoSeleccionado,\n                                                            elementRefs: elementRefs,\n                                                            onUpdateLine: actualizarLinea,\n                                                            altoCanvas: altoCanvasDinamico,\n                                                            isMobile: isMobile,\n                                                            // ?? NUEVA PROP: Pasar información sobre drag grupal\n                                                            isDragGrupalActive: window._grupoLider !== null,\n                                                            elementosSeleccionados: elementosSeleccionados\n                                                        }, \"line-controls-\".concat(elementoSeleccionado.id, \"-\").concat(JSON.stringify(elementoSeleccionado.points)), false, {\n                                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                            lineNumber: 4138,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    }\n                                                    return null;\n                                                })(),\n                                                guiaLineas.map((linea, i)=>{\n                                                    // Determinar el estilo visual según el tipo\n                                                    const esLineaSeccion = linea.priority === 'seccion';\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Line, {\n                                                        name: \"ui\",\n                                                        points: linea.points,\n                                                        stroke: esLineaSeccion ? \"#773dbe\" : \"#9333ea\",\n                                                        strokeWidth: esLineaSeccion ? 2 : 1,\n                                                        dash: linea.style === 'dashed' ? [\n                                                            8,\n                                                            6\n                                                        ] : undefined,\n                                                        opacity: esLineaSeccion ? 0.9 : 0.7,\n                                                        listening: false,\n                                                        perfectDrawEnabled: false,\n                                                        // Efecto sutil de resplandor para líneas de sección\n                                                        shadowColor: esLineaSeccion ? \"rgba(119, 61, 190, 0.3)\" : undefined,\n                                                        shadowBlur: esLineaSeccion ? 4 : 0,\n                                                        shadowEnabled: esLineaSeccion\n                                                    }, \"\".concat(linea.type, \"-\").concat(i), false, {\n                                                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                        lineNumber: 4165,\n                                                        columnNumber: 23\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 3107,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_CanvasElementsLayer__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                            children: (()=>{\n                                                if (!seccionActivaId) return null;\n                                                const index = seccionesOrdenadas.findIndex((s)=>s.id === seccionActivaId);\n                                                if (index === -1) return null;\n                                                const seccion = seccionesOrdenadas[index];\n                                                const offsetY = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_6__.calcularOffsetY)(seccionesOrdenadas, index, altoCanvas);\n                                                const estaAnimando = seccionesAnimando.includes(seccion.id);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect, {\n                                                    x: 0,\n                                                    y: offsetY,\n                                                    width: 800,\n                                                    height: seccion.altura,\n                                                    fill: \"transparent\",\n                                                    stroke: \"#773dbe\",\n                                                    strokeWidth: estaAnimando ? 4 : 3,\n                                                    cornerRadius: 0,\n                                                    shadowColor: estaAnimando ? \"rgba(119, 61, 190, 0.4)\" : \"rgba(119, 61, 190, 0.25)\",\n                                                    shadowBlur: estaAnimando ? 16 : 12,\n                                                    shadowOffset: {\n                                                        x: 0,\n                                                        y: estaAnimando ? 4 : 3\n                                                    },\n                                                    listening: false\n                                                }, \"overlay-border-seccion-\".concat(seccion.id), false, {\n                                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                                    lineNumber: 4199,\n                                                    columnNumber: 23\n                                                }, this);\n                                            })()\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                            lineNumber: 4187,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 3078,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                lineNumber: 3070,\n                                columnNumber: 13\n                            }, this),\n                            editing.id && elementRefs.current[editing.id] && (()=>{\n                                const objetoEnEdicion = objetos.find((o)=>o.id === editing.id);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_InlineTextEditor__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    editingId: editing.id,\n                                    node: elementRefs.current[editing.id],\n                                    value: editing.value,\n                                    textAlign: (objetoEnEdicion === null || objetoEnEdicion === void 0 ? void 0 : objetoEnEdicion.align) || 'left',\n                                    onOverlayMountChange: handleInlineOverlayMountChange,\n                                    onChange: (nextValue)=>{\n                                        const nextText = String(nextValue !== null && nextValue !== void 0 ? nextValue : \"\");\n                                        const prevStats = getInlineLineStats(editing.value);\n                                        const nextStats = getInlineLineStats(nextText);\n                                        if (prevStats.lineCount !== nextStats.lineCount || prevStats.trailingNewlines !== nextStats.trailingNewlines) {\n                                            inlineDebugLog(\"linebreak-model-sync\", {\n                                                id: editing.id || window._currentEditingId || null,\n                                                prevLength: prevStats.length,\n                                                nextLength: nextStats.length,\n                                                prevLineCount: prevStats.lineCount,\n                                                nextLineCount: nextStats.lineCount,\n                                                prevTrailingNewlines: prevStats.trailingNewlines,\n                                                nextTrailingNewlines: nextStats.trailingNewlines\n                                            });\n                                        }\n                                        captureInlineSnapshot(\"input: before-render\", {\n                                            id: editing.id || window._currentEditingId || null,\n                                            valueLength: nextText.length\n                                        });\n                                        updateEdit(nextValue);\n                                    },\n                                    onDebugEvent: function(eventName) {\n                                        let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n                                        captureInlineSnapshot(eventName, {\n                                            id: (payload === null || payload === void 0 ? void 0 : payload.id) || editing.id || null,\n                                            ...payload\n                                        });\n                                    },\n                                    onFinish: ()=>{\n                                        var _stageRef_current_getStage, _stageRef_current;\n                                        const finishId = editing.id;\n                                        var _editing_value;\n                                        captureInlineSnapshot(\"finish: blur\", {\n                                            id: finishId,\n                                            valueLength: String((_editing_value = editing.value) !== null && _editing_value !== void 0 ? _editing_value : \"\").length\n                                        });\n                                        var _editing_value1;\n                                        const textoNuevoRaw = String((_editing_value1 = editing.value) !== null && _editing_value1 !== void 0 ? _editing_value1 : \"\");\n                                        const textoNuevoValidado = textoNuevoRaw.trim();\n                                        const index = objetos.findIndex((o)=>o.id === finishId);\n                                        const objeto = objetos[index];\n                                        const liveNodeAtFinish = elementRefs.current[finishId];\n                                        const liveMetricsAtFinish = obtenerMetricasNodoInline(liveNodeAtFinish);\n                                        var _objeto_x, _objeto_y;\n                                        inlineDebugLog(\"finish-start\", {\n                                            id: finishId,\n                                            rawLength: textoNuevoRaw.length,\n                                            trimmedLength: textoNuevoValidado.length,\n                                            objectX: (_objeto_x = objeto === null || objeto === void 0 ? void 0 : objeto.x) !== null && _objeto_x !== void 0 ? _objeto_x : null,\n                                            objectY: (_objeto_y = objeto === null || objeto === void 0 ? void 0 : objeto.y) !== null && _objeto_y !== void 0 ? _objeto_y : null,\n                                            previewRef: {\n                                                ...inlineEditPreviewRef.current\n                                            },\n                                            liveMetricsAtFinish\n                                        });\n                                        if (index === -1) {\n                                            console.warn(\"? El objeto ya no existe. Cancelando guardado.\");\n                                            inlineDebugLog(\"finish-abort-missing-object\", {\n                                                id: finishId\n                                            });\n                                            inlineCommitDebugRef.current = {\n                                                id: null\n                                            };\n                                            finishEdit();\n                                            return;\n                                        }\n                                        // ?? Podés permitir texto vacío en formas si querés (yo lo permitiría)\n                                        if (textoNuevoValidado === \"\" && objeto.tipo === \"texto\") {\n                                            console.warn(\"?? El texto está vacío. No se actualiza.\");\n                                            inlineDebugLog(\"finish-abort-empty\", {\n                                                id: finishId,\n                                                rawLength: textoNuevoRaw.length,\n                                                trimmedLength: textoNuevoValidado.length\n                                            });\n                                            inlineCommitDebugRef.current = {\n                                                id: null\n                                            };\n                                            inlineEditPreviewRef.current = {\n                                                id: null,\n                                                centerX: null\n                                            };\n                                            finishEdit();\n                                            return;\n                                        }\n                                        const actualizado = [\n                                            ...objetos\n                                        ];\n                                        const patch = {\n                                            texto: textoNuevoRaw\n                                        };\n                                        const shouldKeepCenterX = objeto.tipo === \"texto\" && !objeto.__groupAlign && !Number.isFinite(objeto.width) && objeto.__autoWidth !== false;\n                                        if (shouldKeepCenterX) {\n                                            const nextX = calcularXTextoCentrado(objeto, textoNuevoRaw);\n                                            const currentX = Number.isFinite(objeto.x) ? objeto.x : 0;\n                                            if (Number.isFinite(nextX) && Math.abs(nextX - currentX) > 0.01) {\n                                                patch.x = nextX;\n                                            }\n                                            var _patch_x;\n                                            inlineDebugLog(\"finish-center-computed\", {\n                                                id: finishId,\n                                                shouldKeepCenterX,\n                                                currentX,\n                                                nextX,\n                                                patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                            });\n                                        }\n                                        actualizado[index] = {\n                                            ...actualizado[index],\n                                            ...patch\n                                        };\n                                        const expectedX = Number.isFinite(patch.x) ? patch.x : Number.isFinite(objeto.x) ? objeto.x : null;\n                                        inlineCommitDebugRef.current = {\n                                            id: finishId,\n                                            expectedX,\n                                            objectXBeforeCommit: Number.isFinite(objeto.x) ? objeto.x : null,\n                                            liveNodeXAtFinish: Number.isFinite(liveMetricsAtFinish === null || liveMetricsAtFinish === void 0 ? void 0 : liveMetricsAtFinish.x) ? liveMetricsAtFinish.x : null,\n                                            previewCenterX: null,\n                                            textLength: textoNuevoRaw.length\n                                        };\n                                        inlineDebugLog(\"finish-apply-patch\", {\n                                            id: finishId,\n                                            patch,\n                                            expectedX\n                                        });\n                                        const logFinishVisibilityCheck = (phase)=>{\n                                            var _window_editing;\n                                            const safeId = String(finishId || \"\").replace(/\"/g, '\\\\\"');\n                                            const overlayDomPresent = safeId ? Boolean(document.querySelector('[data-inline-editor-id=\"'.concat(safeId, '\"]'))) : false;\n                                            const liveNode = elementRefs.current[finishId];\n                                            var _window_editing_id, _window__currentEditingId;\n                                            inlineDebugLog(\"finish-visibility-check\", {\n                                                phase,\n                                                id: finishId,\n                                                reactiveEditingId: editing.id || null,\n                                                globalEditingId: (_window_editing_id = (_window_editing = window.editing) === null || _window_editing === void 0 ? void 0 : _window_editing.id) !== null && _window_editing_id !== void 0 ? _window_editing_id : null,\n                                                currentEditingId: (_window__currentEditingId = window._currentEditingId) !== null && _window__currentEditingId !== void 0 ? _window__currentEditingId : null,\n                                                overlayMountedId: inlineOverlayMountedId !== null && inlineOverlayMountedId !== void 0 ? inlineOverlayMountedId : null,\n                                                overlayDomPresent,\n                                                nodeOpacity: typeof (liveNode === null || liveNode === void 0 ? void 0 : liveNode.opacity) === \"function\" ? liveNode.opacity() : null,\n                                                nodeVisible: typeof (liveNode === null || liveNode === void 0 ? void 0 : liveNode.visible) === \"function\" ? liveNode.visible() : null,\n                                                nodeMetrics: obtenerMetricasNodoInline(liveNode)\n                                            });\n                                        };\n                                        logFinishVisibilityCheck(\"before-commit\");\n                                        var _patch_x1;\n                                        captureInlineSnapshot(\"finish: before-flush\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x1 = patch.x) !== null && _patch_x1 !== void 0 ? _patch_x1 : null\n                                        });\n                                        (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                            setObjetos(actualizado);\n                                        });\n                                        var _patch_x2;\n                                        captureInlineSnapshot(\"finish: after-flush\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x2 = patch.x) !== null && _patch_x2 !== void 0 ? _patch_x2 : null\n                                        });\n                                        logFinishVisibilityCheck(\"after-commit-before-finishEdit\");\n                                        inlineEditPreviewRef.current = {\n                                            id: null,\n                                            centerX: null\n                                        };\n                                        (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.flushSync)(()=>{\n                                            finishEdit();\n                                        });\n                                        const stageAfterFinishEdit = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current || null;\n                                        if (typeof (stageAfterFinishEdit === null || stageAfterFinishEdit === void 0 ? void 0 : stageAfterFinishEdit.batchDraw) === \"function\") {\n                                            stageAfterFinishEdit.batchDraw();\n                                        }\n                                        logFinishVisibilityCheck(\"after-finishEdit-sync\");\n                                        if (window._currentEditingId === finishId) {\n                                            window._currentEditingId = null;\n                                        }\n                                        var _patch_x3;\n                                        captureInlineSnapshot(\"finish: after-finishEdit\", {\n                                            id: finishId,\n                                            expectedX,\n                                            patchX: (_patch_x3 = patch.x) !== null && _patch_x3 !== void 0 ? _patch_x3 : null\n                                        });\n                                        requestAnimationFrame(()=>{\n                                            logFinishVisibilityCheck(\"after-finishEdit-raf1\");\n                                            var _patch_x;\n                                            captureInlineSnapshot(\"finish: raf1\", {\n                                                id: finishId,\n                                                expectedX,\n                                                patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                            });\n                                            requestAnimationFrame(()=>{\n                                                var _patch_x;\n                                                captureInlineSnapshot(\"finish: raf2\", {\n                                                    id: finishId,\n                                                    expectedX,\n                                                    patchX: (_patch_x = patch.x) !== null && _patch_x !== void 0 ? _patch_x : null\n                                                });\n                                            });\n                                        });\n                                    },\n                                    scaleVisual: escalaVisual,\n                                    finishMode: inlineDebugAB.finishMode,\n                                    widthMode: inlineDebugAB.overlayWidthMode\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                    lineNumber: 4227,\n                                    columnNumber: 17\n                                }, this);\n                            })(),\n                            !isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_DividersOverlayStage__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                zoom: zoom,\n                                altoCanvasDinamico: altoCanvasDinamico,\n                                seccionesOrdenadas: seccionesOrdenadas\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                                lineNumber: 4443,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                        lineNumber: 2788,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                    lineNumber: 2779,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 2766,\n                columnNumber: 7\n            }, this),\n            elementosSeleccionados.length === 1 && !editing.id && !isSelectionRotating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: botonOpcionesRef,\n                \"data-option-button\": \"true\",\n                className: \"absolute z-50 bg-white border-2 border-purple-500 rounded-full shadow-lg hover:shadow-xl transition-shadow duration-200\",\n                style: {\n                    left: \"0px\",\n                    top: \"0px\",\n                    width: \"\".concat(optionButtonSize, \"px\"),\n                    height: \"\".concat(optionButtonSize, \"px\"),\n                    display: \"none\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    pointerEvents: \"auto\",\n                    transition: \"none\",\n                    backgroundColor: \"rgba(255, 255, 255, 0.95)\",\n                    backdropFilter: \"blur(4px)\",\n                    border: \"2px solid #773dbe\",\n                    touchAction: \"manipulation\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onPointerDown: (e)=>{\n                        e.preventDefault();\n                        e.stopPropagation();\n                        togglePanelOpciones(\"gear-pointerdown\", e.nativeEvent || e);\n                    },\n                    onClick: (e)=>{\n                        // Click de teclado (Enter/Espacio) cuando no hay pointer interaction.\n                        if (e.detail !== 0) return;\n                        e.stopPropagation();\n                        togglePanelOpciones(\"gear-keyboard-click\", e.nativeEvent || e);\n                    },\n                    className: \"hover:bg-purple-50 w-full h-full rounded-full flex items-center justify-center transition-colors\",\n                    title: \"Opciones del elemento\",\n                    \"aria-label\": \"Opciones del elemento\",\n                    style: {\n                        touchAction: \"manipulation\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronUp_Layers_Monitor_MoveDown_MoveUp_PlusCircle_Settings_Trash2_Unlink2_lucide_react__WEBPACK_IMPORTED_MODULE_47__.Settings, {\n                        className: \"text-purple-700\",\n                        style: {\n                            width: isMobile ? 18 : 14,\n                            height: isMobile ? 18 : 14\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                        lineNumber: 4501,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                    lineNumber: 4483,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4463,\n                columnNumber: 9\n            }, this),\n            mostrarPanelZ && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MenuOpcionesElemento__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                isOpen: mostrarPanelZ,\n                botonOpcionesRef: botonOpcionesRef,\n                elementoSeleccionado: objetos.find((o)=>o.id === elementosSeleccionados[0]),\n                onCopiar: onCopiar,\n                onPegar: onPegar,\n                onDuplicar: onDuplicar,\n                onEliminar: onEliminar,\n                moverElemento: moverElemento,\n                onCerrar: ()=>setMostrarPanelZ(false),\n                reemplazarFondo: _utils_accionesFondo__WEBPACK_IMPORTED_MODULE_20__.reemplazarFondoSeccion,\n                secciones: secciones,\n                objetos: objetos,\n                setSecciones: setSecciones,\n                setObjetos: setObjetos,\n                setElementosSeleccionados: setElementosSeleccionados\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4512,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_toolbar_FloatingTextToolbar__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                objetoSeleccionado: objetoSeleccionado,\n                setObjetos: setObjetos,\n                elementosSeleccionados: elementosSeleccionados,\n                mostrarSelectorFuente: mostrarSelectorFuente,\n                setMostrarSelectorFuente: setMostrarSelectorFuente,\n                mostrarSelectorTamano: mostrarSelectorTamano,\n                setMostrarSelectorTamano: setMostrarSelectorTamano,\n                ALL_FONTS: _config_fonts__WEBPACK_IMPORTED_MODULE_33__.ALL_FONTS,\n                fontManager: _utils_fontManager__WEBPACK_IMPORTED_MODULE_14__.fontManager,\n                tamaniosDisponibles: tamaniosDisponibles,\n                onCambiarAlineacion: onCambiarAlineacion\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4532,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_sections_ConfirmDeleteSectionModal__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                isOpen: deleteSectionModal.isOpen,\n                sectionName: seccionPendienteEliminar === null || seccionPendienteEliminar === void 0 ? void 0 : seccionPendienteEliminar.tipo,\n                itemCount: cantidadElementosSeccionPendiente,\n                isDeleting: isDeletingSection,\n                onCancel: cerrarModalBorrarSeccion,\n                onConfirm: confirmarBorrarSeccion\n            }, void 0, false, {\n                fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n                lineNumber: 4546,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\CanvasEditor.jsx\",\n        lineNumber: 2745,\n        columnNumber: 5\n    }, this);\n}\n_s(CanvasEditor, \"syrXUFvL9GxV7MV1M6A8u6NLxqk=\", false, function() {\n    return [\n        _components_editor_mobile_useCanvasInteractionState__WEBPACK_IMPORTED_MODULE_42__[\"default\"],\n        _hooks_useImperativeObjects__WEBPACK_IMPORTED_MODULE_9__.useImperativeObjects,\n        _hooks_usePlantillasDeSeccion__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n        _hooks_useAuthClaims__WEBPACK_IMPORTED_MODULE_34__.useAuthClaims,\n        _editor_persistence_useBorradorSync__WEBPACK_IMPORTED_MODULE_35__[\"default\"],\n        _editor_sections_useSectionsManager__WEBPACK_IMPORTED_MODULE_36__[\"default\"],\n        _editor_events_useEditorEvents__WEBPACK_IMPORTED_MODULE_38__[\"default\"],\n        _hooks_useInlineEditor__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n        _components_editor_mobile_useCanvasScaleLayout__WEBPACK_IMPORTED_MODULE_41__[\"default\"],\n        _hooks_useEditorHandlers__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n        _editor_history_useHistoryManager__WEBPACK_IMPORTED_MODULE_40__[\"default\"],\n        _hooks_useKeyboardShortcuts__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        _editor_window_useEditorWindowBridge__WEBPACK_IMPORTED_MODULE_39__[\"default\"],\n        _hooks_useGuiasCentrado__WEBPACK_IMPORTED_MODULE_29__[\"default\"],\n        _components_editor_overlays_useOptionButtonPosition__WEBPACK_IMPORTED_MODULE_44__[\"default\"],\n        _editor_mobile_useStageGestures__WEBPACK_IMPORTED_MODULE_43__[\"default\"]\n    ];\n});\n_c = CanvasEditor;\nvar _c;\n$RefreshReg$(_c, \"CanvasEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NhbnZhc0VkaXRvci5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4QkFBOEI7OztBQUM0QztBQUN0QjtBQUNzQztBQUM1QztBQUNKO0FBQ2lEO0FBQ2pDO0FBQ1U7QUFDQTtBQUNwQjtBQUNGO0FBQ047QUFDd0I7QUFDYjtBQUNHO0FBQ1o7QUFDZ0I7QUFDUjtBQUNSO0FBQ3dDO0FBQ0Q7QUFDQTtBQUNGO0FBQ21CO0FBQ2pDO0FBQ0w7QUFDWDtBQUNTO0FBQ0w7QUFDcUI7QUFDbEI7QUFDMEI7QUFDeEI7QUFDaEM7QUFDa0I7QUFDVTtBQVloQztBQUM2QztBQUNHO0FBQ3lCO0FBQ2pDO0FBQ1k7QUFDUDtBQUNnQjtBQUNVO0FBQzdCO0FBQzJCO0FBQ2pCO0FBQ0U7QUFJNUVvRCw0REFBa0IsR0FBRztBQUVyQixTQUFTMEI7SUFDUCxJQUFJLEtBQTZCLEVBQUUsRUFBUztJQUU1QyxNQUFNQyxNQUFNQyxPQUFPQyxPQUFPQyxnQkFBZ0IsSUFBSTtJQUM5QyxNQUFNQyxnQkFDSixPQUFPRixPQUFPRyxVQUFVLEtBQUssY0FDN0JILE9BQU9HLFVBQVUsQ0FBQyxxQkFBcUJDLE9BQU87SUFDaEQsTUFBTUMsVUFBVUMsS0FBS0MsR0FBRyxDQUFDUixPQUFPQyxPQUFPUSxVQUFVLElBQUksSUFBSVQsT0FBT0MsT0FBT1MsV0FBVyxJQUFJO0lBQ3RGLE1BQU1DLGFBQWFSLGlCQUFrQkcsVUFBVSxLQUFLQSxXQUFXO0lBRS9ELElBQUlLLFlBQVksT0FBTztJQUN2QixPQUFPSixLQUFLQyxHQUFHLENBQUNULEtBQUs7QUFDdkI7QUFFQTNCLDBEQUFnQixHQUFHMEI7QUFFbkIsTUFBTWUsNkJBQTZCO0FBQ25DLE1BQU1DLHlCQUF5QjtBQUUvQixTQUFTQyxtQkFBbUJDLElBQUk7SUFDOUIsTUFBTUMsSUFBSUMsT0FB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LG9CQUFvQkE7Z0JBQ3BCeEosWUFBWUE7Z0JBQ1pTLHdCQUF3QkE7Z0JBQ3hCb0QsdUJBQXVCQTtnQkFDdkJDLDBCQUEwQkE7Z0JBQzFCNEYsdUJBQXVCQTtnQkFDdkJILDBCQUEwQkE7Z0JBQzFCelIsV0FBV0EscURBQVNBO2dCQUNwQjFCLGFBQWFBLDREQUFXQTtnQkFDeEJ1VCxxQkFBcUJBO2dCQUNyQmdLLHFCQUFxQkE7Ozs7OzswQkFHdkIsOERBQUMvYSw4RkFBeUJBO2dCQUN4QjhMLFFBQVFGLG1CQUFtQkUsTUFBTTtnQkFDakMwd0IsV0FBVyxFQUFFdnRCLHFDQUFBQSwrQ0FBQUEseUJBQTBCcUQsSUFBSTtnQkFDM0NtcUIsV0FBV3R0QjtnQkFDWHV0QixZQUFZMXdCO2dCQUNaMndCLFVBQVUxVztnQkFDVjJXLFdBQVcxVzs7Ozs7Ozs7Ozs7O0FBUW5CO0dBbHZJd0J0Zjs7UUFnQjBDdkcsNEZBQXlCQTtRQUMvRGxELDZFQUFvQkE7UUFXTUQscUVBQXNCQTtRQWtCdkNpQyxnRUFBYUE7UUFvQmhEVyw0RUFBZUE7UUEyQlhDLDRFQUFrQkE7UUFvQnRCRSx1RUFBZUE7UUF1S1h4QywrREFBZUE7UUFtR2YyQyx1RkFBb0JBO1FBNmhCcEJ6QyxpRUFBaUJBO1FBZXJCd0MsMEVBQWlCQTtRQWs0QmpCNUMsb0VBQW9CQTtRQWtDcEIyQyw2RUFBcUJBO1FBNk9qQnBCLGdFQUFnQkE7UUFnQndCeUIsNEZBQXVCQTtRQWlYN0NELHdFQUFnQkE7OztLQXo3RWhCc0ciLCJzb3VyY2VzIjpbIkM6XFxSZXNlcnZhZWxkaWFcXHNyY1xcY29tcG9uZW50c1xcQ2FudmFzRWRpdG9yLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzL0NhbnZhc0VkaXRvci5qc3hcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsLCBmbHVzaFN5bmMgfSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyBTdGFnZSwgTGluZSwgUmVjdCwgVGV4dCwgSW1hZ2UgYXMgS29udmFJbWFnZSwgR3JvdXAsIENpcmNsZSB9IGZyb20gXCJyZWFjdC1rb252YVwiO1xuaW1wb3J0IEVsZW1lbnRvQ2FudmFzIGZyb20gXCIuL0VsZW1lbnRvQ2FudmFzXCI7XG5pbXBvcnQgTGluZUNvbnRyb2xzIGZyb20gXCIuL0xpbmVDb250cm9sc1wiO1xuaW1wb3J0IHsgY2FsY3VsYXJPZmZzZXRZLCBjb252ZXJ0aXJBYnNBUmVsLCBkZXRlcm1pbmFyTnVldmFTZWNjaW9uIH0gZnJvbSBcIkAvdXRpbHMvbGF5b3V0XCI7XG5pbXBvcnQgeyBjcmVhclNlY2Npb24gfSBmcm9tIFwiQC9tb2RlbHMvZXN0cnVjdHVyYUluaWNpYWxcIjtcbmltcG9ydCB1c2VQbGFudGlsbGFzRGVTZWNjaW9uIGZyb20gXCJAL2hvb2tzL3VzZVBsYW50aWxsYXNEZVNlY2Npb25cIjtcbmltcG9ydCB7IHVzZUltcGVyYXRpdmVPYmplY3RzIH0gZnJvbSAnQC9ob29rcy91c2VJbXBlcmF0aXZlT2JqZWN0cyc7XG5pbXBvcnQgU2VsZWN0aW9uQm91bmRzIGZyb20gJy4vU2VsZWN0aW9uQm91bmRzJztcbmltcG9ydCBIb3ZlckluZGljYXRvciBmcm9tICcuL0hvdmVySW5kaWNhdG9yJztcbmltcG9ydCBMaW5lVG9vbGJhciBmcm9tIFwiLi9MaW5lVG9vbGJhclwiO1xuaW1wb3J0IHVzZUtleWJvYXJkU2hvcnRjdXRzIGZyb20gJ0AvaG9va3MvdXNlS2V5Ym9hcmRTaG9ydGN1dHMnO1xuaW1wb3J0IHsgZm9udE1hbmFnZXIgfSBmcm9tICcuLi91dGlscy9mb250TWFuYWdlcic7XG5pbXBvcnQgdXNlSW5saW5lRWRpdG9yIGZyb20gXCJAL2hvb2tzL3VzZUlubGluZUVkaXRvclwiO1xyXG5pbXBvcnQgU2hhcGVUb29sYmFyIGZyb20gJy4vU2hhcGVUb29sYmFyJztcclxuaW1wb3J0IHVzZUVkaXRvckhhbmRsZXJzIGZyb20gJ0AvaG9va3MvdXNlRWRpdG9ySGFuZGxlcnMnO1xyXG5pbXBvcnQgSW5saW5lVGV4dEVkaXRvciBmcm9tIFwiLi9JbmxpbmVUZXh0RWRpdG9yXCI7XHJcbmltcG9ydCBGb250U2VsZWN0b3IgZnJvbSAnLi9Gb250U2VsZWN0b3InO1xyXG5pbXBvcnQgeyByZWVtcGxhemFyRm9uZG9TZWNjaW9uIGFzIHJlZW1wbGF6YXJGb25kbyB9IGZyb20gXCJAL3V0aWxzL2FjY2lvbmVzRm9uZG9cIjtcclxuaW1wb3J0IHsgZGVzYW5jbGFySW1hZ2VuRGVGb25kbyBhcyBkZXNhbmNsYXJGb25kbyB9IGZyb20gXCJAL3V0aWxzL2FjY2lvbmVzRm9uZG9cIjtcclxuaW1wb3J0IHsgYm9ycmFyU2VjY2lvbiBhcyBib3JyYXJTZWNjaW9uRXh0ZXJuYWwgfSBmcm9tIFwiQC91dGlscy9lZGl0b3JTZWNjaW9uZXNcIjtcclxuaW1wb3J0IHsgbW92ZXJTZWNjaW9uIGFzIG1vdmVyU2VjY2lvbkV4dGVybmFsIH0gZnJvbSBcIkAvdXRpbHMvZWRpdG9yU2VjY2lvbmVzXCI7XHJcbmltcG9ydCB7IHZhbGlkYXJQdW50b3NMaW5lYSwgZGV0ZWN0YXJJbnRlcnNlY2Npb25MaW5lYSB9IGZyb20gXCIuL2VkaXRvci9zZWxlY3Rpb24vc2VsZWN0aW9uVXRpbHNcIjtcclxuaW1wb3J0IHsgZ3VhcmRhclNlY2Npb25Db21vUGxhbnRpbGxhIH0gZnJvbSBcIkAvdXRpbHMvcGxhbnRpbGxhc1wiO1xyXG5pbXBvcnQgR2FsZXJpYUtvbnZhIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL0dhbGVyaWFLb252YVwiO1xyXG5pbXBvcnQgRm9uZG9TZWNjaW9uIGZyb20gJy4vZWRpdG9yL0ZvbmRvU2VjY2lvbic7XHJcbmltcG9ydCBNZW51T3BjaW9uZXNFbGVtZW50byBmcm9tIFwiLi9NZW51T3BjaW9uZXNFbGVtZW50b1wiO1xyXG5pbXBvcnQgeyBjYWxjR2FsbGVyeUxheW91dCB9IGZyb20gXCJAL3V0aWxzL2NhbGNHcmlkXCI7XHJcbmltcG9ydCBDb3VudGRvd25Lb252YSBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9jb3VudGRvd24vQ291bnRkb3duS29udmFcIjtcclxuaW1wb3J0IHVzZUd1aWFzQ2VudHJhZG8gZnJvbSAnQC9ob29rcy91c2VHdWlhc0NlbnRyYWRvJztcclxuaW1wb3J0IEZsb2F0aW5nVGV4dFRvb2xiYXIgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3IvdG9vbGJhci9GbG9hdGluZ1RleHRUb29sYmFyXCI7XHJcbmltcG9ydCBTZWxlY3RvckNvbG9yU2VjY2lvbiBmcm9tIFwiLi9TZWxlY3RvckNvbG9yU2VjY2lvblwiO1xyXG5pbXBvcnQgS29udmEgZnJvbSBcImtvbnZhXCI7XHJcbmltcG9ydCB7IEFMTF9GT05UUyB9IGZyb20gJy4uL2NvbmZpZy9mb250cyc7XG5pbXBvcnQgeyB1c2VBdXRoQ2xhaW1zIH0gZnJvbSBcIkAvaG9va3MvdXNlQXV0aENsYWltc1wiO1xuaW1wb3J0IHtcbiAgVHJhc2gyLFxuICBMYXllcnMsXG4gIE1vdmVVcCxcbiAgTW92ZURvd24sXG4gIFBsdXNDaXJjbGUsXG4gIFNldHRpbmdzLFxuICBVbmxpbmsyLFxuICBNb25pdG9yLFxuICBDaGV2cm9uRG93bixcbiAgQ2hldnJvblVwLFxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgdXNlQm9ycmFkb3JTeW5jIGZyb20gXCIuL2VkaXRvci9wZXJzaXN0ZW5jZS91c2VCb3JyYWRvclN5bmNcIjtcclxuaW1wb3J0IHVzZVNlY3Rpb25zTWFuYWdlciBmcm9tIFwiLi9lZGl0b3Ivc2VjdGlvbnMvdXNlU2VjdGlvbnNNYW5hZ2VyXCI7XHJcbmltcG9ydCBDb25maXJtRGVsZXRlU2VjdGlvbk1vZGFsIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL3NlY3Rpb25zL0NvbmZpcm1EZWxldGVTZWN0aW9uTW9kYWxcIjtcclxuaW1wb3J0IHVzZUVkaXRvckV2ZW50cyBmcm9tIFwiLi9lZGl0b3IvZXZlbnRzL3VzZUVkaXRvckV2ZW50c1wiO1xuaW1wb3J0IHVzZUVkaXRvcldpbmRvd0JyaWRnZSBmcm9tIFwiLi9lZGl0b3Ivd2luZG93L3VzZUVkaXRvcldpbmRvd0JyaWRnZVwiO1xuaW1wb3J0IHVzZUhpc3RvcnlNYW5hZ2VyIGZyb20gXCIuL2VkaXRvci9oaXN0b3J5L3VzZUhpc3RvcnlNYW5hZ2VyXCI7XG5pbXBvcnQgdXNlQ2FudmFzU2NhbGVMYXlvdXQgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3IvbW9iaWxlL3VzZUNhbnZhc1NjYWxlTGF5b3V0XCI7XG5pbXBvcnQgdXNlQ2FudmFzSW50ZXJhY3Rpb25TdGF0ZSBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9tb2JpbGUvdXNlQ2FudmFzSW50ZXJhY3Rpb25TdGF0ZVwiO1xuaW1wb3J0IHVzZVN0YWdlR2VzdHVyZXMgZnJvbSBcIi4vZWRpdG9yL21vYmlsZS91c2VTdGFnZUdlc3R1cmVzXCI7XG5pbXBvcnQgdXNlT3B0aW9uQnV0dG9uUG9zaXRpb24gZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3Ivb3ZlcmxheXMvdXNlT3B0aW9uQnV0dG9uUG9zaXRpb25cIjtcbmltcG9ydCBDYW52YXNFbGVtZW50c0xheWVyIGZyb20gXCJAL2NvbXBvbmVudHMvY2FudmFzL0NhbnZhc0VsZW1lbnRzTGF5ZXJcIjtcbmltcG9ydCBEaXZpZGVyc092ZXJsYXlTdGFnZSBmcm9tIFwiQC9jb21wb25lbnRzL2NhbnZhcy9EaXZpZGVyc092ZXJsYXlTdGFnZVwiO1xuXG5cblxuS29udmEuZHJhZ0Rpc3RhbmNlID0gODtcblxuZnVuY3Rpb24gcmVzb2x2ZUtvbnZhUGl4ZWxSYXRpbygpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiAxO1xuXG4gIGNvbnN0IGRwciA9IE51bWJlcih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTtcbiAgY29uc3QgY29hcnNlUG9pbnRlciA9XG4gICAgdHlwZW9mIHdpbmRvdy5tYXRjaE1lZGlhID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB3aW5kb3cubWF0Y2hNZWRpYShcIihwb2ludGVyOiBjb2Fyc2UpXCIpLm1hdGNoZXM7XG4gIGNvbnN0IG1pblNpZGUgPSBNYXRoLm1pbihOdW1iZXIod2luZG93LmlubmVyV2lkdGggfHwgMCksIE51bWJlcih3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCkpO1xuICBjb25zdCBtb2JpbGVMaWtlID0gY29hcnNlUG9pbnRlciB8fCAobWluU2lkZSA+IDAgJiYgbWluU2lkZSA8PSAxMDI0KTtcblxuICBpZiAobW9iaWxlTGlrZSkgcmV0dXJuIDE7XG4gIHJldHVybiBNYXRoLm1pbihkcHIsIDIpO1xufVxuXG5Lb252YS5waXhlbFJhdGlvID0gcmVzb2x2ZUtvbnZhUGl4ZWxSYXRpbygpO1xuXHJcbmNvbnN0IEFMVFVSQV9SRUZFUkVOQ0lBX1BBTlRBTExBID0gNTAwO1xyXG5jb25zdCBBTFRVUkFfUEFOVEFMTEFfRURJVE9SID0gNTAwO1xyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXphckFsdG9Nb2RvKG1vZG8pIHtcbiAgY29uc3QgbSA9IFN0cmluZyhtb2RvIHx8IFwiZmlqb1wiKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKG0gPT09IFwicGFudGFsbGFcIikgPyBcInBhbnRhbGxhXCIgOiBcImZpam9cIjtcbn1cblxuZnVuY3Rpb24gaXNCb2xkRm9udFdlaWdodCh3ZWlnaHQpIHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFN0cmluZyh3ZWlnaHQgfHwgXCJub3JtYWxcIikudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIChcbiAgICBub3JtYWxpemVkID09PSBcImJvbGRcIiB8fFxuICAgIG5vcm1hbGl6ZWQgPT09IFwiYm9sZGVyXCIgfHxcbiAgICBbXCI1MDBcIiwgXCI2MDBcIiwgXCI3MDBcIiwgXCI4MDBcIiwgXCI5MDBcIl0uaW5jbHVkZXMobm9ybWFsaXplZClcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUtvbnZhRm9udFN0eWxlKGZvbnRTdHlsZSwgZm9udFdlaWdodCkge1xuICBjb25zdCBzdHlsZSA9IFN0cmluZyhmb250U3R5bGUgfHwgXCJub3JtYWxcIikudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgaXNJdGFsaWMgPSBzdHlsZS5pbmNsdWRlcyhcIml0YWxpY1wiKSB8fCBzdHlsZS5pbmNsdWRlcyhcIm9ibGlxdWVcIik7XG4gIGNvbnN0IGlzQm9sZCA9IHN0eWxlLmluY2x1ZGVzKFwiYm9sZFwiKSB8fCBpc0JvbGRGb250V2VpZ2h0KGZvbnRXZWlnaHQpO1xuXG4gIGlmIChpc0JvbGQgJiYgaXNJdGFsaWMpIHJldHVybiBcImJvbGQgaXRhbGljXCI7XG4gIGlmIChpc0JvbGQpIHJldHVybiBcImJvbGRcIjtcbiAgaWYgKGlzSXRhbGljKSByZXR1cm4gXCJpdGFsaWNcIjtcbiAgcmV0dXJuIFwibm9ybWFsXCI7XG59XG5cclxuLy8gPz8/IEZVTkNJw5NOIEhFTFBFUiBQQVJBIExJTVBJQVIgVU5ERUZJTkVEXHJcbmNvbnN0IGxpbXBpYXJPYmpldG9VbmRlZmluZWQgPSAob2JqKSA9PiB7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xyXG4gICAgcmV0dXJuIG9iai5tYXAobGltcGlhck9iamV0b1VuZGVmaW5lZCk7XHJcbiAgfVxyXG5cclxuICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XHJcbiAgICBjb25zdCBvYmpMaW1waW8gPSB7fTtcclxuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBjb25zdCB2YWxvciA9IG9ialtrZXldO1xyXG4gICAgICBpZiAodmFsb3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG9iakxpbXBpb1trZXldID0gbGltcGlhck9iamV0b1VuZGVmaW5lZCh2YWxvcik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9iakxpbXBpbztcclxuICB9XHJcblxyXG4gIHJldHVybiBvYmo7XHJcbn07XHJcblxyXG4vLyBVdGlscyBkZSBjdXJzb3IgZ2xvYmFsIChhcnJpYmEgZGVsIGNvbXBvbmVudGUpXG5mdW5jdGlvbiBzZXRHbG9iYWxDdXJzb3IoY3Vyc29yID0gJycsIHN0YWdlUmVmID0gbnVsbCkge1xuICB0cnkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBjdXJzb3IgfHwgJyc7XHJcbiAgICAvLyA/PyBsaW1waWFtb3MgdGFtYmnDqW4gZWwgY29udGVuZWRvciBkZWwgU3RhZ2Ugc2kgZXhpc3RlXHJcbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmPy5jdXJyZW50Py5jb250YWluZXI/LigpIHx8IG51bGw7XHJcbiAgICBpZiAoc3RhZ2UpIHN0YWdlLnN0eWxlLmN1cnNvciA9IGN1cnNvciB8fCAnJztcclxuICAgIC8vIGZhbGxiYWNrOiBjYW52YXMgcHJpbmNpcGFsXHJcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcclxuICAgIGlmIChjYW52YXMgJiYgY2FudmFzLnBhcmVudEVsZW1lbnQpIGNhbnZhcy5wYXJlbnRFbGVtZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvciB8fCAnJztcclxuICB9IGNhdGNoIHsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckdsb2JhbEN1cnNvcihzdGFnZVJlZiA9IG51bGwpIHtcclxuICBzZXRHbG9iYWxDdXJzb3IoJycsIHN0YWdlUmVmKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbmxpbmVEZWJ1Z0VuYWJsZWQoKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93Ll9fSU5MSU5FX0RFQlVHICE9PSBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0SW5saW5lTG9nUGF5bG9hZChwYXlsb2FkID0ge30pIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gU3RyaW5nKGVycm9yIHx8IHBheWxvYWQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaW5saW5lRGVidWdMb2coZXZlbnQsIHBheWxvYWQgPSB7fSkge1xyXG4gIGlmICghaXNJbmxpbmVEZWJ1Z0VuYWJsZWQoKSkgcmV0dXJuO1xyXG4gIGNvbnN0IGVzc2VudGlhbEV2ZW50cyA9IG5ldyBTZXQoW1xyXG4gICAgXCJzdGFydC1pbmxpbmUtZWRpdFwiLFxyXG4gICAgXCJsaW5lYnJlYWstbW9kZWwtc3luY1wiLFxyXG4gICAgXCJsaW5lYnJlYWstdHJhbnNmb3JtZXJcIixcclxuICBdKTtcclxuICBpZiAoIWVzc2VudGlhbEV2ZW50cy5oYXMoZXZlbnQpKSByZXR1cm47XHJcbiAgY29uc3QgdHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgY29uc3QgYm9keSA9IGZvcm1hdElubGluZUxvZ1BheWxvYWQocGF5bG9hZCk7XHJcbiAgY29uc29sZS5sb2coYFtJTkxJTkVdWyR7dHN9XSAke2V2ZW50fVxcbiR7Ym9keX1gKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmV4dElubGluZUZyYW1lTWV0YSgpIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgcmV0dXJuIHsgZnJhbWU6IG51bGwsIHBlcmZNczogbnVsbCB9O1xyXG4gIH1cclxuICBjb25zdCBwcmV2ID0gTnVtYmVyKHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEgfHwgMCk7XHJcbiAgY29uc3QgbmV4dCA9IHByZXYgKyAxO1xyXG4gIHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEgPSBuZXh0O1xyXG4gIGNvbnN0IHBlcmZNcyA9XHJcbiAgICB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlPy5ub3cgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICA/IE51bWJlcih3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkudG9GaXhlZCgzKSlcclxuICAgICAgOiBudWxsO1xyXG4gIHJldHVybiB7IGZyYW1lOiBuZXh0LCBwZXJmTXMgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SW5saW5lTGluZVN0YXRzKHZhbHVlKSB7XHJcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFN0cmluZyh2YWx1ZSA/PyBcIlwiKS5yZXBsYWNlKC9cXHJcXG4vZywgXCJcXG5cIik7XHJcbiAgY29uc3QgdHJhaWxpbmcgPSBub3JtYWxpemVkLm1hdGNoKC9cXG4rJC8pPy5bMF07XHJcbiAgcmV0dXJuIHtcclxuICAgIG5vcm1hbGl6ZWQsXHJcbiAgICBsZW5ndGg6IG5vcm1hbGl6ZWQubGVuZ3RoLFxyXG4gICAgbGluZUNvdW50OiBub3JtYWxpemVkID09PSBcIlwiID8gMSA6IG5vcm1hbGl6ZWQuc3BsaXQoXCJcXG5cIikubGVuZ3RoLFxyXG4gICAgdHJhaWxpbmdOZXdsaW5lczogdHJhaWxpbmcgPyB0cmFpbGluZy5sZW5ndGggOiAwLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlubGluZURlYnVnQUIocmF3Q29uZmlnKSB7XHJcbiAgY29uc3QgcmF3ID0gcmF3Q29uZmlnICYmIHR5cGVvZiByYXdDb25maWcgPT09IFwib2JqZWN0XCIgPyByYXdDb25maWcgOiB7fTtcclxuXHJcbiAgY29uc3QgdmlzaWJpbGl0eVNvdXJjZSA9XHJcbiAgICByYXcudmlzaWJpbGl0eVNvdXJjZSA9PT0gXCJ3aW5kb3dcIiA/IFwid2luZG93XCIgOiBcInJlYWN0aXZlXCI7XHJcblxyXG4gIGNvbnN0IGZpbmlzaE1vZGUgPVxyXG4gICAgcmF3LmZpbmlzaE1vZGUgPT09IFwiaW1tZWRpYXRlXCIgfHxcclxuICAgIHJhdy5maW5pc2hNb2RlID09PSBcInJhZlwiIHx8XHJcbiAgICByYXcuZmluaXNoTW9kZSA9PT0gXCJ0aW1lb3V0MTAwXCJcclxuICAgICAgPyByYXcuZmluaXNoTW9kZVxyXG4gICAgICA6IFwicmFmXCI7XHJcblxyXG4gIGNvbnN0IG92ZXJsYXlXaWR0aE1vZGUgPVxyXG4gICAgcmF3Lm92ZXJsYXlXaWR0aE1vZGUgPT09IFwiZml0LWNvbnRlbnRcIiA/IFwiZml0LWNvbnRlbnRcIiA6IFwibWVhc3VyZWRcIjtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHZpc2liaWxpdHlTb3VyY2UsXHJcbiAgICBmaW5pc2hNb2RlLFxyXG4gICAgb3ZlcmxheVdpZHRoTW9kZSxcclxuICB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FudmFzRWRpdG9yKHtcbiAgc2x1ZyxcbiAgem9vbSA9IDEsXG4gIG9uSGlzdG9yaWFsQ2hhbmdlLFxuICBvbkZ1dHVyb3NDaGFuZ2UsXG4gIHVzZXJJZCxcbiAgb25TdGFydHVwU3RhdHVzQ2hhbmdlLFxufSkge1xuICBjb25zdCBbb2JqZXRvcywgc2V0T2JqZXRvc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2NlbGRhR2FsZXJpYUFjdGl2YSwgc2V0Q2VsZGFHYWxlcmlhQWN0aXZhXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtzZWNjaW9uZXMsIHNldFNlY2Npb25lc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2hpc3RvcmlhbCwgc2V0SGlzdG9yaWFsXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbZnV0dXJvcywgc2V0RnV0dXJvc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MsIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3NdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY2FyZ2Fkbywgc2V0Q2FyZ2Fkb10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHN0YWdlUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCB7IGRyYWdTdGFydFBvcywgaGFzRHJhZ2dlZCwgaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZyB9ID0gdXNlQ2FudmFzSW50ZXJhY3Rpb25TdGF0ZSgpO1xuICBjb25zdCBpbXBlcmF0aXZlT2JqZWN0cyA9IHVzZUltcGVyYXRpdmVPYmplY3RzKCk7XG4gIGNvbnN0IFthbmltYW5kb1NlY2Npb24sIHNldEFuaW1hbmRvU2VjY2lvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3NlY2Npb25BY3RpdmFJZCwgc2V0U2VjY2lvbkFjdGl2YUlkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2VsZWNjaW9uQWN0aXZhLCBzZXRTZWxlY2Npb25BY3RpdmFdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpbmljaW9TZWxlY2Npb24sIHNldEluaWNpb1NlbGVjY2lvbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbYXJlYVNlbGVjY2lvbiwgc2V0QXJlYVNlbGVjY2lvbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvcywgc2V0RWxlbWVudG9zUHJlU2VsZWNjaW9uYWRvc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgZ3VpYUxheWVyUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IFtob3ZlcklkLCBzZXRIb3ZlcklkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IGFsdG9DYW52YXMgPSBzZWNjaW9uZXMucmVkdWNlKChhY2MsIHMpID0+IGFjYyArIHMuYWx0dXJhLCAwKSB8fCA4MDA7XHJcbiAgY29uc3QgW3NlY2Npb25lc0FuaW1hbmRvLCBzZXRTZWNjaW9uZXNBbmltYW5kb10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgeyByZWZyZXNjYXI6IHJlZnJlc2NhclBsYW50aWxsYXNEZVNlY2Npb24gfSA9IHVzZVBsYW50aWxsYXNEZVNlY2Npb24oKTtcclxuICBjb25zdCBbZWxlbWVudG9Db3BpYWRvLCBzZXRFbGVtZW50b0NvcGlhZG9dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGVsZW1lbnRSZWZzID0gdXNlUmVmKHt9KTtcbiAgY29uc3QgaW5saW5lRWRpdFByZXZpZXdSZWYgPSB1c2VSZWYoeyBpZDogbnVsbCwgY2VudGVyWDogbnVsbCB9KTtcbiAgY29uc3QgaW5saW5lQ29tbWl0RGVidWdSZWYgPSB1c2VSZWYoeyBpZDogbnVsbCB9KTtcbiAgY29uc3QgcHJldkVkaXRpbmdJZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgaW5saW5lUmVuZGVyVmFsdWVSZWYgPSB1c2VSZWYoeyBpZDogbnVsbCwgdmFsdWU6IFwiXCIgfSk7XG4gIGNvbnN0IFtpbmxpbmVPdmVybGF5TW91bnRlZElkLCBzZXRJbmxpbmVPdmVybGF5TW91bnRlZElkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBjb250ZW5lZG9yUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBlZGl0b3JPdmVybGF5Um9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYXV0b1NlY3Rpb25WaWV3cG9ydFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYgPSB1c2VSZWYoMCk7XG4gIGNvbnN0IHNlY2Npb25BY3RpdmFJZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgaWdub3JlTmV4dFVwZGF0ZVJlZiA9IHVzZVJlZigwKTtcbiAgY29uc3QgW2FuY2hvU3RhZ2UsIHNldEFuY2hvU3RhZ2VdID0gdXNlU3RhdGUoODAwKTtcbiAgY29uc3QgW21vc3RyYXJTZWxlY3RvckZ1ZW50ZSwgc2V0TW9zdHJhclNlbGVjdG9yRnVlbnRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21vc3RyYXJTdWJtZW51Q2FwYSwgc2V0TW9zdHJhclN1Ym1lbnVDYXBhXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZnVlbnRlc0Rpc3BvbmlibGVzID0gQUxMX0ZPTlRTO1xuICBjb25zdCB7IGVzQWRtaW4sIGxvYWRpbmdDbGFpbXMgfSA9IHVzZUF1dGhDbGFpbXMoKTtcbiAgY29uc3QgW2JhY2tncm91bmRMb2FkQnlTZWN0aW9uLCBzZXRCYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbl0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFttb2JpbGVCYWNrZ3JvdW5kRWRpdFNlY3Rpb25JZCwgc2V0TW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtkZWxldGVTZWN0aW9uTW9kYWwsIHNldERlbGV0ZVNlY3Rpb25Nb2RhbF0gPSB1c2VTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHNlY3Rpb25JZDogbnVsbCB9KTtcbiAgY29uc3QgW2lzRGVsZXRpbmdTZWN0aW9uLCBzZXRJc0RlbGV0aW5nU2VjdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2JpbGVTZWN0aW9uQWN0aW9uc09wZW4sIHNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHN1cHBvcnRzUG9pbnRlckV2ZW50cyA9XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LlBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBjb25zdCBpc1RleHRSZXNpemVEZWJ1Z0VuYWJsZWQgPSAoKSA9PlxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgQm9vbGVhbih3aW5kb3cuX19EQkdfVEVYVF9SRVNJWkUpO1xuXG4gIGNvbnN0IHRleHRSZXNpemVEZWJ1ZyA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCFpc1RleHRSZXNpemVEZWJ1Z0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgIGNvbnNvbGUubG9nKFwiW1RFWFQtQ09NTUlUXVwiLCAuLi5hcmdzKTtcbiAgfTtcblxuXG5cblxuICB1c2VCb3JyYWRvclN5bmMoe1xuICAgIHNsdWcsXHJcbiAgICB1c2VySWQsXHJcblxyXG4gICAgb2JqZXRvcyxcclxuICAgIHNlY2Npb25lcyxcclxuICAgIGNhcmdhZG8sXHJcblxyXG4gICAgc2V0T2JqZXRvcyxcclxuICAgIHNldFNlY2Npb25lcyxcclxuICAgIHNldENhcmdhZG8sXHJcbiAgICBzZXRTZWNjaW9uQWN0aXZhSWQsXHJcblxyXG4gICAgaWdub3JlTmV4dFVwZGF0ZVJlZixcclxuICAgIHN0YWdlUmVmLFxyXG5cclxuICAgIG5vcm1hbGl6YXJBbHRvTW9kbyxcclxuICAgIHZhbGlkYXJQdW50b3NMaW5lYSxcclxuXHJcbiAgICBBTFRVUkFfUEFOVEFMTEFfRURJVE9SLFxyXG4gIH0pO1xyXG4gIGNvbnN0IHtcclxuICAgIGNvbnRyb2xhbmRvQWx0dXJhLFxyXG4gICAgaW5pY2lhckNvbnRyb2xBbHR1cmEsXHJcbiAgICBmaW5hbGl6YXJDb250cm9sQWx0dXJhLFxyXG4gICAgdG9nZ2xlUGFudGFsbGFDb21wbGV0YVNlY2Npb24sXHJcbiAgICBoYW5kbGVDcmVhclNlY2Npb24sXHJcbiAgfSA9IHVzZVNlY3Rpb25zTWFuYWdlcih7XHJcbiAgICBzbHVnLFxyXG4gICAgc2VjY2lvbmVzLFxyXG4gICAgc2V0U2VjY2lvbmVzLFxyXG4gICAgb2JqZXRvcyxcclxuICAgIHNldE9iamV0b3MsXHJcbiAgICBzZWNjaW9uQWN0aXZhSWQsXHJcbiAgICBzZXRTZWNjaW9uQWN0aXZhSWQsXHJcblxyXG4gICAgY3JlYXJTZWNjaW9uLFxyXG4gICAgbm9ybWFsaXphckFsdG9Nb2RvLFxyXG4gICAgbGltcGlhck9iamV0b1VuZGVmaW5lZCxcclxuXHJcbiAgICBBTFRVUkFfUkVGRVJFTkNJQV9QQU5UQUxMQSxcclxuXHJcbiAgICBzdGFnZVJlZixcclxuICAgIHNldEdsb2JhbEN1cnNvcixcclxuICAgIGNsZWFyR2xvYmFsQ3Vyc29yLFxyXG4gIH0pO1xyXG4gIGNvbnN0IG51ZXZvVGV4dG9SZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgdXNlRWRpdG9yRXZlbnRzKHtcbiAgICBjZWxkYUdhbGVyaWFBY3RpdmEsXHJcbiAgICBzZXRDZWxkYUdhbGVyaWFBY3RpdmEsXHJcbiAgICBzZXRPYmpldG9zLFxyXG5cclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNlY2Npb25BY3RpdmFJZCxcclxuXHJcbiAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zLFxyXG5cclxuICAgIG5vcm1hbGl6YXJBbHRvTW9kbyxcclxuICAgIEFMVFVSQV9QQU5UQUxMQV9FRElUT1IsXHJcblxyXG4gICAgbnVldm9UZXh0b1JlZixcclxuICB9KTtcblxuICBjb25zdCBzZWNjaW9uZXNPcmRlbmFkYXMgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zZWNjaW9uZXNdLnNvcnQoKGEsIGIpID0+IGEub3JkZW4gLSBiLm9yZGVuKSxcbiAgICBbc2VjY2lvbmVzXVxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0QmFja2dyb3VuZExvYWRCeVNlY3Rpb24oe30pO1xuICB9LCBbc2x1Z10pO1xuXG4gIGNvbnN0IGhhbmRsZUJhY2tncm91bmRJbWFnZVN0YXR1c0NoYW5nZSA9IHVzZUNhbGxiYWNrKChwYXlsb2FkKSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbklkID0gcGF5bG9hZD8uc2VjdGlvbklkO1xuICAgIGlmICghc2VjdGlvbklkKSByZXR1cm47XG5cbiAgICBjb25zdCBoYXNCYWNrZ3JvdW5kSW1hZ2UgPSBwYXlsb2FkPy5oYXNCYWNrZ3JvdW5kSW1hZ2UgPT09IHRydWU7XG4gICAgY29uc3QgaW1hZ2VVcmwgPSB0eXBlb2YgcGF5bG9hZD8uaW1hZ2VVcmwgPT09IFwic3RyaW5nXCIgPyBwYXlsb2FkLmltYWdlVXJsIDogXCJcIjtcbiAgICBjb25zdCBpbmNvbWluZ1N0YXR1cyA9IHR5cGVvZiBwYXlsb2FkPy5zdGF0dXMgPT09IFwic3RyaW5nXCIgPyBwYXlsb2FkLnN0YXR1cyA6IFwibG9hZGluZ1wiO1xuICAgIGNvbnN0IHN0YXR1cyA9IGhhc0JhY2tncm91bmRJbWFnZVxuICAgICAgPyAoaW5jb21pbmdTdGF0dXMgPT09IFwibG9hZGVkXCIgfHwgaW5jb21pbmdTdGF0dXMgPT09IFwiZmFpbGVkXCJcbiAgICAgICAgPyBpbmNvbWluZ1N0YXR1c1xuICAgICAgICA6IFwibG9hZGluZ1wiKVxuICAgICAgOiBcIm5vbmVcIjtcblxuICAgIHNldEJhY2tncm91bmRMb2FkQnlTZWN0aW9uKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldltzZWN0aW9uSWRdO1xuICAgICAgaWYgKFxuICAgICAgICBjdXJyZW50ICYmXG4gICAgICAgIGN1cnJlbnQuc3RhdHVzID09PSBzdGF0dXMgJiZcbiAgICAgICAgY3VycmVudC5oYXNCYWNrZ3JvdW5kSW1hZ2UgPT09IGhhc0JhY2tncm91bmRJbWFnZSAmJlxuICAgICAgICBjdXJyZW50LmltYWdlVXJsID09PSBpbWFnZVVybFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbc2VjdGlvbklkXToge1xuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBoYXNCYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgaW1hZ2VVcmwsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgYmFja2dyb3VuZExvYWRTdW1tYXJ5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbnNXaXRoQmFja2dyb3VuZEltYWdlID0gKHNlY2Npb25lcyB8fCBbXSkuZmlsdGVyKChzZWNjaW9uKSA9PiAoXG4gICAgICBzZWNjaW9uPy5mb25kb1RpcG8gPT09IFwiaW1hZ2VuXCIgJiZcbiAgICAgIHR5cGVvZiBzZWNjaW9uPy5mb25kb0ltYWdlbiA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgc2VjY2lvbi5mb25kb0ltYWdlbi50cmltKCkubGVuZ3RoID4gMFxuICAgICkpO1xuXG4gICAgbGV0IGxvYWRlZCA9IDA7XG4gICAgbGV0IGZhaWxlZCA9IDA7XG4gICAgbGV0IHBlbmRpbmcgPSAwO1xuXG4gICAgc2VjdGlvbnNXaXRoQmFja2dyb3VuZEltYWdlLmZvckVhY2goKHNlY2Npb24pID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGJhY2tncm91bmRMb2FkQnlTZWN0aW9uW3NlY2Npb24uaWRdPy5zdGF0dXM7XG5cbiAgICAgIGlmICghc3RhdHVzIHx8IHN0YXR1cyA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgcGVuZGluZyArPSAxO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0dXMgPT09IFwibG9hZGVkXCIpIHtcbiAgICAgICAgbG9hZGVkICs9IDE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJmYWlsZWRcIikge1xuICAgICAgICBmYWlsZWQgKz0gMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwZW5kaW5nICs9IDE7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWw6IHNlY3Rpb25zV2l0aEJhY2tncm91bmRJbWFnZS5sZW5ndGgsXG4gICAgICBsb2FkZWQsXG4gICAgICBmYWlsZWQsXG4gICAgICBwZW5kaW5nLFxuICAgIH07XG4gIH0sIFtiYWNrZ3JvdW5kTG9hZEJ5U2VjdGlvbiwgc2VjY2lvbmVzXSk7XG5cbiAgY29uc3Qgc3RhcnR1cFJlYWR5ID0gY2FyZ2FkbyAmJiBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkucGVuZGluZyA9PT0gMDtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygb25TdGFydHVwU3RhdHVzQ2hhbmdlICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcblxuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBzbHVnLFxuICAgICAgZHJhZnRMb2FkZWQ6IGNhcmdhZG8gPT09IHRydWUsXG4gICAgICB0b3RhbEJhY2tncm91bmRzOiBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkudG90YWwsXG4gICAgICBsb2FkZWRCYWNrZ3JvdW5kczogYmFja2dyb3VuZExvYWRTdW1tYXJ5LmxvYWRlZCxcbiAgICAgIGZhaWxlZEJhY2tncm91bmRzOiBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkuZmFpbGVkLFxuICAgICAgcGVuZGluZ0JhY2tncm91bmRzOiBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkucGVuZGluZyxcbiAgICB9O1xuXG4gICAgaWYgKCFzdGFydHVwUmVhZHkpIHtcbiAgICAgIG9uU3RhcnR1cFN0YXR1c0NoYW5nZSh7XG4gICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgIHN0YXR1czogXCJydW5uaW5nXCIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgbGV0IHJhZkEgPSAwO1xuICAgIGxldCByYWZCID0gMDtcblxuICAgIHJhZkEgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgcmFmQiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHJldHVybjtcbiAgICAgICAgb25TdGFydHVwU3RhdHVzQ2hhbmdlKHtcbiAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgIHN0YXR1czogXCJyZWFkeVwiLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgICBpZiAocmFmQSkgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmQSk7XG4gICAgICBpZiAocmFmQikgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmQik7XG4gICAgfTtcbiAgfSwgW1xuICAgIGJhY2tncm91bmRMb2FkU3VtbWFyeS5mYWlsZWQsXG4gICAgYmFja2dyb3VuZExvYWRTdW1tYXJ5LmxvYWRlZCxcbiAgICBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkucGVuZGluZyxcbiAgICBiYWNrZ3JvdW5kTG9hZFN1bW1hcnkudG90YWwsXG4gICAgY2FyZ2FkbyxcbiAgICBvblN0YXJ0dXBTdGF0dXNDaGFuZ2UsXG4gICAgc2x1ZyxcbiAgICBzdGFydHVwUmVhZHksXG4gIF0pO1xuXG4gIGNvbnN0IHNlY2Npb25QZW5kaWVudGVFbGltaW5hciA9IHVzZU1lbW8oXG4gICAgKCkgPT4gc2VjY2lvbmVzLmZpbmQoKHNlY2Npb24pID0+IHNlY2Npb24uaWQgPT09IGRlbGV0ZVNlY3Rpb25Nb2RhbC5zZWN0aW9uSWQpIHx8IG51bGwsXG4gICAgW3NlY2Npb25lcywgZGVsZXRlU2VjdGlvbk1vZGFsLnNlY3Rpb25JZF1cbiAgKTtcblxyXG4gIGNvbnN0IGNhbnRpZGFkRWxlbWVudG9zU2VjY2lvblBlbmRpZW50ZSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKCFzZWNjaW9uUGVuZGllbnRlRWxpbWluYXI/LmlkKSByZXR1cm4gMDtcclxuICAgIHJldHVybiBvYmpldG9zLmZpbHRlcigob2JqKSA9PiBvYmouc2VjY2lvbklkID09PSBzZWNjaW9uUGVuZGllbnRlRWxpbWluYXIuaWQpLmxlbmd0aDtcclxuICB9LCBbb2JqZXRvcywgc2VjY2lvblBlbmRpZW50ZUVsaW1pbmFyXSk7XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIGVkaXRpbmcsICAgICAgLy8geyBpZCwgdmFsdWUgfVxyXG4gICAgc3RhcnRFZGl0LCAgICAvLyAoaWQsIGluaXRpYWwpXHJcbiAgICB1cGRhdGVFZGl0LCAgIC8vIChudWV2b1ZhbG9yKVxyXG4gICAgZmluaXNoRWRpdCAgICAvLyAoKSA9PiB2b2lkXHJcbiAgfSA9IHVzZUlubGluZUVkaXRvcigpO1xyXG5cclxuICBjb25zdCBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lID0gdXNlQ2FsbGJhY2soKG5vZGUpID0+IHtcclxuICAgIGlmICghbm9kZSkgcmV0dXJuIG51bGw7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjbGFzc05hbWUgPSBub2RlLmdldENsYXNzTmFtZT8uKCkgfHwgbnVsbDtcclxuICAgICAgY29uc3QgeCA9IHR5cGVvZiBub2RlLnggPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUueCgpIDogbnVsbDtcclxuICAgICAgY29uc3QgeSA9IHR5cGVvZiBub2RlLnkgPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUueSgpIDogbnVsbDtcclxuICAgICAgY29uc3QgdGV4dFdpZHRoID1cclxuICAgICAgICBjbGFzc05hbWUgPT09IFwiVGV4dFwiICYmIHR5cGVvZiBub2RlLmdldFRleHRXaWR0aCA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICA/IE1hdGguY2VpbChub2RlLmdldFRleHRXaWR0aCgpIHx8IDApXHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIGNvbnN0IHJlY3QgPVxyXG4gICAgICAgIHR5cGVvZiBub2RlLmdldENsaWVudFJlY3QgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgPyBub2RlLmdldENsaWVudFJlY3Qoe1xyXG4gICAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IGZhbHNlLFxyXG4gICAgICAgICAgICAgIHNraXBTaGFkb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgc2tpcFN0cm9rZTogdHJ1ZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIDogbnVsbDtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBjbGFzc05hbWUsXHJcbiAgICAgICAgeCxcclxuICAgICAgICB5LFxyXG4gICAgICAgIHRleHRXaWR0aCxcclxuICAgICAgICByZWN0OiByZWN0XHJcbiAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICB4OiByZWN0LngsXHJcbiAgICAgICAgICAgICAgeTogcmVjdC55LFxyXG4gICAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIDogbnVsbCxcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH07XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBjZXJyYXJNZW51c0Zsb3RhbnRlcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldE1vc3RyYXJQYW5lbFooZmFsc2UpO1xyXG4gICAgc2V0TW9zdHJhclN1Ym1lbnVDYXBhKGZhbHNlKTtcclxuICAgIHNldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZShmYWxzZSk7XHJcbiAgICBzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm8oZmFsc2UpO1xuICAgIHNldEhvdmVySWQobnVsbCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyA/Pz9FbGVtZW50byBhY3R1YWxtZW50ZSBzZWxlY2Npb25hZG8gKG8gbnVsbClcbiAgY29uc3Qgb2JqZXRvU2VsZWNjaW9uYWRvID1cbiAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCA9PT0gMVxuICAgICAgPyBvYmpldG9zLmZpbmQobyA9PiBvLmlkID09PSBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdKVxuICAgICAgOiBudWxsO1xuXG4gIGNvbnN0IFttb3N0cmFyU2VsZWN0b3JUYW1hbm8sIHNldE1vc3RyYXJTZWxlY3RvclRhbWFub10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHRhbWFuaW9zRGlzcG9uaWJsZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAoMjYwIC0gNikgLyAyICsgMSB9LCAoXywgaSkgPT4gNiArIGkgKiAyKTtcbiAgY29uc3QgYm90b25PcGNpb25lc1JlZiA9IHVzZVJlZihudWxsKTtcblxyXG4gIGNvbnN0IF9yZWZFdmVudFF1ZXVlZCA9IHVzZVJlZihuZXcgU2V0KCkpO1xyXG5cclxuICBjb25zdCByZWdpc3RlclJlZiA9IHVzZUNhbGxiYWNrKChpZCwgbm9kZSkgPT4ge1xyXG4gICAgaWYgKCFub2RlKSB7XHJcbiAgICAgIGRlbGV0ZSBlbGVtZW50UmVmcy5jdXJyZW50W2lkXTtcclxuICAgICAgaW1wZXJhdGl2ZU9iamVjdHMucmVnaXN0ZXJPYmplY3QoaWQsIG51bGwpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbWVudFJlZnMuY3VycmVudFtpZF0gPSBub2RlO1xyXG4gICAgaW1wZXJhdGl2ZU9iamVjdHMucmVnaXN0ZXJPYmplY3QoaWQsIG5vZGUpO1xyXG5cclxuICAgIC8vID8gRGVib3VuY2UgcG9yIGZyYW1lIHBhcmEgZXZpdGFyIHLDoWZhZ2FzIGRlIHJlLWF0dGFjaCBkZWwgVHJhbnNmb3JtZXJcclxuICAgIGlmIChfcmVmRXZlbnRRdWV1ZWQuY3VycmVudC5oYXMoaWQpKSByZXR1cm47XHJcbiAgICBfcmVmRXZlbnRRdWV1ZWQuY3VycmVudC5hZGQoaWQpO1xyXG5cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIF9yZWZFdmVudFF1ZXVlZC5jdXJyZW50LmRlbGV0ZShpZCk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJlbGVtZW50LXJlZi1yZWdpc3RyYWRvXCIsIHsgZGV0YWlsOiB7IGlkIH0gfSlcclxuICAgICAgICApO1xyXG4gICAgICB9IGNhdGNoIHsgfVxyXG4gICAgfSk7XHJcbiAgfSwgW2ltcGVyYXRpdmVPYmplY3RzXSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICBjb25zdCBsb2FkZWRGb250RmFtaWxpZXNSZWYgPSB1c2VSZWYobmV3IFNldCgpKTtcblxyXG5cclxuICBjb25zdCB7XG4gICAgaXNNb2JpbGUsXG4gICAgaXNNb2JpbGVQb3J0cmFpdCxcbiAgICBzY2FsZSxcbiAgICBhbmNob0NvbnRlbmVkb3IsXHJcbiAgICBlc2NhbGFBY3RpdmEsXHJcbiAgICBlc2NhbGFWaXN1YWwsXHJcbiAgICB3cmFwcGVyQmFzZVdpZHRoLFxyXG4gICAgZXNjYWxhRml0TW9iaWxlUG9ydHJhaXQsXG4gIH0gPSB1c2VDYW52YXNTY2FsZUxheW91dCh7XG4gICAgY29udGVuZWRvclJlZixcbiAgICB6b29tLFxuICB9KTtcblxuICBjb25zdCBtb2JpbGVUeXBvZ3JhcGh5VG9vbGJhclZpc2libGUgPSBpc01vYmlsZSAmJiBCb29sZWFuKFxuICAgIG9iamV0b1NlbGVjY2lvbmFkbyAmJlxuICAgIChcbiAgICAgIG9iamV0b1NlbGVjY2lvbmFkby50aXBvID09PSBcInRleHRvXCIgfHxcbiAgICAgIChcbiAgICAgICAgb2JqZXRvU2VsZWNjaW9uYWRvLnRpcG8gPT09IFwiZm9ybWFcIiAmJlxuICAgICAgICBvYmpldG9TZWxlY2Npb25hZG8uZmlndXJhID09PSBcInJlY3RcIiAmJlxuICAgICAgICB0eXBlb2Ygb2JqZXRvU2VsZWNjaW9uYWRvLnRleHRvID09PSBcInN0cmluZ1wiXG4gICAgICApXG4gICAgKVxuICApO1xuXG4gIGNvbnN0IG1vYmlsZVRleHRUb29sYmFyVmlzaWJsZSA9XG4gICAgbW9iaWxlVHlwb2dyYXBoeVRvb2xiYXJWaXNpYmxlIHx8XG4gICAgKGlzTW9iaWxlICYmIG9iamV0b1NlbGVjY2lvbmFkbz8udGlwbyA9PT0gXCJpY29ub1wiKTtcblxuICBjb25zdCBtb2JpbGVGb250U3RyaXBWaXNpYmxlID1cbiAgICBtb2JpbGVUeXBvZ3JhcGh5VG9vbGJhclZpc2libGUgJiYgbW9zdHJhclNlbGVjdG9yRnVlbnRlO1xuICBjb25zdCBtb2JpbGVTaXplU3RyaXBWaXNpYmxlID1cbiAgICBtb2JpbGVUeXBvZ3JhcGh5VG9vbGJhclZpc2libGUgJiYgbW9zdHJhclNlbGVjdG9yVGFtYW5vO1xuICBjb25zdCBtb2JpbGVCb3R0b21UeXBvZ3JhcGh5U3RyaXBWaXNpYmxlID1cbiAgICBtb2JpbGVGb250U3RyaXBWaXNpYmxlIHx8IG1vYmlsZVNpemVTdHJpcFZpc2libGU7XG4gIGNvbnN0IG9wdGlvbkJ1dHRvblNpemUgPSBpc01vYmlsZSA/IDM4IDogMjQ7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBkZXNpcmVkUmF0aW8gPSBpc01vYmlsZSA/IDEgOiByZXNvbHZlS29udmFQaXhlbFJhdGlvKCk7XG4gICAgaWYgKEtvbnZhLnBpeGVsUmF0aW8gIT09IGRlc2lyZWRSYXRpbykge1xuICAgICAgS29udmEucGl4ZWxSYXRpbyA9IGRlc2lyZWRSYXRpbztcbiAgICAgIHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKT8uYmF0Y2hEcmF3Py4oKTtcbiAgICB9XG4gIH0sIFtpc01vYmlsZV0pO1xuXHJcbiAgY29uc3QgaW5saW5lRGVidWdBQiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHJldHVybiBub3JtYWxpemVJbmxpbmVEZWJ1Z0FCKG51bGwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZUlubGluZURlYnVnQUIod2luZG93Ll9fSU5MSU5FX0FCKTtcclxuICB9LCBbZWRpdGluZy5pZCwgZWRpdGluZy52YWx1ZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc01vYmlsZSAmJiBtb2JpbGVTZWN0aW9uQWN0aW9uc09wZW4pIHtcbiAgICAgIHNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbihmYWxzZSk7XG4gICAgfVxuICB9LCBbaXNNb2JpbGUsIG1vYmlsZVNlY3Rpb25BY3Rpb25zT3Blbl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc01vYmlsZSkgcmV0dXJuO1xuICAgIHNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbihmYWxzZSk7XG4gIH0sIFtzZWNjaW9uQWN0aXZhSWQsIGlzTW9iaWxlXSk7XG5cclxuICBjb25zdCBoYW5kbGVJbmxpbmVPdmVybGF5TW91bnRDaGFuZ2UgPSB1c2VDYWxsYmFjaygoaWQsIG1vdW50ZWQpID0+IHtcclxuICAgIGNvbnN0IHNhZmVJZCA9IGlkIHx8IG51bGw7XHJcbiAgICBpZiAoIXNhZmVJZCkgcmV0dXJuO1xyXG5cclxuICAgIHNldElubGluZU92ZXJsYXlNb3VudGVkSWQoKHByZXZpb3VzKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5leHQgPSBtb3VudGVkID8gc2FmZUlkIDogKHByZXZpb3VzID09PSBzYWZlSWQgPyBudWxsIDogcHJldmlvdXMpO1xyXG4gICAgICBpbmxpbmVEZWJ1Z0xvZyhcIm92ZXJsYXktbW91bnRlZC1zdGF0ZVwiLCB7XHJcbiAgICAgICAgaWQ6IHNhZmVJZCxcclxuICAgICAgICBtb3VudGVkLFxyXG4gICAgICAgIHByZXZpb3VzT3ZlcmxheU1vdW50ZWRJZDogcHJldmlvdXMsXHJcbiAgICAgICAgbmV4dE92ZXJsYXlNb3VudGVkSWQ6IG5leHQsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gbmV4dDtcclxuICAgIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgY2FwdHVyZUlubGluZVNuYXBzaG90ID0gdXNlQ2FsbGJhY2soKGV2ZW50TmFtZSwgZXh0cmEgPSB7fSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcclxuICAgIGlmICghaXNJbmxpbmVEZWJ1Z0VuYWJsZWQoKSkgcmV0dXJuO1xyXG4gICAgaWYgKHdpbmRvdy5fX0lOTElORV9TTkFQU0hPVCAhPT0gdHJ1ZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHNuYXBzaG90QWxsb3dsaXN0ID0gbmV3IFNldChbXHJcbiAgICAgIFwiZW50ZXI6IHByZS1zdGFydFwiLFxyXG4gICAgICBcImVudGVyOiBhZnRlci1zdGFydC1zeW5jXCIsXHJcbiAgICAgIFwiZmluaXNoOiBibHVyXCIsXHJcbiAgICAgIFwiZmluaXNoOiBhZnRlci1maW5pc2hFZGl0XCIsXHJcbiAgICAgIFwiZXhpdDogaW1tZWRpYXRlXCIsXHJcbiAgICBdKTtcclxuICAgIGlmICghc25hcHNob3RBbGxvd2xpc3QuaGFzKGV2ZW50TmFtZSkpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBmcmFtZU1ldGEgPSBuZXh0SW5saW5lRnJhbWVNZXRhKCk7XHJcbiAgICBjb25zdCBzbmFwc2hvdElkID1cclxuICAgICAgZXh0cmEuaWQgfHxcclxuICAgICAgZWRpdGluZy5pZCB8fFxyXG4gICAgICBpbmxpbmVDb21taXREZWJ1Z1JlZi5jdXJyZW50Py5pZCB8fFxyXG4gICAgICBwcmV2RWRpdGluZ0lkUmVmLmN1cnJlbnQgfHxcclxuICAgICAgbnVsbDtcclxuXHJcbiAgICBjb25zdCBub2RlID0gc25hcHNob3RJZCA/IGVsZW1lbnRSZWZzLmN1cnJlbnRbc25hcHNob3RJZF0gOiBudWxsO1xyXG4gICAgY29uc3Qgbm9kZU1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lKG5vZGUpO1xyXG4gICAgY29uc3Qgb2JqTWV0cmljcyA9IHNuYXBzaG90SWRcclxuICAgICAgPyAoKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3Qgb2JqID0gb2JqZXRvcy5maW5kKChvKSA9PiBvLmlkID09PSBzbmFwc2hvdElkKTtcclxuICAgICAgICAgIGlmICghb2JqKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiBvYmouaWQsXHJcbiAgICAgICAgICAgIHRpcG86IG9iai50aXBvIHx8IG51bGwsXHJcbiAgICAgICAgICAgIHg6IE51bWJlci5pc0Zpbml0ZShvYmoueCkgPyBvYmoueCA6IG51bGwsXHJcbiAgICAgICAgICAgIHk6IE51bWJlci5pc0Zpbml0ZShvYmoueSkgPyBvYmoueSA6IG51bGwsXHJcbiAgICAgICAgICAgIHRleHRvTGVuZ3RoOiBTdHJpbmcob2JqLnRleHRvID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgICAgICAgZm9udFNpemU6IE51bWJlci5pc0Zpbml0ZShvYmouZm9udFNpemUpID8gb2JqLmZvbnRTaXplIDogbnVsbCxcclxuICAgICAgICAgICAgbGluZUhlaWdodDpcclxuICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUob2JqLmxpbmVIZWlnaHQpICYmIG9iai5saW5lSGVpZ2h0ID4gMFxyXG4gICAgICAgICAgICAgICAgPyBvYmoubGluZUhlaWdodFxyXG4gICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KSgpXHJcbiAgICAgIDogbnVsbDtcclxuXHJcbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKSB8fCBzdGFnZVJlZi5jdXJyZW50IHx8IG51bGw7XHJcbiAgICBsZXQgc3RhZ2VSZWN0ID0gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHIgPSBzdGFnZT8uY29udGFpbmVyPy4oKT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcclxuICAgICAgaWYgKHIpIHtcclxuICAgICAgICBzdGFnZVJlY3QgPSB7XHJcbiAgICAgICAgICB4OiByLngsXHJcbiAgICAgICAgICB5OiByLnksXHJcbiAgICAgICAgICB3aWR0aDogci53aWR0aCxcclxuICAgICAgICAgIGhlaWdodDogci5oZWlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHN0YWdlUmVjdCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlubGluZVJlY3QgPSBudWxsO1xyXG4gICAgbGV0IGlubGluZVN0eWxlID0gbnVsbDtcclxuICAgIGxldCBpbmxpbmVDb250ZW50UmVjdCA9IG51bGw7XHJcbiAgICBsZXQgaW5saW5lQ29udGVudE1ldHJpY3MgPSBudWxsO1xyXG4gICAgaWYgKHNuYXBzaG90SWQpIHtcclxuICAgICAgY29uc3Qgc2FmZUlkID0gU3RyaW5nKHNuYXBzaG90SWQpLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKTtcclxuICAgICAgY29uc3Qgb3ZlcmxheUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaW5saW5lLWVkaXRvci1pZD1cIiR7c2FmZUlkfVwiXWApO1xyXG4gICAgICBpZiAob3ZlcmxheUVsKSB7XHJcbiAgICAgICAgY29uc3QgciA9IG92ZXJsYXlFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBpbmxpbmVSZWN0ID0ge1xyXG4gICAgICAgICAgeDogci54LFxyXG4gICAgICAgICAgeTogci55LFxyXG4gICAgICAgICAgd2lkdGg6IHIud2lkdGgsXHJcbiAgICAgICAgICBoZWlnaHQ6IHIuaGVpZ2h0LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW5saW5lU3R5bGUgPSB7XHJcbiAgICAgICAgICBsZWZ0OiBvdmVybGF5RWwuc3R5bGUubGVmdCxcclxuICAgICAgICAgIHRvcDogb3ZlcmxheUVsLnN0eWxlLnRvcCxcclxuICAgICAgICAgIG1pbldpZHRoOiBvdmVybGF5RWwuc3R5bGUubWluV2lkdGgsXHJcbiAgICAgICAgICBtYXhXaWR0aDogb3ZlcmxheUVsLnN0eWxlLm1heFdpZHRoLFxyXG4gICAgICAgICAgd2lkdGg6IG92ZXJsYXlFbC5zdHlsZS53aWR0aCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50RWwgPSBvdmVybGF5RWwucXVlcnlTZWxlY3RvcignW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nKTtcclxuICAgICAgICBjb25zdCBjb250ZW50UmVjdCA9IGNvbnRlbnRFbD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcclxuICAgICAgICBpZiAoY29udGVudFJlY3QpIHtcclxuICAgICAgICAgIGlubGluZUNvbnRlbnRSZWN0ID0ge1xyXG4gICAgICAgICAgICB4OiBjb250ZW50UmVjdC54LFxyXG4gICAgICAgICAgICB5OiBjb250ZW50UmVjdC55LFxyXG4gICAgICAgICAgICB3aWR0aDogY29udGVudFJlY3Qud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogY29udGVudFJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5saW5lQ29udGVudE1ldHJpY3MgPSBjb250ZW50RWxcclxuICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgIHNjcm9sbFdpZHRoOiBjb250ZW50RWwuc2Nyb2xsV2lkdGgsXHJcbiAgICAgICAgICAgICAgY2xpZW50V2lkdGg6IGNvbnRlbnRFbC5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGNvbnRlbnRFbCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgOiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRyYW5zZm9ybWVyUmVjdCA9IG51bGw7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IHN0YWdlPy5maW5kT25lPy4oXCJUcmFuc2Zvcm1lclwiKTtcclxuICAgICAgaWYgKHRyYW5zZm9ybWVyKSB7XHJcbiAgICAgICAgY29uc3QgdHJSZWN0ID0gdHJhbnNmb3JtZXIuZ2V0Q2xpZW50UmVjdCh7XHJcbiAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcclxuICAgICAgICAgIHNraXBTaGFkb3c6IHRydWUsXHJcbiAgICAgICAgICBza2lwU3Ryb2tlOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IG5vZGVzID0gdHJhbnNmb3JtZXIubm9kZXM/LigpIHx8IFtdO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVjdCA9IHRyUmVjdFxyXG4gICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgeDogdHJSZWN0LngsXHJcbiAgICAgICAgICAgICAgeTogdHJSZWN0LnksXHJcbiAgICAgICAgICAgICAgd2lkdGg6IHRyUmVjdC53aWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IHRyUmVjdC5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgbm9kZXNDb3VudDogbm9kZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgIGluY2x1ZGVzU25hcHNob3ROb2RlOiAhIShub2RlICYmIG5vZGVzLmluY2x1ZGVzKG5vZGUpKSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgOiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhgc25hcHNob3QtJHtldmVudE5hbWV9YCwge1xyXG4gICAgICAuLi5mcmFtZU1ldGEsXHJcbiAgICAgIC4uLmV4dHJhLFxyXG4gICAgICBpZDogc25hcHNob3RJZCxcclxuICAgICAgZXZlbnROYW1lLFxyXG4gICAgICBlZGl0aW5nSWQ6IGVkaXRpbmcuaWQgPz8gbnVsbCxcclxuICAgICAgY3VycmVudEVkaXRpbmdJZDogd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID8/IG51bGwsXHJcbiAgICAgIG92ZXJsYXlNb3VudGVkSWQ6IGlubGluZU92ZXJsYXlNb3VudGVkSWQgPz8gbnVsbCxcclxuICAgICAgaW5saW5lQUI6IGlubGluZURlYnVnQUIsXHJcbiAgICAgIGVzY2FsYVZpc3VhbCxcclxuICAgICAgc3RhZ2VSZWN0LFxyXG4gICAgICBub2RlTWV0cmljcyxcclxuICAgICAgb2JqTWV0cmljcyxcclxuICAgICAgdHJhbnNmb3JtZXJSZWN0LFxyXG4gICAgICBpbmxpbmVSZWN0LFxyXG4gICAgICBpbmxpbmVTdHlsZSxcclxuICAgICAgaW5saW5lQ29udGVudFJlY3QsXHJcbiAgICAgIGlubGluZUNvbnRlbnRNZXRyaWNzLFxyXG4gICAgICBzY3JvbGxYOiB3aW5kb3cuc2Nyb2xsWCxcclxuICAgICAgc2Nyb2xsWTogd2luZG93LnNjcm9sbFksXHJcbiAgICAgIGlubmVyV2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICBpbm5lckhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxyXG4gICAgfSk7XHJcbiAgfSwgW2VkaXRpbmcuaWQsIGVzY2FsYVZpc3VhbCwgaW5saW5lRGVidWdBQiwgaW5saW5lT3ZlcmxheU1vdW50ZWRJZCwgb2JqZXRvcywgb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudElkID0gZWRpdGluZy5pZCB8fCBudWxsO1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gU3RyaW5nKGVkaXRpbmcudmFsdWUgPz8gXCJcIik7XHJcbiAgICBjb25zdCBwcmV2ID0gaW5saW5lUmVuZGVyVmFsdWVSZWYuY3VycmVudDtcclxuXHJcbiAgICBpZiAoY3VycmVudElkICYmIHByZXYuaWQgPT09IGN1cnJlbnRJZCAmJiBwcmV2LnZhbHVlICE9PSBjdXJyZW50VmFsdWUpIHtcclxuICAgICAgY29uc3QgcHJldlN0YXRzID0gZ2V0SW5saW5lTGluZVN0YXRzKHByZXYudmFsdWUpO1xyXG4gICAgICBjb25zdCBuZXh0U3RhdHMgPSBnZXRJbmxpbmVMaW5lU3RhdHMoY3VycmVudFZhbHVlKTtcclxuICAgICAgY29uc3QgbGluZWJyZWFrQ2hhbmdlZCA9XHJcbiAgICAgICAgcHJldlN0YXRzLmxpbmVDb3VudCAhPT0gbmV4dFN0YXRzLmxpbmVDb3VudCB8fFxyXG4gICAgICAgIHByZXZTdGF0cy50cmFpbGluZ05ld2xpbmVzICE9PSBuZXh0U3RhdHMudHJhaWxpbmdOZXdsaW5lcztcclxuXHJcbiAgICAgIGlmIChsaW5lYnJlYWtDaGFuZ2VkKSB7XHJcbiAgICAgICAgY29uc3QgZnJhbWVNZXRhID0gbmV4dElubGluZUZyYW1lTWV0YSgpO1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBlbGVtZW50UmVmcy5jdXJyZW50W2N1cnJlbnRJZF0gfHwgbnVsbDtcclxuICAgICAgICBjb25zdCBub2RlTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobm9kZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQgfHwgbnVsbDtcclxuICAgICAgICBsZXQgdHJhbnNmb3JtZXJSZWN0ID0gbnVsbDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgdHJhbnNmb3JtZXIgPSBzdGFnZT8uZmluZE9uZT8uKFwiVHJhbnNmb3JtZXJcIik7XHJcbiAgICAgICAgICBpZiAodHJhbnNmb3JtZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgdHJSZWN0ID0gdHJhbnNmb3JtZXIuZ2V0Q2xpZW50UmVjdCh7XHJcbiAgICAgICAgICAgICAgc2tpcFRyYW5zZm9ybTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICBza2lwU3Ryb2tlOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSB0cmFuc2Zvcm1lci5ub2Rlcz8uKCkgfHwgW107XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyUmVjdCA9IHRyUmVjdFxyXG4gICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICB4OiB0clJlY3QueCxcclxuICAgICAgICAgICAgICAgICAgeTogdHJSZWN0LnksXHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiB0clJlY3Qud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogdHJSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgbm9kZXNDb3VudDogbm9kZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICBpbmNsdWRlc0VkaXRpbmdOb2RlOiAhIShub2RlICYmIG5vZGVzLmluY2x1ZGVzKG5vZGUpKSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG92ZXJsYXlSZWN0ID0gbnVsbDtcclxuICAgICAgICBsZXQgY29udGVudFJlY3QgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IHNhZmVJZCA9IFN0cmluZyhjdXJyZW50SWQpLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKTtcclxuICAgICAgICBjb25zdCBvdmVybGF5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pbmxpbmUtZWRpdG9yLWlkPVwiJHtzYWZlSWR9XCJdYCk7XHJcbiAgICAgICAgaWYgKG92ZXJsYXlFbCkge1xyXG4gICAgICAgICAgY29uc3QgciA9IG92ZXJsYXlFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgIG92ZXJsYXlSZWN0ID0ge1xyXG4gICAgICAgICAgICB4OiByLngsXHJcbiAgICAgICAgICAgIHk6IHIueSxcclxuICAgICAgICAgICAgd2lkdGg6IHIud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogci5oZWlnaHQsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgY29uc3QgY29udGVudEVsID0gb3ZlcmxheUVsLnF1ZXJ5U2VsZWN0b3IoJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJyk7XHJcbiAgICAgICAgICBjb25zdCBjciA9IGNvbnRlbnRFbD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcclxuICAgICAgICAgIGlmIChjcikge1xyXG4gICAgICAgICAgICBjb250ZW50UmVjdCA9IHtcclxuICAgICAgICAgICAgICB4OiBjci54LFxyXG4gICAgICAgICAgICAgIHk6IGNyLnksXHJcbiAgICAgICAgICAgICAgd2lkdGg6IGNyLndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogY3IuaGVpZ2h0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5saW5lRGVidWdMb2coXCJsaW5lYnJlYWstdHJhbnNmb3JtZXJcIiwge1xyXG4gICAgICAgICAgLi4uZnJhbWVNZXRhLFxyXG4gICAgICAgICAgaWQ6IGN1cnJlbnRJZCxcclxuICAgICAgICAgIHByZXZMZW5ndGg6IHByZXZTdGF0cy5sZW5ndGgsXHJcbiAgICAgICAgICBuZXh0TGVuZ3RoOiBuZXh0U3RhdHMubGVuZ3RoLFxyXG4gICAgICAgICAgcHJldkxpbmVDb3VudDogcHJldlN0YXRzLmxpbmVDb3VudCxcclxuICAgICAgICAgIG5leHRMaW5lQ291bnQ6IG5leHRTdGF0cy5saW5lQ291bnQsXHJcbiAgICAgICAgICBwcmV2VHJhaWxpbmdOZXdsaW5lczogcHJldlN0YXRzLnRyYWlsaW5nTmV3bGluZXMsXHJcbiAgICAgICAgICBuZXh0VHJhaWxpbmdOZXdsaW5lczogbmV4dFN0YXRzLnRyYWlsaW5nTmV3bGluZXMsXHJcbiAgICAgICAgICBvdmVybGF5TW91bnRlZElkOiBpbmxpbmVPdmVybGF5TW91bnRlZElkID8/IG51bGwsXHJcbiAgICAgICAgICBvdmVybGF5UmVjdCxcclxuICAgICAgICAgIGNvbnRlbnRSZWN0LFxyXG4gICAgICAgICAgbm9kZU1ldHJpY3MsXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclJlY3QsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImlucHV0OiBhZnRlci1yZW5kZXJcIiwge1xyXG4gICAgICAgIGlkOiBjdXJyZW50SWQsXHJcbiAgICAgICAgcHJldmlvdXNMZW5ndGg6IHByZXYudmFsdWUubGVuZ3RoLFxyXG4gICAgICAgIHZhbHVlTGVuZ3RoOiBjdXJyZW50VmFsdWUubGVuZ3RoLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbmxpbmVSZW5kZXJWYWx1ZVJlZi5jdXJyZW50ID0ge1xyXG4gICAgICBpZDogY3VycmVudElkLFxyXG4gICAgICB2YWx1ZTogY3VycmVudFZhbHVlLFxyXG4gICAgfTtcclxuICB9LCBbXHJcbiAgICBlZGl0aW5nLmlkLFxyXG4gICAgZWRpdGluZy52YWx1ZSxcclxuICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdCxcclxuICAgIGlubGluZU92ZXJsYXlNb3VudGVkSWQsXHJcbiAgICBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lLFxyXG4gIF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgaWYgKHdpbmRvdy5fX0lOTElORV9ERUJVRyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB3aW5kb3cuX19JTkxJTkVfREVCVUcgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5fX0lOTElORV9GUkFNRV9TRVEgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB3aW5kb3cuX19JTkxJTkVfRlJBTUVfU0VRID0gMDtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRBQiA9IG5vcm1hbGl6ZUlubGluZURlYnVnQUIod2luZG93Ll9fSU5MSU5FX0FCKTtcclxuICAgIHdpbmRvdy5fX0lOTElORV9BQiA9IHsgLi4ubm9ybWFsaXplZEFCIH07XHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcImRlYnVnLWVuYWJsZWRcIiwge1xyXG4gICAgICBlbmFibGVkOiB3aW5kb3cuX19JTkxJTkVfREVCVUcsXHJcbiAgICAgIGlubGluZUFCOiB3aW5kb3cuX19JTkxJTkVfQUIsXHJcbiAgICAgIGZyYW1lU2VxOiB3aW5kb3cuX19JTkxJTkVfRlJBTUVfU0VRLFxyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudElkID0gZWRpdGluZy5pZCB8fCBudWxsO1xyXG4gICAgY29uc3QgcHJldmlvdXNJZCA9IHByZXZFZGl0aW5nSWRSZWYuY3VycmVudDtcclxuXHJcbiAgICBpZiAoY3VycmVudElkICYmIGN1cnJlbnRJZCAhPT0gcHJldmlvdXNJZCkge1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImVudGVyOiByYWYxXCIsIHsgaWQ6IGN1cnJlbnRJZCwgcHJldmlvdXNJZCB9KTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZW50ZXI6IHJhZjJcIiwgeyBpZDogY3VycmVudElkLCBwcmV2aW91c0lkIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWN1cnJlbnRJZCAmJiBwcmV2aW91c0lkKSB7XHJcbiAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImV4aXQ6IGltbWVkaWF0ZVwiLCB7IGlkOiBwcmV2aW91c0lkIH0pO1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImV4aXQ6IHJhZjFcIiwgeyBpZDogcHJldmlvdXNJZCB9KTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZXhpdDogcmFmMlwiLCB7IGlkOiBwcmV2aW91c0lkIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcmV2RWRpdGluZ0lkUmVmLmN1cnJlbnQgPSBjdXJyZW50SWQ7XHJcbiAgfSwgW2VkaXRpbmcuaWQsIGNhcHR1cmVJbmxpbmVTbmFwc2hvdF0pO1xyXG5cclxuICBjb25zdCBmdWVudGVzTmVjZXNhcmlhcyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgLy8gZnVlbnRlcyB1c2FkYXMgZW4gdGV4dG9zICsgY291bnRkb3duIChzaSBhcGxpY2EpICsgZm9ybWFzIGNvbiB0ZXh0byAocmVjdClcclxuICAgIGNvbnN0IGZvbnRzID0gKG9iamV0b3MgfHwgW10pXHJcbiAgICAgIC5maWx0ZXIobyA9PiAoby50aXBvID09PSBcInRleHRvXCIgfHwgby50aXBvID09PSBcImNvdW50ZG93blwiIHx8IChvLnRpcG8gPT09IFwiZm9ybWFcIiAmJiBvLmZpZ3VyYSA9PT0gXCJyZWN0XCIpKSAmJiBvLmZvbnRGYW1pbHkpXHJcbiAgICAgIC5tYXAobyA9PiBTdHJpbmcoby5mb250RmFtaWx5KS5yZXBsYWNlKC9bJ1wiXS9nLCBcIlwiKS5zcGxpdChcIixcIilbMF0udHJpbSgpKVxyXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pO1xyXG5cclxuICAgIHJldHVybiBbLi4ubmV3IFNldChmb250cyldO1xyXG4gIH0sIFtvYmpldG9zXSk7XHJcblxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcclxuICAgIHdpbmRvdy5lZGl0aW5nID0gZWRpdGluZztcclxuICB9LCBbZWRpdGluZy5pZCwgZWRpdGluZy52YWx1ZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBwcmV2aW91c0N1cnJlbnRFZGl0aW5nSWQgPSB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbDtcclxuICAgIHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA9IGVkaXRpbmc/LmlkIHx8IG51bGw7XHJcblxyXG4gICAgaW5saW5lRGVidWdMb2coXCJzeW5jLWdsb2JhbC1lZGl0aW5nXCIsIHtcclxuICAgICAgZWRpdGluZ0lkOiBlZGl0aW5nPy5pZCB8fCBudWxsLFxyXG4gICAgICB2YWx1ZUxlbmd0aDogU3RyaW5nKGVkaXRpbmc/LnZhbHVlID8/IFwiXCIpLmxlbmd0aCxcclxuICAgICAgcHJldmlvdXNDdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICBuZXh0Q3VycmVudEVkaXRpbmdJZDogd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaW5saW5lRGVidWdMb2coXCJzeW5jLWdsb2JhbC1lZGl0aW5nLWNsZWFudXBcIiwge1xyXG4gICAgICAgIGVkaXRpbmdJZDogZWRpdGluZz8uaWQgfHwgbnVsbCxcclxuICAgICAgICBjdXJyZW50RWRpdGluZ0lkOiB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbCxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh3aW5kb3cuZWRpdGluZyAmJiB3aW5kb3cuZWRpdGluZy5pZCA9PT0gZWRpdGluZy5pZCkge1xyXG4gICAgICAgIGRlbGV0ZSB3aW5kb3cuZWRpdGluZztcclxuICAgICAgfVxyXG4gICAgICBpZiAod2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID09PSBlZGl0aW5nLmlkKSB7XHJcbiAgICAgICAgd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbZWRpdGluZy5pZF0pO1xyXG5cclxuXHJcbiAgLy8gPz8gRnVuY2nDs24gcGFyYSBhY3R1YWxpemFyIG9mZnNldHMgZGUgaW1hZ2VuIGRlIGZvbmRvIChTSU4gVU5ERUZJTkVEKVxyXG4gIGNvbnN0IGFjdHVhbGl6YXJPZmZzZXRGb25kbyA9IHVzZUNhbGxiYWNrKChzZWNjaW9uSWQsIG51ZXZvc09mZnNldHMsIGVzUHJldmlldyA9IGZhbHNlKSA9PiB7XHJcbiAgICBzZXRTZWNjaW9uZXMocHJldiA9PlxyXG4gICAgICBwcmV2Lm1hcChzID0+IHtcclxuICAgICAgICBpZiAocy5pZCAhPT0gc2VjY2lvbklkKSByZXR1cm4gcztcclxuXHJcbiAgICAgICAgLy8gPz8gQ1JFQVIgT0JKRVRPIExJTVBJT1xyXG4gICAgICAgIGNvbnN0IHNlY2Npb25BY3R1YWxpemFkYSA9IHsgLi4ucyB9O1xyXG5cclxuICAgICAgICAvLyA/PyBTT0xPIEFHUkVHQVIgQ0FNUE9TIFNJIFRJRU5FTiBWQUxPUkVTIFbDgUxJRE9TXHJcbiAgICAgICAgaWYgKG51ZXZvc09mZnNldHMub2Zmc2V0WCAhPT0gdW5kZWZpbmVkICYmIG51ZXZvc09mZnNldHMub2Zmc2V0WCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2VjY2lvbkFjdHVhbGl6YWRhLmZvbmRvSW1hZ2VuT2Zmc2V0WCA9IG51ZXZvc09mZnNldHMub2Zmc2V0WDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG51ZXZvc09mZnNldHMub2Zmc2V0WSAhPT0gdW5kZWZpbmVkICYmIG51ZXZvc09mZnNldHMub2Zmc2V0WSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2VjY2lvbkFjdHVhbGl6YWRhLmZvbmRvSW1hZ2VuT2Zmc2V0WSA9IG51ZXZvc09mZnNldHMub2Zmc2V0WTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZWNjaW9uQWN0dWFsaXphZGE7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH0sIFtzZXRTZWNjaW9uZXNdKTtcclxuXHJcbiAgLy8gQXNpZ25hIHVuYSBpbWFnZW4gKHBvciBVUkwpIGEgbGEgY2VsZGEgYWN0aXZhXHJcbiAgZnVuY3Rpb24gYXNpZ25hckltYWdlbkFHYWxlcmlhKHVybCkge1xyXG4gICAgc2V0T2JqZXRvcygocHJldikgPT4ge1xyXG4gICAgICBpZiAoIWNlbGRhR2FsZXJpYUFjdGl2YSkgcmV0dXJuIHByZXY7XHJcbiAgICAgIGNvbnN0IHsgb2JqSWQsIGluZGV4IH0gPSBjZWxkYUdhbGVyaWFBY3RpdmE7XHJcbiAgICAgIGNvbnN0IGkgPSBwcmV2LmZpbmRJbmRleChvID0+IG8uaWQgPT09IG9iaklkICYmIG8udGlwbyA9PT0gXCJnYWxlcmlhXCIpO1xyXG4gICAgICBpZiAoaSA9PT0gLTEpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgY29uc3QgY29waWEgPSBzdHJ1Y3R1cmVkQ2xvbmUocHJldik7XHJcbiAgICAgIGNvbnN0IGcgPSBjb3BpYVtpXTtcclxuICAgICAgLy8gU2VndXJpZGFkOiBxdWUgZXhpc3RhIHkgcXVlIGhheWEgY2VsbHNbaW5kZXhdXHJcbiAgICAgIGlmICghZz8uY2VsbHMgfHwgIWcuY2VsbHNbaW5kZXhdKSByZXR1cm4gcHJldjtcclxuXHJcbiAgICAgIGcuY2VsbHNbaW5kZXhdID0ge1xyXG4gICAgICAgIC4uLihnLmNlbGxzW2luZGV4XSA/PyB7fSksXHJcbiAgICAgICAgbWVkaWFVcmw6IHVybCxcclxuICAgICAgICBmaXQ6IGcuY2VsbHNbaW5kZXhdPy5maXQgPz8gXCJjb3ZlclwiLFxyXG4gICAgICAgIGJnOiBnLmNlbGxzW2luZGV4XT8uYmcgPz8gXCIjZWVlXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBjb3BpYTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIExpbXBpYXIgZmxhZyBkZSByZXNpemUgYWwgbW9udGFyIGVsIGNvbXBvbmVudGVcbiAgICB3aW5kb3cuX3Jlc2l6ZURhdGEgPSBudWxsO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgW21vc3RyYXJQYW5lbFosIHNldE1vc3RyYXJQYW5lbFpdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTZWxlY3Rpb25Sb3RhdGluZywgc2V0SXNTZWxlY3Rpb25Sb3RhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnID0gdXNlQ2FsbGJhY2soKGV2ZW50TmFtZSwgcGF5bG9hZCA9IHt9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgd2luZG93Ll9fREJHX09QVElPTl9CVVRUT04gIT09IHRydWUpIHJldHVybjtcbiAgICBjb25zb2xlLmxvZyhgW09QVElPTi1CVVRUT05dW01FTlVdICR7ZXZlbnROYW1lfWAsIHtcbiAgICAgIHRzOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAuLi5wYXlsb2FkLFxuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgdG9nZ2xlUGFuZWxPcGNpb25lcyA9IHVzZUNhbGxiYWNrKChzb3VyY2UgPSBcInVua25vd25cIiwgbmF0aXZlRXZlbnQgPSBudWxsKSA9PiB7XG4gICAgc2V0TW9zdHJhclBhbmVsWigocHJldikgPT4ge1xuICAgICAgY29uc3QgbmV4dCA9ICFwcmV2O1xuICAgICAgbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnKFwidG9nZ2xlXCIsIHtcbiAgICAgICAgc291cmNlLFxuICAgICAgICBwcmV2LFxuICAgICAgICBuZXh0LFxuICAgICAgICBzZWxlY3RlZElkOiBlbGVtZW50b3NTZWxlY2Npb25hZG9zPy5bMF0gPz8gbnVsbCxcbiAgICAgICAgc2VsZWN0aW9uQ291bnQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoLFxuICAgICAgICBpc01vYmlsZSxcbiAgICAgICAgbmF0aXZlRXZlbnRUeXBlOiBuYXRpdmVFdmVudD8udHlwZSA/PyBudWxsLFxuICAgICAgICBwb2ludGVyVHlwZTogbmF0aXZlRXZlbnQ/LnBvaW50ZXJUeXBlID8/IG51bGwsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbZWxlbWVudG9zU2VsZWNjaW9uYWRvcywgaXNNb2JpbGUsIGxvZ09wdGlvbkJ1dHRvbk1lbnVEZWJ1Z10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnKFwicGFuZWwtc3RhdGVcIiwge1xuICAgICAgb3BlbjogbW9zdHJhclBhbmVsWixcbiAgICAgIHNlbGVjdGVkSWQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M/LlswXSA/PyBudWxsLFxuICAgICAgc2VsZWN0aW9uQ291bnQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoLFxuICAgICAgaXNNb2JpbGUsXG4gICAgfSk7XG4gIH0sIFtcbiAgICBtb3N0cmFyUGFuZWxaLFxuICAgIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXG4gICAgaXNNb2JpbGUsXG4gICAgbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnLFxuICBdKTtcblxuICBjb25zdCBtb3ZlckVsZW1lbnRvID0gKGFjY2lvbikgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gb2JqZXRvcy5maW5kSW5kZXgoKG8pID0+IG8uaWQgPT09IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NbMF0pO1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG51ZXZvcyA9IFsuLi5vYmpldG9zXTtcclxuICAgIGNvbnN0IFtlbGVtZW50b10gPSBudWV2b3Muc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcbiAgICBpZiAoYWNjaW9uID09PSBcImFsLWZyZW50ZVwiKSB7XHJcbiAgICAgIG51ZXZvcy5wdXNoKGVsZW1lbnRvKTtcclxuICAgIH0gZWxzZSBpZiAoYWNjaW9uID09PSBcImFsLWZvbmRvXCIpIHtcclxuICAgICAgbnVldm9zLnVuc2hpZnQoZWxlbWVudG8pO1xyXG4gICAgfSBlbHNlIGlmIChhY2Npb24gPT09IFwic3ViaXJcIiAmJiBpbmRleCA8IG9iamV0b3MubGVuZ3RoIC0gMSkge1xyXG4gICAgICBudWV2b3Muc3BsaWNlKGluZGV4ICsgMSwgMCwgZWxlbWVudG8pO1xyXG4gICAgfSBlbHNlIGlmIChhY2Npb24gPT09IFwiYmFqYXJcIiAmJiBpbmRleCA+IDApIHtcclxuICAgICAgbnVldm9zLnNwbGljZShpbmRleCAtIDEsIDAsIGVsZW1lbnRvKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG51ZXZvcy5zcGxpY2UoaW5kZXgsIDAsIGVsZW1lbnRvKTsgLy8gc2luIGNhbWJpb3NcclxuICAgIH1cclxuXHJcbiAgICBzZXRPYmpldG9zKG51ZXZvcyk7XHJcbiAgICBzZXRNb3N0cmFyUGFuZWxaKGZhbHNlKTtcclxuICB9O1xyXG5cclxuXHJcblxyXG5cclxuICBjb25zdCB7XHJcbiAgICBvbkRlc2hhY2VyLFxyXG4gICAgb25SZWhhY2VyLFxyXG4gICAgb25EdXBsaWNhcixcclxuICAgIG9uRWxpbWluYXIsXHJcbiAgICBvbkNvcGlhcixcclxuICAgIG9uUGVnYXIsXHJcbiAgICBvbkNhbWJpYXJBbGluZWFjaW9uXHJcbiAgfSA9IHVzZUVkaXRvckhhbmRsZXJzKHtcclxuICAgIG9iamV0b3MsXHJcbiAgICBzZXRPYmpldG9zLFxyXG4gICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcyxcclxuICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXHJcbiAgICBoaXN0b3JpYWwsXHJcbiAgICBzZXRIaXN0b3JpYWwsXHJcbiAgICBmdXR1cm9zLFxyXG4gICAgc2V0RnV0dXJvcyxcclxuICAgIHNldFNlY2Npb25lcyxcclxuICAgIGlnbm9yZU5leHRVcGRhdGVSZWYsXHJcbiAgICBzZXRNb3N0cmFyUGFuZWxaXHJcbiAgfSk7XHJcblxyXG5cclxuICB1c2VIaXN0b3J5TWFuYWdlcih7XHJcbiAgICBjYXJnYWRvLFxyXG4gICAgb2JqZXRvcyxcclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNldEhpc3RvcmlhbCxcclxuICAgIHNldEZ1dHVyb3MsXHJcbiAgICBpZ25vcmVOZXh0VXBkYXRlUmVmLFxyXG4gIH0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCk7XHJcbiAgICBpZiAoIXN0YWdlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IHN0YWdlLmNvbnRlbnQ7XHJcbiAgICBpZiAoIWNvbnRlbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyA/IEVzdGFkbyBiYXNlOiBzY3JvbGwgdmVydGljYWwgcGVybWl0aWRvIHNvYnJlIGNhbnZhcyB2YWPDrW9cclxuICAgIGNvbnN0IHNldFNjcm9sbE1vZGUgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnRlbnQuc3R5bGUudG91Y2hBY3Rpb24gPSBcInBhbi15XCI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vID8gRHVyYW50ZSBkcmFnOiBibG9xdWVhciBzY3JvbGwgcGFyYSBlZGl0YXIgZmlub1xyXG4gICAgY29uc3Qgc2V0RWRpdE1vZGUgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnRlbnQuc3R5bGUudG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcclxuICAgIH07XHJcblxyXG4gICAgLy8gPyBOVUVWTzogZXN0YWRvIFJlYWN0IGNvbmZpYWJsZSBwYXJhIFVJIChUcmFuc2Zvcm1lci9ob3Zlci9ldGMuKVxyXG4gICAgY29uc3Qgb25EcmFnU3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG9uRHJhZ0VuZCA9ICgpID0+IHtcclxuICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vID8gRmFpbHNhZmU6IHBvciBzaSB0ZXJtaW5hIOKAnHJhcm/igJ0gKHRvdWNoIGNhbmNlbCwgcG9pbnRlciB1cCwgZXRjLilcclxuICAgIGNvbnN0IHN0b3BEcmFnZ2luZyA9ICgpID0+IHtcclxuICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICAgIHNldFNjcm9sbE1vZGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gSW5pY2lhbFxyXG4gICAgc2V0U2Nyb2xsTW9kZSgpO1xyXG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7IC8vID8/IHBvciBsYXMgZHVkYXMsIGFsIG1vbnRhclxyXG4gICAgY29udGVudC5zdHlsZS5XZWJraXRVc2VyU2VsZWN0ID0gXCJub25lXCI7XHJcbiAgICBjb250ZW50LnN0eWxlLldlYmtpdFRvdWNoQ2FsbG91dCA9IFwibm9uZVwiO1xyXG5cclxuICAgIC8vIEtvbnZhIGV2ZW50c1xyXG4gICAgc3RhZ2Uub24oXCJkcmFnc3RhcnRcIiwgc2V0RWRpdE1vZGUpO1xyXG4gICAgc3RhZ2Uub24oXCJkcmFnZW5kXCIsIHNldFNjcm9sbE1vZGUpO1xyXG5cclxuICAgIC8vID8gTlVFVk8gKFVJIHN0YXRlKVxyXG4gICAgc3RhZ2Uub24oXCJkcmFnc3RhcnRcIiwgb25EcmFnU3RhcnQpO1xyXG4gICAgc3RhZ2Uub24oXCJkcmFnZW5kXCIsIG9uRHJhZ0VuZCk7XHJcblxyXG4gICAgLy8gRmFpbHNhZmVzIChzaSBlbCBkcmFnIHRlcm1pbmEgcmFybylcclxuICAgIHN0YWdlLm9uKFwidG91Y2hlbmRcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgIHN0YWdlLm9uKFwicG9pbnRlcnVwXCIsIHN0b3BEcmFnZ2luZyk7XHJcbiAgICBzdGFnZS5vbihcIm1vdXNldXBcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgIHN0YWdlLm9uKFwidG91Y2hjYW5jZWxcIiwgc3RvcERyYWdnaW5nKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBzdGFnZS5vZmYoXCJkcmFnc3RhcnRcIiwgc2V0RWRpdE1vZGUpO1xyXG4gICAgICBzdGFnZS5vZmYoXCJkcmFnZW5kXCIsIHNldFNjcm9sbE1vZGUpO1xyXG5cclxuICAgICAgc3RhZ2Uub2ZmKFwiZHJhZ3N0YXJ0XCIsIG9uRHJhZ1N0YXJ0KTtcclxuICAgICAgc3RhZ2Uub2ZmKFwiZHJhZ2VuZFwiLCBvbkRyYWdFbmQpO1xyXG5cclxuICAgICAgc3RhZ2Uub2ZmKFwidG91Y2hlbmRcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgICAgc3RhZ2Uub2ZmKFwicG9pbnRlcnVwXCIsIHN0b3BEcmFnZ2luZyk7XHJcbiAgICAgIHN0YWdlLm9mZihcIm1vdXNldXBcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgICAgc3RhZ2Uub2ZmKFwidG91Y2hjYW5jZWxcIiwgc3RvcERyYWdnaW5nKTtcclxuICAgIH07XHJcbiAgfSwgW3NldElzRHJhZ2dpbmddKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY29udGVudCA9IHN0YWdlPy5jb250ZW50IHx8IHN0YWdlPy5jb250YWluZXI/LigpO1xuICAgIGlmICghY29udGVudCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc2V0RHJhZ0Rpc3RhbmNlRm9ySW5wdXQgPSAocG9pbnRlclR5cGUpID0+IHtcbiAgICAgIGNvbnN0IGlzVG91Y2hMaWtlID1cbiAgICAgICAgcG9pbnRlclR5cGUgPT09IFwidG91Y2hcIiB8fFxuICAgICAgICBwb2ludGVyVHlwZSA9PT0gXCJwZW5cIiB8fFxuICAgICAgICAodHlwZW9mIHBvaW50ZXJUeXBlICE9PSBcInN0cmluZ1wiICYmIGlzTW9iaWxlKTtcbiAgICAgIEtvbnZhLmRyYWdEaXN0YW5jZSA9IGlzVG91Y2hMaWtlID8gMTQgOiA1O1xuICAgIH07XG5cbiAgICBjb25zdCBvblBvaW50ZXJEb3duID0gKGV2ZW50KSA9PiBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dChldmVudC5wb2ludGVyVHlwZSk7XG4gICAgY29uc3Qgb25Ub3VjaFN0YXJ0ID0gKCkgPT4gc2V0RHJhZ0Rpc3RhbmNlRm9ySW5wdXQoXCJ0b3VjaFwiKTtcbiAgICBjb25zdCBvbk1vdXNlRG93biA9ICgpID0+IHNldERyYWdEaXN0YW5jZUZvcklucHV0KFwibW91c2VcIik7XG5cbiAgICBzZXREcmFnRGlzdGFuY2VGb3JJbnB1dChpc01vYmlsZSA/IFwidG91Y2hcIiA6IFwibW91c2VcIik7XG5cbiAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBvblBvaW50ZXJEb3duLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgY29udGVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBvblRvdWNoU3RhcnQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgb25Nb3VzZURvd24sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb250ZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBvblBvaW50ZXJEb3duKTtcbiAgICAgIGNvbnRlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgb25Ub3VjaFN0YXJ0KTtcbiAgICAgIGNvbnRlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbk1vdXNlRG93bik7XG4gICAgfTtcbiAgfSwgW2lzTW9iaWxlXSk7XG5cblxuXG5cbiAgLy8gUmVjb3JkYXIgw7psdGltYSBzZWNjacOzbiBhY3RpdmFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZWNjaW9uQWN0aXZhSWRSZWYuY3VycmVudCA9IHNlY2Npb25BY3RpdmFJZDtcbiAgfSwgW3NlY2Npb25BY3RpdmFJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlY2Npb25BY3RpdmFJZCkgd2luZG93Ll9sYXN0U2VjY2lvbkFjdGl2YUlkID0gc2VjY2lvbkFjdGl2YUlkO1xuICB9LCBbc2VjY2lvbkFjdGl2YUlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkKSB7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJzYWxpci1tb2RvLW1vdmVyLWZvbmRvXCIpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImFjdGl2YXItbW9kby1tb3Zlci1mb25kb1wiLCB7XG4gICAgICAgIGRldGFpbDogeyBzZWN0aW9uSWQ6IG1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFttb2JpbGVCYWNrZ3JvdW5kRWRpdFNlY3Rpb25JZF0pO1xuXHJcblxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFudWV2b1RleHRvUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBvYmogPSBvYmpldG9zLmZpbmQoKG8pID0+IG8uaWQgPT09IG51ZXZvVGV4dG9SZWYuY3VycmVudCk7XHJcbiAgICBpZiAob2JqKSB7XHJcbiAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW29iai5pZF0pO1xyXG4gICAgICAvLyBOTyBpbmljaWFyIGVkaWNpw7NuIGF1dG9tw6F0aWNhbWVudGUgLSBzb2xvIHNlbGVjY2lvbmFyXHJcbiAgICAgIG51ZXZvVGV4dG9SZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfSwgW29iamV0b3NdKTtcclxuXHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbGlja0Z1ZXJhID0gKGUpID0+IHtcbiAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdChcIi5wb3B1cC1mdWVudGVcIikpIHtcbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yRnVlbnRlKGZhbHNlKTtcbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yVGFtYW5vKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2tGdWVyYSk7XG4gICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2tGdWVyYSk7XG4gIH0sIFtdKTtcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAob25IaXN0b3JpYWxDaGFuZ2UpIHtcclxuXHJcbiAgICAgIG9uSGlzdG9yaWFsQ2hhbmdlKGhpc3RvcmlhbCk7XHJcbiAgICB9XHJcbiAgfSwgW2hpc3RvcmlhbCwgb25IaXN0b3JpYWxDaGFuZ2VdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChvbkZ1dHVyb3NDaGFuZ2UpIHtcclxuXHJcbiAgICAgIG9uRnV0dXJvc0NoYW5nZShmdXR1cm9zKTtcclxuICAgIH1cclxuICB9LCBbZnV0dXJvcywgb25GdXR1cm9zQ2hhbmdlXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBQcmUtY2FyZ2FyIGZ1ZW50ZXMgcG9wdWxhcmVzIGFsIGluaWNpYXJcclxuICAgIGZvbnRNYW5hZ2VyLnByZWxvYWRQb3B1bGFyRm9udHMoKTtcclxuXHJcbiAgICAvLyBFc2N1Y2hhciBldmVudG8gZGUgZnVlbnRlcyBjYXJnYWRhcyBwYXJhIHJlZGlidWphclxyXG4gICAgY29uc3QgaGFuZGxlRm9udHNMb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChzdGFnZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgc3RhZ2VSZWYuY3VycmVudC5iYXRjaERyYXcoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9udHMtbG9hZGVkJywgaGFuZGxlRm9udHNMb2FkZWQpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdmb250cy1sb2FkZWQnLCBoYW5kbGVGb250c0xvYWRlZCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBhbGl2ZSA9IHRydWU7XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gcHJlY2FyZ2FyKCkge1xyXG4gICAgICAvLyBTb2xvIHByZWNhcmdhciBmdWVudGVzIG51ZXZhcyBwYXJhIGV2aXRhciByZS1yZW5kZXJzIGdsb2JhbGVzIGRlbCBzdGFnZVxyXG4gICAgICBpZiAoIWZ1ZW50ZXNOZWNlc2FyaWFzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCBwZW5kaWVudGVzID0gZnVlbnRlc05lY2VzYXJpYXMuZmlsdGVyKFxyXG4gICAgICAgIChmb250TmFtZSkgPT4gIWxvYWRlZEZvbnRGYW1pbGllc1JlZi5jdXJyZW50Lmhhcyhmb250TmFtZSlcclxuICAgICAgKTtcclxuICAgICAgaWYgKCFwZW5kaWVudGVzLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyA/IElkZWFsOiBxdWUgZm9udE1hbmFnZXIubG9hZEZvbnRzIGRldnVlbHZhIFByb21pc2VcclxuICAgICAgICAvLyBTaSBob3kgbm8gZGV2dWVsdmUsIGlndWFsIGxvIHJlc29sdmVtb3MgY29uIGRvY3VtZW50LmZvbnRzIG3DoXMgYWJham8uXHJcbiAgICAgICAgY29uc3QgbWF5YmVQcm9taXNlID0gZm9udE1hbmFnZXIubG9hZEZvbnRzPy4ocGVuZGllbnRlcyk7XHJcblxyXG4gICAgICAgIC8vIFNpIGRldnVlbHZlIHByb21pc2UsIGVzcGVyYW1vc1xyXG4gICAgICAgIGlmIChtYXliZVByb21pc2UgJiYgdHlwZW9mIG1heWJlUHJvbWlzZS50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgIGF3YWl0IG1heWJlUHJvbWlzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID8gU2VndW5kbyBzZWd1cm86IGVzcGVyYXIgYSBxdWUgZWwgYnJvd3NlciBjb25maXJtZVxyXG4gICAgICAgIC8vIChlc3RvIGdhcmFudGl6YSBxdWUgbm8gaGF5YSBmYWxsYmFjaylcclxuICAgICAgICBpZiAoZG9jdW1lbnQ/LmZvbnRzPy5sb2FkKSB7XHJcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgcGVuZGllbnRlcy5tYXAoZiA9PlxyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmxvYWQoYDE2cHggXCIke2Z9XCJgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFsaXZlKSByZXR1cm47XHJcbiAgICAgICAgcGVuZGllbnRlcy5mb3JFYWNoKChmb250TmFtZSkgPT4gbG9hZGVkRm9udEZhbWlsaWVzUmVmLmN1cnJlbnQuYWRkKGZvbnROYW1lKSk7XHJcblxyXG4gICAgICAgIC8vIFJlZHJhdyBwb3Igc2kgYWNhc29cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgc3RhZ2VSZWYuY3VycmVudD8uYmF0Y2hEcmF3Py4oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIj8/IEVycm9yIHByZWNhcmdhbmRvIGZ1ZW50ZXM6XCIsIGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU29sbyBwcmVjYXJnYXIgY3VhbmRvIHlhIGNhcmdhc3RlIGVsIGJvcnJhZG9yIChwYXJhIGV2aXRhciBvdmVybGF5IHJhcm8pXHJcbiAgICBpZiAoY2FyZ2FkbykgcHJlY2FyZ2FyKCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHsgYWxpdmUgPSBmYWxzZTsgfTtcclxuICB9LCBbY2FyZ2FkbywgZnVlbnRlc05lY2VzYXJpYXNdKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcblxyXG4gIH0sIFtzZWxlY2Npb25BY3RpdmEsIGFyZWFTZWxlY2Npb24sIGluaWNpb1NlbGVjY2lvbl0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICBjb25zdCBhY3R1YWxpemFyT2JqZXRvID0gKGluZGV4LCBudWV2bykgPT4ge1xyXG4gICAgY29uc3QgbnVldm9zID0gWy4uLm9iamV0b3NdO1xyXG4gICAgY29uc3QgeyBmcm9tVHJhbnNmb3JtLCAuLi5jbGVhbk51ZXZvIH0gPSBudWV2bztcclxuXHJcbiAgICAvLyBQcmVzZXJ2YXIgZGF0b3MgZXNwZWPDrWZpY29zIHNlZ8O6biBlbCB0aXBvIGRlIG9iamV0b1xyXG4gICAgaWYgKG51ZXZvc1tpbmRleF0udGlwbyA9PT0gJ2Zvcm1hJyAmJiBudWV2b3NbaW5kZXhdLmZpZ3VyYSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgIC8vIFBhcmEgbMOtbmVhcywgYXNlZ3VyYXIgcXVlIGxvcyBwdW50b3Mgc2UgcHJlc2VydmVuXHJcbiAgICAgIG51ZXZvc1tpbmRleF0gPSB7XHJcbiAgICAgICAgLi4ubnVldm9zW2luZGV4XSxcclxuICAgICAgICAuLi5jbGVhbk51ZXZvLFxyXG4gICAgICAgIHBvaW50czogY2xlYW5OdWV2by5wb2ludHMgfHwgbnVldm9zW2luZGV4XS5wb2ludHMgfHwgWzAsIDAsIDEwMCwgMF1cclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG51ZXZvc1tpbmRleF0gPSB7IC4uLm51ZXZvc1tpbmRleF0sIC4uLmNsZWFuTnVldm8gfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPYmpldG9zKG51ZXZvcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IGFjdHVhbGl6YXJPYmpldG9Qb3JJZCA9IChpZCwgY2FtYmlvcykgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSBvYmpldG9zLmZpbmRJbmRleCgobykgPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGNvbnNvbGUud2FybihcIj8gTm8gc2UgZW5jb250csOzIGVsIG9iamV0byBjb24gSUQ6XCIsIGlkKTtcclxuICAgIGFjdHVhbGl6YXJPYmpldG8oaW5kZXgsIGNhbWJpb3MpO1xyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG4gIGNvbnN0IG5vcm1hbGl6YXJNZWRpZGFzR2FsZXJpYSA9IHVzZUNhbGxiYWNrKChnYWxlcmlhLCB3aWR0aENhbmRpZGF0ZSwgeENhbmRpZGF0ZSkgPT4ge1xyXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSA4MDA7XHJcbiAgICBjb25zdCByb3dzID0gTWF0aC5tYXgoMSwgTnVtYmVyKGdhbGVyaWE/LnJvd3MpIHx8IDEpO1xyXG4gICAgY29uc3QgY29scyA9IE1hdGgubWF4KDEsIE51bWJlcihnYWxlcmlhPy5jb2xzKSB8fCAxKTtcclxuICAgIGNvbnN0IGdhcCA9IE1hdGgubWF4KDAsIE51bWJlcihnYWxlcmlhPy5nYXApIHx8IDApO1xyXG4gICAgY29uc3QgY2VsbFJhdGlvID1cclxuICAgICAgZ2FsZXJpYT8ucmF0aW8gPT09IFwiNDozXCJcclxuICAgICAgICA/IDMgLyA0XHJcbiAgICAgICAgOiBnYWxlcmlhPy5yYXRpbyA9PT0gXCIxNjo5XCJcclxuICAgICAgICAgID8gOSAvIDE2XHJcbiAgICAgICAgICA6IDE7XHJcblxyXG4gICAgY29uc3QgbWluR3JpZFdpZHRoID0gZ2FwICogKGNvbHMgLSAxKSArIGNvbHM7XHJcbiAgICBsZXQgd2lkdGhQY3QgPSAoTnVtYmVyKHdpZHRoQ2FuZGlkYXRlKSAvIGNhbnZhc1dpZHRoKSAqIDEwMDtcclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHdpZHRoUGN0KSkgd2lkdGhQY3QgPSBOdW1iZXIoZ2FsZXJpYT8ud2lkdGhQY3QpO1xyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUod2lkdGhQY3QpKSB3aWR0aFBjdCA9IDcwO1xyXG4gICAgd2lkdGhQY3QgPSBNYXRoLm1heCgxMCwgTWF0aC5taW4oMTAwLCB3aWR0aFBjdCkpO1xyXG5cclxuICAgIGxldCB3aWR0aCA9IChjYW52YXNXaWR0aCAqIHdpZHRoUGN0KSAvIDEwMDtcclxuICAgIHdpZHRoID0gTWF0aC5taW4oY2FudmFzV2lkdGgsIE1hdGgubWF4KG1pbkdyaWRXaWR0aCwgd2lkdGgpKTtcclxuICAgIHdpZHRoUGN0ID0gTWF0aC5tYXgoMTAsIE1hdGgubWluKDEwMCwgKHdpZHRoIC8gY2FudmFzV2lkdGgpICogMTAwKSk7XHJcblxyXG4gICAgY29uc3QgbWF4WCA9IE1hdGgubWF4KDAsIGNhbnZhc1dpZHRoIC0gd2lkdGgpO1xyXG4gICAgY29uc3QgZmFsbGJhY2tYID0gTnVtYmVyLmlzRmluaXRlKE51bWJlcihnYWxlcmlhPy54KSkgPyBOdW1iZXIoZ2FsZXJpYS54KSA6IDA7XHJcbiAgICBjb25zdCByYXdYID0gTnVtYmVyLmlzRmluaXRlKE51bWJlcih4Q2FuZGlkYXRlKSkgPyBOdW1iZXIoeENhbmRpZGF0ZSkgOiBmYWxsYmFja1g7XHJcbiAgICBjb25zdCB4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocmF3WCwgbWF4WCkpO1xyXG5cclxuICAgIGNvbnN0IGNlbGxXID0gTWF0aC5tYXgoMSwgKHdpZHRoIC0gZ2FwICogKGNvbHMgLSAxKSkgLyBjb2xzKTtcclxuICAgIGNvbnN0IGNlbGxIID0gY2VsbFcgKiBjZWxsUmF0aW87XHJcbiAgICBjb25zdCBoZWlnaHQgPSByb3dzICogY2VsbEggKyBnYXAgKiAocm93cyAtIDEpO1xyXG5cclxuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQsIHdpZHRoUGN0LCB4IH07XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBhY3R1YWxpemFyTGluZWEgPSAobGluZUlkLCBudWV2YURhdGEpID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gb2JqZXRvcy5maW5kSW5kZXgob2JqID0+IG9iai5pZCA9PT0gbGluZUlkKTtcclxuXHJcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobnVldmFEYXRhLmlzUHJldmlldykge1xyXG4gICAgICAvLyBQcmV2aWV3OiBTb2xvIGFjdHVhbGl6YWNpw7NuIHZpc3VhbCBzaW4gaGlzdG9yaWFsXHJcbiAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgY29uc3QgbnVldm9zID0gWy4uLnByZXZdO1xyXG4gICAgICAgIGNvbnN0IHsgaXNQcmV2aWV3LCAuLi5jbGVhbkRhdGEgfSA9IG51ZXZhRGF0YTtcclxuXHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgcXVlIGxvcyBwdW50b3Mgc2llbXByZSBzZWFuIHVuIGFycmF5IHbDoWxpZG9cclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnBvaW50cykge1xyXG4gICAgICAgICAgY2xlYW5EYXRhLnBvaW50cyA9IGNsZWFuRGF0YS5wb2ludHMubWFwKHAgPT4gcGFyc2VGbG9hdChwKSB8fCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID8/IFBSRVNFUlZBUiBzdHJva2VXaWR0aCBzaSBleGlzdGVcclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnN0cm9rZVdpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNsZWFuRGF0YS5zdHJva2VXaWR0aCA9IHBhcnNlSW50KGNsZWFuRGF0YS5zdHJva2VXaWR0aCkgfHwgMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG51ZXZvc1tpbmRleF0gPSB7IC4uLm51ZXZvc1tpbmRleF0sIC4uLmNsZWFuRGF0YSB9O1xyXG4gICAgICAgIHJldHVybiBudWV2b3M7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChudWV2YURhdGEuaXNGaW5hbCkge1xyXG4gICAgICAvLyBGaW5hbDogR3VhcmRhciBlbiBoaXN0b3JpYWxcclxuICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICBjb25zdCBudWV2b3MgPSBbLi4ucHJldl07XHJcbiAgICAgICAgY29uc3QgeyBpc0ZpbmFsLCAuLi5jbGVhbkRhdGEgfSA9IG51ZXZhRGF0YTtcclxuXHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgcXVlIGxvcyBwdW50b3Mgc2llbXByZSBzZWFuIHVuIGFycmF5IHbDoWxpZG9cclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnBvaW50cykge1xyXG4gICAgICAgICAgY2xlYW5EYXRhLnBvaW50cyA9IGNsZWFuRGF0YS5wb2ludHMubWFwKHAgPT4gcGFyc2VGbG9hdChwKSB8fCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID8/IFBSRVNFUlZBUiBzdHJva2VXaWR0aCBzaSBleGlzdGVcclxuICAgICAgICBpZiAoY2xlYW5EYXRhLnN0cm9rZVdpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNsZWFuRGF0YS5zdHJva2VXaWR0aCA9IHBhcnNlSW50KGNsZWFuRGF0YS5zdHJva2VXaWR0aCkgfHwgMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG51ZXZvc1tpbmRleF0gPSB7IC4uLm51ZXZvc1tpbmRleF0sIC4uLmNsZWFuRGF0YSB9O1xyXG4gICAgICAgIHJldHVybiBudWV2b3M7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAvLyA/PyBNw6l0cmljYXMgZGUgdGV4dG8gY29uc2lzdGVudGVzIGNvbiBlbCByZW5kZXIgZGUgRWxlbWVudG9DYW52YXNcclxuICBjb25zdCBvYnRlbmVyTWV0cmljYXNUZXh0byA9ICh0ZXh0bywge1xyXG4gICAgZm9udFNpemUgPSAyNCxcclxuICAgIGZvbnRGYW1pbHkgPSBcInNhbnMtc2VyaWZcIixcclxuICAgIGZvbnRXZWlnaHQgPSBcIm5vcm1hbFwiLFxyXG4gICAgZm9udFN0eWxlID0gXCJub3JtYWxcIixcclxuICAgIGxpbmVIZWlnaHQgPSAxLjIsXHJcbiAgfSA9IHt9KSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIGNvbnN0IGZhbGxiYWNrU2l6ZSA9IE51bWJlci5pc0Zpbml0ZShmb250U2l6ZSkgJiYgZm9udFNpemUgPiAwID8gZm9udFNpemUgOiAyNDtcclxuICAgICAgcmV0dXJuIHsgd2lkdGg6IE1hdGgubWF4KDIwLCBTdHJpbmcodGV4dG8gPz8gXCJcIikubGVuZ3RoICogKGZhbGxiYWNrU2l6ZSAqIDAuNTUpKSwgaGVpZ2h0OiBmYWxsYmFja1NpemUgKiBsaW5lSGVpZ2h0IH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2FmZUZvbnRTaXplID0gTnVtYmVyLmlzRmluaXRlKGZvbnRTaXplKSAmJiBmb250U2l6ZSA+IDAgPyBmb250U2l6ZSA6IDI0O1xyXG4gICAgY29uc3Qgc2FmZUxpbmVIZWlnaHQgPSBOdW1iZXIuaXNGaW5pdGUobGluZUhlaWdodCkgJiYgbGluZUhlaWdodCA+IDAgPyBsaW5lSGVpZ2h0IDogMS4yO1xyXG4gICAgY29uc3Qgc2FmZUZhbWlseSA9IFN0cmluZyhmb250RmFtaWx5IHx8IFwic2Fucy1zZXJpZlwiKTtcclxuICAgIGNvbnN0IGZvbnRGb3JDYW52YXMgPSBzYWZlRmFtaWx5LmluY2x1ZGVzKFwiLFwiKVxyXG4gICAgICA/IHNhZmVGYW1pbHlcclxuICAgICAgOiAoL1xccy8udGVzdChzYWZlRmFtaWx5KSA/IGBcIiR7c2FmZUZhbWlseX1cImAgOiBzYWZlRmFtaWx5KTtcclxuXHJcbiAgICBjdHguZm9udCA9IGAke2ZvbnRTdHlsZSB8fCBcIm5vcm1hbFwifSAke2ZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIn0gJHtzYWZlRm9udFNpemV9cHggJHtmb250Rm9yQ2FudmFzfWA7XHJcblxyXG4gICAgY29uc3QgcmF3VGV4dCA9IFN0cmluZyh0ZXh0byA/PyBcIlwiKTtcclxuICAgIGNvbnN0IHNhZmVUZXh0ID0gcmF3VGV4dC5yZXBsYWNlKC9bIFxcdF0rJC9nbSwgXCJcIik7XHJcbiAgICBjb25zdCBsaW5lcyA9IHNhZmVUZXh0LnNwbGl0KC9cXHI/XFxuLyk7XHJcbiAgICBjb25zdCBtYXhMaW5lV2lkdGggPSBNYXRoLm1heCguLi5saW5lcy5tYXAoKGxpbmUpID0+IGN0eC5tZWFzdXJlVGV4dChsaW5lKS53aWR0aCksIDIwKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB3aWR0aDogbWF4TGluZVdpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHNhZmVGb250U2l6ZSAqIHNhZmVMaW5lSGVpZ2h0ICogTWF0aC5tYXgobGluZXMubGVuZ3RoLCAxKSxcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWVkaXJBbmNob1RleHRvS29udmEgPSB1c2VDYWxsYmFjaygob2JqVGV4dG8sIHRleHRvT2JqZXRpdm8sIGZvbnRTaXplT3ZlcnJpZGUgPSBudWxsKSA9PiB7XG4gICAgaWYgKCFvYmpUZXh0byB8fCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzYWZlVGV4dCA9IFN0cmluZyh0ZXh0b09iamV0aXZvID8/IFwiXCIpLnJlcGxhY2UoL1sgXFx0XSskL2dtLCBcIlwiKTtcbiAgICAgIGNvbnN0IHNhZmVGb250RmFtaWx5ID0gZm9udE1hbmFnZXIuaXNGb250QXZhaWxhYmxlKG9ialRleHRvLmZvbnRGYW1pbHkpXG4gICAgICAgID8gb2JqVGV4dG8uZm9udEZhbWlseVxuICAgICAgICA6IFwic2Fucy1zZXJpZlwiO1xuICAgICAgY29uc3Qgc2FmZUZvbnRTaXplID1cbiAgICAgICAgTnVtYmVyLmlzRmluaXRlKGZvbnRTaXplT3ZlcnJpZGUpICYmIGZvbnRTaXplT3ZlcnJpZGUgPiAwXG4gICAgICAgICAgPyBmb250U2l6ZU92ZXJyaWRlXG4gICAgICAgICAgOiAoTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLmZvbnRTaXplKSAmJiBvYmpUZXh0by5mb250U2l6ZSA+IDBcbiAgICAgICAgICAgID8gb2JqVGV4dG8uZm9udFNpemVcbiAgICAgICAgICAgIDogMjQpO1xuICAgICAgY29uc3QgYmFzZUxpbmVIZWlnaHQgPVxuICAgICAgICBOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8ubGluZUhlaWdodCkgJiYgb2JqVGV4dG8ubGluZUhlaWdodCA+IDBcbiAgICAgICAgICA/IG9ialRleHRvLmxpbmVIZWlnaHRcbiAgICAgICAgICA6IDEuMjtcblxyXG4gICAgICBjb25zdCBwcm9iZSA9IG5ldyBLb252YS5UZXh0KHtcbiAgICAgICAgdGV4dDogc2FmZVRleHQsXG4gICAgICAgIGZvbnRTaXplOiBzYWZlRm9udFNpemUsXG4gICAgICAgIGZvbnRGYW1pbHk6IHNhZmVGb250RmFtaWx5LFxuICAgICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0IHx8IFwibm9ybWFsXCIsXG4gICAgICAgIGZvbnRTdHlsZTogcmVzb2x2ZUtvbnZhRm9udFN0eWxlKFxuICAgICAgICAgIG9ialRleHRvLmZvbnRTdHlsZSB8fCBcIm5vcm1hbFwiLFxuICAgICAgICAgIG9ialRleHRvLmZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIlxuICAgICAgICApLFxuICAgICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXG4gICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgIHdyYXA6IFwibm9uZVwiLFxuICAgICAgfSk7XG5cclxuICAgICAgY29uc3Qgd2lkdGggPSBOdW1iZXIocHJvYmUuZ2V0VGV4dFdpZHRoPy4oKSB8fCAwKTtcclxuICAgICAgcHJvYmUuZGVzdHJveSgpO1xyXG5cclxuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh3aWR0aCkgJiYgd2lkdGggPiAwID8gd2lkdGggOiBudWxsO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgbWVkaXJBbHRvVGV4dG9Lb252YSA9IHVzZUNhbGxiYWNrKChvYmpUZXh0bywgdGV4dG9PYmpldGl2bywgZm9udFNpemVPdmVycmlkZSA9IG51bGwpID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNhZmVUZXh0ID0gU3RyaW5nKHRleHRvT2JqZXRpdm8gPz8gXCJcIikucmVwbGFjZSgvWyBcXHRdKyQvZ20sIFwiXCIpO1xuICAgICAgY29uc3Qgc2FmZUZvbnRGYW1pbHkgPSBmb250TWFuYWdlci5pc0ZvbnRBdmFpbGFibGUob2JqVGV4dG8uZm9udEZhbWlseSlcbiAgICAgICAgPyBvYmpUZXh0by5mb250RmFtaWx5XG4gICAgICAgIDogXCJzYW5zLXNlcmlmXCI7XG4gICAgICBjb25zdCBzYWZlRm9udFNpemUgPVxuICAgICAgICBOdW1iZXIuaXNGaW5pdGUoZm9udFNpemVPdmVycmlkZSkgJiYgZm9udFNpemVPdmVycmlkZSA+IDBcbiAgICAgICAgICA/IGZvbnRTaXplT3ZlcnJpZGVcbiAgICAgICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8uZm9udFNpemUpICYmIG9ialRleHRvLmZvbnRTaXplID4gMFxuICAgICAgICAgICAgPyBvYmpUZXh0by5mb250U2l6ZVxuICAgICAgICAgICAgOiAyNCk7XG4gICAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5saW5lSGVpZ2h0KSAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxuICAgICAgICAgID8gb2JqVGV4dG8ubGluZUhlaWdodFxuICAgICAgICAgIDogMS4yO1xuXG4gICAgICBjb25zdCBwcm9iZSA9IG5ldyBLb252YS5UZXh0KHtcbiAgICAgICAgdGV4dDogc2FmZVRleHQsXG4gICAgICAgIGZvbnRTaXplOiBzYWZlRm9udFNpemUsXG4gICAgICAgIGZvbnRGYW1pbHk6IHNhZmVGb250RmFtaWx5LFxuICAgICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0IHx8IFwibm9ybWFsXCIsXG4gICAgICAgIGZvbnRTdHlsZTogcmVzb2x2ZUtvbnZhRm9udFN0eWxlKFxuICAgICAgICAgIG9ialRleHRvLmZvbnRTdHlsZSB8fCBcIm5vcm1hbFwiLFxuICAgICAgICAgIG9ialRleHRvLmZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIlxuICAgICAgICApLFxuICAgICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXG4gICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgIHdyYXA6IFwibm9uZVwiLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGhlaWdodCA9IE51bWJlcihwcm9iZS5oZWlnaHQ/LigpIHx8IDApO1xuICAgICAgcHJvYmUuZGVzdHJveSgpO1xuXG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKGhlaWdodCkgJiYgaGVpZ2h0ID4gMCA/IGhlaWdodCA6IG51bGw7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBjYWxjdWxhclhUZXh0b0NlbnRyYWRvUG9yVGFtYW5vID0gdXNlQ2FsbGJhY2soKG9ialRleHRvLCBuZXh0Rm9udFNpemUpID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueCkgPyBvYmpUZXh0by54IDogMDtcblxuICAgIGNvbnN0IHNhZmVOZXh0U2l6ZSA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dEZvbnRTaXplKSAmJiBuZXh0Rm9udFNpemUgPiAwXG4gICAgICAgID8gbmV4dEZvbnRTaXplXG4gICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwID8gb2JqVGV4dG8uZm9udFNpemUgOiAyNCk7XG5cbiAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XG4gICAgICB0eXBlb2Ygb2JqVGV4dG8ubGluZUhlaWdodCA9PT0gXCJudW1iZXJcIiAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxuICAgICAgICA/IG9ialRleHRvLmxpbmVIZWlnaHRcbiAgICAgICAgOiAxLjI7XG5cbiAgICBjb25zdCBwcmV2aW91c01ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xuICAgICAgZm9udFNpemU6IG9ialRleHRvLmZvbnRTaXplLFxuICAgICAgZm9udEZhbWlseTogb2JqVGV4dG8uZm9udEZhbWlseSxcbiAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQsXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcbiAgICAgIGxpbmVIZWlnaHQ6IGJhc2VMaW5lSGVpZ2h0ICogMC45MixcbiAgICB9KTtcblxuICAgIGNvbnN0IG5leHRNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzVGV4dG8ob2JqVGV4dG8udGV4dG8sIHtcbiAgICAgIGZvbnRTaXplOiBzYWZlTmV4dFNpemUsXG4gICAgICBmb250RmFtaWx5OiBvYmpUZXh0by5mb250RmFtaWx5LFxuICAgICAgZm9udFdlaWdodDogb2JqVGV4dG8uZm9udFdlaWdodCxcbiAgICAgIGZvbnRTdHlsZTogb2JqVGV4dG8uZm9udFN0eWxlLFxuICAgICAgbGluZUhlaWdodDogYmFzZUxpbmVIZWlnaHQgKiAwLjkyLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcHJldmlvdXNXaWR0aEZyb21Lb252YSA9IG1lZGlyQW5jaG9UZXh0b0tvbnZhKFxuICAgICAgb2JqVGV4dG8sXG4gICAgICBvYmpUZXh0by50ZXh0byxcbiAgICAgIG9ialRleHRvLmZvbnRTaXplXG4gICAgKTtcbiAgICBjb25zdCBuZXh0V2lkdGhGcm9tS29udmEgPSBtZWRpckFuY2hvVGV4dG9Lb252YShcbiAgICAgIG9ialRleHRvLFxuICAgICAgb2JqVGV4dG8udGV4dG8sXG4gICAgICBzYWZlTmV4dFNpemVcbiAgICApO1xuXG4gICAgY29uc3QgcHJldmlvdXNXaWR0aCA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUocHJldmlvdXNXaWR0aEZyb21Lb252YSkgJiYgcHJldmlvdXNXaWR0aEZyb21Lb252YSA+IDBcbiAgICAgICAgPyBwcmV2aW91c1dpZHRoRnJvbUtvbnZhXG4gICAgICAgIDogcHJldmlvdXNNZXRyaWNzLndpZHRoO1xuICAgIGNvbnN0IG5leHRXaWR0aCA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dFdpZHRoRnJvbUtvbnZhKSAmJiBuZXh0V2lkdGhGcm9tS29udmEgPiAwXG4gICAgICAgID8gbmV4dFdpZHRoRnJvbUtvbnZhXG4gICAgICAgIDogbmV4dE1ldHJpY3Mud2lkdGg7XG5cbiAgICBjb25zdCBjdXJyZW50WCA9IE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by54KSA/IG9ialRleHRvLnggOiAwO1xuICAgIGNvbnN0IGNlbnRlclggPSBjdXJyZW50WCArIChwcmV2aW91c1dpZHRoIC8gMik7XG4gICAgcmV0dXJuIGNlbnRlclggLSAobmV4dFdpZHRoIC8gMik7XG4gIH0sIFtvYnRlbmVyTWV0cmljYXNUZXh0bywgbWVkaXJBbmNob1RleHRvS29udmFdKTtcblxuICBjb25zdCBjYWxjdWxhclhUZXh0b0Rlc2RlQ2VudHJvID0gdXNlQ2FsbGJhY2soKG9ialRleHRvLCBuZXh0Rm9udFNpemUsIGNlbnRlclgpID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikge1xuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0bz8ueCkgPyBvYmpUZXh0by54IDogMDtcbiAgICB9XG5cbiAgICBjb25zdCBzYWZlQ2VudGVyWCA9IE51bWJlcihjZW50ZXJYKTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzYWZlQ2VudGVyWCkpIHtcbiAgICAgIHJldHVybiBjYWxjdWxhclhUZXh0b0NlbnRyYWRvUG9yVGFtYW5vKG9ialRleHRvLCBuZXh0Rm9udFNpemUpO1xuICAgIH1cblxuICAgIGNvbnN0IHNhZmVOZXh0U2l6ZSA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dEZvbnRTaXplKSAmJiBuZXh0Rm9udFNpemUgPiAwXG4gICAgICAgID8gbmV4dEZvbnRTaXplXG4gICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwID8gb2JqVGV4dG8uZm9udFNpemUgOiAyNCk7XG4gICAgY29uc3QgYmFzZUxpbmVIZWlnaHQgPVxuICAgICAgdHlwZW9mIG9ialRleHRvLmxpbmVIZWlnaHQgPT09IFwibnVtYmVyXCIgJiYgb2JqVGV4dG8ubGluZUhlaWdodCA+IDBcbiAgICAgICAgPyBvYmpUZXh0by5saW5lSGVpZ2h0XG4gICAgICAgIDogMS4yO1xuXG4gICAgY29uc3QgbmV4dE1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xuICAgICAgZm9udFNpemU6IHNhZmVOZXh0U2l6ZSxcbiAgICAgIGZvbnRGYW1pbHk6IG9ialRleHRvLmZvbnRGYW1pbHksXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxuICAgICAgZm9udFN0eWxlOiBvYmpUZXh0by5mb250U3R5bGUsXG4gICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXG4gICAgfSk7XG4gICAgY29uc3QgbmV4dFdpZHRoRnJvbUtvbnZhID0gbWVkaXJBbmNob1RleHRvS29udmEoXG4gICAgICBvYmpUZXh0byxcbiAgICAgIG9ialRleHRvLnRleHRvLFxuICAgICAgc2FmZU5leHRTaXplXG4gICAgKTtcbiAgICBjb25zdCBuZXh0V2lkdGggPVxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRXaWR0aEZyb21Lb252YSkgJiYgbmV4dFdpZHRoRnJvbUtvbnZhID4gMFxuICAgICAgICA/IG5leHRXaWR0aEZyb21Lb252YVxuICAgICAgICA6IG5leHRNZXRyaWNzLndpZHRoO1xuXG4gICAgcmV0dXJuIHNhZmVDZW50ZXJYIC0gKG5leHRXaWR0aCAvIDIpO1xuICB9LCBbXG4gICAgY2FsY3VsYXJYVGV4dG9DZW50cmFkb1BvclRhbWFubyxcbiAgICBvYnRlbmVyTWV0cmljYXNUZXh0byxcbiAgICBtZWRpckFuY2hvVGV4dG9Lb252YSxcbiAgXSk7XG5cbiAgY29uc3QgY2FsY3VsYXJZVGV4dG9EZXNkZUNlbnRybyA9IHVzZUNhbGxiYWNrKChvYmpUZXh0bywgbmV4dEZvbnRTaXplLCBjZW50ZXJZKSA9PiB7XG4gICAgaWYgKCFvYmpUZXh0byB8fCBvYmpUZXh0by50aXBvICE9PSBcInRleHRvXCIpIHtcbiAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8/LnkpID8gb2JqVGV4dG8ueSA6IDA7XG4gICAgfVxuXG4gICAgY29uc3Qgc2FmZUNlbnRlclkgPSBOdW1iZXIoY2VudGVyWSk7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoc2FmZUNlbnRlclkpKSB7XG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLnkpID8gb2JqVGV4dG8ueSA6IDA7XG4gICAgfVxuXG4gICAgY29uc3Qgc2FmZU5leHRTaXplID1cbiAgICAgIE51bWJlci5pc0Zpbml0ZShuZXh0Rm9udFNpemUpICYmIG5leHRGb250U2l6ZSA+IDBcbiAgICAgICAgPyBuZXh0Rm9udFNpemVcbiAgICAgICAgOiAoTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLmZvbnRTaXplKSAmJiBvYmpUZXh0by5mb250U2l6ZSA+IDAgPyBvYmpUZXh0by5mb250U2l6ZSA6IDI0KTtcbiAgICBjb25zdCBiYXNlTGluZUhlaWdodCA9XG4gICAgICB0eXBlb2Ygb2JqVGV4dG8ubGluZUhlaWdodCA9PT0gXCJudW1iZXJcIiAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxuICAgICAgICA/IG9ialRleHRvLmxpbmVIZWlnaHRcbiAgICAgICAgOiAxLjI7XG5cbiAgICBjb25zdCBuZXh0TWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc1RleHRvKG9ialRleHRvLnRleHRvLCB7XG4gICAgICBmb250U2l6ZTogc2FmZU5leHRTaXplLFxuICAgICAgZm9udEZhbWlseTogb2JqVGV4dG8uZm9udEZhbWlseSxcbiAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQsXG4gICAgICBmb250U3R5bGU6IG9ialRleHRvLmZvbnRTdHlsZSxcbiAgICAgIGxpbmVIZWlnaHQ6IGJhc2VMaW5lSGVpZ2h0ICogMC45MixcbiAgICB9KTtcbiAgICBjb25zdCBuZXh0SGVpZ2h0RnJvbUtvbnZhID0gbWVkaXJBbHRvVGV4dG9Lb252YShcbiAgICAgIG9ialRleHRvLFxuICAgICAgb2JqVGV4dG8udGV4dG8sXG4gICAgICBzYWZlTmV4dFNpemVcbiAgICApO1xuICAgIGNvbnN0IG5leHRIZWlnaHQgPVxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRIZWlnaHRGcm9tS29udmEpICYmIG5leHRIZWlnaHRGcm9tS29udmEgPiAwXG4gICAgICAgID8gbmV4dEhlaWdodEZyb21Lb252YVxuICAgICAgICA6IG5leHRNZXRyaWNzLmhlaWdodDtcblxuICAgIHJldHVybiBzYWZlQ2VudGVyWSAtIChuZXh0SGVpZ2h0IC8gMik7XG4gIH0sIFtvYnRlbmVyTWV0cmljYXNUZXh0bywgbWVkaXJBbHRvVGV4dG9Lb252YV0pO1xuXG4gIGNvbnN0IGNhbGN1bGFyUG9zVGV4dG9EZXNkZUNlbnRybyA9IHVzZUNhbGxiYWNrKChcbiAgICBvYmpUZXh0byxcbiAgICBuZXh0Rm9udFNpemUsXG4gICAgY2VudGVyWCxcbiAgICBjZW50ZXJZLFxuICAgIHJvdGF0aW9uRGVnID0gMFxuICApID0+IHtcbiAgICBpZiAoIW9ialRleHRvIHx8IG9ialRleHRvLnRpcG8gIT09IFwidGV4dG9cIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogTnVtYmVyLmlzRmluaXRlKG9ialRleHRvPy54KSA/IG9ialRleHRvLnggOiAwLFxuICAgICAgICB5OiBudWxsLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzYWZlTmV4dFNpemUgPVxuICAgICAgTnVtYmVyLmlzRmluaXRlKG5leHRGb250U2l6ZSkgJiYgbmV4dEZvbnRTaXplID4gMFxuICAgICAgICA/IG5leHRGb250U2l6ZVxuICAgICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8uZm9udFNpemUpICYmIG9ialRleHRvLmZvbnRTaXplID4gMCA/IG9ialRleHRvLmZvbnRTaXplIDogMjQpO1xuICAgIGNvbnN0IHNhZmVDZW50ZXJYID0gTnVtYmVyKGNlbnRlclgpO1xuICAgIGNvbnN0IHNhZmVDZW50ZXJZID0gTnVtYmVyKGNlbnRlclkpO1xuICAgIGNvbnN0IHNhZmVSb3RhdGlvbiA9IE51bWJlcihyb3RhdGlvbkRlZyk7XG4gICAgY29uc3QgdGhldGEgPSAoTnVtYmVyLmlzRmluaXRlKHNhZmVSb3RhdGlvbikgPyBzYWZlUm90YXRpb24gOiAwKSAqIChNYXRoLlBJIC8gMTgwKTtcblxuICAgIGNvbnN0IGJhc2VMaW5lSGVpZ2h0ID1cbiAgICAgIHR5cGVvZiBvYmpUZXh0by5saW5lSGVpZ2h0ID09PSBcIm51bWJlclwiICYmIG9ialRleHRvLmxpbmVIZWlnaHQgPiAwXG4gICAgICAgID8gb2JqVGV4dG8ubGluZUhlaWdodFxuICAgICAgICA6IDEuMjtcblxuICAgIGNvbnN0IG1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNUZXh0byhvYmpUZXh0by50ZXh0bywge1xuICAgICAgZm9udFNpemU6IHNhZmVOZXh0U2l6ZSxcbiAgICAgIGZvbnRGYW1pbHk6IG9ialRleHRvLmZvbnRGYW1pbHksXG4gICAgICBmb250V2VpZ2h0OiBvYmpUZXh0by5mb250V2VpZ2h0LFxuICAgICAgZm9udFN0eWxlOiBvYmpUZXh0by5mb250U3R5bGUsXG4gICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXG4gICAgfSk7XG4gICAgY29uc3Qgd2lkdGhGcm9tS29udmEgPSBtZWRpckFuY2hvVGV4dG9Lb252YShcbiAgICAgIG9ialRleHRvLFxuICAgICAgb2JqVGV4dG8udGV4dG8sXG4gICAgICBzYWZlTmV4dFNpemVcbiAgICApO1xuICAgIGNvbnN0IGhlaWdodEZyb21Lb252YSA9IG1lZGlyQWx0b1RleHRvS29udmEoXG4gICAgICBvYmpUZXh0byxcbiAgICAgIG9ialRleHRvLnRleHRvLFxuICAgICAgc2FmZU5leHRTaXplXG4gICAgKTtcbiAgICBjb25zdCB3aWR0aCA9XG4gICAgICBOdW1iZXIuaXNGaW5pdGUod2lkdGhGcm9tS29udmEpICYmIHdpZHRoRnJvbUtvbnZhID4gMFxuICAgICAgICA/IHdpZHRoRnJvbUtvbnZhXG4gICAgICAgIDogbWV0cmljcy53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPVxuICAgICAgTnVtYmVyLmlzRmluaXRlKGhlaWdodEZyb21Lb252YSkgJiYgaGVpZ2h0RnJvbUtvbnZhID4gMFxuICAgICAgICA/IGhlaWdodEZyb21Lb252YVxuICAgICAgICA6IG1ldHJpY3MuaGVpZ2h0O1xuXG4gICAgY29uc3QgaGFsZlcgPSB3aWR0aCAvIDI7XG4gICAgY29uc3QgaGFsZkggPSBoZWlnaHQgLyAyO1xuICAgIGNvbnN0IGNlbnRlck9mZnNldFggPSAoaGFsZlcgKiBNYXRoLmNvcyh0aGV0YSkpIC0gKGhhbGZIICogTWF0aC5zaW4odGhldGEpKTtcbiAgICBjb25zdCBjZW50ZXJPZmZzZXRZID0gKGhhbGZXICogTWF0aC5zaW4odGhldGEpKSArIChoYWxmSCAqIE1hdGguY29zKHRoZXRhKSk7XG4gICAgY29uc3QgZmFsbGJhY2tYID0gY2FsY3VsYXJYVGV4dG9EZXNkZUNlbnRybyhvYmpUZXh0bywgc2FmZU5leHRTaXplLCBzYWZlQ2VudGVyWCk7XG4gICAgY29uc3QgZmFsbGJhY2tZID0gY2FsY3VsYXJZVGV4dG9EZXNkZUNlbnRybyhvYmpUZXh0bywgc2FmZU5leHRTaXplLCBzYWZlQ2VudGVyWSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogTnVtYmVyLmlzRmluaXRlKHNhZmVDZW50ZXJYKVxuICAgICAgICA/IHNhZmVDZW50ZXJYIC0gY2VudGVyT2Zmc2V0WFxuICAgICAgICA6IGZhbGxiYWNrWCxcbiAgICAgIHk6IE51bWJlci5pc0Zpbml0ZShzYWZlQ2VudGVyWSlcbiAgICAgICAgPyBzYWZlQ2VudGVyWSAtIGNlbnRlck9mZnNldFlcbiAgICAgICAgOiBmYWxsYmFja1ksXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICB9O1xuICB9LCBbXG4gICAgb2J0ZW5lck1ldHJpY2FzVGV4dG8sXG4gICAgbWVkaXJBbmNob1RleHRvS29udmEsXG4gICAgbWVkaXJBbHRvVGV4dG9Lb252YSxcbiAgICBjYWxjdWxhclhUZXh0b0Rlc2RlQ2VudHJvLFxuICAgIGNhbGN1bGFyWVRleHRvRGVzZGVDZW50cm8sXG4gIF0pO1xuXG4gIGNvbnN0IGFqdXN0YXJGb250U2l6ZUFBbmNob1Zpc3VhbCA9IHVzZUNhbGxiYWNrKChvYmpUZXh0bywgcHJvcG9zZWRGb250U2l6ZSwgdGFyZ2V0VmlzdWFsV2lkdGgpID0+IHtcbiAgICBjb25zdCBzYWZlUHJvcG9zZWQgPSBOdW1iZXIocHJvcG9zZWRGb250U2l6ZSk7XG4gICAgY29uc3Qgc2FmZVRhcmdldFdpZHRoID0gTnVtYmVyKHRhcmdldFZpc3VhbFdpZHRoKTtcbiAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6c3RhcnRcIiwge1xuICAgICAgaWQ6IG9ialRleHRvPy5pZCA/PyBudWxsLFxuICAgICAgcHJvcG9zZWRGb250U2l6ZTogc2FmZVByb3Bvc2VkLFxuICAgICAgdGFyZ2V0VmlzdWFsV2lkdGg6IHNhZmVUYXJnZXRXaWR0aCxcbiAgICAgIGN1cnJlbnRGb250U2l6ZTogb2JqVGV4dG8/LmZvbnRTaXplID8/IG51bGwsXG4gICAgfSk7XG4gICAgaWYgKCFvYmpUZXh0byB8fCBvYmpUZXh0by50aXBvICE9PSBcInRleHRvXCIpIHtcbiAgICAgIHRleHRSZXNpemVEZWJ1ZyhcImZpdC13aWR0aDpza2lwLWludmFsaWQtb2JqXCIsIHsgaWQ6IG9ialRleHRvPy5pZCA/PyBudWxsIH0pO1xuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShzYWZlUHJvcG9zZWQpICYmIHNhZmVQcm9wb3NlZCA+IDAgPyBzYWZlUHJvcG9zZWQgOiAyNDtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoc2FmZVByb3Bvc2VkKSB8fCBzYWZlUHJvcG9zZWQgPD0gMCkge1xuICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOnNraXAtaW52YWxpZC1zaXplXCIsIHsgaWQ6IG9ialRleHRvPy5pZCA/PyBudWxsIH0pO1xuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShvYmpUZXh0by5mb250U2l6ZSkgJiYgb2JqVGV4dG8uZm9udFNpemUgPiAwID8gb2JqVGV4dG8uZm9udFNpemUgOiAyNDtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoc2FmZVRhcmdldFdpZHRoKSB8fCBzYWZlVGFyZ2V0V2lkdGggPD0gMCkge1xuICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOnNraXAtaW52YWxpZC13aWR0aFwiLCB7IGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCB9KTtcbiAgICAgIHJldHVybiBzYWZlUHJvcG9zZWQ7XG4gICAgfVxuXG4gICAgbGV0IG5leHRTaXplID0gTWF0aC5tYXgoNiwgc2FmZVByb3Bvc2VkKTtcblxuICAgIC8vIERvcyBpdGVyYWNpb25lcyBhbGNhbnphbiBwYXJhIGNvbXBlbnNhciBlbCBkZXNhanVzdGUgZW50cmUgcHJldmlldyBlc2NhbGFkbyB5IHJlbmRlciBmaW5hbC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkgKz0gMSkge1xuICAgICAgY29uc3QgbWVhc3VyZWRXaWR0aCA9IG1lZGlyQW5jaG9UZXh0b0tvbnZhKFxuICAgICAgICBvYmpUZXh0byxcbiAgICAgICAgb2JqVGV4dG8udGV4dG8sXG4gICAgICAgIG5leHRTaXplXG4gICAgICApO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobWVhc3VyZWRXaWR0aCkgfHwgbWVhc3VyZWRXaWR0aCA8PSAwKSB7XG4gICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcImZpdC13aWR0aDpicmVhay1uby1tZWFzdXJlXCIsIHtcbiAgICAgICAgICBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwsXG4gICAgICAgICAgaXRlcmF0aW9uOiBpLFxuICAgICAgICAgIG1lYXN1cmVkV2lkdGgsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmF0aW8gPSBzYWZlVGFyZ2V0V2lkdGggLyBtZWFzdXJlZFdpZHRoO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocmF0aW8pIHx8IHJhdGlvIDw9IDApIHtcbiAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOmJyZWFrLWludmFsaWQtcmF0aW9cIiwge1xuICAgICAgICAgIGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCxcbiAgICAgICAgICBpdGVyYXRpb246IGksXG4gICAgICAgICAgcmF0aW8sXG4gICAgICAgICAgbWVhc3VyZWRXaWR0aCxcbiAgICAgICAgICB0YXJnZXRWaXN1YWxXaWR0aDogc2FmZVRhcmdldFdpZHRoLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IE1hdGgubWF4KDYsIG5leHRTaXplICogcmF0aW8pO1xuICAgICAgdGV4dFJlc2l6ZURlYnVnKFwiZml0LXdpZHRoOml0ZXJcIiwge1xuICAgICAgICBpZDogb2JqVGV4dG8/LmlkID8/IG51bGwsXG4gICAgICAgIGl0ZXJhdGlvbjogaSxcbiAgICAgICAgbWVhc3VyZWRXaWR0aCxcbiAgICAgICAgcmF0aW8sXG4gICAgICAgIHByZXZTaXplOiBuZXh0U2l6ZSxcbiAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgfSk7XG4gICAgICBpZiAoTWF0aC5hYnMoY2FuZGlkYXRlIC0gbmV4dFNpemUpIDw9IDAuMDEpIHtcbiAgICAgICAgbmV4dFNpemUgPSBjYW5kaWRhdGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbmV4dFNpemUgPSBjYW5kaWRhdGU7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsU2l6ZSA9IE51bWJlcihuZXh0U2l6ZS50b0ZpeGVkKDMpKTtcbiAgICB0ZXh0UmVzaXplRGVidWcoXCJmaXQtd2lkdGg6ZW5kXCIsIHtcbiAgICAgIGlkOiBvYmpUZXh0bz8uaWQgPz8gbnVsbCxcbiAgICAgIGZpbmFsU2l6ZSxcbiAgICAgIHRhcmdldFZpc3VhbFdpZHRoOiBzYWZlVGFyZ2V0V2lkdGgsXG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbmFsU2l6ZTtcbiAgfSwgW21lZGlyQW5jaG9UZXh0b0tvbnZhLCB0ZXh0UmVzaXplRGVidWddKTtcblxuICBjb25zdCBjYWxjdWxhclhUZXh0b0NlbnRyYWRvID0gdXNlQ2FsbGJhY2soKG9ialRleHRvLCB0ZXh0b09iamV0aXZvKSA9PiB7XG4gICAgaWYgKCFvYmpUZXh0byB8fCBvYmpUZXh0by50aXBvICE9PSBcInRleHRvXCIpIHJldHVybiBOdW1iZXIuaXNGaW5pdGUob2JqVGV4dG8/LngpID8gb2JqVGV4dG8ueCA6IDA7XHJcblxyXG4gICAgY29uc3QgYmFzZUxpbmVIZWlnaHQgPVxyXG4gICAgICB0eXBlb2Ygb2JqVGV4dG8ubGluZUhlaWdodCA9PT0gXCJudW1iZXJcIiAmJiBvYmpUZXh0by5saW5lSGVpZ2h0ID4gMFxyXG4gICAgICAgID8gb2JqVGV4dG8ubGluZUhlaWdodFxyXG4gICAgICAgIDogMS4yO1xyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc1RleHRvKG9ialRleHRvLnRleHRvLCB7XHJcbiAgICAgIGZvbnRTaXplOiBvYmpUZXh0by5mb250U2l6ZSxcclxuICAgICAgZm9udEZhbWlseTogb2JqVGV4dG8uZm9udEZhbWlseSxcclxuICAgICAgZm9udFdlaWdodDogb2JqVGV4dG8uZm9udFdlaWdodCxcclxuICAgICAgZm9udFN0eWxlOiBvYmpUZXh0by5mb250U3R5bGUsXHJcbiAgICAgIGxpbmVIZWlnaHQ6IGJhc2VMaW5lSGVpZ2h0ICogMC45MixcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IG5leHRNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzVGV4dG8odGV4dG9PYmpldGl2bywge1xyXG4gICAgICBmb250U2l6ZTogb2JqVGV4dG8uZm9udFNpemUsXHJcbiAgICAgIGZvbnRGYW1pbHk6IG9ialRleHRvLmZvbnRGYW1pbHksXHJcbiAgICAgIGZvbnRXZWlnaHQ6IG9ialRleHRvLmZvbnRXZWlnaHQsXHJcbiAgICAgIGZvbnRTdHlsZTogb2JqVGV4dG8uZm9udFN0eWxlLFxyXG4gICAgICBsaW5lSGVpZ2h0OiBiYXNlTGluZUhlaWdodCAqIDAuOTIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBwcmV2aW91c1dpZHRoRnJvbUtvbnZhID0gbWVkaXJBbmNob1RleHRvS29udmEob2JqVGV4dG8sIG9ialRleHRvLnRleHRvKTtcclxuICAgIGNvbnN0IG5leHRXaWR0aEZyb21Lb252YSA9IG1lZGlyQW5jaG9UZXh0b0tvbnZhKG9ialRleHRvLCB0ZXh0b09iamV0aXZvKTtcclxuXHJcbiAgICBjb25zdCBwcmV2aW91c1dpZHRoID1cclxuICAgICAgTnVtYmVyLmlzRmluaXRlKHByZXZpb3VzV2lkdGhGcm9tS29udmEpICYmIHByZXZpb3VzV2lkdGhGcm9tS29udmEgPiAwXHJcbiAgICAgICAgPyBwcmV2aW91c1dpZHRoRnJvbUtvbnZhXHJcbiAgICAgICAgOiBwcmV2aW91c01ldHJpY3Mud2lkdGg7XHJcbiAgICBjb25zdCBuZXh0V2lkdGggPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUobmV4dFdpZHRoRnJvbUtvbnZhKSAmJiBuZXh0V2lkdGhGcm9tS29udmEgPiAwXHJcbiAgICAgICAgPyBuZXh0V2lkdGhGcm9tS29udmFcclxuICAgICAgICA6IG5leHRNZXRyaWNzLndpZHRoO1xyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRYID0gTnVtYmVyLmlzRmluaXRlKG9ialRleHRvLngpID8gb2JqVGV4dG8ueCA6IDA7XHJcbiAgICBjb25zdCBjZW50ZXJYID0gY3VycmVudFggKyAocHJldmlvdXNXaWR0aCAvIDIpO1xyXG4gICAgcmV0dXJuIGNlbnRlclggLSAobmV4dFdpZHRoIC8gMik7XHJcbiAgfSwgW29idGVuZXJNZXRyaWNhc1RleHRvLCBtZWRpckFuY2hvVGV4dG9Lb252YV0pO1xuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZGVzY3JpYmVUYXJnZXQgPSAodGFyZ2V0KSA9PiB7XG4gICAgICBpZiAodGFyZ2V0ID09PSB3aW5kb3cpIHJldHVybiBcIndpbmRvd1wiO1xuICAgICAgaWYgKHRhcmdldCA9PT0gZG9jdW1lbnQpIHJldHVybiBcImRvY3VtZW50XCI7XG4gICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSkgcmV0dXJuIFwidW5rbm93blwiO1xuICAgICAgY29uc3QgdGFnID0gU3RyaW5nKHRhcmdldC50YWdOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBpZCA9IHRhcmdldC5pZCA/IGAjJHt0YXJnZXQuaWR9YCA6IFwiXCI7XG4gICAgICBjb25zdCBjbGFzc2VzID0gdGFyZ2V0LmNsYXNzTGlzdD8ubGVuZ3RoXG4gICAgICAgID8gYC4ke0FycmF5LmZyb20odGFyZ2V0LmNsYXNzTGlzdCkuc2xpY2UoMCwgMikuam9pbihcIi5cIil9YFxuICAgICAgICA6IFwiXCI7XG4gICAgICByZXR1cm4gYCR7dGFnfSR7aWR9JHtjbGFzc2VzfWAgfHwgXCJlbGVtZW50XCI7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW5zaWRlRmxvYXRpbmdVaSA9ICh0YXJnZXQpID0+IHtcbiAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoXCIubWVudS16LWluZGV4XCIpIHx8XG4gICAgICAgIHRhcmdldC5jbG9zZXN0KCdbZGF0YS1vcHRpb24tYnV0dG9uPVwidHJ1ZVwiXScpXG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVQb2ludGVyT3V0c2lkZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaW5zaWRlRmxvYXRpbmdVaSA9IGlzSW5zaWRlRmxvYXRpbmdVaShldmVudC50YXJnZXQpO1xuICAgICAgaWYgKGluc2lkZUZsb2F0aW5nVWkpIHtcbiAgICAgICAgbG9nT3B0aW9uQnV0dG9uTWVudURlYnVnKFwib3V0c2lkZS1pZ25vcmVcIiwge1xuICAgICAgICAgIHNvdXJjZTogXCJnbG9iYWwtcG9pbnRlcmRvd25cIixcbiAgICAgICAgICB0YXJnZXQ6IGRlc2NyaWJlVGFyZ2V0KGV2ZW50LnRhcmdldCksXG4gICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50eXBlLFxuICAgICAgICAgIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSA/PyBudWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRNb3N0cmFyUGFuZWxaKChwcmV2KSA9PiB7XG4gICAgICAgIGlmICghcHJldikgcmV0dXJuIHByZXY7XG4gICAgICAgIGxvZ09wdGlvbkJ1dHRvbk1lbnVEZWJ1ZyhcIm91dHNpZGUtY2xvc2VcIiwge1xuICAgICAgICAgIHNvdXJjZTogXCJnbG9iYWwtcG9pbnRlcmRvd25cIixcbiAgICAgICAgICB0YXJnZXQ6IGRlc2NyaWJlVGFyZ2V0KGV2ZW50LnRhcmdldCksXG4gICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50eXBlLFxuICAgICAgICAgIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSA/PyBudWxsLFxuICAgICAgICAgIHByZXYsXG4gICAgICAgICAgbmV4dDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgXCJQb2ludGVyRXZlbnRcIiBpbiB3aW5kb3cpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyT3V0c2lkZSwgdHJ1ZSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgaGFuZGxlUG9pbnRlck91dHNpZGUsIHRydWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZVBvaW50ZXJPdXRzaWRlLCB0cnVlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBoYW5kbGVQb2ludGVyT3V0c2lkZSwge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVQb2ludGVyT3V0c2lkZSwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBoYW5kbGVQb2ludGVyT3V0c2lkZSwgdHJ1ZSk7XG4gICAgfTtcbiAgfSwgW2xvZ09wdGlvbkJ1dHRvbk1lbnVEZWJ1Z10pO1xuXHJcblxyXG5cclxuICBjb25zdCBhY3R1YWxpemFyRm9uZG9TZWNjaW9uID0gKGlkLCBudWV2b0ZvbmRvKSA9PiB7XHJcbiAgICBzZXRTZWNjaW9uZXMoKHByZXYpID0+XHJcbiAgICAgIHByZXYubWFwKChzKSA9PiBzLmlkID09PSBpZCA/IHsgLi4ucywgZm9uZG86IG51ZXZvRm9uZG8gfSA6IHMpXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHVzZUtleWJvYXJkU2hvcnRjdXRzKHtcclxuICAgIG9uRGVzaGFjZXIsXHJcbiAgICBvblJlaGFjZXIsXHJcbiAgICBvbkR1cGxpY2FyLFxyXG4gICAgb25FbGltaW5hcixcclxuICAgIG9uRGVzZWxlY2Npb25hcjogKCkgPT4ge1xyXG4gICAgICBpZiAoZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyhbXSk7XHJcbiAgICAgICAgc2V0TW9zdHJhclBhbmVsWihmYWxzZSk7XHJcbiAgICAgICAgc2V0TW9zdHJhclN1Ym1lbnVDYXBhKGZhbHNlKTtcclxuICAgICAgICBzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGUoZmFsc2UpO1xyXG4gICAgICAgIHNldE1vc3RyYXJTZWxlY3RvclRhbWFubyhmYWxzZSk7XG4gICAgICAgIHNldEhvdmVySWQobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkNvcGlhcixcclxuICAgIG9uUGVnYXIsXHJcbiAgICBvbkNhbWJpYXJBbGluZWFjaW9uLFxyXG4gICAgaXNFZGl0aW5nOiAhIWVkaXRpbmcuaWQsXHJcbiAgICB0aWVuZVNlbGVjY2lvbjogZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPiAwXHJcbiAgfSk7XHJcblxyXG5cclxuICBjb25zdCBjYW1iaWFyQ29sb3JGb25kb1NlY2Npb24gPSB1c2VDYWxsYmFjaygoc2VjY2lvbklkLCBudWV2b0NvbG9yKSA9PiB7XHJcblxyXG4gICAgc2V0U2VjY2lvbmVzKHByZXYgPT5cclxuICAgICAgcHJldi5tYXAocyA9PiB7XHJcbiAgICAgICAgaWYgKHMuaWQgIT09IHNlY2Npb25JZCkgcmV0dXJuIHM7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4ucywgZm9uZG86IG51ZXZvQ29sb3IgfTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfSwgW3NldFNlY2Npb25lc10pO1xyXG5cclxuXHJcbiAgdXNlRWRpdG9yV2luZG93QnJpZGdlKHtcclxuICAgIHNlY2Npb25lc09yZGVuYWRhcyxcclxuICAgIHNlY2Npb25lcyxcclxuICAgIHNlY2Npb25BY3RpdmFJZCxcclxuICAgIG9iamV0b3MsXHJcbiAgICBhbHRvQ2FudmFzLFxyXG4gICAgY2FsY3VsYXJPZmZzZXRZLFxyXG5cclxuICAgIGNhbWJpYXJDb2xvckZvbmRvU2VjY2lvbixcclxuXHJcbiAgICBvbkRlc2hhY2VyLFxyXG4gICAgb25SZWhhY2VyLFxyXG4gICAgaGlzdG9yaWFsTGVuZ3RoOiBoaXN0b3JpYWwubGVuZ3RoLFxyXG4gICAgZnV0dXJvc0xlbmd0aDogZnV0dXJvcy5sZW5ndGgsXHJcblxyXG4gICAgc3RhZ2VSZWYsXHJcbiAgfSk7XHJcblxyXG5cclxuICBjb25zdCBlc1NlY2Npb25QYW50YWxsYUJ5SWQgPSB1c2VDYWxsYmFjaygoc2VjY2lvbklkKSA9PiB7XHJcbiAgICBjb25zdCBzID0gc2VjY2lvbmVzT3JkZW5hZGFzLmZpbmQoeCA9PiB4LmlkID09PSBzZWNjaW9uSWQpO1xyXG4gICAgcmV0dXJuIHMgJiYgbm9ybWFsaXphckFsdG9Nb2RvKHMuYWx0b01vZG8pID09PSBcInBhbnRhbGxhXCI7XHJcbiAgfSwgW3NlY2Npb25lc09yZGVuYWRhc10pO1xyXG5cclxuXHJcbiAgY29uc3QgYWx0b0NhbnZhc0RpbmFtaWNvID0gc2VjY2lvbmVzT3JkZW5hZGFzLnJlZHVjZSgoYWNjLCBzKSA9PiBhY2MgKyBzLmFsdHVyYSwgMCkgfHwgODAwO1xyXG5cclxuICBjb25zdCBhYnJpck1vZGFsQm9ycmFyU2VjY2lvbiA9IHVzZUNhbGxiYWNrKChzZWNjaW9uSWQpID0+IHtcclxuICAgIGlmICghc2VjY2lvbklkIHx8IGlzRGVsZXRpbmdTZWN0aW9uKSByZXR1cm47XHJcbiAgICBzZXREZWxldGVTZWN0aW9uTW9kYWwoeyBpc09wZW46IHRydWUsIHNlY3Rpb25JZDogc2VjY2lvbklkIH0pO1xyXG4gIH0sIFtpc0RlbGV0aW5nU2VjdGlvbl0pO1xyXG5cclxuICBjb25zdCBjZXJyYXJNb2RhbEJvcnJhclNlY2Npb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoaXNEZWxldGluZ1NlY3Rpb24pIHJldHVybjtcclxuICAgIHNldERlbGV0ZVNlY3Rpb25Nb2RhbCh7IGlzT3BlbjogZmFsc2UsIHNlY3Rpb25JZDogbnVsbCB9KTtcclxuICB9LCBbaXNEZWxldGluZ1NlY3Rpb25dKTtcclxuXHJcbiAgY29uc3QgY29uZmlybWFyQm9ycmFyU2VjY2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHNlY2Npb25JZCA9IGRlbGV0ZVNlY3Rpb25Nb2RhbC5zZWN0aW9uSWQ7XHJcbiAgICBpZiAoIXNlY2Npb25JZCB8fCBpc0RlbGV0aW5nU2VjdGlvbikgcmV0dXJuO1xyXG5cclxuICAgIHNldElzRGVsZXRpbmdTZWN0aW9uKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgYm9ycmFyU2VjY2lvbkV4dGVybmFsKHtcclxuICAgICAgICBzZWNjaW9uSWQsXHJcbiAgICAgICAgc2VjY2lvbmVzLFxyXG4gICAgICAgIG9iamV0b3MsXHJcbiAgICAgICAgc2x1ZyxcclxuICAgICAgICBzZWNjaW9uQWN0aXZhSWQsXHJcbiAgICAgICAgc2V0U2VjY2lvbmVzLFxyXG4gICAgICAgIHNldE9iamV0b3MsXHJcbiAgICAgICAgc2V0U2VjY2lvbkFjdGl2YUlkLFxyXG4gICAgICB9KTtcclxuICAgICAgc2V0RGVsZXRlU2VjdGlvbk1vZGFsKHsgaXNPcGVuOiBmYWxzZSwgc2VjdGlvbklkOiBudWxsIH0pO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNEZWxldGluZ1NlY3Rpb24oZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtcclxuICAgIGRlbGV0ZVNlY3Rpb25Nb2RhbC5zZWN0aW9uSWQsXHJcbiAgICBpc0RlbGV0aW5nU2VjdGlvbixcclxuICAgIHNlY2Npb25lcyxcclxuICAgIG9iamV0b3MsXHJcbiAgICBzbHVnLFxyXG4gICAgc2VjY2lvbkFjdGl2YUlkLFxyXG4gICAgc2V0U2VjY2lvbmVzLFxyXG4gICAgc2V0T2JqZXRvcyxcclxuICAgIHNldFNlY2Npb25BY3RpdmFJZCxcclxuICBdKTtcclxuXG5cbiAgLy8gMykgQ2FkYSB2ZXogcXVlIGVsIHVzdWFyaW8gc2VsZWNjaW9uYSB1bmEgc2VjY2nDs24sIGFjdHVhbGl6YW1vcyBnbG9iYWwgeSBub3RpZmljYW1vc1xuICBjb25zdCBvblNlbGVjdFNlY2Npb24gPSB1c2VDYWxsYmFjaygoaWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0U2VjY2lvbkFjdGl2YUlkKGlkKTtcbiAgICAgIHdpbmRvdy5fc2VjY2lvbkFjdGl2YUlkID0gaWQ7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJzZWNjaW9uLWFjdGl2YVwiLCB7IGRldGFpbDogeyBpZCB9IH0pKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyBwdWRlIGVtaXRpciBzZWNjaW9uLWFjdGl2YTpcIiwgZSk7XG4gICAgfVxuICB9LCBbc2V0U2VjY2lvbkFjdGl2YUlkXSk7XG5cbiAgY29uc3QgcmVzb2x2ZXJWaWV3cG9ydFNjcm9sbFNlY2Npb25lcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKSB8fCBzdGFnZVJlZi5jdXJyZW50IHx8IG51bGw7XG4gICAgY29uc3Qgc3RhZ2VDb250YWluZXIgPSBzdGFnZT8uY29udGFpbmVyPy4oKTtcbiAgICBpZiAoIXN0YWdlQ29udGFpbmVyIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbWFpbkVsZW1lbnQgPSBzdGFnZUNvbnRhaW5lci5jbG9zZXN0Py4oXCJtYWluXCIpO1xuICAgIGlmIChtYWluRWxlbWVudCkgcmV0dXJuIG1haW5FbGVtZW50O1xuXG4gICAgbGV0IGN1cnJlbnQgPSBzdGFnZUNvbnRhaW5lci5wYXJlbnRFbGVtZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY3VycmVudCk7XG4gICAgICBjb25zdCBvdmVyZmxvd1kgPSBTdHJpbmcoc3R5bGUub3ZlcmZsb3dZIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IFN0cmluZyhzdHlsZS5vdmVyZmxvdyB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNTY3JvbGxhYmxlID1cbiAgICAgICAgb3ZlcmZsb3dZID09PSBcImF1dG9cIiB8fFxuICAgICAgICBvdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHxcbiAgICAgICAgb3ZlcmZsb3dZID09PSBcIm92ZXJsYXlcIiB8fFxuICAgICAgICBvdmVyZmxvdyA9PT0gXCJhdXRvXCIgfHxcbiAgICAgICAgb3ZlcmZsb3cgPT09IFwic2Nyb2xsXCIgfHxcbiAgICAgICAgb3ZlcmZsb3cgPT09IFwib3ZlcmxheVwiO1xuXG4gICAgICBpZiAoaXNTY3JvbGxhYmxlICYmIGN1cnJlbnQuc2Nyb2xsSGVpZ2h0ID4gY3VycmVudC5jbGllbnRIZWlnaHQgKyAxKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93O1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2luY3Jvbml6YXJTZWNjaW9uVmlzaWJsZVBvclNjcm9sbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXNlY2Npb25lc09yZGVuYWRhcy5sZW5ndGggfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50Py5nZXRTdGFnZT8uKCkgfHwgc3RhZ2VSZWYuY3VycmVudCB8fCBudWxsO1xuICAgIGNvbnN0IHN0YWdlQ29udGFpbmVyID0gc3RhZ2U/LmNvbnRhaW5lcj8uKCk7XG4gICAgaWYgKCFzdGFnZUNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3RhZ2VSZWN0ID0gc3RhZ2VDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcbiAgICBpZiAoIXN0YWdlUmVjdCB8fCAhTnVtYmVyLmlzRmluaXRlKHN0YWdlUmVjdC50b3ApIHx8ICFOdW1iZXIuaXNGaW5pdGUoc3RhZ2VSZWN0LmhlaWdodCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB2aWV3cG9ydCA9IGF1dG9TZWN0aW9uVmlld3BvcnRSZWYuY3VycmVudCB8fCByZXNvbHZlclZpZXdwb3J0U2Nyb2xsU2VjY2lvbmVzKCk7XG4gICAgaWYgKCF2aWV3cG9ydCkgcmV0dXJuO1xuXG4gICAgbGV0IHZpZXdwb3J0VG9wID0gMDtcbiAgICBsZXQgdmlld3BvcnRCb3R0b20gPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCAwO1xuXG4gICAgaWYgKHZpZXdwb3J0ICE9PSB3aW5kb3cpIHtcbiAgICAgIGNvbnN0IHZpZXdwb3J0UmVjdCA9IHZpZXdwb3J0LmdldEJvdW5kaW5nQ2xpZW50UmVjdD8uKCk7XG4gICAgICBpZiAoIXZpZXdwb3J0UmVjdCkgcmV0dXJuO1xuICAgICAgdmlld3BvcnRUb3AgPSB2aWV3cG9ydFJlY3QudG9wO1xuICAgICAgdmlld3BvcnRCb3R0b20gPSB2aWV3cG9ydFJlY3QuYm90dG9tO1xuICAgIH1cblxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZpZXdwb3J0VG9wKSB8fCAhTnVtYmVyLmlzRmluaXRlKHZpZXdwb3J0Qm90dG9tKSB8fCB2aWV3cG9ydEJvdHRvbSA8PSB2aWV3cG9ydFRvcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFsdHVyYVN0YWdlUHggPSBOdW1iZXIoc3RhZ2VSZWN0LmhlaWdodCB8fCAwKTtcbiAgICBjb25zdCBhbHR1cmFDYW52YXMgPSBNYXRoLm1heCgxLCBOdW1iZXIoYWx0b0NhbnZhc0RpbmFtaWNvKSB8fCAxKTtcbiAgICBpZiAoIShhbHR1cmFTdGFnZVB4ID4gMCkpIHJldHVybjtcblxuICAgIGNvbnN0IHB4UG9yVW5pZGFkID0gYWx0dXJhU3RhZ2VQeCAvIGFsdHVyYUNhbnZhcztcbiAgICBpZiAoIShweFBvclVuaWRhZCA+IDApKSByZXR1cm47XG5cbiAgICBjb25zdCBjZW50cm9WaWV3cG9ydCA9ICh2aWV3cG9ydFRvcCArIHZpZXdwb3J0Qm90dG9tKSAvIDI7XG4gICAgbGV0IG1lam9ySWQgPSBudWxsO1xuICAgIGxldCBtZWpvclZpc2libGUgPSAwO1xuICAgIGxldCBtZWpvclJhdGlvID0gLTE7XG4gICAgbGV0IG1lam9yRGlzdGFuY2lhQ2VudHJvID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gICAgc2VjY2lvbmVzT3JkZW5hZGFzLmZvckVhY2goKHNlY2Npb24sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBhbHR1cmFTZWNjaW9uID0gTWF0aC5tYXgoMSwgTnVtYmVyKHNlY2Npb24uYWx0dXJhKSB8fCAxKTtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSBjYWxjdWxhck9mZnNldFkoc2VjY2lvbmVzT3JkZW5hZGFzLCBpbmRleCk7XG4gICAgICBjb25zdCB0b3AgPSBzdGFnZVJlY3QudG9wICsgb2Zmc2V0WSAqIHB4UG9yVW5pZGFkO1xuICAgICAgY29uc3QgYm90dG9tID0gdG9wICsgYWx0dXJhU2VjY2lvbiAqIHB4UG9yVW5pZGFkO1xuXG4gICAgICBjb25zdCB2aXNpYmxlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYm90dG9tLCB2aWV3cG9ydEJvdHRvbSkgLSBNYXRoLm1heCh0b3AsIHZpZXdwb3J0VG9wKSk7XG4gICAgICBpZiAodmlzaWJsZSA8PSAwKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHJhdGlvVmlzaWJsZSA9IHZpc2libGUgLyAoYWx0dXJhU2VjY2lvbiAqIHB4UG9yVW5pZGFkKTtcbiAgICAgIGNvbnN0IGRpc3RhbmNpYUNlbnRybyA9IE1hdGguYWJzKCh0b3AgKyBib3R0b20pIC8gMiAtIGNlbnRyb1ZpZXdwb3J0KTtcblxuICAgICAgY29uc3QgbWVqb3JhUG9yVmlzaWJsZSA9IHZpc2libGUgPiBtZWpvclZpc2libGUgKyAxO1xuICAgICAgY29uc3QgZW1wYXRlVmlzaWJsZSA9IE1hdGguYWJzKHZpc2libGUgLSBtZWpvclZpc2libGUpIDw9IDE7XG4gICAgICBjb25zdCBtZWpvcmFQb3JSYXRpbyA9IGVtcGF0ZVZpc2libGUgJiYgcmF0aW9WaXNpYmxlID4gbWVqb3JSYXRpbyArIDAuMDAxO1xuICAgICAgY29uc3QgZW1wYXRlUmF0aW8gPSBlbXBhdGVWaXNpYmxlICYmIE1hdGguYWJzKHJhdGlvVmlzaWJsZSAtIG1lam9yUmF0aW8pIDw9IDAuMDAxO1xuICAgICAgY29uc3QgbWVqb3JhUG9yQ2VudHJvID0gZW1wYXRlUmF0aW8gJiYgZGlzdGFuY2lhQ2VudHJvIDwgbWVqb3JEaXN0YW5jaWFDZW50cm87XG5cbiAgICAgIGlmIChtZWpvcmFQb3JWaXNpYmxlIHx8IG1lam9yYVBvclJhdGlvIHx8IG1lam9yYVBvckNlbnRybykge1xuICAgICAgICBtZWpvcklkID0gc2VjY2lvbi5pZDtcbiAgICAgICAgbWVqb3JWaXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgbWVqb3JSYXRpbyA9IHJhdGlvVmlzaWJsZTtcbiAgICAgICAgbWVqb3JEaXN0YW5jaWFDZW50cm8gPSBkaXN0YW5jaWFDZW50cm87XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIW1lam9ySWQpIHJldHVybjtcbiAgICBpZiAoc2VjY2lvbkFjdGl2YUlkUmVmLmN1cnJlbnQgPT09IG1lam9ySWQpIHJldHVybjtcblxuICAgIG9uU2VsZWN0U2VjY2lvbihtZWpvcklkKTtcbiAgfSwgW2FsdG9DYW52YXNEaW5hbWljbywgb25TZWxlY3RTZWNjaW9uLCByZXNvbHZlclZpZXdwb3J0U2Nyb2xsU2VjY2lvbmVzLCBzZWNjaW9uZXNPcmRlbmFkYXNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmICghc2VjY2lvbmVzT3JkZW5hZGFzLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIGF1dG9TZWN0aW9uVmlld3BvcnRSZWYuY3VycmVudCA9IHJlc29sdmVyVmlld3BvcnRTY3JvbGxTZWNjaW9uZXMoKTtcbiAgICBjb25zdCBzY3JvbGxUYXJnZXQgPSBhdXRvU2VjdGlvblZpZXdwb3J0UmVmLmN1cnJlbnQgfHwgd2luZG93O1xuXG4gICAgY29uc3Qgc2NoZWR1bGVTeW5jID0gKCkgPT4ge1xuICAgICAgaWYgKGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYuY3VycmVudCA9IDA7XG4gICAgICAgIHNpbmNyb25pemFyU2VjY2lvblZpc2libGVQb3JTY3JvbGwoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzY2hlZHVsZVN5bmMoKTtcblxuICAgIGNvbnN0IGV2ZW50VGFyZ2V0ID0gc2Nyb2xsVGFyZ2V0ID09PSB3aW5kb3cgPyB3aW5kb3cgOiBzY3JvbGxUYXJnZXQ7XG4gICAgZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVN5bmMsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY2hlZHVsZVN5bmMpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgc2NoZWR1bGVTeW5jKTtcblxuICAgIGlmICh3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY2hlZHVsZVN5bmMpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjaGVkdWxlU3luYyk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY2hlZHVsZVN5bmMpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBzY2hlZHVsZVN5bmMpO1xuICAgICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVN5bmMpO1xuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY2hlZHVsZVN5bmMpO1xuICAgICAgfVxuICAgICAgaWYgKGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGF1dG9TZWN0aW9uU2Nyb2xsUmFmUmVmLmN1cnJlbnQpO1xuICAgICAgICBhdXRvU2VjdGlvblNjcm9sbFJhZlJlZi5jdXJyZW50ID0gMDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcmVzb2x2ZXJWaWV3cG9ydFNjcm9sbFNlY2Npb25lcywgc2VjY2lvbmVzT3JkZW5hZGFzLmxlbmd0aCwgc2luY3Jvbml6YXJTZWNjaW9uVmlzaWJsZVBvclNjcm9sbF0pO1xuXG5cblxuXG5cbiAgLy8gPz8gTlVFVk8gSE9PSyBQQVJBIEdVw41BU1xyXG4gIGNvbnN0IHtcclxuICAgIGd1aWFMaW5lYXMsXHJcbiAgICBtb3N0cmFyR3VpYXMsXHJcbiAgICBsaW1waWFyR3VpYXMsXHJcbiAgICBjb25maWd1cmFyRHJhZ0VuZFxyXG4gIH0gPSB1c2VHdWlhc0NlbnRyYWRvKHtcclxuICAgIGFuY2hvQ2FudmFzOiA4MDAsXHJcbiAgICBhbHRvQ2FudmFzOiBhbHRvQ2FudmFzRGluYW1pY28sXHJcbiAgICAvLyBVWDogZ3XDrWEgZGUgc2VjY2nDs24gc29sbyBhbCBjZW50cmFyLCBjb24gaW3DoW4gc3V0aWwuXHJcbiAgICBtYXJnZW5TZW5zaWJpbGlkYWQ6IDgsXHJcbiAgICBtYWduZXRSYWRpdXM6IDEwLFxyXG4gICAgc2VjdGlvbk1hZ25ldFJhZGl1czogNixcclxuICAgIHNuYXBTdHJlbmd0aDogMC44LFxyXG4gICAgc2VjdGlvblNuYXBTdHJlbmd0aDogMSxcclxuICAgIHNlY3Rpb25MaW5lVG9sZXJhbmNlOiAwLjc1LFxyXG4gICAgc25hcFRvRWRnZXM6IHRydWUsXHJcbiAgICBzbmFwVG9DZW50ZXJzOiB0cnVlLFxyXG4gICAgc2VjY2lvbmVzT3JkZW5hZGFzXHJcbiAgfSk7XHJcblxyXG4gIC8vID8/IEZ1bmNpw7NuIHBhcmEgYWN0dWFsaXphciBwb3NpY2nDs24gZGVsIGJvdMOzbiBTSU4gcmUtcmVuZGVyXHJcbiAgY29uc3QgeyBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzIH0gPSB1c2VPcHRpb25CdXR0b25Qb3NpdGlvbih7XG4gICAgYm90b25PcGNpb25lc1JlZixcbiAgICBsYXlvdXRSb290UmVmOiBlZGl0b3JPdmVybGF5Um9vdFJlZixcbiAgICBlbGVtZW50UmVmcyxcbiAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLFxuICAgIHN0YWdlUmVmLFxuICAgIGVzY2FsYVZpc3VhbCxcbiAgICBlc2NhbGFBY3RpdmEsXG4gICAgaXNNb2JpbGUsXG4gICAgYnV0dG9uU2l6ZTogb3B0aW9uQnV0dG9uU2l6ZSxcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlVHJhbnNmb3JtSW50ZXJhY3Rpb25TdGFydCA9IHVzZUNhbGxiYWNrKChwYXlsb2FkID0ge30pID0+IHtcbiAgICBjb25zdCByb3RhdGluZyA9IHBheWxvYWQ/LmlzUm90YXRlID09PSB0cnVlO1xuICAgIHNldElzU2VsZWN0aW9uUm90YXRpbmcocm90YXRpbmcpO1xuICAgIGlmIChyb3RhdGluZykge1xuICAgICAgc2V0TW9zdHJhclBhbmVsWihmYWxzZSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlVHJhbnNmb3JtSW50ZXJhY3Rpb25FbmQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNTZWxlY3Rpb25Sb3RhdGluZyhmYWxzZSk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoXCJ0cmFuc2Zvcm0taW50ZXJhY3Rpb24tZW5kXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAxICYmICFlZGl0aW5nLmlkKSByZXR1cm47XG4gICAgc2V0SXNTZWxlY3Rpb25Sb3RhdGluZyhmYWxzZSk7XG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCwgZWRpdGluZy5pZF0pO1xuXG5cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9uRHJhZ1N0YXJ0R2xvYmFsID0gKCkgPT4ge1xuICAgICAgLy8gbGltcGlhciBob3Zlci9wcmVzZWxlY2Npw7NuIGlubWVkaWF0YW1lbnRlIHBhcmEgZXZpdGFyIFwiZmxhc2hcIiB2aXN1YWxcclxuICAgICAgZmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICBzZXRIb3ZlcklkKG51bGwpO1xyXG4gICAgICAgIHNldEVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MoW10pO1xyXG4gICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRHJhZ0VuZEdsb2JhbCA9ICgpID0+IHtcclxuICAgICAgLy8gbmFkYSBwb3IgYWhvcmE7IHNpIHF1aXNpZXJhcywgcG9kcsOtYXMgcmVjYWxjdWxhciBhbGdvIGFjw6FcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZ2luZy1zdGFydFwiLCBvbkRyYWdTdGFydEdsb2JhbCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdnaW5nLWVuZFwiLCBvbkRyYWdFbmRHbG9iYWwpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnZ2luZy1zdGFydFwiLCBvbkRyYWdTdGFydEdsb2JhbCk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ2dpbmctZW5kXCIsIG9uRHJhZ0VuZEdsb2JhbCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gIC8vID8/IE9QVElNSVpBQ0nDk046IExpbXBpYXIgY2FjaGUgZGUgaW50ZXJzZWNjacOzbiBhbCBjYW1iaWFyIHNlbGVjY2nDs25cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gTGltcGlhciBjYWNoZSBjdWFuZG8gY2FtYmlhIGxhIHNlbGVjY2nDs25cclxuICAgIGlmICh3aW5kb3cuX2xpbmVJbnRlcnNlY3Rpb25DYWNoZSkge1xyXG4gICAgICB3aW5kb3cuX2xpbmVJbnRlcnNlY3Rpb25DYWNoZSA9IHt9O1xyXG4gICAgfVxyXG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aF0pO1xyXG5cclxuICAvLyA/PyBPUFRJTUlaQUNJw5NOOiBGb3J6YXIgYWN0dWFsaXphY2nDs24gZGUgbMOtbmVhcyBkZXNwdcOpcyBkZSBkcmFnIGdydXBhbFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAod2luZG93Ll9ncnVwb0xpZGVyIHx8IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgLy8gU29sbyBjb3JyZXIgZXN0YSBvcHRpbWl6YWNpw7NuIGN1YW5kbyBhY2FiYSBkZSBmaW5hbGl6YXIgdW4gZHJhZyBncnVwYWwuXHJcbiAgICBjb25zdCBub3cgPVxyXG4gICAgICB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgPyBwZXJmb3JtYW5jZS5ub3coKVxyXG4gICAgICAgIDogRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHJlY2VudGx5RW5kZWRHcm91cERyYWcgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUod2luZG93Ll9za2lwVW50aWwpICYmIHdpbmRvdy5fc2tpcFVudGlsID4gbm93O1xyXG4gICAgaWYgKCFyZWNlbnRseUVuZGVkR3JvdXBEcmFnKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaGF5TGluZWFzID0gb2JqZXRvcy5zb21lKG9iaiA9PlxyXG4gICAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmluY2x1ZGVzKG9iai5pZCkgJiZcclxuICAgICAgb2JqLnRpcG8gPT09ICdmb3JtYScgJiZcclxuICAgICAgb2JqLmZpZ3VyYSA9PT0gJ2xpbmUnXHJcbiAgICApO1xyXG4gICAgaWYgKCFoYXlMaW5lYXMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLmZvckVhY2goaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBlbGVtZW50UmVmcy5jdXJyZW50W2lkXTtcclxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLmdldExheWVyKSB7XHJcbiAgICAgICAgICBub2RlLmdldExheWVyKCk/LmJhdGNoRHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9LCA1MCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgfSwgW2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MsIG9iamV0b3NdKTtcclxuXHJcblxyXG4gIGNvbnN0IGRldGVjdGFySW50ZXJzZWNjaW9uTGluZWEgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIHJldHVybiAobGluZU9iaiwgYXJlYSwgc3RhZ2UpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoIWxpbmVPYmogfHwgIWFyZWEgfHwgIWxpbmVPYmoucG9pbnRzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBwb2ludHMgPSBsaW5lT2JqLnBvaW50cztcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSB8fCBwb2ludHMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgcG9pbnRzID0gWzAsIDAsIDEwMCwgMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwdW50b3NMaW1waW9zID0gW1xyXG4gICAgICAgICAgcGFyc2VGbG9hdChwb2ludHNbMF0pIHx8IDAsXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvaW50c1sxXSkgfHwgMCxcclxuICAgICAgICAgIHBhcnNlRmxvYXQocG9pbnRzWzJdKSB8fCAxMDAsXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvaW50c1szXSkgfHwgMFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vID8/IFVTQVIgTEEgUE9TSUNJw5NOIERFTCBOT0RPIFJFQUwgRU4gRUwgU1RBR0VcclxuICAgICAgICBjb25zdCBub2RlID0gd2luZG93Ll9lbGVtZW50UmVmcz8uW2xpbmVPYmouaWRdO1xyXG4gICAgICAgIGNvbnN0IGxpbmVYID0gbm9kZSA/IG5vZGUueCgpIDogKGxpbmVPYmoueCB8fCAwKTtcclxuICAgICAgICBjb25zdCBsaW5lWSA9IG5vZGUgPyBub2RlLnkoKSA6IChsaW5lT2JqLnkgfHwgMCk7XHJcblxyXG4gICAgICAgIC8vIENvb3JkZW5hZGFzIGFic29sdXRhcyBkZSBsb3MgcHVudG9zXHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gbGluZVggKyBwdW50b3NMaW1waW9zWzBdO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGxpbmVZICsgcHVudG9zTGltcGlvc1sxXTtcclxuICAgICAgICBjb25zdCBlbmRYID0gbGluZVggKyBwdW50b3NMaW1waW9zWzJdO1xyXG4gICAgICAgIGNvbnN0IGVuZFkgPSBsaW5lWSArIHB1bnRvc0xpbXBpb3NbM107XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gPz8gTcOJVE9ETyAxOiBWZXJpZmljYXIgc2kgYWxnw7puIHB1bnRvIGVzdMOhIGRlbnRybyBkZWwgw6FyZWFcclxuICAgICAgICBjb25zdCBzdGFydERlbnRybyA9IChcclxuICAgICAgICAgIHN0YXJ0WCA+PSBhcmVhLnggJiYgc3RhcnRYIDw9IGFyZWEueCArIGFyZWEud2lkdGggJiZcclxuICAgICAgICAgIHN0YXJ0WSA+PSBhcmVhLnkgJiYgc3RhcnRZIDw9IGFyZWEueSArIGFyZWEuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgZW5kRGVudHJvID0gKFxyXG4gICAgICAgICAgZW5kWCA+PSBhcmVhLnggJiYgZW5kWCA8PSBhcmVhLnggKyBhcmVhLndpZHRoICYmXHJcbiAgICAgICAgICBlbmRZID49IGFyZWEueSAmJiBlbmRZIDw9IGFyZWEueSArIGFyZWEuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChzdGFydERlbnRybyB8fCBlbmREZW50cm8pIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gPz8gTcOJVE9ETyAyOiBWZXJpZmljYXIgaW50ZXJzZWNjacOzbiBsw61uZWEtcmVjdMOhbmd1bG9cclxuICAgICAgICBjb25zdCBpbnRlcnNlY3RhID0gbGluZUludGVyc2VjdHNSZWN0KFxyXG4gICAgICAgICAgc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksXHJcbiAgICAgICAgICBhcmVhLngsIGFyZWEueSwgYXJlYS54ICsgYXJlYS53aWR0aCwgYXJlYS55ICsgYXJlYS5oZWlnaHRcclxuICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKGludGVyc2VjdGEpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBGdW5jacOzbiBhdXhpbGlhciBwYXJhIHZlcmlmaWNhciBpbnRlcnNlY2Npw7NuIGzDrW5lYS1yZWN0w6FuZ3Vsb1xyXG4gIGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzUmVjdCh4MSwgeTEsIHgyLCB5MiwgcmVjdExlZnQsIHJlY3RUb3AsIHJlY3RSaWdodCwgcmVjdEJvdHRvbSkge1xyXG4gICAgLy8gVmVyaWZpY2FyIHNpIGxhIGzDrW5lYSBpbnRlcnNlY3RhIGNvbiBhbGd1bm8gZGUgbG9zIDQgbGFkb3MgZGVsIHJlY3TDoW5ndWxvXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0VG9wLCByZWN0UmlnaHQsIHJlY3RUb3ApIHx8IC8vIFRvcFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RSaWdodCwgcmVjdFRvcCwgcmVjdFJpZ2h0LCByZWN0Qm90dG9tKSB8fCAvLyBSaWdodFxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0Qm90dG9tLCByZWN0UmlnaHQsIHJlY3RCb3R0b20pIHx8IC8vIEJvdHRvbVxyXG4gICAgICBsaW5lSW50ZXJzZWN0c0xpbmUoeDEsIHkxLCB4MiwgeTIsIHJlY3RMZWZ0LCByZWN0VG9wLCByZWN0TGVmdCwgcmVjdEJvdHRvbSkgLy8gTGVmdFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEZ1bmNpw7NuIGF1eGlsaWFyIHBhcmEgdmVyaWZpY2FyIGludGVyc2VjY2nDs24gbMOtbmVhLWzDrW5lYVxyXG4gIGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzTGluZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcclxuICAgIGNvbnN0IGRlbm9tID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xyXG4gICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMDAwMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHQgPSAoKHgxIC0geDMpICogKHkzIC0geTQpIC0gKHkxIC0geTMpICogKHgzIC0geDQpKSAvIGRlbm9tO1xyXG4gICAgY29uc3QgdSA9IC0oKHgxIC0geDIpICogKHkxIC0geTMpIC0gKHkxIC0geTIpICogKHgxIC0geDMpKSAvIGRlbm9tO1xyXG5cclxuICAgIHJldHVybiB0ID49IDAgJiYgdCA8PSAxICYmIHUgPj0gMCAmJiB1IDw9IDE7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gPz8gQWp1c3RhciBlbCB0cmFuc2Zvcm1lciBjdWFuZG8gY2FtYmlhIGVsIHRleHRvIGlubGluZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWVkaXRpbmcuaWQgfHwgIWVsZW1lbnRSZWZzLmN1cnJlbnRbZWRpdGluZy5pZF0pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBub2RlID0gZWxlbWVudFJlZnMuY3VycmVudFtlZGl0aW5nLmlkXTtcclxuICAgIGNvbnN0IG9iamV0b0VuRWRpY2lvbiA9IG9iamV0b3MuZmluZCgobykgPT4gby5pZCA9PT0gZWRpdGluZy5pZCk7XHJcbiAgICBpZiAoIW9iamV0b0VuRWRpY2lvbikgcmV0dXJuO1xyXG4gICAgY29uc3Qgbm9kZUNsYXNzID0gbm9kZS5nZXRDbGFzc05hbWU/LigpO1xyXG4gICAgY29uc3QgYmVmb3JlTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobm9kZSk7XHJcbiAgICBjb25zdCBlZGl0aW5nVmFsdWUgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuXHJcbiAgICBjb25zdCBzaG91bGRLZWVwQ2VudGVyUHJldmlldyA9XHJcbiAgICAgIG9iamV0b0VuRWRpY2lvbi50aXBvID09PSBcInRleHRvXCIgJiZcclxuICAgICAgIW9iamV0b0VuRWRpY2lvbi5fX2dyb3VwQWxpZ24gJiZcclxuICAgICAgIU51bWJlci5pc0Zpbml0ZShvYmpldG9FbkVkaWNpb24ud2lkdGgpICYmXHJcbiAgICAgIG9iamV0b0VuRWRpY2lvbi5fX2F1dG9XaWR0aCAhPT0gZmFsc2U7XHJcblxyXG4gICAgY29uc3QgZXhwZWN0ZWRYID0gc2hvdWxkS2VlcENlbnRlclByZXZpZXdcclxuICAgICAgPyBjYWxjdWxhclhUZXh0b0NlbnRyYWRvKG9iamV0b0VuRWRpY2lvbiwgZWRpdGluZ1ZhbHVlKVxyXG4gICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqZXRvRW5FZGljaW9uLngpID8gb2JqZXRvRW5FZGljaW9uLnggOiBudWxsKTtcclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcInByZXZpZXctZWZmZWN0LXN0YXJ0XCIsIHtcclxuICAgICAgaWQ6IGVkaXRpbmcuaWQsXHJcbiAgICAgIHZhbHVlTGVuZ3RoOiBlZGl0aW5nVmFsdWUubGVuZ3RoLFxyXG4gICAgICBub2RlQ2xhc3MsXHJcbiAgICAgIG9ialg6IG9iamV0b0VuRWRpY2lvbi54ID8/IG51bGwsXHJcbiAgICAgIG9ialk6IG9iamV0b0VuRWRpY2lvbi55ID8/IG51bGwsXHJcbiAgICAgIHNob3VsZEtlZXBDZW50ZXJQcmV2aWV3LFxyXG4gICAgICBleHBlY3RlZFgsXHJcbiAgICAgIGJlZm9yZU1ldHJpY3MsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyA/PyBBY3R1YWxpemFyIGVsIHRyYW5zZm9ybWVyIHNpIGVzdMOhIHByZXNlbnRlXHJcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG5vZGUuZ2V0U3RhZ2UoKT8uZmluZE9uZSgnVHJhbnNmb3JtZXInKTtcclxuICAgIGlmICh0cmFuc2Zvcm1lciAmJiB0cmFuc2Zvcm1lci5ub2RlcyAmJiB0cmFuc2Zvcm1lci5ub2RlcygpLmluY2x1ZGVzKG5vZGUpKSB7XHJcbiAgICAgIHRyYW5zZm9ybWVyLmZvcmNlVXBkYXRlKCk7IC8vIEFjdHVhbGl6YSBtYW51YWxtZW50ZSBlbCB0cmFuc2Zvcm1lclxyXG4gICAgICB0cmFuc2Zvcm1lci5nZXRMYXllcigpPy5iYXRjaERyYXcoKTsgLy8gUmVkaWJ1amFcclxuXHJcbiAgICAgIGxldCB0cmFuc2Zvcm1lclJlY3QgPSBudWxsO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVjdCA9IHRyYW5zZm9ybWVyLmdldENsaWVudFJlY3Qoe1xyXG4gICAgICAgICAgc2tpcFRyYW5zZm9ybTogZmFsc2UsXHJcbiAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgc2tpcFN0cm9rZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgdHJhbnNmb3JtZXJSZWN0ID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW5saW5lRGVidWdMb2coXCJwcmV2aWV3LXRyYW5zZm9ybWVyLXVwZGF0ZWRcIiwge1xyXG4gICAgICAgIGlkOiBlZGl0aW5nLmlkLFxyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVjdDogdHJhbnNmb3JtZXJSZWN0XHJcbiAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICB4OiB0cmFuc2Zvcm1lclJlY3QueCxcclxuICAgICAgICAgICAgICB5OiB0cmFuc2Zvcm1lclJlY3QueSxcclxuICAgICAgICAgICAgICB3aWR0aDogdHJhbnNmb3JtZXJSZWN0LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogdHJhbnNmb3JtZXJSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhZnRlck1ldHJpY3MgPSBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lKG5vZGUpO1xyXG4gICAgY29uc3QgYWZ0ZXJYID1cclxuICAgICAgdHlwZW9mIG5vZGUueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS54KCkgOiBhZnRlck1ldHJpY3M/LnggPz8gbnVsbDtcclxuICAgIGlubGluZURlYnVnTG9nKFwicHJldmlldy1wcm9wcy1zeW5jXCIsIHtcclxuICAgICAgaWQ6IGVkaXRpbmcuaWQsXHJcbiAgICAgIHZhbHVlTGVuZ3RoOiBlZGl0aW5nVmFsdWUubGVuZ3RoLFxyXG4gICAgICBleHBlY3RlZFgsXHJcbiAgICAgIGFmdGVyWCxcclxuICAgICAgZGVsdGFYOlxyXG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShhZnRlclgpICYmIE51bWJlci5pc0Zpbml0ZShleHBlY3RlZFgpXHJcbiAgICAgICAgICA/IGFmdGVyWCAtIGV4cGVjdGVkWFxyXG4gICAgICAgICAgOiBudWxsLFxyXG4gICAgICBiZWZvcmVNZXRyaWNzLFxyXG4gICAgICBhZnRlck1ldHJpY3MsXHJcbiAgICB9KTtcclxuICB9LCBbZWRpdGluZy5pZCwgZWRpdGluZy52YWx1ZSwgb2JqZXRvcywgb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZSwgY2FsY3VsYXJYVGV4dG9DZW50cmFkb10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgcGVuZGluZyA9IGlubGluZUNvbW1pdERlYnVnUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXBlbmRpbmc/LmlkKSByZXR1cm47XHJcbiAgICBpZiAoZWRpdGluZy5pZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGZpbmFsT2JqID0gb2JqZXRvcy5maW5kKChvKSA9PiBvLmlkID09PSBwZW5kaW5nLmlkKTtcclxuICAgIGNvbnN0IGZpbmFsTm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbcGVuZGluZy5pZF07XHJcbiAgICBjb25zdCBmaW5hbE5vZGVNZXRyaWNzID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShmaW5hbE5vZGUpO1xyXG4gICAgY29uc3QgZmluYWxYID0gTnVtYmVyLmlzRmluaXRlKGZpbmFsT2JqPy54KSA/IGZpbmFsT2JqLnggOiBudWxsO1xyXG4gICAgY29uc3QgZGVsdGFGaW5hbFZzRXhwZWN0ZWQgPVxyXG4gICAgICBOdW1iZXIuaXNGaW5pdGUoZmluYWxYKSAmJiBOdW1iZXIuaXNGaW5pdGUocGVuZGluZy5leHBlY3RlZFgpXHJcbiAgICAgICAgPyBmaW5hbFggLSBwZW5kaW5nLmV4cGVjdGVkWFxyXG4gICAgICAgIDogbnVsbDtcclxuXHJcbiAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1wb3N0LWNvbW1pdFwiLCB7XHJcbiAgICAgIC4uLnBlbmRpbmcsXHJcbiAgICAgIGZpbmFsWCxcclxuICAgICAgZGVsdGFGaW5hbFZzRXhwZWN0ZWQsXHJcbiAgICAgIGZpbmFsTm9kZU1ldHJpY3MsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpbmxpbmVDb21taXREZWJ1Z1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCB9O1xyXG4gIH0sIFtlZGl0aW5nLmlkLCBvYmpldG9zLCBvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lXSk7XHJcblxyXG5cclxuXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2luZG93Ll9lbGVtZW50b3NTZWxlY2Npb25hZG9zID0gZWxlbWVudG9zU2VsZWNjaW9uYWRvcztcbiAgICB3aW5kb3cuX29iamV0b3NBY3R1YWxlcyA9IG9iamV0b3M7XG4gICAgd2luZG93Ll9lbGVtZW50UmVmcyA9IGVsZW1lbnRSZWZzLmN1cnJlbnQ7XG4gICAgd2luZG93Ll9zZWNjaW9uZXNPcmRlbmFkYXMgPSBbLi4uc2VjY2lvbmVzXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVuIC0gYi5vcmRlbik7XG4gICAgd2luZG93Ll9hbHRvQ2FudmFzID0gYWx0b0NhbnZhcztcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImVkaXRvci1zZWxlY3Rpb24tY2hhbmdlXCIsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgaWRzOiBbLi4uZWxlbWVudG9zU2VsZWNjaW9uYWRvc10sXG4gICAgICAgICAgYWN0aXZlU2VjdGlvbklkOiBzZWNjaW9uQWN0aXZhSWQgfHwgbnVsbCxcbiAgICAgICAgICBnYWxsZXJ5Q2VsbDogY2VsZGFHYWxlcmlhQWN0aXZhIHx8IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtlbGVtZW50b3NTZWxlY2Npb25hZG9zLCBvYmpldG9zLCBzZWNjaW9uZXMsIGFsdG9DYW52YXMsIHNlY2Npb25BY3RpdmFJZCwgY2VsZGFHYWxlcmlhQWN0aXZhXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNlbGRhR2FsZXJpYUFjdGl2YSkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBvYmpJZCB9ID0gY2VsZGFHYWxlcmlhQWN0aXZhO1xuICAgIGNvbnN0IGdhbGVyaWFFeGlzdGUgPSBvYmpldG9zLnNvbWUoKG8pID0+IG8uaWQgPT09IG9iaklkICYmIG8udGlwbyA9PT0gXCJnYWxlcmlhXCIpO1xuICAgIGlmICghZ2FsZXJpYUV4aXN0ZSkge1xuICAgICAgc2V0Q2VsZGFHYWxlcmlhQWN0aXZhKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCAhPT0gMSB8fCBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdICE9PSBvYmpJZCkge1xuICAgICAgc2V0Q2VsZGFHYWxlcmlhQWN0aXZhKG51bGwpO1xuICAgIH1cbiAgfSwgW2NlbGRhR2FsZXJpYUFjdGl2YSwgZWxlbWVudG9zU2VsZWNjaW9uYWRvcywgb2JqZXRvc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2luZG93Ll9jZWxkYUdhbGVyaWFBY3RpdmEgPSBjZWxkYUdhbGVyaWFBY3RpdmEgfHwgbnVsbDtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImVkaXRvci1nYWxsZXJ5LWNlbGwtY2hhbmdlXCIsIHtcbiAgICAgICAgZGV0YWlsOiB7IGNlbGw6IGNlbGRhR2FsZXJpYUFjdGl2YSB8fCBudWxsIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtjZWxkYUdhbGVyaWFBY3RpdmFdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwic2VjY2lvbi1hY3RpdmFcIiwge1xuICAgICAgICBkZXRhaWw6IHsgaWQ6IHNlY2Npb25BY3RpdmFJZCB8fCBudWxsIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtzZWNjaW9uQWN0aXZhSWRdKTtcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIHdpbmRvdy5zZXRIb3ZlcklkR2xvYmFsID0gc2V0SG92ZXJJZDtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmICh3aW5kb3cuc2V0SG92ZXJJZEdsb2JhbCA9PT0gc2V0SG92ZXJJZCkge1xyXG4gICAgICAgIGRlbGV0ZSB3aW5kb3cuc2V0SG92ZXJJZEdsb2JhbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWhvdmVySWQpIHJldHVybjtcclxuICAgIGNvbnN0IGV4aXN0cyA9IG9iamV0b3Muc29tZSgobykgPT4gby5pZCA9PT0gaG92ZXJJZCk7XHJcbiAgICBpZiAoIWV4aXN0cykgc2V0SG92ZXJJZChudWxsKTtcclxuICB9LCBbaG92ZXJJZCwgb2JqZXRvc10pO1xyXG5cclxuXHJcblxyXG4gIC8vIENsZWFudXAgZGVsIHNpc3RlbWEgaW1wZXJhdGl2b1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpbXBlcmF0aXZlT2JqZWN0cy5jbGVhbnVwKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuICBjb25zdCBzdGFnZUdlc3R1cmVzID0gdXNlU3RhZ2VHZXN0dXJlcyh7XG4gICAgc2VjY2lvbmVzLFxuICAgIG9iamV0b3MsXG4gICAgZWxlbWVudFJlZnMsXG4gICAgZHJhZ1N0YXJ0UG9zLFxuICAgIGhhc0RyYWdnZWQsXG4gICAgc2VsZWNjaW9uQWN0aXZhLFxuICAgIGluaWNpb1NlbGVjY2lvbixcbiAgICBhcmVhU2VsZWNjaW9uLFxuICAgIGRldGVjdGFySW50ZXJzZWNjaW9uTGluZWEsXG4gICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyxcbiAgICBzZXRFbGVtZW50b3NQcmVTZWxlY2Npb25hZG9zLFxuICAgIHNldFNlbGVjY2lvbkFjdGl2YSxcbiAgICBzZXRJbmljaW9TZWxlY2Npb24sXG4gICAgc2V0QXJlYVNlbGVjY2lvbixcbiAgICBvblNlbGVjdFNlY2Npb24sXG4gICAgY2VycmFyTWVudXNGbG90YW50ZXMsXG4gIH0pO1xuXG4gIGNvbnN0IG1vYmlsZUNhbnZhc1Rvb2xiYXJPZmZzZXQgPSBtb2JpbGVUZXh0VG9vbGJhclZpc2libGVcbiAgICA/IG1vYmlsZUJvdHRvbVR5cG9ncmFwaHlTdHJpcFZpc2libGVcbiAgICAgID8gODhcbiAgICAgIDogMzJcbiAgICA6IDA7XG5cbiAgY29uc3QgbW9iaWxlU2VjdGlvbkFjdGlvbnNUb3AgPSBtb2JpbGVCb3R0b21UeXBvZ3JhcGh5U3RyaXBWaXNpYmxlXG4gICAgPyBcImNhbGMoMTcycHggKyBlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCwgMHB4KSlcIlxuICAgIDogbW9iaWxlVGV4dFRvb2xiYXJWaXNpYmxlXG4gICAgICA/IFwiY2FsYygxMThweCArIGVudihzYWZlLWFyZWEtaW5zZXQtdG9wLCAwcHgpKVwiXG4gICAgICA6IFwiY2FsYyg2NHB4ICsgZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDBweCkpXCI7XG5cblxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgcmVmPXtlZGl0b3JPdmVybGF5Um9vdFJlZn1cbiAgICAgIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgLy8gPyBEZWphbW9zIHF1ZSBlbCBzY3JvbGwgbG8gbWFuZWplIGVsIDxtYWluPiBkZWwgRGFzaGJvYXJkTGF5b3V0ICh1biBzb2xvIHNjcm9sbClcbiAgICAgICAgbWFyZ2luVG9wOiAwLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBvdmVyZmxvd1g6IFwiaGlkZGVuXCIsXG5cclxuICAgICAgICAvLyA/IFVYIG1vYmlsZTogcGVybWl0aXIgc2Nyb2xsIHZlcnRpY2FsIG5hdHVyYWwgYWxyZWRlZG9yIGRlbCBjYW52YXNcclxuICAgICAgICB0b3VjaEFjdGlvbjogXCJwYW4teVwiLFxyXG4gICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiBcInRvdWNoXCIsXHJcblxyXG4gICAgICAgIC8vID8gZXNwYWNpbyBwYXJhIHF1ZSBubyDigJxjaG9xdWXigJ0gY29uIGhlYWRlciAvIGJhcnJhc1xuICAgICAgICBwYWRkaW5nVG9wOiAxMiArIG1vYmlsZUNhbnZhc1Rvb2xiYXJPZmZzZXQsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IFwiY2FsYyg5NnB4ICsgZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20sIDBweCkpXCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwicGFkZGluZy10b3AgMTgwbXMgZWFzZVwiLFxuICAgICAgfX1cbiAgICA+XG5cclxuXHJcbiAgICAgIDxkaXZcclxuICAgICAgICByZWY9e2NvbnRlbmVkb3JSZWZ9XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgIG1heFdpZHRoOiBcIjEyMDBweFwiLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNWY1ZjVcIixcclxuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgcGFkZGluZ1RvcDogXCIyMHB4XCIsIC8vID8gTUVOT1MgUEFERElORyBJTlRFUk5PXG4gICAgICAgICAgcGFkZGluZ0JvdHRvbTogXCJjYWxjKDQwcHggKyBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSwgMHB4KSlcIiwgLy8gPyBFU1BBQ0lPIElORkVSSU9SXG4gICAgICAgIH19XG4gICAgICA+XG5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke2VzY2FsYVZpc3VhbH0pYCxcclxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAndG9wIGNlbnRlcicsXHJcbiAgICAgICAgICAgIHdpZHRoOiB6b29tID09PSAwLjggPyBcIjEyMjBweFwiIDogXCIxMDAwcHhcIiwgLy8gPyA5MjBweCBjYW52YXMgKyAxNTBweCBjYWRhIGxhZG9cclxuICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG5cclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmVcIlxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIHdpZHRoOiB6b29tID09PSAwLjggPyBcIjEyMjBweFwiIDogXCIxMDAwcHhcIiwgLy8gPyBBSlVTVEFSIFNFR8OaTiBaT09NXHJcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcblxyXG4gICAgICAgICAgICB7LyogQm90b25lcyBkZSBvcmRlbiBkZSBzZWNjacOzbiAqL31cclxuICAgICAgICAgICAge3NlY2Npb25BY3RpdmFJZCAmJiBzZWNjaW9uZXNPcmRlbmFkYXMubWFwKChzZWNjaW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChzZWNjaW9uLmlkICE9PSBzZWNjaW9uQWN0aXZhSWQpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gY2FsY3VsYXJPZmZzZXRZKHNlY2Npb25lc09yZGVuYWRhcywgaW5kZXgsIGFsdG9DYW52YXMpO1xuICAgICAgICAgICAgICBjb25zdCBlc1ByaW1lcmEgPSBpbmRleCA9PT0gMDtcbiAgICAgICAgICAgICAgY29uc3QgZXNVbHRpbWEgPSBpbmRleCA9PT0gc2VjY2lvbmVzT3JkZW5hZGFzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIGNvbnN0IGVzdGFBbmltYW5kbyA9IHNlY2Npb25lc0FuaW1hbmRvLmluY2x1ZGVzKHNlY2Npb24uaWQpO1xuICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uQnV0dG9uQmFzZSA9XG4gICAgICAgICAgICAgICAgXCJweC0zIHB5LTIgcm91bmRlZC14bCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJvcmRlciBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLVsjZGNjYWY3XVwiO1xuICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uQnV0dG9uRGlzYWJsZWQgPVxuICAgICAgICAgICAgICAgIFwiY3Vyc29yLW5vdC1hbGxvd2VkIGJvcmRlci1ncmF5LTIwMCBiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNDAwIHNoYWRvdy1ub25lXCI7XG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25QcmltYXJ5ID1cbiAgICAgICAgICAgICAgICBcImJvcmRlci1bI2NjYjZlZl0gYmctZ3JhZGllbnQtdG8tciBmcm9tLVsjOGE1N2NmXSB2aWEtWyM3NzNkYmVdIHRvLVsjNjczN2IzXSB0ZXh0LXdoaXRlIHNoYWRvdy1bMF8xMHB4XzIycHhfcmdiYSgxMTksNjEsMTkwLDAuMzApXSBob3ZlcjotdHJhbnNsYXRlLXktWzFweF0gaG92ZXI6ZnJvbS1bIzdmNGZjNV0gaG92ZXI6dmlhLVsjNmYzYmJjXSBob3Zlcjp0by1bIzVmMzFhOF0gaG92ZXI6c2hhZG93LVswXzE0cHhfMjhweF9yZ2JhKDExOSw2MSwxOTAsMC4zOCldXCI7XG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25OZXV0cmFsID1cbiAgICAgICAgICAgICAgICBcImJvcmRlci1bI2U0ZDdmNl0gYmctd2hpdGUvOTUgdGV4dC1bIzVmMzU5Nl0gc2hhZG93LVswXzZweF8xNnB4X3JnYmEoMTUsMjMsNDIsMC4wNildIGhvdmVyOi10cmFuc2xhdGUteS1bMXB4XSBob3Zlcjpib3JkZXItWyNjZGI5ZWVdIGhvdmVyOmJnLVsjZmFmNmZmXSBob3ZlcjpzaGFkb3ctWzBfMTJweF8yNHB4X3JnYmEoMTE5LDYxLDE5MCwwLjE2KV1cIjtcbiAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkJ1dHRvblN1Y2Nlc3MgPVxuICAgICAgICAgICAgICAgIFwiYm9yZGVyLWVtZXJhbGQtMzAwIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1lbWVyYWxkLTUwMCB0by1lbWVyYWxkLTYwMCB0ZXh0LXdoaXRlIHNoYWRvdy1bMF8xMHB4XzIycHhfcmdiYSg1LDE1MCwxMDUsMC4yOCldIGhvdmVyOi10cmFuc2xhdGUteS1bMXB4XSBob3Zlcjpmcm9tLWVtZXJhbGQtNjAwIGhvdmVyOnRvLWVtZXJhbGQtNzAwIGhvdmVyOnNoYWRvdy1bMF8xNHB4XzI4cHhfcmdiYSg1LDE1MCwxMDUsMC4zNildXCI7XG4gICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25CdXR0b25EYW5nZXIgPVxuICAgICAgICAgICAgICAgIFwiYm9yZGVyLXJvc2UtMzAwIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1yb3NlLTUwMCB0by1yZWQtNjAwIHRleHQtd2hpdGUgc2hhZG93LVswXzEwcHhfMjJweF9yZ2JhKDIyNSwyOSw3MiwwLjI4KV0gaG92ZXI6LXRyYW5zbGF0ZS15LVsxcHhdIGhvdmVyOmZyb20tcm9zZS02MDAgaG92ZXI6dG8tcmVkLTcwMCBob3ZlcjpzaGFkb3ctWzBfMTRweF8yOHB4X3JnYmEoMjI1LDI5LDcyLDAuMzYpXVwiO1xuXG4gICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkJ1dHRvbnMgPSAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gU3ViaXIgKi99XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgbW92ZXJTZWNjaW9uRXh0ZXJuYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBzZWNjaW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWNjaW9uOiBcInN1YmlyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbHVnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VjY2lvbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VjY2lvbmVzQW5pbWFuZG8sXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZXNQcmltZXJhIHx8IGVzdGFBbmltYW5kb31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc1ByaW1lcmEgfHwgZXN0YUFuaW1hbmRvXG4gICAgICAgICAgICAgICAgICAgICAgPyBzZWN0aW9uQnV0dG9uRGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICA6IHNlY3Rpb25CdXR0b25QcmltYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgfSAke2VzdGFBbmltYW5kbyA/IFwiYW5pbWF0ZS1wdWxzZVwiIDogXCJcIn1gfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17ZXNQcmltZXJhID8gXCJZYSBlcyBsYSBwcmltZXJhIHNlY2Npw7NuXCIgOiBcIlN1YmlyIHNlY2Npw7NuXCJ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNb3ZlVXAgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgU3ViaXIgc2VjY2nDs25cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICB7LyogQm90w7NuIEJhamFyICovfVxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIG1vdmVyU2VjY2lvbkV4dGVybmFsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25JZDogc2VjY2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjY2lvbjogXCJiYWphclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2x1ZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlY2Npb25lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlY2Npb25lc0FuaW1hbmRvLFxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VzVWx0aW1hIHx8IGVzdGFBbmltYW5kb31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc1VsdGltYSB8fCBlc3RhQW5pbWFuZG9cbiAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25EaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvblByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICB9ICR7ZXN0YUFuaW1hbmRvID8gXCJhbmltYXRlLXB1bHNlXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtlc1VsdGltYSA/IFwiWWEgZXMgbGEgw7psdGltYSBzZWNjacOzblwiIDogXCJCYWphciBzZWNjacOzblwifVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxNb3ZlRG93biBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgQmFqYXIgc2VjY2nDs25cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gQcOxYWRpciBzZWNjacOzbiAqL31cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JlYXJTZWNjaW9ufVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZXN0YUFuaW1hbmRvfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke2VzdGFBbmltYW5kb1xuICAgICAgICAgICAgICAgICAgICAgID8gYCR7c2VjdGlvbkJ1dHRvbkRpc2FibGVkfSBhbmltYXRlLXB1bHNlYFxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvblByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBw7FhZGlyIHVuYSBudWV2YSBzZWNjacOzbiBkZWJham9cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxQbHVzQ2lyY2xlIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBBw7FhZGlyIHNlY2Npw7NuXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c2VjdGlvbkJ1dHRvbkJhc2V9ICR7c2VjdGlvbkJ1dHRvbk5ldXRyYWx9IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMmB9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2FtYmlhciBjb2xvciBkZSBmb25kbyBkZSBlc3RhIHNlY2Npw7NuXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0zLjUgdy0zLjUgcm91bmRlZCBib3JkZXIgYm9yZGVyLXdoaXRlLzgwIHNoYWRvdy1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IHNlY2Npb24uZm9uZG8gfHwgXCIjZmZmZmZmXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIEZvbmRvIHNlY2Npw7NuXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdG9yQ29sb3JTZWNjaW9uXG4gICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbj17c2VjY2lvbn1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZXN0YUFuaW1hbmRvIHx8IGlzRGVsZXRpbmdTZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoaWQsIGNvbG9yKSA9PiBjYW1iaWFyQ29sb3JGb25kb1NlY2Npb24oaWQsIGNvbG9yKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kb1NlY2Npb24gPSBub3JtYWxpemFyQWx0b01vZG8oc2VjY2lvbi5hbHRvTW9kbyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzUGFudGFsbGEgPSBtb2RvU2VjY2lvbiA9PT0gXCJwYW50YWxsYVwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBUb2dnbGUgUGFudGFsbGEgY29tcGxldGEgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVBhbnRhbGxhQ29tcGxldGFTZWNjaW9uKHNlY2Npb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke2VzUGFudGFsbGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25QcmltYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWN0aW9uQnV0dG9uTmV1dHJhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkhhY2UgcXVlIGVzdGEgc2VjY2nDs24gc2VhIGRlIHBhbnRhbGxhIGNvbXBsZXRhICgxMDB2aCkgYWwgcHVibGljYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNb25pdG9yIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXNQYW50YWxsYSA/IFwiUGFudGFsbGEgY29tcGxldGE6IE9OXCIgOiBcIlBhbnRhbGxhIGNvbXBsZXRhOiBPRkZcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gRGVzYW5jbGFyIGZvbmRvICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlY2Npb24uZm9uZG9UaXBvID09PSBcImltYWdlblwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNhbmNsYXJGb25kbyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25JZDogc2VjY2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpldG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWNjaW9uZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke3NlY3Rpb25CdXR0b25OZXV0cmFsfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZXNhbmNsYXIgaW1hZ2VuIGRlIGZvbmRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VW5saW5rMiBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNhbmNsYXIgZm9uZG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAge3NlY2Npb24uZm9uZG9UaXBvID09PSBcImltYWdlblwiICYmIGlzTW9iaWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBzZWNjaW9uLmlkID8gbnVsbCA6IHNlY2Npb24uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NlY3Rpb25CdXR0b25CYXNlfSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgPT09IHNlY2Npb24uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1pbmRpZ28tMzAwIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tNTAwIHRvLWluZGlnby02MDAgdGV4dC13aGl0ZSBzaGFkb3ctWzBfMTBweF8yMnB4X3JnYmEoNzksNzAsMjI5LDAuMjgpXSBob3ZlcjotdHJhbnNsYXRlLXktWzFweF0gaG92ZXI6ZnJvbS1pbmRpZ28tNjAwIGhvdmVyOnRvLWluZGlnby03MDAgaG92ZXI6c2hhZG93LVswXzE0cHhfMjhweF9yZ2JhKDc5LDcwLDIyOSwwLjM2KV1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlY3Rpb25CdXR0b25OZXV0cmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJNb2RvIG1vdmVyIGZvbmRvIGVuIG1vYmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9iaWxlQmFja2dyb3VuZEVkaXRTZWN0aW9uSWQgPT09IHNlY2Npb24uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJNb3ZlciBmb25kbzogT05cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIk1vdmVyIGZvbmRvXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pKCl9XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gR3VhcmRhciBjb21vIHBsYW50aWxsYSAqL31cbiAgICAgICAgICAgICAgICAgIHshbG9hZGluZ0NsYWltcyAmJiBlc0FkbWluICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBndWFyZGFyU2VjY2lvbkNvbW9QbGFudGlsbGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uSWQ6IHNlY2Npb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZXRvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzY2FyUGxhbnRpbGxhc0RlU2VjY2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtlc3RhQW5pbWFuZG99XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc3RhQW5pbWFuZG9cbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2VjdGlvbkJ1dHRvbkRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHNlY3Rpb25CdXR0b25TdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICR7ZXN0YUFuaW1hbmRvID8gXCJhbmltYXRlLXB1bHNlXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJHdWFyZGFyIGVzdGEgc2VjY2nDs24gY29tbyBwbGFudGlsbGFcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYXllcnMgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgUGxhbnRpbGxhXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBCb3TDs24gQm9ycmFyIHNlY2Npw7NuICovfVxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRNb2JpbGVTZWN0aW9uQWN0aW9uc09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhYnJpck1vZGFsQm9ycmFyU2VjY2lvbihzZWNjaW9uLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VzdGFBbmltYW5kbyB8fCBpc0RlbGV0aW5nU2VjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzZWN0aW9uQnV0dG9uQmFzZX0gJHtlc3RhQW5pbWFuZG8gfHwgaXNEZWxldGluZ1NlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICA/IHNlY3Rpb25CdXR0b25EaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgIDogc2VjdGlvbkJ1dHRvbkRhbmdlclxuICAgICAgICAgICAgICAgICAgICAgIH0gJHtlc3RhQW5pbWFuZG8gfHwgaXNEZWxldGluZ1NlY3Rpb24gPyBcImFuaW1hdGUtcHVsc2VcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJCb3JyYXIgZXN0YSBzZWNjacOzbiB5IHRvZG9zIHN1cyBlbGVtZW50b3NcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIEJvcnJhciBzZWNjacOzblxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUG9ydGFsKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB6LVs5MF0gZmxleCBmbGV4LWNvbCBpdGVtcy1lbmQgZ2FwLTJcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHRvcDogbW9iaWxlU2VjdGlvbkFjdGlvbnNUb3AsXG4gICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFwibWF4KDhweCwgZW52KHNhZmUtYXJlYS1pbnNldC1yaWdodCwgMHB4KSlcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbigocHJldikgPT4gIXByZXYpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItWyNjY2I2ZWZdIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1bIzhhNTdjZl0gdmlhLVsjNzczZGJlXSB0by1bIzY3MzdiM10gdGV4dC13aGl0ZSBzaGFkb3ctWzBfMTBweF8yMnB4X3JnYmEoMTE5LDYxLDE5MCwwLjM1KV0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOi10cmFuc2xhdGUteS1bMXB4XSBob3Zlcjpmcm9tLVsjN2Y0ZmM1XSBob3Zlcjp2aWEtWyM2ZjNiYmNdIGhvdmVyOnRvLVsjNWYzMWE4XSBob3ZlcjpzaGFkb3ctWzBfMTRweF8yOHB4X3JnYmEoMTE5LDYxLDE5MCwwLjQyKV1cIlxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQWNjaW9uZXMgZGUgc2VjY2nDs25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge21vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uVXAgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICB7bW9iaWxlU2VjdGlvbkFjdGlvbnNPcGVuICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctW21pbig4NHZ3LDIzMHB4KV0gbWF4LWgtWzYydmhdIG92ZXJmbG93LXktYXV0byByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCBiZy13aGl0ZS85NSBwLTIgc2hhZG93LTJ4bCBiYWNrZHJvcC1ibHVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTJcIj57YWN0aW9uQnV0dG9uc308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PixcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICAgICAgICBgb3JkZW4tbW9iaWxlLSR7c2VjY2lvbi5pZH1gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAga2V5PXtgb3JkZW4tJHtzZWNjaW9uLmlkfWB9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBmbGV4IGZsZXgtY29sIGdhcC0yXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0WSArIDIwLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogLTE1MCxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAyNSxcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDI2MCxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2FjdGlvbkJ1dHRvbnN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cblxyXG5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDgwMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogYWx0b0NhbnZhc0RpbmFtaWNvLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuXHJcbiAgICAgICAgICAgICAgPFN0YWdlXHJcbiAgICAgICAgICAgICAgICByZWY9e3N0YWdlUmVmfVxyXG4gICAgICAgICAgICAgICAgd2lkdGg9ezgwMH1cclxuICAgICAgICAgICAgICAgIGhlaWdodD17YWx0b0NhbnZhc0RpbmFtaWNvfVxyXG4gICAgICAgICAgICAgICAgcGVyZmVjdERyYXdFbmFibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIGxpc3RlbmluZz17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIGltYWdlU21vb3RoaW5nRW5hYmxlZD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICBoaXRHcmFwaEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcInZpc2libGVcIixcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgNHB4IDIwcHggcmdiYSgwLDAsMCwwLjUpXCIsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17c3RhZ2VHZXN0dXJlcy5vbk1vdXNlRG93bn1cclxuXHJcbiAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ9e3N0YWdlR2VzdHVyZXMub25Ub3VjaFN0YXJ0fVxyXG5cclxuICAgICAgICAgICAgICAgIG9uVG91Y2hNb3ZlPXtzdGFnZUdlc3R1cmVzLm9uVG91Y2hNb3ZlfVxyXG5cclxuICAgICAgICAgICAgICAgIG9uVG91Y2hFbmQ9e3N0YWdlR2VzdHVyZXMub25Ub3VjaEVuZH1cclxuXHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTW92ZT17c3RhZ2VHZXN0dXJlcy5vbk1vdXNlTW92ZX1cclxuXHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlVXA9e3N0YWdlR2VzdHVyZXMub25Nb3VzZVVwfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxDYW52YXNFbGVtZW50c0xheWVyPlxyXG5cclxuICAgICAgICAgICAgICAgICAge3NlY2Npb25lc09yZGVuYWRhcy5mbGF0TWFwKChzZWNjaW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsdHVyYVB4ID0gc2VjY2lvbi5hbHR1cmE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGluZGV4LCBhbHRvQ2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlc0FjdGl2YSA9IHNlY2Npb24uaWQgPT09IHNlY2Npb25BY3RpdmFJZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlc3RhQW5pbWFuZG8gPSBzZWNjaW9uZXNBbmltYW5kby5pbmNsdWRlcyhzZWNjaW9uLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudG9zID0gW1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEZvbmRvIGRlIHNlY2Npw7NuIC0gcHVlZGUgc2VyIGNvbG9yIG8gaW1hZ2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uLmZvbmRvVGlwbyA9PT0gXCJpbWFnZW5cIiA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvbmRvU2VjY2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Bmb25kby0ke3NlY2Npb24uaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbj17c2VjY2lvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WT17b2Zmc2V0WX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0dXJhUHg9e2FsdHVyYVB4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4gb25TZWxlY3RTZWNjaW9uKHNlY2Npb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUZvbmRvT2Zmc2V0PXthY3R1YWxpemFyT2Zmc2V0Rm9uZG99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTW9iaWxlPXtpc01vYmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlQmFja2dyb3VuZEVkaXRFbmFibGVkPXttb2JpbGVCYWNrZ3JvdW5kRWRpdFNlY3Rpb25JZCA9PT0gc2VjY2lvbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25CYWNrZ3JvdW5kSW1hZ2VTdGF0dXNDaGFuZ2U9e2hhbmRsZUJhY2tncm91bmRJbWFnZVN0YXR1c0NoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YHNlY2Npb24tJHtzZWNjaW9uLmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtzZWNjaW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk9e29mZnNldFl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezgwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e2FsdHVyYVB4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9e3NlY2Npb24uZm9uZG8gfHwgXCIjZmZmZmZmXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdFNlY2Npb24oc2VjY2lvbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uVGFwPXsoKSA9PiBvblNlbGVjdFNlY2Npb24oc2VjY2lvbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgXTtcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudG9zO1xyXG4gICAgICAgICAgICAgICAgICB9KX1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICB7LyogQ29udHJvbCBkZSBhbHR1cmEgcGFyYSBzZWNjacOzbiBhY3RpdmEgKi99XHJcbiAgICAgICAgICAgICAgICAgIHtzZWNjaW9uQWN0aXZhSWQgJiYgc2VjY2lvbmVzT3JkZW5hZGFzLm1hcCgoc2VjY2lvbiwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VjY2lvbi5pZCAhPT0gc2VjY2lvbkFjdGl2YUlkKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGluZGV4LCBhbHRvQ2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sWSA9IG9mZnNldFkgKyBzZWNjaW9uLmFsdHVyYSAtIDU7IC8vIDVweCBhbnRlcyBkZWwgZmluYWxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kb1NlY2Npb24gPSBub3JtYWxpemFyQWx0b01vZG8oc2VjY2lvbi5hbHRvTW9kbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVybWl0ZVJlc2l6ZUFsdHVyYSA9IChtb2RvU2VjY2lvbiAhPT0gXCJwYW50YWxsYVwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAgbmFtZT1cInVpXCIga2V5PXtgY29udHJvbC1hbHR1cmEtJHtzZWNjaW9uLmlkfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTMOtbmVhIGluZGljYWRvcmEgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInVpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludHM9e1s1MCwgY29udHJvbFksIDc1MCwgY29udHJvbFldfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM3NzNkYmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhc2g9e1s1LCA1XX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvbnRyb2wgY2VudHJhbCBtZWpvcmFkbyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHg9ezQwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgeT17Y29udHJvbFl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17cGVybWl0ZVJlc2l6ZUFsdHVyYX0gICAgICAgICAgICAgICAgIC8vID8gY2xhdmU6IHNpIGVzIGZhbHNlLCBubyBjYXB0dXJhIGV2ZW50b3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eT17cGVybWl0ZVJlc2l6ZUFsdHVyYSA/IDEgOiAwLjI1fSAgICAgICAgLy8gPyB2aXN1YWwgZGVzaGFiaWxpdGFkb1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvblBvaW50ZXJEb3duPXtwZXJtaXRlUmVzaXplQWx0dXJhID8gKGUpID0+IGluaWNpYXJDb250cm9sQWx0dXJhKGUsIHNlY2Npb24uaWQpIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWl0ZVJlc2l6ZUFsdHVyYSAmJiAhc3VwcG9ydHNQb2ludGVyRXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChlKSA9PiBpbmljaWFyQ29udHJvbEFsdHVyYShlLCBzZWNjaW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pdGVSZXNpemVBbHR1cmEgJiYgIXN1cHBvcnRzUG9pbnRlckV2ZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoZSkgPT4gaW5pY2lhckNvbnRyb2xBbHR1cmEoZSwgc2VjY2lvbi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250cm9sYW5kb0FsdHVyYSAmJiBwZXJtaXRlUmVzaXplQWx0dXJhKSBzZXRHbG9iYWxDdXJzb3IoXCJucy1yZXNpemVcIiwgc3RhZ2VSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udHJvbGFuZG9BbHR1cmEgJiYgcGVybWl0ZVJlc2l6ZUFsdHVyYSkgY2xlYXJHbG9iYWxDdXJzb3Ioc3RhZ2VSZWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIMOBcmVhIGRlIGRldGVjY2nDs24gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXstNDV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeT17LTIyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs5MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezQ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEZvbmRvIGRlbCBjb250cm9sIGNvbiBlc3RhZG8gYWN0aXZvICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXstMjV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstNn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs1MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPXtjb250cm9sYW5kb0FsdHVyYSA9PT0gc2VjY2lvbi5pZCA/IFwiIzc3M2RiZVwiIDogXCJyZ2JhKDExOSwgNjEsIDE5MCwgMC45KVwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzPXs2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Q29sb3I9XCJyZ2JhKDAsMCwwLDAuMylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Qmx1cj17Y29udHJvbGFuZG9BbHR1cmEgPT09IHNlY2Npb24uaWQgPyA4IDogNn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldD17eyB4OiAwLCB5OiBjb250cm9sYW5kb0FsdHVyYSA9PT0gc2VjY2lvbi5pZCA/IDQgOiAzIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBbmltYWNpw7NuIGRlIHB1bHNvIGR1cmFudGUgZWwgY29udHJvbCAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udHJvbGFuZG9BbHR1cmEgPT09IHNlY2Npb24uaWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17LTMwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstOH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezYwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezE2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjNzczZGJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1cz17OH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eT17MC42fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogSW5kaWNhZG9yIHZpc3VhbCAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17LTZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstM31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9XCI/P1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZT17MTB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseT1cIkFyaWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFB1bnRvcyBkZSBhZ2FycmUgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmNsZSB4PXstMTV9IHk9ezB9IHJhZGl1cz17MS41fSBmaWxsPVwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCIgbGlzdGVuaW5nPXtmYWxzZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY2xlIHg9ey0xMH0geT17MH0gcmFkaXVzPXsxLjV9IGZpbGw9XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIiBsaXN0ZW5pbmc9e2ZhbHNlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjbGUgeD17MTB9IHk9ezB9IHJhZGl1cz17MS41fSBmaWxsPVwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCIgbGlzdGVuaW5nPXtmYWxzZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY2xlIHg9ezE1fSB5PXswfSByYWRpdXM9ezEuNX0gZmlsbD1cInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiIGxpc3RlbmluZz17ZmFsc2V9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEZvbmRvIGRlbCBpbmRpY2Fkb3IgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeD17NzU1fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk9e2NvbnRyb2xZIC0gMTB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezQwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MjB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cInJnYmEoMTE5LCA2MSwgMTkwLCAwLjEpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJyZ2JhKDExOSwgNjEsIDE5MCwgMC4zKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzPXs0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogVGV4dG8gZGVsIGluZGljYWRvciAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB4PXs3NjB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeT17Y29udHJvbFkgLSA2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e2Ake01hdGgucm91bmQoc2VjY2lvbi5hbHR1cmEpfXB4YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZT17MTF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiM3NzNkYmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk9XCJBcmlhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodD1cImJvbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pfVxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIE92ZXJsYXkgbWVqb3JhZG8gZHVyYW50ZSBjb250cm9sIGRlIGFsdHVyYSAqL31cclxuICAgICAgICAgICAgICAgICAge2NvbnRyb2xhbmRvQWx0dXJhICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8R3JvdXAgbmFtZT1cInVpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7LyogT3ZlcmxheSBzdXRpbCAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIDxSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs4MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17YWx0b0NhbnZhc0RpbmFtaWNvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwicmdiYSgxMTksIDYxLCAxOTAsIDAuMDUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgey8qIEluZGljYWRvciBkZSBsYSBzZWNjacOzbiBxdWUgc2UgZXN0w6EgbW9kaWZpY2FuZG8gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICB7c2VjY2lvbmVzT3JkZW5hZGFzLm1hcCgoc2VjY2lvbiwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGluZGV4LCBhbHRvQ2FudmFzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZG9TZWNjaW9uID0gbm9ybWFsaXphckFsdG9Nb2RvKHNlY2Npb24uYWx0b01vZG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXRlUmVzaXplQWx0dXJhID0gKG1vZG9TZWNjaW9uICE9PSBcInBhbnRhbGxhXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAga2V5PXtzZWNjaW9uLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZWN0IOKAnGZvbmRv4oCdIGNsaWNrZWFibGUgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXtvZmZzZXRZfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17ODAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3NlY2Npb24uYWx0dXJhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPXtzZWNjaW9uLmZvbmRvIHx8IFwidHJhbnNwYXJlbnRcIn0gLy8gcG9kw6lzIHBvbmVyIGJsYW5jbyB1IG90cm8gY29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZWxlY3RTZWNjaW9uKHNlY2Npb24uaWQpfSAgIC8vID8/IGRpc3BhcmEgZWwgZXZlbnRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZWN0IGhpZ2hsaWdodCBzaSBlc3TDoXMgY29udHJvbGFuZG8gbGEgYWx0dXJhICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY2Npb24uaWQgPT09IGNvbnRyb2xhbmRvQWx0dXJhICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9e29mZnNldFl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezgwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3NlY2Npb24uYWx0dXJhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzc3M2RiZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFzaD17WzgsIDRdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAge29iamV0b3MubWFwKChvYmosIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyA/PyBEZXRlcm1pbmFyIHNpIGVzdMOhIGVuIG1vZG8gZWRpY2nDs25cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0luRWRpdE1vZGUgPSBlZGl0aW5nLmlkID09PSBvYmouaWQgJiYgZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSA9PT0gb2JqLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyA/Pz8gQ2FzbyBlc3BlY2lhbDogbGEgZ2FsZXLDrWEgbGEgcmVuZGVyaXphbW9zIGFjw6EgKG5vIHVzYSBFbGVtZW50b0NhbnZhcylcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwiZ2FsZXJpYVwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbGVyaWFLb252YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17b2JqLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9iaj17b2JqfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUmVmPXtyZWdpc3RlclJlZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkhvdmVyPXtzZXRIb3ZlcklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMob2JqLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxkYUdhbGVyaWFBY3RpdmE9e2NlbGRhR2FsZXJpYUFjdGl2YX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblBpY2tDZWxsPXsoaW5mbykgPT4gc2V0Q2VsZGFHYWxlcmlhQWN0aXZhKGluZm8pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhcz17c2VjY2lvbmVzT3JkZW5hZGFzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdG9DYW52YXM9e2FsdG9DYW52YXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhpZCwgZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZT8uZXZ0ICYmIChlLmV2dC5jYW5jZWxCdWJibGUgPSB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1NlbGVjY2lvbmFkb3MoW2lkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbz17KHBvcywgaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5faXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5fZ3J1cG9MaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3N0cmFyR3VpYXMocG9zLCBpZCwgb2JqZXRvcywgZWxlbWVudFJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnRQZXJzb25hbGl6YWRvPXsoZHJhZ0lkID0gb2JqLmlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMoZHJhZ0lkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKFtkcmFnSWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEhvdmVySWQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kUGVyc29uYWxpemFkbz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1waWFyR3VpYXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoaWQsIG51ZXZvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRPYmpldG9zKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBwcmV2LmZpbmRJbmRleCgobykgPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gLTEpIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2ldID0geyAuLi51cGRhdGVkW2ldLCAuLi5udWV2byB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwiY291bnRkb3duXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb3VudGRvd25Lb252YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17b2JqLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9iaj17b2JqfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUmVmPXtyZWdpc3RlclJlZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkhvdmVyPXtzZXRIb3ZlcklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMob2JqLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uZXNPcmRlbmFkYXM9e3NlY2Npb25lc09yZGVuYWRhc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRvQ2FudmFzPXthbHRvQ2FudmFzfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/IHNlbGVjY2nDs25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD17KGlkLCBlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5ldnQgJiYgKGUuZXZ0LmNhbmNlbEJ1YmJsZSA9IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyhbaWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/IFBSRVZJRVcgbGl2aWFubyAobm8gdG9jYXIgZXN0YWRvIGRlbCBvYmpldG8gcGFyYSBxdWUgbm8gaGF5YSBsYWcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnRQZXJzb25hbGl6YWRvPXsoZHJhZ0lkID0gb2JqLmlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMoZHJhZ0lkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKFtkcmFnSWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEhvdmVySWQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnTW92ZVBlcnNvbmFsaXphZG89eyhwb3MsIGlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5fZ3J1cG9MaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3N0cmFyR3VpYXMocG9zLCBpZCwgb2JqZXRvcywgZWxlbWVudFJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gRklOIGRlIGRyYWc6IGxpbXBpYXIgZ3XDrWFzIC8gVUkgYXV4aWxpYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmRQZXJzb25hbGl6YWRvPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbXBpYXJHdWlhcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gcmVmcyBwYXJhIGVsIG1vdG9yIGRlIGRyYWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnU3RhcnRQb3M9e2RyYWdTdGFydFBvc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNEcmFnZ2VkPXtoYXNEcmFnZ2VkfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/IMKhQ2xhdmUhIEFsIGZpbmFsaXphciwgdHJhdGFtb3MgeC95IGFic29sdXRhcyBjb21vIGVuIEVsZW1lbnRvQ2FudmFzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoaWQsIGNhbWJpb3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBwcmV2LmZpbmRJbmRleChvID0+IG8uaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSByZXR1cm4gcHJldjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iak9yaWdpbmFsID0gcHJldltpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IFNpIG5vIGVzIGZpbmFsIGRlIGRyYWcsIG1lcmdlYW1vcyBzaW4gbcOhcyAobm8gdG9jYXIgY29vcmRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbWJpb3MuZmluYWxpem9EcmFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2ldID0geyAuLi51cGRhdGVkW2ldLCAuLi5jYW1iaW9zIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IEZpbmFsIGRlIGRyYWc6ICdjYW1iaW9zLnknIHZpZW5lIEFCU09MVVRBIChTdGFnZSBjb29yZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbnVldmFTZWNjaW9uLCBjb29yZGVuYWRhc0FqdXN0YWRhcyB9ID0gZGV0ZXJtaW5hck51ZXZhU2VjY2lvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW1iaW9zLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwuc2VjY2lvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSB7IC4uLmNhbWJpb3MgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5leHQuZmluYWxpem9EcmFnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZhU2VjY2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSB7IC4uLm5leHQsIC4uLmNvb3JkZW5hZGFzQWp1c3RhZGFzLCBzZWNjaW9uSWQ6IG51ZXZhU2VjY2lvbiB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnRpciB5IGFic29sdXRhID8geSByZWxhdGl2YSBhIGxhIHNlY2Npw7NuIGFjdHVhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQueSA9IGNvbnZlcnRpckFic0FSZWwoY2FtYmlvcy55LCBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsIHNlY2Npb25lc09yZGVuYWRhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaV0gPSB7IC4uLnVwZGF0ZWRbaV0sIC4uLm5leHQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpQcmV2aWV3ID1cclxuICAgICAgICAgICAgICAgICAgICAgIGVkaXRpbmcuaWQgPT09IG9iai5pZCAmJiBvYmoudGlwbyA9PT0gXCJ0ZXh0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0b1ByZXZpZXcgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3T2JqID0geyAuLi5vYmosIHRleHRvOiB0ZXh0b1ByZXZpZXcgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRLZWVwQ2VudGVyUHJldmlldyA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhb2JqLl9fZ3JvdXBBbGlnbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIU51bWJlci5pc0Zpbml0ZShvYmoud2lkdGgpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouX19hdXRvV2lkdGggIT09IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkS2VlcENlbnRlclByZXZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpZXdYID0gY2FsY3VsYXJYVGV4dG9DZW50cmFkbyhvYmosIHRleHRvUHJldmlldyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHByZXZpZXdYKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3T2JqLnggPSBwcmV2aWV3WDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aWV3T2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPEVsZW1lbnRvQ2FudmFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17b2JqLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmo9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5vYmpQcmV2aWV3LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IHlMb2NhbDogZW4gc2VjY2nDs24gcGFudGFsbGEgdXNhbW9zIHlOb3JtICogNTAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsbGJhY2sgbGVnYWN5OiBzaSBubyBoYXkgeU5vcm0sIHVzYW1vcyBvYmoueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk6ICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhTZWMgPSBzZWNjaW9uZXNPcmRlbmFkYXMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gb2JqUHJldmlldy5zZWNjaW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGNhbGN1bGFyT2Zmc2V0WShzZWNjaW9uZXNPcmRlbmFkYXMsIGlkeFNlYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeUxvY2FsID0gZXNTZWNjaW9uUGFudGFsbGFCeUlkKG9ialByZXZpZXcuc2VjY2lvbklkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChOdW1iZXIuaXNGaW5pdGUob2JqUHJldmlldy55Tm9ybSkgPyAob2JqUHJldmlldy55Tm9ybSAqIEFMVFVSQV9QQU5UQUxMQV9FRElUT1IpIDogb2JqUHJldmlldy55KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9ialByZXZpZXcueTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geUxvY2FsICsgb2Zmc2V0WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob0NhbnZhcz17ODAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXshaXNJbkVkaXRNb2RlICYmIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MuaW5jbHVkZXMob2JqLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlU2VsZWNjaW9uYWRvPXshaXNJbkVkaXRNb2RlICYmIGVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MuaW5jbHVkZXMob2JqLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbkVkaXRNb2RlPXtpc0luRWRpdE1vZGV9IC8vID8/IE5VRVZBIFBST1BcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ib3Zlcj17aXNJbkVkaXRNb2RlID8gbnVsbCA6IHNldEhvdmVySWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUmVmPXtyZWdpc3RlclJlZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TdGFydFRleHRFZGl0PXtpc0luRWRpdE1vZGUgPyBudWxsIDogKGlkLCB0ZXh0bykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBlbGVtZW50UmVmcy5jdXJyZW50W2lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlTWV0cmljcyA9IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNDdXJyZW50RWRpdGluZ0lkID0gd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID8/IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5saW5lT3ZlcmxheU1vdW50ZWRJZChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJlbnRlcjogcHJlLXN0YXJ0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNJZDogcHJldmlvdXNDdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dG9MZW5ndGg6IFN0cmluZyh0ZXh0byA/PyBcIlwiKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID0gaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lRWRpdFByZXZpZXdSZWYuY3VycmVudCA9IHsgaWQ6IG51bGwsIGNlbnRlclg6IG51bGwgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcInN0YXJ0LWlubGluZS1lZGl0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dG9MZW5ndGg6IFN0cmluZyh0ZXh0byA/PyBcIlwiKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RYOiBvYmo/LnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFk6IG9iaj8ueSA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDdXJyZW50RWRpdGluZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEN1cnJlbnRFZGl0aW5nSWQ6IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVNZXRyaWNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEVkaXQoaWQsIHRleHRvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlPy5kcmFnZ2FibGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU/LmdldExheWVyPy4oKT8uYmF0Y2hEcmF3Py4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJlbnRlcjogYWZ0ZXItc3RhcnQtc3luY1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzSWQ6IHByZXZpb3VzQ3VycmVudEVkaXRpbmdJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDdXJyZW50RWRpdGluZ0lkOiB3aW5kb3cuX2N1cnJlbnRFZGl0aW5nSWQgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGluZ0lkPXtlZGl0aW5nLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVPdmVybGF5TW91bnRlZElkPXtpbmxpbmVPdmVybGF5TW91bnRlZElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVWaXNpYmlsaXR5TW9kZT17aW5saW5lRGVidWdBQi52aXNpYmlsaXR5U291cmNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hJbmxpbmVFZGl0PXtmaW5pc2hFZGl0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD17aXNJbkVkaXRNb2RlID8gbnVsbCA6IChpZCwgb2JqLCBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudGlwbyA9PT0gXCJyc3ZwLWJvdG9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0aW5nLmlkICYmIGVkaXRpbmcuaWQgIT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hFZGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5ldnQgJiYgKGUuZXZ0LmNhbmNlbEJ1YmJsZSA9IHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlc1NoaWZ0ID0gZT8uZXZ0Py5zaGlmdEtleTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKChwcmV2KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXNTaGlmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2LmZpbHRlcigoeCkgPT4geCAhPT0gaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCBpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGlkLCBudWV2bykgPT4ge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gTlVFVk86IE1hbmVqYXIgcHJldmlldyBpbm1lZGlhdG8gZGUgZHJhZyBncnVwYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVldm8uaXNEcmFnUHJldmlldykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJldi5maW5kSW5kZXgobyA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpc0RyYWdQcmV2aWV3LCBza2lwSGlzdG9yaWFsLCAuLi5jbGVhbk51ZXZvIH0gPSBudWV2bztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpbmRleF0gPSB7IC4uLnVwZGF0ZWRbaW5kZXhdLCAuLi5jbGVhbk51ZXZvIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBNQU5FSkFSIFNPTE8gYmF0Y2ggdXBkYXRlIGZpbmFsIGRlIGRyYWcgZ3J1cGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZvLmlzQmF0Y2hVcGRhdGVGaW5hbCAmJiBpZCA9PT0gJ0JBVENIX1VQREFURV9HUk9VUF9GSU5BTCcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVsZW1lbnRvcywgZHJhZ0luaWNpYWwsIGRlbHRhWCwgZGVsdGFZIH0gPSBudWV2bztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRPYmpldG9zKHByZXYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5tYXAob2JqZXRvID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudG9zLmluY2x1ZGVzKG9iamV0by5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmFnSW5pY2lhbCAmJiBkcmFnSW5pY2lhbFtvYmpldG8uaWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc0luaWNpYWwgPSBkcmFnSW5pY2lhbFtvYmpldG8uaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9iamV0byxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBwb3NJbmljaWFsLnggKyBkZWx0YVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogcG9zSW5pY2lhbC55ICsgZGVsdGFZXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmpldG87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBOTyBwcm9jZXNhciBzaSB2aWVuZSBkZWwgVHJhbnNmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZvLmZyb21UcmFuc2Zvcm0pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpPcmlnaW5hbCA9IG9iamV0b3MuZmluZCgobykgPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2JqT3JpZ2luYWwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPz8gUGFyYSBkcmFnIGZpbmFsLCBwcm9jZXNhciBpbm1lZGlhdGFtZW50ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWV2by5maW5hbGl6b0RyYWcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG51ZXZhU2VjY2lvbiwgY29vcmRlbmFkYXNBanVzdGFkYXMgfSA9IGRldGVybWluYXJOdWV2YVNlY2Npb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51ZXZvLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iak9yaWdpbmFsLnNlY2Npb25JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbmVzT3JkZW5hZGFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb29yZGVuYWRhc0ZpbmFsZXMgPSB7IC4uLm51ZXZvIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29vcmRlbmFkYXNGaW5hbGVzLmZpbmFsaXpvRHJhZztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVldmFTZWNjaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkZW5hZGFzRmluYWxlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb29yZGVuYWRhc0ZpbmFsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29vcmRlbmFkYXNBanVzdGFkYXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjY2lvbklkOiBudWV2YVNlY2Npb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkZW5hZGFzRmluYWxlcy55ID0gY29udmVydGlyQWJzQVJlbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWV2by55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iak9yaWdpbmFsLnNlY2Npb25JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uZXNPcmRlbmFkYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxKSBEZXRlcm1pbmFyIHNlY2Npw7NuIGZpbmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNjaW9uRmluYWxJZCA9IGNvb3JkZW5hZGFzRmluYWxlcy5zZWNjaW9uSWQgfHwgb2JqT3JpZ2luYWwuc2VjY2lvbklkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIpIE9idGVuZXIgeVJlbFB4ICh5IHJlbGF0aXZhIGRlbnRybyBkZSBsYSBzZWNjacOzbiBlbiBweClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5UmVsUHg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51ZXZhU2VjY2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb29yZGVuYWRhc0FqdXN0YWRhcyBub3JtYWxtZW50ZSB5YSB0cmFlIHkgcmVsYXRpdmFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeVJlbFB4ID0gTnVtYmVyLmlzRmluaXRlKGNvb3JkZW5hZGFzRmluYWxlcy55KSA/IGNvb3JkZW5hZGFzRmluYWxlcy55IDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpIG5vIGNhbWJpw7MgZGUgc2VjY2nDs24sIGNvbnZlcnRpbW9zIGRlc2RlIHkgYWJzb2x1dGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeVJlbFB4ID0gTnVtYmVyLmlzRmluaXRlKGNvb3JkZW5hZGFzRmluYWxlcy55KSA/IGNvb3JkZW5hZGFzRmluYWxlcy55IDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzKSBBcGxpY2FyIHBvbMOtdGljYSBwYW50YWxsYTogZ3VhcmRhciB5Tm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVzU2VjY2lvblBhbnRhbGxhQnlJZChzZWNjaW9uRmluYWxJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeU5vcm0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB5UmVsUHggLyBBTFRVUkFfUEFOVEFMTEFfRURJVE9SKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkZW5hZGFzRmluYWxlcy55Tm9ybSA9IHlOb3JtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29vcmRlbmFkYXNGaW5hbGVzLnk7IC8vID8gY2xhdmU6IGV2aXRhbW9zIG1lemNsYXIgc2lzdGVtYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpam86IGd1YXJkYXIgeSBlbiBweFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGVuYWRhc0ZpbmFsZXMueSA9IHlSZWxQeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvb3JkZW5hZGFzRmluYWxlcy55Tm9ybTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjdHVhbGl6YXIgaW5tZWRpYXRhbWVudGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9iamV0b3MocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJldi5maW5kSW5kZXgobyA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpbmRleF0gPSB7IC4uLnVwZGF0ZWRbaW5kZXhdLCAuLi5jb29yZGVuYWRhc0ZpbmFsZXMgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBQYXJhIG90cm9zIGNhbWJpb3MgKHRyYW5zZm9ybSwgZXRjLilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXlEaWZlcmVuY2lhcyA9IE9iamVjdC5rZXlzKG51ZXZvKS5zb21lKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxvckFudGVyaW9yID0gb2JqT3JpZ2luYWxba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbG9yTnVldm8gPSBudWV2b1trZXldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsb3JBbnRlcmlvciA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbG9yTnVldm8gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh2YWxvckFudGVyaW9yIC0gdmFsb3JOdWV2bykgPiAwLjAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWxvckFudGVyaW9yICE9PSB2YWxvck51ZXZvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhheURpZmVyZW5jaWFzKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY2Npb25JZCA9IG51ZXZvLnNlY2Npb25JZCB8fCBvYmpPcmlnaW5hbC5zZWNjaW9uSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjY2lvbiA9IHNlY2Npb25lc09yZGVuYWRhcy5maW5kKChzKSA9PiBzLmlkID09PSBzZWNjaW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VjY2lvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRPYmpldG9zKHByZXYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwcmV2LmZpbmRJbmRleChvID0+IG8uaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2luZGV4XSA9IHsgLi4udXBkYXRlZFtpbmRleF0sIC4uLm51ZXZvIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnRQZXJzb25hbGl6YWRvPXtpc0luRWRpdE1vZGUgPyBudWxsIDogKGRyYWdJZCA9IG9iai5pZCwgZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjY2lvbkFjdHVhbCA9IEFycmF5LmlzQXJyYXkod2luZG93Ll9lbGVtZW50b3NTZWxlY2Npb25hZG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93Ll9lbGVtZW50b3NTZWxlY2Npb25hZG9zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBlbGVtZW50b3NTZWxlY2Npb25hZG9zO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWNjaW9uQWN0dWFsLmluY2x1ZGVzKGRyYWdJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50b3NTZWxlY2Npb25hZG9zKFtkcmFnSWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRIb3ZlcklkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZFBlcnNvbmFsaXphZG89e2lzSW5FZGl0TW9kZSA/IG51bGwgOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhckRyYWdFbmQoW10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdNb3ZlUGVyc29uYWxpemFkbz17aXNJbkVkaXRNb2RlID8gbnVsbCA6IChwb3MsIGVsZW1lbnRJZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IE5PIG1vc3RyYXIgZ3XDrWFzIGR1cmFudGUgZHJhZyBncnVwYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5fZ3J1cG9MaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9zdHJhckd1aWFzKHBvcywgZWxlbWVudElkLCBvYmpldG9zLCBlbGVtZW50UmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50b3NTZWxlY2Npb25hZG9zLmluY2x1ZGVzKGVsZW1lbnRJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnU3RhcnRQb3M9e2RyYWdTdGFydFBvc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRHJhZ2dlZD17aGFzRHJhZ2dlZH1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSl9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHtzZWxlY2Npb25BY3RpdmEgJiYgYXJlYVNlbGVjY2lvbiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ1aVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICB4PXthcmVhU2VsZWNjaW9uLnh9XHJcbiAgICAgICAgICAgICAgICAgICAgICB5PXthcmVhU2VsZWNjaW9uLnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17YXJlYVNlbGVjY2lvbi53aWR0aH1cclxuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17YXJlYVNlbGVjY2lvbi5oZWlnaHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwicmdiYSgxMTksIDYxLCAxOTAsIDAuMSlcIiAvLyB2aW9sZXRhIGNsYXJvXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjNzczZGJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsxfVxyXG4gICAgICAgICAgICAgICAgICAgICAgZGFzaD17WzQsIDRdfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAge2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID4gMCAmJiAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0aW9uQm91bmRzXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzPXtlbGVtZW50b3NTZWxlY2Npb25hZG9zfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFJlZnM9e2VsZW1lbnRSZWZzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZXRvcz17b2JqZXRvc31cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmc9e2lzRHJhZ2dpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc01vYmlsZT17aXNNb2JpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblRyYW5zZm9ybUludGVyYWN0aW9uU3RhcnQ9e2hhbmRsZVRyYW5zZm9ybUludGVyYWN0aW9uU3RhcnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblRyYW5zZm9ybUludGVyYWN0aW9uRW5kPXtoYW5kbGVUcmFuc2Zvcm1JbnRlcmFjdGlvbkVuZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhbnNmb3JtPXsobmV3QXR0cnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iakluZGV4ID0gb2JqZXRvcy5maW5kSW5kZXgobyA9PiBvLmlkID09PSBpZCk7XG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpJbmRleCAhPT0gLTEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdHRycy5pc1ByZXZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2aWV3OiBhY3R1YWxpemFjacOzbiBzaW4gaGlzdG9yaWFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZvcyA9IFsuLi5wcmV2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRvID0gbnVldm9zW29iakluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50ZG93bjogZHVyYW50ZSBwcmV2aWV3IGRlamFtb3MgcXVlIEtvbnZhIGVzY2FsZSBlbCBub2RvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW4gdG9jYXIgZXN0YWRvIFJlYWN0IHBhcmEgZXZpdGFyIGRlc2luY3Jvbml6YWNpw7NuIGNvbiBUcmFuc2Zvcm1lci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRvLnRpcG8gPT09IFwiY291bnRkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudG8udGlwbyA9PT0gXCJmb3JtYVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlbGVtZW50by5maWd1cmEgPT09IFwiY2lyY2xlXCIgfHwgZWxlbWVudG8uZmlndXJhID09PSBcInRyaWFuZ2xlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudG8udGlwbyA9PT0gXCJ0ZXh0b1wiICYmIE51bWJlci5pc0Zpbml0ZShuZXdBdHRycy5mb250U2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhcmEgdGV4dG8gZGVqYW1vcyBxdWUgS29udmEgaGFnYSBlbCBwcmV2aWV3IGRlIGVzY2FsYSBlbiB2aXZvLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsaXphciBlc3RhZG8gUmVhY3QgZW4gY2FkYSBmcmFtZSBnZW5lcmEgbWljcm8taml0dGVyIHZpc3VhbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRFbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZWxlbWVudG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogbmV3QXR0cnMucm90YXRpb24gfHwgZWxlbWVudG8ucm90YXRpb24gfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudG8udGlwbyA9PT0gXCJnYWxlcmlhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbGxlcnlNZXRyaWNzID0gbm9ybWFsaXphck1lZGlkYXNHYWxlcmlhKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50byxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXR0cnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0F0dHJzLnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC53aWR0aCA9IGdhbGxlcnlNZXRyaWNzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5oZWlnaHQgPSBnYWxsZXJ5TWV0cmljcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LndpZHRoUGN0ID0gZ2FsbGVyeU1ldHJpY3Mud2lkdGhQY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnggPSBnYWxsZXJ5TWV0cmljcy54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5yb3RhdGlvbiA9IGVsZW1lbnRvLnJvdGF0aW9uIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnNjYWxlWCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbGVtZW50LnNjYWxlWSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXR0cnMud2lkdGggIT09IHVuZGVmaW5lZCkgdXBkYXRlZEVsZW1lbnQud2lkdGggPSBuZXdBdHRycy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F0dHJzLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB1cGRhdGVkRWxlbWVudC5oZWlnaHQgPSBuZXdBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdHRycy5yYWRpdXMgIT09IHVuZGVmaW5lZCkgdXBkYXRlZEVsZW1lbnQucmFkaXVzID0gbmV3QXR0cnMucmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5zY2FsZVggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRWxlbWVudC5zY2FsZVkgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51ZXZvc1tvYmpJbmRleF0gPSB1cGRhdGVkRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWV2b3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IEFDVFVBTElaQVIgUE9TSUNJw5NOIERFTCBCT1TDk04gRFVSQU5URSBUUkFOU0ZPUk1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3QXR0cnMuaXNGaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbDogYWN0dWFsaXphY2nDs24gY29tcGxldGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Ll9yZXNpemVEYXRhID0geyBpc1Jlc2l6aW5nOiBmYWxzZSB9O1xuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpc1ByZXZpZXcsIGlzRmluYWwsIC4uLmNsZWFuQXR0cnMgfSA9IG5ld0F0dHJzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/PyBDT05WRVJUSVIgY29vcmRlbmFkYXMgYWJzb2x1dGFzIGEgcmVsYXRpdmFzIEFOVEVTIGRlIGd1YXJkYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmpPcmlnaW5hbCA9IG9iamV0b3Nbb2JqSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbEF0dHJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2xlYW5BdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNvbnZlcnRpckFic0FSZWwoY2xlYW5BdHRycy55LCBvYmpPcmlnaW5hbC5zZWNjaW9uSWQsIHNlY2Npb25lc09yZGVuYWRhcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tVHJhbnNmb3JtOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPyBDT1VOVERPV046IGNvbnNlcnZhciBlc2NhbGEgZmluYWwgZGVsIGRyYWcgKHNpbiByZWNvbnZlcnNpw7NuIGEgY2hpcFdpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJhIHF1ZSBlbCB0YW1hw7FvIGZpbmFsIGNvaW5jaWRhIGV4YWN0YW1lbnRlIGNvbiBsbyBzb2x0YWRvLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJ0ZXh0b1wiICYmIE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLmZvbnRTaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZEZvbnRTaXplID0gTWF0aC5tYXgoNiwgTnVtYmVyKGNsZWFuQXR0cnMuZm9udFNpemUpIHx8IDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRm9udFNpemUgPSBOdW1iZXIuaXNGaW5pdGUob2JqT3JpZ2luYWwuZm9udFNpemUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG9iak9yaWdpbmFsLmZvbnRTaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uRmluYWwgPSBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy5yb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2xlYW5BdHRycy5yb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoTnVtYmVyLmlzRmluaXRlKG9iak9yaWdpbmFsLnJvdGF0aW9uKSA/IG9iak9yaWdpbmFsLnJvdGF0aW9uIDogMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNSb3RhdGlvbiA9IE51bWJlci5pc0Zpbml0ZShvYmpPcmlnaW5hbC5yb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gb2JqT3JpZ2luYWwucm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3RhdGlvbkNoYW5nZWQgPSBNYXRoLmFicyhyb3RhdGlvbkZpbmFsIC0gcHJldmlvdXNSb3RhdGlvbikgPiAwLjE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9udFNpemVDaGFuZ2VkID0gTWF0aC5hYnMocmVxdWVzdGVkRm9udFNpemUgLSBvcmlnaW5hbEZvbnRTaXplKSA+IDAuMDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkTWF0Y2hWaXN1YWxXaWR0aCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpPcmlnaW5hbC5fX2F1dG9XaWR0aCAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFOdW1iZXIuaXNGaW5pdGUob2JqT3JpZ2luYWwud2lkdGgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcm90YXRpb25DaGFuZ2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRGb250U2l6ZSA9IHNob3VsZE1hdGNoVmlzdWFsV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWp1c3RhckZvbnRTaXplQUFuY2hvVmlzdWFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpPcmlnaW5hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkRm9udFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMudGV4dFZpc3VhbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlcXVlc3RlZEZvbnRTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFVzZU5vZGVQb3NlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uQ2hhbmdlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWZvbnRTaXplQ2hhbmdlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGNsZWFuQXR0cnMueCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlcmVkUG9zQWJzID0gc2hvdWxkVXNlTm9kZVBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyB4OiBOdW1iZXIoY2xlYW5BdHRycy54KSwgeTogTnVtYmVyKGNsZWFuQXR0cnMueSkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYWxjdWxhclBvc1RleHRvRGVzZGVDZW50cm8oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iak9yaWdpbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Rm9udFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMudGV4dENlbnRlclgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMudGV4dENlbnRlclksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uRmluYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyZWRYID0gY2VudGVyZWRQb3NBYnMueDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJlZFlBYnMgPSBjZW50ZXJlZFBvc0Ficy55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlcmVkWSA9IE51bWJlci5pc0Zpbml0ZShjZW50ZXJlZFlBYnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnZlcnRpckFic0FSZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkWUFicyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwuc2VjY2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNjaW9uZXNPcmRlbmFkYXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKE51bWJlci5pc0Zpbml0ZShvYmpPcmlnaW5hbC55KSA/IG9iak9yaWdpbmFsLnkgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJ0cmFuc2Zvcm0tZmluYWw6dGV4dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogb2JqT3JpZ2luYWw/LmlkID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZE1hdGNoVmlzdWFsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbkZvbnRTaXplOiBjbGVhbkF0dHJzLmZvbnRTaXplID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0VmlzdWFsV2lkdGg6IGNsZWFuQXR0cnMudGV4dFZpc3VhbFdpZHRoID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q2VudGVyWDogY2xlYW5BdHRycy50ZXh0Q2VudGVyWCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENlbnRlclk6IGNsZWFuQXR0cnMudGV4dENlbnRlclkgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uRmluYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbkNoYW5nZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZUNoYW5nZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRVc2VOb2RlUG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkWCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkWUFicyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsWDogb2JqT3JpZ2luYWw/LnggPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsWTogb2JqT3JpZ2luYWw/LnkgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEF0dHJzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmluYWxBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBuZXh0Rm9udFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBOdW1iZXIuaXNGaW5pdGUoY2VudGVyZWRYKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNlbnRlcmVkWFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChOdW1iZXIuaXNGaW5pdGUob2JqT3JpZ2luYWwueCkgPyBvYmpPcmlnaW5hbC54IDogMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBjZW50ZXJlZFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy50ZXh0Q2VudGVyWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy50ZXh0Q2VudGVyWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy50ZXh0VmlzdWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFJlc2l6ZURlYnVnKFwidHJhbnNmb3JtLWZpbmFsOnRleHQtYXR0cnNcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG9iak9yaWdpbmFsPy5pZCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxGb250U2l6ZTogZmluYWxBdHRycy5mb250U2l6ZSA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxYOiBmaW5hbEF0dHJzLnggPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsWTogZmluYWxBdHRycy55ID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJjb3VudGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQXR0cnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5maW5hbEF0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy5zY2FsZVgpID8gY2xlYW5BdHRycy5zY2FsZVggOiAob2JqT3JpZ2luYWwuc2NhbGVYID8/IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy5zY2FsZVkpID8gY2xlYW5BdHRycy5zY2FsZVkgOiAob2JqT3JpZ2luYWwuc2NhbGVZID8/IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmpPcmlnaW5hbC50aXBvID09PSBcImZvcm1hXCIgJiYgb2JqT3JpZ2luYWwuZmlndXJhID09PSBcImNpcmNsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEF0dHJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5maW5hbEF0dHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBOdW1iZXIuaXNGaW5pdGUoY2xlYW5BdHRycy54KSA/IGNsZWFuQXR0cnMueCA6IChvYmpPcmlnaW5hbC54IHx8IDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLnJhZGl1cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNsZWFuQXR0cnMucmFkaXVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAob2JqT3JpZ2luYWwucmFkaXVzIHx8IDUwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbmFsQXR0cnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmpPcmlnaW5hbC50aXBvID09PSBcImZvcm1hXCIgJiYgb2JqT3JpZ2luYWwuZmlndXJhID09PSBcInRyaWFuZ2xlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQXR0cnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpbmFsQXR0cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IE51bWJlci5pc0Zpbml0ZShjbGVhbkF0dHJzLngpID8gY2xlYW5BdHRycy54IDogKG9iak9yaWdpbmFsLnggfHwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogTnVtYmVyLmlzRmluaXRlKGNsZWFuQXR0cnMucmFkaXVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2xlYW5BdHRycy5yYWRpdXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChvYmpPcmlnaW5hbC5yYWRpdXMgfHwgNjApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmluYWxBdHRycy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaW5hbEF0dHJzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iak9yaWdpbmFsLnRpcG8gPT09IFwiZ2FsZXJpYVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYWxsZXJ5TWV0cmljcyA9IG5vcm1hbGl6YXJNZWRpZGFzR2FsZXJpYShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqT3JpZ2luYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuQXR0cnMueFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQXR0cnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpbmFsQXR0cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGdhbGxlcnlNZXRyaWNzLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBnYWxsZXJ5TWV0cmljcy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBnYWxsZXJ5TWV0cmljcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoUGN0OiBnYWxsZXJ5TWV0cmljcy53aWR0aFBjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IG9iak9yaWdpbmFsLnJvdGF0aW9uIHx8IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8gb2Zmc2V0WSBzb2xvIHBhcmEgZGVidWcgKGV2aXRhIFJlZmVyZW5jZUVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvZmZzZXRZID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gc2VjY2lvbmVzT3JkZW5hZGFzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IG9iak9yaWdpbmFsLnNlY2Npb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWZlID0gaWR4ID49IDAgPyBpZHggOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90YTogZW4gdHUgY8OzZGlnbyBsbyBsbGFtw6FzIGEgdmVjZXMgY29uIDIgcGFyYW1zLCBhIHZlY2VzIGNvbiAzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWPDoSB1c2Ftb3MgMywgY29uc2lzdGVudGUgY29uIG90cmFzIHBhcnRlcyBkZWwgYXJjaGl2by5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFkgPSBjYWxjdWxhck9mZnNldFkoc2VjY2lvbmVzT3JkZW5hZGFzLCBzYWZlLCBhbHRvQ2FudmFzKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJjb3VudGRvd25cIiB8fCBvYmpPcmlnaW5hbC50aXBvID09PSBcInRleHRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqT3JpZ2luYWwudGlwbyA9PT0gXCJ0ZXh0b1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21taXRTbmFwc2hvdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG9iak9yaWdpbmFsPy5pZCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEZvbnRTaXplOiBmaW5hbEF0dHJzLmZvbnRTaXplID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsWDogZmluYWxBdHRycy54ID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsWTogZmluYWxBdHRycy55ID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY2Npb25JZDogb2JqT3JpZ2luYWw/LnNlY2Npb25JZCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcInRyYW5zZm9ybS1maW5hbDpjb21taXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb21taXRTbmFwc2hvdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGV4dFJlc2l6ZURlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVBZnRlckNvbW1pdCA9IGVsZW1lbnRSZWZzLmN1cnJlbnQ/Lltjb21taXRTbmFwc2hvdC5pZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGVBZnRlckNvbW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UmVzaXplRGVidWcoXCJ0cmFuc2Zvcm0tZmluYWw6cG9zdC1yZW5kZXI6bm8tbm9kZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbW1pdFNuYXBzaG90LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjdEFmdGVyQ29tbWl0ID0gbm9kZUFmdGVyQ29tbWl0LmdldENsaWVudFJlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBTaGFkb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFN0cm9rZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcInRyYW5zZm9ybS1maW5hbDpwb3N0LXJlbmRlclwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29tbWl0U25hcHNob3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVg6IHR5cGVvZiBub2RlQWZ0ZXJDb21taXQueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZUFmdGVyQ29tbWl0LngoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVk6IHR5cGVvZiBub2RlQWZ0ZXJDb21taXQueSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZUFmdGVyQ29tbWl0LnkoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVNjYWxlWDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBub2RlQWZ0ZXJDb21taXQuc2NhbGVYID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBub2RlQWZ0ZXJDb21taXQuc2NhbGVYKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVTY2FsZVk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygbm9kZUFmdGVyQ29tbWl0LnNjYWxlWSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbm9kZUFmdGVyQ29tbWl0LnNjYWxlWSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlRm9udFNpemU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygbm9kZUFmdGVyQ29tbWl0LmZvbnRTaXplID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBub2RlQWZ0ZXJDb21taXQuZm9udFNpemUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVJlY3RXaWR0aDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShyZWN0QWZ0ZXJDb21taXQ/LndpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlY3RBZnRlckNvbW1pdC53aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVJlY3RIZWlnaHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUocmVjdEFmdGVyQ29tbWl0Py5oZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVjdEFmdGVyQ29tbWl0LmhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSZXNpemVEZWJ1ZyhcInRyYW5zZm9ybS1maW5hbDpwb3N0LXJlbmRlcjplcnJvclwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbW1pdFNuYXBzaG90LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycj8ubWVzc2FnZSB8fCBTdHJpbmcoZXJyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxpemFyT2JqZXRvKG9iakluZGV4LCBmaW5hbEF0dHJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphck9iamV0byhvYmpJbmRleCwgZmluYWxBdHRycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pKCl9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIE5vIG1vc3RyYXIgaG92ZXIgZHVyYW50ZSBkcmFnL3Jlc2l6ZS9lZGljacOzbiBOSSBjdWFuZG8gaGF5IGzDrWRlciBkZSBncnVwbyAqL31cclxuICAgICAgICAgICAgICAgICAgeyF3aW5kb3cuX3Jlc2l6ZURhdGE/LmlzUmVzaXppbmcgJiYgIWlzRHJhZ2dpbmcgJiYgIXdpbmRvdy5faXNEcmFnZ2luZyAmJiAhd2luZG93Ll9ncnVwb0xpZGVyICYmICFlZGl0aW5nLmlkICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8SG92ZXJJbmRpY2F0b3IgaG92ZXJlZEVsZW1lbnQ9e2hvdmVySWR9IGVsZW1lbnRSZWZzPXtlbGVtZW50UmVmc30gb2JqZXRvcz17b2JqZXRvc30gLz5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qID8/IENvbnRyb2xlcyBlc3BlY2lhbGVzIHBhcmEgbMOtbmVhcyBzZWxlY2Npb25hZGFzICovfVxyXG4gICAgICAgICAgICAgICAgICB7ZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPT09IDEgJiYgKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50b1NlbGVjY2lvbmFkbyA9IG9iamV0b3MuZmluZChvYmogPT4gb2JqLmlkID09PSBlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudG9TZWxlY2Npb25hZG8/LnRpcG8gPT09ICdmb3JtYScgJiYgZWxlbWVudG9TZWxlY2Npb25hZG8/LmZpZ3VyYSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGluZUNvbnRyb2xzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ1aVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YGxpbmUtY29udHJvbHMtJHtlbGVtZW50b1NlbGVjY2lvbmFkby5pZH0tJHtKU09OLnN0cmluZ2lmeShlbGVtZW50b1NlbGVjY2lvbmFkby5wb2ludHMpfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVFbGVtZW50PXtlbGVtZW50b1NlbGVjY2lvbmFkb31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFJlZnM9e2VsZW1lbnRSZWZzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUxpbmU9e2FjdHVhbGl6YXJMaW5lYX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0b0NhbnZhcz17YWx0b0NhbnZhc0RpbmFtaWNvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc01vYmlsZT17aXNNb2JpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vID8/IE5VRVZBIFBST1A6IFBhc2FyIGluZm9ybWFjacOzbiBzb2JyZSBkcmFnIGdydXBhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RyYWdHcnVwYWxBY3RpdmU9e3dpbmRvdy5fZ3J1cG9MaWRlciAhPT0gbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcz17ZWxlbWVudG9zU2VsZWNjaW9uYWRvc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgfSkoKX1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICB7LyogTMOtbmVhcyBkZSBndcOtYSBkaW7DoW1pY2FzIG1lam9yYWRhcyAqL31cclxuICAgICAgICAgICAgICAgICAge2d1aWFMaW5lYXMubWFwKChsaW5lYSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluYXIgZWwgZXN0aWxvIHZpc3VhbCBzZWfDum4gZWwgdGlwb1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzTGluZWFTZWNjaW9uID0gbGluZWEucHJpb3JpdHkgPT09ICdzZWNjaW9uJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxMaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ1aVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7bGluZWEudHlwZX0tJHtpfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cz17bGluZWEucG9pbnRzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9e2VzTGluZWFTZWNjaW9uID8gXCIjNzczZGJlXCIgOiBcIiM5MzMzZWFcIn0gLy8gVmlvbGV0YSBtw6FzIGludGVuc28gcGFyYSBzZWNjacOzblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17ZXNMaW5lYVNlY2Npb24gPyAyIDogMX0gLy8gTMOtbmVhcyBkZSBzZWNjacOzbiBtw6FzIGdydWVzYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGFzaD17bGluZWEuc3R5bGUgPT09ICdkYXNoZWQnID8gWzgsIDZdIDogdW5kZWZpbmVkfSAvLyBQdW50ZWFkbyBwYXJhIGVsZW1lbnRvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5PXtlc0xpbmVhU2VjY2lvbiA/IDAuOSA6IDAuN30gLy8gTMOtbmVhcyBkZSBzZWNjacOzbiBtw6FzIG9wYWNhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFZmVjdG8gc3V0aWwgZGUgcmVzcGxhbmRvciBwYXJhIGzDrW5lYXMgZGUgc2VjY2nDs25cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Q29sb3I9e2VzTGluZWFTZWNjaW9uID8gXCJyZ2JhKDExOSwgNjEsIDE5MCwgMC4zKVwiIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dCbHVyPXtlc0xpbmVhU2VjY2lvbiA/IDQgOiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dFbmFibGVkPXtlc0xpbmVhU2VjY2lvbn1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSl9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIDwvQ2FudmFzRWxlbWVudHNMYXllcj5cclxuXHJcbiAgICAgICAgICAgICAgICB7LyogPyBPdmVybGF5IHN1cGVyaW9yOiBib3JkZSBkZSBzZWNjacOzbiBhY3RpdmEgU0lFTVBSRSBhcnJpYmEgZGUgdG9kbyAqL31cclxuICAgICAgICAgICAgICAgIDxDYW52YXNFbGVtZW50c0xheWVyPlxyXG4gICAgICAgICAgICAgICAgICB7KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlY2Npb25BY3RpdmFJZCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2VjY2lvbmVzT3JkZW5hZGFzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IHNlY2Npb25BY3RpdmFJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY2Npb24gPSBzZWNjaW9uZXNPcmRlbmFkYXNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSBjYWxjdWxhck9mZnNldFkoc2VjY2lvbmVzT3JkZW5hZGFzLCBpbmRleCwgYWx0b0NhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXN0YUFuaW1hbmRvID0gc2VjY2lvbmVzQW5pbWFuZG8uaW5jbHVkZXMoc2VjY2lvbi5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8UmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2BvdmVybGF5LWJvcmRlci1zZWNjaW9uLSR7c2VjY2lvbi5pZH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5PXtvZmZzZXRZfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17ODAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3NlY2Npb24uYWx0dXJhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjNzczZGJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2VzdGFBbmltYW5kbyA/IDQgOiAzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXM9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0NvbG9yPXtlc3RhQW5pbWFuZG8gPyBcInJnYmEoMTE5LCA2MSwgMTkwLCAwLjQpXCIgOiBcInJnYmEoMTE5LCA2MSwgMTkwLCAwLjI1KVwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dCbHVyPXtlc3RhQW5pbWFuZG8gPyAxNiA6IDEyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dPZmZzZXQ9e3sgeDogMCwgeTogZXN0YUFuaW1hbmRvID8gNCA6IDMgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSkoKX1cclxuICAgICAgICAgICAgICAgIDwvQ2FudmFzRWxlbWVudHNMYXllcj5cclxuXHJcbiAgICAgICAgICAgICAgPC9TdGFnZT5cclxuXHJcblxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHtlZGl0aW5nLmlkICYmIGVsZW1lbnRSZWZzLmN1cnJlbnRbZWRpdGluZy5pZF0gJiYgKCgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBvYmpldG9FbkVkaWNpb24gPSBvYmpldG9zLmZpbmQobyA9PiBvLmlkID09PSBlZGl0aW5nLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxJbmxpbmVUZXh0RWRpdG9yXHJcbiAgICAgICAgICAgICAgICAgIGVkaXRpbmdJZD17ZWRpdGluZy5pZH1cclxuICAgICAgICAgICAgICAgICAgbm9kZT17ZWxlbWVudFJlZnMuY3VycmVudFtlZGl0aW5nLmlkXX1cclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2VkaXRpbmcudmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbj17b2JqZXRvRW5FZGljaW9uPy5hbGlnbiB8fCAnbGVmdCd9IC8vID8/IFNvbG8gcGFzYXIgYWxpbmVhY2nDs25cclxuICAgICAgICAgICAgICAgICAgb25PdmVybGF5TW91bnRDaGFuZ2U9e2hhbmRsZUlubGluZU92ZXJsYXlNb3VudENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhuZXh0VmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGV4dCA9IFN0cmluZyhuZXh0VmFsdWUgPz8gXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldlN0YXRzID0gZ2V0SW5saW5lTGluZVN0YXRzKGVkaXRpbmcudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTdGF0cyA9IGdldElubGluZUxpbmVTdGF0cyhuZXh0VGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJldlN0YXRzLmxpbmVDb3VudCAhPT0gbmV4dFN0YXRzLmxpbmVDb3VudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJldlN0YXRzLnRyYWlsaW5nTmV3bGluZXMgIT09IG5leHRTdGF0cy50cmFpbGluZ05ld2xpbmVzXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImxpbmVicmVhay1tb2RlbC1zeW5jXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVkaXRpbmcuaWQgfHwgd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZMZW5ndGg6IHByZXZTdGF0cy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMZW5ndGg6IG5leHRTdGF0cy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZMaW5lQ291bnQ6IHByZXZTdGF0cy5saW5lQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5lQ291bnQ6IG5leHRTdGF0cy5saW5lQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZUcmFpbGluZ05ld2xpbmVzOiBwcmV2U3RhdHMudHJhaWxpbmdOZXdsaW5lcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRyYWlsaW5nTmV3bGluZXM6IG5leHRTdGF0cy50cmFpbGluZ05ld2xpbmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImlucHV0OiBiZWZvcmUtcmVuZGVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBlZGl0aW5nLmlkIHx8IHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVMZW5ndGg6IG5leHRUZXh0Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVFZGl0KG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uRGVidWdFdmVudD17KGV2ZW50TmFtZSwgcGF5bG9hZCA9IHt9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KGV2ZW50TmFtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IHBheWxvYWQ/LmlkIHx8IGVkaXRpbmcuaWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIC4uLnBheWxvYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uRmluaXNoPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluaXNoSWQgPSBlZGl0aW5nLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImZpbmlzaDogYmx1clwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUxlbmd0aDogU3RyaW5nKGVkaXRpbmcudmFsdWUgPz8gXCJcIikubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRvTnVldm9SYXcgPSBTdHJpbmcoZWRpdGluZy52YWx1ZSA/PyBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0b051ZXZvVmFsaWRhZG8gPSB0ZXh0b051ZXZvUmF3LnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG9iamV0b3MuZmluZEluZGV4KG8gPT4gby5pZCA9PT0gZmluaXNoSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iamV0byA9IG9iamV0b3NbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpdmVOb2RlQXRGaW5pc2ggPSBlbGVtZW50UmVmcy5jdXJyZW50W2ZpbmlzaElkXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXZlTWV0cmljc0F0RmluaXNoID0gb2J0ZW5lck1ldHJpY2FzTm9kb0lubGluZShsaXZlTm9kZUF0RmluaXNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lRGVidWdMb2coXCJmaW5pc2gtc3RhcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmF3TGVuZ3RoOiB0ZXh0b051ZXZvUmF3Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgIHRyaW1tZWRMZW5ndGg6IHRleHRvTnVldm9WYWxpZGFkby5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3RYOiBvYmpldG8/LnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFk6IG9iamV0bz8ueSA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJldmlld1JlZjogeyAuLi5pbmxpbmVFZGl0UHJldmlld1JlZi5jdXJyZW50IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBsaXZlTWV0cmljc0F0RmluaXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCI/IEVsIG9iamV0byB5YSBubyBleGlzdGUuIENhbmNlbGFuZG8gZ3VhcmRhZG8uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lRGVidWdMb2coXCJmaW5pc2gtYWJvcnQtbWlzc2luZy1vYmplY3RcIiwgeyBpZDogZmluaXNoSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVDb21taXREZWJ1Z1JlZi5jdXJyZW50ID0geyBpZDogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoRWRpdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gPz8gUG9kw6lzIHBlcm1pdGlyIHRleHRvIHZhY8OtbyBlbiBmb3JtYXMgc2kgcXVlcsOpcyAoeW8gbG8gcGVybWl0aXLDrWEpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRvTnVldm9WYWxpZGFkbyA9PT0gXCJcIiAmJiBvYmpldG8udGlwbyA9PT0gXCJ0ZXh0b1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCI/PyBFbCB0ZXh0byBlc3TDoSB2YWPDrW8uIE5vIHNlIGFjdHVhbGl6YS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC1hYm9ydC1lbXB0eVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TGVuZ3RoOiB0ZXh0b051ZXZvUmF3Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpbW1lZExlbmd0aDogdGV4dG9OdWV2b1ZhbGlkYWRvLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lQ29tbWl0RGVidWdSZWYuY3VycmVudCA9IHsgaWQ6IG51bGwgfTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlubGluZUVkaXRQcmV2aWV3UmVmLmN1cnJlbnQgPSB7IGlkOiBudWxsLCBjZW50ZXJYOiBudWxsIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hFZGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxpemFkbyA9IFsuLi5vYmpldG9zXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRjaCA9IHsgdGV4dG86IHRleHRvTnVldm9SYXcgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkS2VlcENlbnRlclggPVxyXG4gICAgICAgICAgICAgICAgICAgICAgb2JqZXRvLnRpcG8gPT09IFwidGV4dG9cIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgIW9iamV0by5fX2dyb3VwQWxpZ24gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICFOdW1iZXIuaXNGaW5pdGUob2JqZXRvLndpZHRoKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgb2JqZXRvLl9fYXV0b1dpZHRoICE9PSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZEtlZXBDZW50ZXJYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0WCA9IGNhbGN1bGFyWFRleHRvQ2VudHJhZG8ob2JqZXRvLCB0ZXh0b051ZXZvUmF3KTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRYID0gTnVtYmVyLmlzRmluaXRlKG9iamV0by54KSA/IG9iamV0by54IDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobmV4dFgpICYmIE1hdGguYWJzKG5leHRYIC0gY3VycmVudFgpID4gMC4wMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaC54ID0gbmV4dFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaW5saW5lRGVidWdMb2coXCJmaW5pc2gtY2VudGVyLWNvbXB1dGVkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRLZWVwQ2VudGVyWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFg6IHBhdGNoLnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsaXphZG9baW5kZXhdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLi4uYWN0dWFsaXphZG9baW5kZXhdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgLi4ucGF0Y2hcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBlY3RlZFggPSBOdW1iZXIuaXNGaW5pdGUocGF0Y2gueClcclxuICAgICAgICAgICAgICAgICAgICAgID8gcGF0Y2gueFxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAoTnVtYmVyLmlzRmluaXRlKG9iamV0by54KSA/IG9iamV0by54IDogbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lQ29tbWl0RGVidWdSZWYuY3VycmVudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkWCxcclxuICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFhCZWZvcmVDb21taXQ6IE51bWJlci5pc0Zpbml0ZShvYmpldG8ueCkgPyBvYmpldG8ueCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBsaXZlTm9kZVhBdEZpbmlzaDogTnVtYmVyLmlzRmluaXRlKGxpdmVNZXRyaWNzQXRGaW5pc2g/LngpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbGl2ZU1ldHJpY3NBdEZpbmlzaC54XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdDZW50ZXJYOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dExlbmd0aDogdGV4dG9OdWV2b1Jhdy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lRGVidWdMb2coXCJmaW5pc2gtYXBwbHktcGF0Y2hcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9nRmluaXNoVmlzaWJpbGl0eUNoZWNrID0gKHBoYXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWZlSWQgPSBTdHJpbmcoZmluaXNoSWQgfHwgXCJcIikucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmxheURvbVByZXNlbnQgPSBzYWZlSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBCb29sZWFuKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlubGluZS1lZGl0b3ItaWQ9XCIke3NhZmVJZH1cIl1gKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpdmVOb2RlID0gZWxlbWVudFJlZnMuY3VycmVudFtmaW5pc2hJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVEZWJ1Z0xvZyhcImZpbmlzaC12aXNpYmlsaXR5LWNoZWNrXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhhc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RpdmVFZGl0aW5nSWQ6IGVkaXRpbmcuaWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRWRpdGluZ0lkOiB3aW5kb3cuZWRpdGluZz8uaWQgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVkaXRpbmdJZDogd2luZG93Ll9jdXJyZW50RWRpdGluZ0lkID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlNb3VudGVkSWQ6IGlubGluZU92ZXJsYXlNb3VudGVkSWQgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheURvbVByZXNlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVPcGFjaXR5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBsaXZlTm9kZT8ub3BhY2l0eSA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxpdmVOb2RlLm9wYWNpdHkoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlVmlzaWJsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgbGl2ZU5vZGU/LnZpc2libGUgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsaXZlTm9kZS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU1ldHJpY3M6IG9idGVuZXJNZXRyaWNhc05vZG9JbmxpbmUobGl2ZU5vZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBsb2dGaW5pc2hWaXNpYmlsaXR5Q2hlY2soXCJiZWZvcmUtY29tbWl0XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJmaW5pc2g6IGJlZm9yZS1mbHVzaFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwYXRjaFg6IHBhdGNoLnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2V0T2JqZXRvcyhhY3R1YWxpemFkbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZmluaXNoOiBhZnRlci1mbHVzaFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwYXRjaFg6IHBhdGNoLnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsb2dGaW5pc2hWaXNpYmlsaXR5Q2hlY2soXCJhZnRlci1jb21taXQtYmVmb3JlLWZpbmlzaEVkaXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lRWRpdFByZXZpZXdSZWYuY3VycmVudCA9IHsgaWQ6IG51bGwsIGNlbnRlclg6IG51bGwgfTtcclxuICAgICAgICAgICAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoRWRpdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YWdlQWZ0ZXJGaW5pc2hFZGl0ID1cclxuICAgICAgICAgICAgICAgICAgICAgIHN0YWdlUmVmLmN1cnJlbnQ/LmdldFN0YWdlPy4oKSB8fCBzdGFnZVJlZi5jdXJyZW50IHx8IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFnZUFmdGVyRmluaXNoRWRpdD8uYmF0Y2hEcmF3ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHN0YWdlQWZ0ZXJGaW5pc2hFZGl0LmJhdGNoRHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsb2dGaW5pc2hWaXNpYmlsaXR5Q2hlY2soXCJhZnRlci1maW5pc2hFZGl0LXN5bmNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA9PT0gZmluaXNoSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5fY3VycmVudEVkaXRpbmdJZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbmxpbmVTbmFwc2hvdChcImZpbmlzaDogYWZ0ZXItZmluaXNoRWRpdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogZmluaXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwYXRjaFg6IHBhdGNoLnggPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgbG9nRmluaXNoVmlzaWJpbGl0eUNoZWNrKFwiYWZ0ZXItZmluaXNoRWRpdC1yYWYxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUlubGluZVNuYXBzaG90KFwiZmluaXNoOiByYWYxXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZpbmlzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoWDogcGF0Y2gueCA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXB0dXJlSW5saW5lU25hcHNob3QoXCJmaW5pc2g6IHJhZjJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaW5pc2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hYOiBwYXRjaC54ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIHNjYWxlVmlzdWFsPXtlc2NhbGFWaXN1YWx9XHJcbiAgICAgICAgICAgICAgICAgIGZpbmlzaE1vZGU9e2lubGluZURlYnVnQUIuZmluaXNoTW9kZX1cclxuICAgICAgICAgICAgICAgICAgd2lkdGhNb2RlPXtpbmxpbmVEZWJ1Z0FCLm92ZXJsYXlXaWR0aE1vZGV9XHJcblxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KSgpfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHsvKiBTdGFnZSBleHRyYSBzb2xvIGVuIGRlc2t0b3AgcGFyYSBubyBkdXBsaWNhciBtZW1vcmlhIGVuIG1vYmlsZSAqL31cbiAgICAgICAgICAgIHshaXNNb2JpbGUgJiYgKFxuICAgICAgICAgICAgICA8RGl2aWRlcnNPdmVybGF5U3RhZ2VcbiAgICAgICAgICAgICAgICB6b29tPXt6b29tfVxuICAgICAgICAgICAgICAgIGFsdG9DYW52YXNEaW5hbWljbz17YWx0b0NhbnZhc0RpbmFtaWNvfVxuICAgICAgICAgICAgICAgIHNlY2Npb25lc09yZGVuYWRhcz17c2VjY2lvbmVzT3JkZW5hZGFzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cblxyXG5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuXHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG5cclxuICAgICAgPC9kaXY+XHJcblxyXG5cclxuXHJcbiAgICAgIHsvKiA/IEJvdMOzbiBkZSBvcGNpb25lcyBQRUdBRE8gYSBsYSBlc3F1aW5hIHN1cGVyaW9yIGRlcmVjaGEgZGVsIGVsZW1lbnRvICovfVxyXG4gICAgICB7ZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggPT09IDEgJiYgIWVkaXRpbmcuaWQgJiYgIWlzU2VsZWN0aW9uUm90YXRpbmcgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtib3Rvbk9wY2lvbmVzUmVmfVxuICAgICAgICAgIGRhdGEtb3B0aW9uLWJ1dHRvbj1cInRydWVcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHotNTAgYmctd2hpdGUgYm9yZGVyLTIgYm9yZGVyLXB1cnBsZS01MDAgcm91bmRlZC1mdWxsIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgbGVmdDogXCIwcHhcIixcbiAgICAgICAgICAgIHRvcDogXCIwcHhcIixcbiAgICAgICAgICAgIHdpZHRoOiBgJHtvcHRpb25CdXR0b25TaXplfXB4YCxcbiAgICAgICAgICAgIGhlaWdodDogYCR7b3B0aW9uQnV0dG9uU2l6ZX1weGAsXG4gICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6IFwiYXV0b1wiLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjk1KVwiLFxuICAgICAgICAgICAgYmFja2Ryb3BGaWx0ZXI6IFwiYmx1cig0cHgpXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICM3NzNkYmVcIixcbiAgICAgICAgICAgIHRvdWNoQWN0aW9uOiBcIm1hbmlwdWxhdGlvblwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uUG9pbnRlckRvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgdG9nZ2xlUGFuZWxPcGNpb25lcyhcImdlYXItcG9pbnRlcmRvd25cIiwgZS5uYXRpdmVFdmVudCB8fCBlKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAvLyBDbGljayBkZSB0ZWNsYWRvIChFbnRlci9Fc3BhY2lvKSBjdWFuZG8gbm8gaGF5IHBvaW50ZXIgaW50ZXJhY3Rpb24uXG4gICAgICAgICAgICAgIGlmIChlLmRldGFpbCAhPT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB0b2dnbGVQYW5lbE9wY2lvbmVzKFwiZ2Vhci1rZXlib2FyZC1jbGlja1wiLCBlLm5hdGl2ZUV2ZW50IHx8IGUpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImhvdmVyOmJnLXB1cnBsZS01MCB3LWZ1bGwgaC1mdWxsIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICB0aXRsZT1cIk9wY2lvbmVzIGRlbCBlbGVtZW50b1wiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiT3BjaW9uZXMgZGVsIGVsZW1lbnRvXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHRvdWNoQWN0aW9uOiBcIm1hbmlwdWxhdGlvblwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFNldHRpbmdzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTcwMFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBpc01vYmlsZSA/IDE4IDogMTQsIGhlaWdodDogaXNNb2JpbGUgPyAxOCA6IDE0IH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cclxuXHJcblxyXG4gICAgICB7bW9zdHJhclBhbmVsWiAmJiAoXHJcbiAgICAgICAgPE1lbnVPcGNpb25lc0VsZW1lbnRvXHJcbiAgICAgICAgICBpc09wZW49e21vc3RyYXJQYW5lbFp9XHJcbiAgICAgICAgICBib3Rvbk9wY2lvbmVzUmVmPXtib3Rvbk9wY2lvbmVzUmVmfVxyXG4gICAgICAgICAgZWxlbWVudG9TZWxlY2Npb25hZG89e29iamV0b3MuZmluZChvID0+IG8uaWQgPT09IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NbMF0pfVxyXG4gICAgICAgICAgb25Db3BpYXI9e29uQ29waWFyfVxyXG4gICAgICAgICAgb25QZWdhcj17b25QZWdhcn1cclxuICAgICAgICAgIG9uRHVwbGljYXI9e29uRHVwbGljYXJ9XHJcbiAgICAgICAgICBvbkVsaW1pbmFyPXtvbkVsaW1pbmFyfVxyXG4gICAgICAgICAgbW92ZXJFbGVtZW50bz17bW92ZXJFbGVtZW50b31cclxuICAgICAgICAgIG9uQ2VycmFyPXsoKSA9PiBzZXRNb3N0cmFyUGFuZWxaKGZhbHNlKX1cclxuICAgICAgICAgIHJlZW1wbGF6YXJGb25kbz17cmVlbXBsYXphckZvbmRvfVxyXG4gICAgICAgICAgc2VjY2lvbmVzPXtzZWNjaW9uZXN9XHJcbiAgICAgICAgICBvYmpldG9zPXtvYmpldG9zfVxyXG4gICAgICAgICAgc2V0U2VjY2lvbmVzPXtzZXRTZWNjaW9uZXN9XHJcbiAgICAgICAgICBzZXRPYmpldG9zPXtzZXRPYmpldG9zfVxyXG4gICAgICAgICAgc2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcz17c2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvc31cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG5cclxuXHJcbiAgICAgIDxGbG9hdGluZ1RleHRUb29sYmFyXG4gICAgICAgIG9iamV0b1NlbGVjY2lvbmFkbz17b2JqZXRvU2VsZWNjaW9uYWRvfVxuICAgICAgICBzZXRPYmpldG9zPXtzZXRPYmpldG9zfVxuICAgICAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zPXtlbGVtZW50b3NTZWxlY2Npb25hZG9zfVxuICAgICAgICBtb3N0cmFyU2VsZWN0b3JGdWVudGU9e21vc3RyYXJTZWxlY3RvckZ1ZW50ZX1cclxuICAgICAgICBzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGU9e3NldE1vc3RyYXJTZWxlY3RvckZ1ZW50ZX1cclxuICAgICAgICBtb3N0cmFyU2VsZWN0b3JUYW1hbm89e21vc3RyYXJTZWxlY3RvclRhbWFub31cbiAgICAgICAgc2V0TW9zdHJhclNlbGVjdG9yVGFtYW5vPXtzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm99XG4gICAgICAgIEFMTF9GT05UUz17QUxMX0ZPTlRTfVxyXG4gICAgICAgIGZvbnRNYW5hZ2VyPXtmb250TWFuYWdlcn1cclxuICAgICAgICB0YW1hbmlvc0Rpc3BvbmlibGVzPXt0YW1hbmlvc0Rpc3BvbmlibGVzfVxyXG4gICAgICAgIG9uQ2FtYmlhckFsaW5lYWNpb249e29uQ2FtYmlhckFsaW5lYWNpb259XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8Q29uZmlybURlbGV0ZVNlY3Rpb25Nb2RhbFxyXG4gICAgICAgIGlzT3Blbj17ZGVsZXRlU2VjdGlvbk1vZGFsLmlzT3Blbn1cclxuICAgICAgICBzZWN0aW9uTmFtZT17c2VjY2lvblBlbmRpZW50ZUVsaW1pbmFyPy50aXBvfVxyXG4gICAgICAgIGl0ZW1Db3VudD17Y2FudGlkYWRFbGVtZW50b3NTZWNjaW9uUGVuZGllbnRlfVxyXG4gICAgICAgIGlzRGVsZXRpbmc9e2lzRGVsZXRpbmdTZWN0aW9ufVxyXG4gICAgICAgIG9uQ2FuY2VsPXtjZXJyYXJNb2RhbEJvcnJhclNlY2Npb259XHJcbiAgICAgICAgb25Db25maXJtPXtjb25maXJtYXJCb3JyYXJTZWNjaW9ufVxyXG4gICAgICAvPlxyXG5cclxuXHJcblxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxuXHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlTWVtbyIsInVzZUNhbGxiYWNrIiwiY3JlYXRlUG9ydGFsIiwiZmx1c2hTeW5jIiwiU3RhZ2UiLCJMaW5lIiwiUmVjdCIsIlRleHQiLCJJbWFnZSIsIktvbnZhSW1hZ2UiLCJHcm91cCIsIkNpcmNsZSIsIkVsZW1lbnRvQ2FudmFzIiwiTGluZUNvbnRyb2xzIiwiY2FsY3VsYXJPZmZzZXRZIiwiY29udmVydGlyQWJzQVJlbCIsImRldGVybWluYXJOdWV2YVNlY2Npb24iLCJjcmVhclNlY2Npb24iLCJ1c2VQbGFudGlsbGFzRGVTZWNjaW9uIiwidXNlSW1wZXJhdGl2ZU9iamVjdHMiLCJTZWxlY3Rpb25Cb3VuZHMiLCJIb3ZlckluZGljYXRvciIsIkxpbmVUb29sYmFyIiwidXNlS2V5Ym9hcmRTaG9ydGN1dHMiLCJmb250TWFuYWdlciIsInVzZUlubGluZUVkaXRvciIsIlNoYXBlVG9vbGJhciIsInVzZUVkaXRvckhhbmRsZXJzIiwiSW5saW5lVGV4dEVkaXRvciIsIkZvbnRTZWxlY3RvciIsInJlZW1wbGF6YXJGb25kb1NlY2Npb24iLCJyZWVtcGxhemFyRm9uZG8iLCJkZXNhbmNsYXJJbWFnZW5EZUZvbmRvIiwiZGVzYW5jbGFyRm9uZG8iLCJib3JyYXJTZWNjaW9uIiwiYm9ycmFyU2VjY2lvbkV4dGVybmFsIiwibW92ZXJTZWNjaW9uIiwibW92ZXJTZWNjaW9uRXh0ZXJuYWwiLCJ2YWxpZGFyUHVudG9zTGluZWEiLCJkZXRlY3RhckludGVyc2VjY2lvbkxpbmVhIiwiZ3VhcmRhclNlY2Npb25Db21vUGxhbnRpbGxhIiwiR2FsZXJpYUtvbnZhIiwiRm9uZG9TZWNjaW9uIiwiTWVudU9wY2lvbmVzRWxlbWVudG8iLCJjYWxjR2FsbGVyeUxheW91dCIsIkNvdW50ZG93bktvbnZhIiwidXNlR3VpYXNDZW50cmFkbyIsIkZsb2F0aW5nVGV4dFRvb2xiYXIiLCJTZWxlY3RvckNvbG9yU2VjY2lvbiIsIktvbnZhIiwiQUxMX0ZPTlRTIiwidXNlQXV0aENsYWltcyIsIlRyYXNoMiIsIkxheWVycyIsIk1vdmVVcCIsIk1vdmVEb3duIiwiUGx1c0NpcmNsZSIsIlNldHRpbmdzIiwiVW5saW5rMiIsIk1vbml0b3IiLCJDaGV2cm9uRG93biIsIkNoZXZyb25VcCIsInVzZUJvcnJhZG9yU3luYyIsInVzZVNlY3Rpb25zTWFuYWdlciIsIkNvbmZpcm1EZWxldGVTZWN0aW9uTW9kYWwiLCJ1c2VFZGl0b3JFdmVudHMiLCJ1c2VFZGl0b3JXaW5kb3dCcmlkZ2UiLCJ1c2VIaXN0b3J5TWFuYWdlciIsInVzZUNhbnZhc1NjYWxlTGF5b3V0IiwidXNlQ2FudmFzSW50ZXJhY3Rpb25TdGF0ZSIsInVzZVN0YWdlR2VzdHVyZXMiLCJ1c2VPcHRpb25CdXR0b25Qb3NpdGlvbiIsIkNhbnZhc0VsZW1lbnRzTGF5ZXIiLCJEaXZpZGVyc092ZXJsYXlTdGFnZSIsImRyYWdEaXN0YW5jZSIsInJlc29sdmVLb252YVBpeGVsUmF0aW8iLCJkcHIiLCJOdW1iZXIiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiY29hcnNlUG9pbnRlciIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwibWluU2lkZSIsIk1hdGgiLCJtaW4iLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJtb2JpbGVMaWtlIiwicGl4ZWxSYXRpbyIsIkFMVFVSQV9SRUZFUkVOQ0lBX1BBTlRBTExBIiwiQUxUVVJBX1BBTlRBTExBX0VESVRPUiIsIm5vcm1hbGl6YXJBbHRvTW9kbyIsIm1vZG8iLCJtIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpc0JvbGRGb250V2VpZ2h0Iiwid2VpZ2h0Iiwibm9ybWFsaXplZCIsImluY2x1ZGVzIiwicmVzb2x2ZUtvbnZhRm9udFN0eWxlIiwiZm9udFN0eWxlIiwiZm9udFdlaWdodCIsInN0eWxlIiwiaXNJdGFsaWMiLCJpc0JvbGQiLCJsaW1waWFyT2JqZXRvVW5kZWZpbmVkIiwib2JqIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwib2JqTGltcGlvIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJ2YWxvciIsInVuZGVmaW5lZCIsInNldEdsb2JhbEN1cnNvciIsImN1cnNvciIsInN0YWdlUmVmIiwiZG9jdW1lbnQiLCJib2R5Iiwic3RhZ2UiLCJjdXJyZW50IiwiY29udGFpbmVyIiwiY2FudmFzIiwicXVlcnlTZWxlY3RvciIsInBhcmVudEVsZW1lbnQiLCJjbGVhckdsb2JhbEN1cnNvciIsImlzSW5saW5lRGVidWdFbmFibGVkIiwiX19JTkxJTkVfREVCVUciLCJmb3JtYXRJbmxpbmVMb2dQYXlsb2FkIiwicGF5bG9hZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsImlubGluZURlYnVnTG9nIiwiZXZlbnQiLCJlc3NlbnRpYWxFdmVudHMiLCJTZXQiLCJoYXMiLCJ0cyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJuZXh0SW5saW5lRnJhbWVNZXRhIiwiZnJhbWUiLCJwZXJmTXMiLCJwcmV2IiwiX19JTkxJTkVfRlJBTUVfU0VRIiwibmV4dCIsInBlcmZvcm1hbmNlIiwibm93IiwidG9GaXhlZCIsImdldElubGluZUxpbmVTdGF0cyIsInZhbHVlIiwicmVwbGFjZSIsInRyYWlsaW5nIiwibWF0Y2giLCJsZW5ndGgiLCJsaW5lQ291bnQiLCJzcGxpdCIsInRyYWlsaW5nTmV3bGluZXMiLCJub3JtYWxpemVJbmxpbmVEZWJ1Z0FCIiwicmF3Q29uZmlnIiwicmF3IiwidmlzaWJpbGl0eVNvdXJjZSIsImZpbmlzaE1vZGUiLCJvdmVybGF5V2lkdGhNb2RlIiwiQ2FudmFzRWRpdG9yIiwic2x1ZyIsInpvb20iLCJvbkhpc3RvcmlhbENoYW5nZSIsIm9uRnV0dXJvc0NoYW5nZSIsInVzZXJJZCIsIm9uU3RhcnR1cFN0YXR1c0NoYW5nZSIsIm9iamV0b3MiLCJzZXRPYmpldG9zIiwiY2VsZGFHYWxlcmlhQWN0aXZhIiwic2V0Q2VsZGFHYWxlcmlhQWN0aXZhIiwic2VjY2lvbmVzIiwic2V0U2VjY2lvbmVzIiwiaGlzdG9yaWFsIiwic2V0SGlzdG9yaWFsIiwiZnV0dXJvcyIsInNldEZ1dHVyb3MiLCJlbGVtZW50b3NTZWxlY2Npb25hZG9zIiwic2V0RWxlbWVudG9zU2VsZWNjaW9uYWRvcyIsImNhcmdhZG8iLCJzZXRDYXJnYWRvIiwiZHJhZ1N0YXJ0UG9zIiwiaGFzRHJhZ2dlZCIsImlzRHJhZ2dpbmciLCJzZXRJc0RyYWdnaW5nIiwiaW1wZXJhdGl2ZU9iamVjdHMiLCJhbmltYW5kb1NlY2Npb24iLCJzZXRBbmltYW5kb1NlY2Npb24iLCJzZWNjaW9uQWN0aXZhSWQiLCJzZXRTZWNjaW9uQWN0aXZhSWQiLCJzZWxlY2Npb25BY3RpdmEiLCJzZXRTZWxlY2Npb25BY3RpdmEiLCJpbmljaW9TZWxlY2Npb24iLCJzZXRJbmljaW9TZWxlY2Npb24iLCJhcmVhU2VsZWNjaW9uIiwic2V0QXJlYVNlbGVjY2lvbiIsImVsZW1lbnRvc1ByZVNlbGVjY2lvbmFkb3MiLCJzZXRFbGVtZW50b3NQcmVTZWxlY2Npb25hZG9zIiwiZ3VpYUxheWVyUmVmIiwiaG92ZXJJZCIsInNldEhvdmVySWQiLCJhbHRvQ2FudmFzIiwicmVkdWNlIiwiYWNjIiwicyIsImFsdHVyYSIsInNlY2Npb25lc0FuaW1hbmRvIiwic2V0U2VjY2lvbmVzQW5pbWFuZG8iLCJyZWZyZXNjYXIiLCJyZWZyZXNjYXJQbGFudGlsbGFzRGVTZWNjaW9uIiwiZWxlbWVudG9Db3BpYWRvIiwic2V0RWxlbWVudG9Db3BpYWRvIiwiZWxlbWVudFJlZnMiLCJpbmxpbmVFZGl0UHJldmlld1JlZiIsImlkIiwiY2VudGVyWCIsImlubGluZUNvbW1pdERlYnVnUmVmIiwicHJldkVkaXRpbmdJZFJlZiIsImlubGluZVJlbmRlclZhbHVlUmVmIiwiaW5saW5lT3ZlcmxheU1vdW50ZWRJZCIsInNldElubGluZU92ZXJsYXlNb3VudGVkSWQiLCJjb250ZW5lZG9yUmVmIiwiZWRpdG9yT3ZlcmxheVJvb3RSZWYiLCJhdXRvU2VjdGlvblZpZXdwb3J0UmVmIiwiYXV0b1NlY3Rpb25TY3JvbGxSYWZSZWYiLCJzZWNjaW9uQWN0aXZhSWRSZWYiLCJpZ25vcmVOZXh0VXBkYXRlUmVmIiwiYW5jaG9TdGFnZSIsInNldEFuY2hvU3RhZ2UiLCJtb3N0cmFyU2VsZWN0b3JGdWVudGUiLCJzZXRNb3N0cmFyU2VsZWN0b3JGdWVudGUiLCJtb3N0cmFyU3VibWVudUNhcGEiLCJzZXRNb3N0cmFyU3VibWVudUNhcGEiLCJmdWVudGVzRGlzcG9uaWJsZXMiLCJlc0FkbWluIiwibG9hZGluZ0NsYWltcyIsImJhY2tncm91bmRMb2FkQnlTZWN0aW9uIiwic2V0QmFja2dyb3VuZExvYWRCeVNlY3Rpb24iLCJtb2JpbGVCYWNrZ3JvdW5kRWRpdFNlY3Rpb25JZCIsInNldE1vYmlsZUJhY2tncm91bmRFZGl0U2VjdGlvbklkIiwiZGVsZXRlU2VjdGlvbk1vZGFsIiwic2V0RGVsZXRlU2VjdGlvbk1vZGFsIiwiaXNPcGVuIiwic2VjdGlvbklkIiwiaXNEZWxldGluZ1NlY3Rpb24iLCJzZXRJc0RlbGV0aW5nU2VjdGlvbiIsIm1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiIsInNldE1vYmlsZVNlY3Rpb25BY3Rpb25zT3BlbiIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsImlzVGV4dFJlc2l6ZURlYnVnRW5hYmxlZCIsIkJvb2xlYW4iLCJfX0RCR19URVhUX1JFU0laRSIsInRleHRSZXNpemVEZWJ1ZyIsImFyZ3MiLCJjb250cm9sYW5kb0FsdHVyYSIsImluaWNpYXJDb250cm9sQWx0dXJhIiwiZmluYWxpemFyQ29udHJvbEFsdHVyYSIsInRvZ2dsZVBhbnRhbGxhQ29tcGxldGFTZWNjaW9uIiwiaGFuZGxlQ3JlYXJTZWNjaW9uIiwibnVldm9UZXh0b1JlZiIsInNlY2Npb25lc09yZGVuYWRhcyIsInNvcnQiLCJhIiwiYiIsIm9yZGVuIiwiaGFuZGxlQmFja2dyb3VuZEltYWdlU3RhdHVzQ2hhbmdlIiwiaGFzQmFja2dyb3VuZEltYWdlIiwiaW1hZ2VVcmwiLCJpbmNvbWluZ1N0YXR1cyIsInN0YXR1cyIsImJhY2tncm91bmRMb2FkU3VtbWFyeSIsInNlY3Rpb25zV2l0aEJhY2tncm91bmRJbWFnZSIsImZpbHRlciIsInNlY2Npb24iLCJmb25kb1RpcG8iLCJmb25kb0ltYWdlbiIsInRyaW0iLCJsb2FkZWQiLCJmYWlsZWQiLCJwZW5kaW5nIiwidG90YWwiLCJzdGFydHVwUmVhZHkiLCJkcmFmdExvYWRlZCIsInRvdGFsQmFja2dyb3VuZHMiLCJsb2FkZWRCYWNrZ3JvdW5kcyIsImZhaWxlZEJhY2tncm91bmRzIiwicGVuZGluZ0JhY2tncm91bmRzIiwiY2FuY2VsbGVkIiwicmFmQSIsInJhZkIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInNlY2Npb25QZW5kaWVudGVFbGltaW5hciIsImZpbmQiLCJjYW50aWRhZEVsZW1lbnRvc1NlY2Npb25QZW5kaWVudGUiLCJzZWNjaW9uSWQiLCJlZGl0aW5nIiwic3RhcnRFZGl0IiwidXBkYXRlRWRpdCIsImZpbmlzaEVkaXQiLCJvYnRlbmVyTWV0cmljYXNOb2RvSW5saW5lIiwibm9kZSIsImNsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsIngiLCJ5IiwidGV4dFdpZHRoIiwiZ2V0VGV4dFdpZHRoIiwiY2VpbCIsInJlY3QiLCJnZXRDbGllbnRSZWN0Iiwic2tpcFRyYW5zZm9ybSIsInNraXBTaGFkb3ciLCJza2lwU3Ryb2tlIiwid2lkdGgiLCJoZWlnaHQiLCJjZXJyYXJNZW51c0Zsb3RhbnRlcyIsInNldE1vc3RyYXJQYW5lbFoiLCJzZXRNb3N0cmFyU2VsZWN0b3JUYW1hbm8iLCJvYmpldG9TZWxlY2Npb25hZG8iLCJvIiwibW9zdHJhclNlbGVjdG9yVGFtYW5vIiwidGFtYW5pb3NEaXNwb25pYmxlcyIsImZyb20iLCJfIiwiaSIsImJvdG9uT3BjaW9uZXNSZWYiLCJfcmVmRXZlbnRRdWV1ZWQiLCJyZWdpc3RlclJlZiIsInJlZ2lzdGVyT2JqZWN0IiwiYWRkIiwiZGVsZXRlIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwibG9hZGVkRm9udEZhbWlsaWVzUmVmIiwiaXNNb2JpbGUiLCJpc01vYmlsZVBvcnRyYWl0Iiwic2NhbGUiLCJhbmNob0NvbnRlbmVkb3IiLCJlc2NhbGFBY3RpdmEiLCJlc2NhbGFWaXN1YWwiLCJ3cmFwcGVyQmFzZVdpZHRoIiwiZXNjYWxhRml0TW9iaWxlUG9ydHJhaXQiLCJtb2JpbGVUeXBvZ3JhcGh5VG9vbGJhclZpc2libGUiLCJ0aXBvIiwiZmlndXJhIiwidGV4dG8iLCJtb2JpbGVUZXh0VG9vbGJhclZpc2libGUiLCJtb2JpbGVGb250U3RyaXBWaXNpYmxlIiwibW9iaWxlU2l6ZVN0cmlwVmlzaWJsZSIsIm1vYmlsZUJvdHRvbVR5cG9ncmFwaHlTdHJpcFZpc2libGUiLCJvcHRpb25CdXR0b25TaXplIiwiZGVzaXJlZFJhdGlvIiwiZ2V0U3RhZ2UiLCJiYXRjaERyYXciLCJpbmxpbmVEZWJ1Z0FCIiwiX19JTkxJTkVfQUIiLCJoYW5kbGVJbmxpbmVPdmVybGF5TW91bnRDaGFuZ2UiLCJtb3VudGVkIiwic2FmZUlkIiwicHJldmlvdXMiLCJwcmV2aW91c092ZXJsYXlNb3VudGVkSWQiLCJuZXh0T3ZlcmxheU1vdW50ZWRJZCIsImNhcHR1cmVJbmxpbmVTbmFwc2hvdCIsImV2ZW50TmFtZSIsImV4dHJhIiwiX19JTkxJTkVfU05BUFNIT1QiLCJzbmFwc2hvdEFsbG93bGlzdCIsImZyYW1lTWV0YSIsInNuYXBzaG90SWQiLCJub2RlTWV0cmljcyIsIm9iak1ldHJpY3MiLCJpc0Zpbml0ZSIsInRleHRvTGVuZ3RoIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0Iiwic3RhZ2VSZWN0IiwiciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlubGluZVJlY3QiLCJpbmxpbmVTdHlsZSIsImlubGluZUNvbnRlbnRSZWN0IiwiaW5saW5lQ29udGVudE1ldHJpY3MiLCJvdmVybGF5RWwiLCJjb250ZW50RWwiLCJsZWZ0IiwidG9wIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsImNvbnRlbnRSZWN0Iiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsImlzRm9jdXNlZCIsImFjdGl2ZUVsZW1lbnQiLCJ0cmFuc2Zvcm1lclJlY3QiLCJ0cmFuc2Zvcm1lciIsImZpbmRPbmUiLCJ0clJlY3QiLCJub2RlcyIsIm5vZGVzQ291bnQiLCJpbmNsdWRlc1NuYXBzaG90Tm9kZSIsImVkaXRpbmdJZCIsImN1cnJlbnRFZGl0aW5nSWQiLCJfY3VycmVudEVkaXRpbmdJZCIsIm92ZXJsYXlNb3VudGVkSWQiLCJpbmxpbmVBQiIsInNjcm9sbFgiLCJzY3JvbGxZIiwiY3VycmVudElkIiwiY3VycmVudFZhbHVlIiwicHJldlN0YXRzIiwibmV4dFN0YXRzIiwibGluZWJyZWFrQ2hhbmdlZCIsImluY2x1ZGVzRWRpdGluZ05vZGUiLCJvdmVybGF5UmVjdCIsImNyIiwicHJldkxlbmd0aCIsIm5leHRMZW5ndGgiLCJwcmV2TGluZUNvdW50IiwibmV4dExpbmVDb3VudCIsInByZXZUcmFpbGluZ05ld2xpbmVzIiwibmV4dFRyYWlsaW5nTmV3bGluZXMiLCJwcmV2aW91c0xlbmd0aCIsInZhbHVlTGVuZ3RoIiwibm9ybWFsaXplZEFCIiwiZW5hYmxlZCIsImZyYW1lU2VxIiwicHJldmlvdXNJZCIsImZ1ZW50ZXNOZWNlc2FyaWFzIiwiZm9udHMiLCJmb250RmFtaWx5IiwicHJldmlvdXNDdXJyZW50RWRpdGluZ0lkIiwibmV4dEN1cnJlbnRFZGl0aW5nSWQiLCJhY3R1YWxpemFyT2Zmc2V0Rm9uZG8iLCJudWV2b3NPZmZzZXRzIiwiZXNQcmV2aWV3Iiwic2VjY2lvbkFjdHVhbGl6YWRhIiwib2Zmc2V0WCIsImZvbmRvSW1hZ2VuT2Zmc2V0WCIsIm9mZnNldFkiLCJmb25kb0ltYWdlbk9mZnNldFkiLCJhc2lnbmFySW1hZ2VuQUdhbGVyaWEiLCJ1cmwiLCJnIiwib2JqSWQiLCJpbmRleCIsImZpbmRJbmRleCIsImNvcGlhIiwic3RydWN0dXJlZENsb25lIiwiY2VsbHMiLCJtZWRpYVVybCIsImZpdCIsImJnIiwiX3Jlc2l6ZURhdGEiLCJtb3N0cmFyUGFuZWxaIiwiaXNTZWxlY3Rpb25Sb3RhdGluZyIsInNldElzU2VsZWN0aW9uUm90YXRpbmciLCJsb2dPcHRpb25CdXR0b25NZW51RGVidWciLCJfX0RCR19PUFRJT05fQlVUVE9OIiwidG9nZ2xlUGFuZWxPcGNpb25lcyIsInNvdXJjZSIsIm5hdGl2ZUV2ZW50Iiwic2VsZWN0ZWRJZCIsInNlbGVjdGlvbkNvdW50IiwibmF0aXZlRXZlbnRUeXBlIiwidHlwZSIsInBvaW50ZXJUeXBlIiwib3BlbiIsIm1vdmVyRWxlbWVudG8iLCJhY2Npb24iLCJudWV2b3MiLCJlbGVtZW50byIsInNwbGljZSIsInB1c2giLCJ1bnNoaWZ0Iiwib25EZXNoYWNlciIsIm9uUmVoYWNlciIsIm9uRHVwbGljYXIiLCJvbkVsaW1pbmFyIiwib25Db3BpYXIiLCJvblBlZ2FyIiwib25DYW1iaWFyQWxpbmVhY2lvbiIsImNvbnRlbnQiLCJzZXRTY3JvbGxNb2RlIiwidG91Y2hBY3Rpb24iLCJzZXRFZGl0TW9kZSIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnRW5kIiwic3RvcERyYWdnaW5nIiwiV2Via2l0VXNlclNlbGVjdCIsIldlYmtpdFRvdWNoQ2FsbG91dCIsIm9uIiwib2ZmIiwic2V0RHJhZ0Rpc3RhbmNlRm9ySW5wdXQiLCJpc1RvdWNoTGlrZSIsIm9uUG9pbnRlckRvd24iLCJvblRvdWNoU3RhcnQiLCJvbk1vdXNlRG93biIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXNzaXZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9sYXN0U2VjY2lvbkFjdGl2YUlkIiwiRXZlbnQiLCJoYW5kbGVDbGlja0Z1ZXJhIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJwcmVsb2FkUG9wdWxhckZvbnRzIiwiaGFuZGxlRm9udHNMb2FkZWQiLCJhbGl2ZSIsInByZWNhcmdhciIsInBlbmRpZW50ZXMiLCJmb250TmFtZSIsIm1heWJlUHJvbWlzZSIsImxvYWRGb250cyIsInRoZW4iLCJsb2FkIiwiUHJvbWlzZSIsImFsbCIsImYiLCJ3YXJuIiwiYWN0dWFsaXphck9iamV0byIsIm51ZXZvIiwiZnJvbVRyYW5zZm9ybSIsImNsZWFuTnVldm8iLCJwb2ludHMiLCJhY3R1YWxpemFyT2JqZXRvUG9ySWQiLCJjYW1iaW9zIiwibm9ybWFsaXphck1lZGlkYXNHYWxlcmlhIiwiZ2FsZXJpYSIsIndpZHRoQ2FuZGlkYXRlIiwieENhbmRpZGF0ZSIsImNhbnZhc1dpZHRoIiwicm93cyIsIm1heCIsImNvbHMiLCJnYXAiLCJjZWxsUmF0aW8iLCJyYXRpbyIsIm1pbkdyaWRXaWR0aCIsIndpZHRoUGN0IiwibWF4WCIsImZhbGxiYWNrWCIsInJhd1giLCJjZWxsVyIsImNlbGxIIiwiYWN0dWFsaXphckxpbmVhIiwibGluZUlkIiwibnVldmFEYXRhIiwiaXNQcmV2aWV3IiwiY2xlYW5EYXRhIiwicCIsInBhcnNlRmxvYXQiLCJzdHJva2VXaWR0aCIsInBhcnNlSW50IiwiaXNGaW5hbCIsIm9idGVuZXJNZXRyaWNhc1RleHRvIiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJmYWxsYmFja1NpemUiLCJzYWZlRm9udFNpemUiLCJzYWZlTGluZUhlaWdodCIsInNhZmVGYW1pbHkiLCJmb250Rm9yQ2FudmFzIiwidGVzdCIsImZvbnQiLCJyYXdUZXh0Iiwic2FmZVRleHQiLCJsaW5lcyIsIm1heExpbmVXaWR0aCIsImxpbmUiLCJtZWFzdXJlVGV4dCIsIm1lZGlyQW5jaG9UZXh0b0tvbnZhIiwib2JqVGV4dG8iLCJ0ZXh0b09iamV0aXZvIiwiZm9udFNpemVPdmVycmlkZSIsInByb2JlIiwic2FmZUZvbnRGYW1pbHkiLCJpc0ZvbnRBdmFpbGFibGUiLCJiYXNlTGluZUhlaWdodCIsInRleHQiLCJwYWRkaW5nIiwid3JhcCIsImRlc3Ryb3kiLCJtZWRpckFsdG9UZXh0b0tvbnZhIiwiY2FsY3VsYXJYVGV4dG9DZW50cmFkb1BvclRhbWFubyIsIm5leHRGb250U2l6ZSIsInNhZmVOZXh0U2l6ZSIsInByZXZpb3VzTWV0cmljcyIsIm5leHRNZXRyaWNzIiwicHJldmlvdXNXaWR0aEZyb21Lb252YSIsIm5leHRXaWR0aEZyb21Lb252YSIsInByZXZpb3VzV2lkdGgiLCJuZXh0V2lkdGgiLCJjdXJyZW50WCIsImNhbGN1bGFyWFRleHRvRGVzZGVDZW50cm8iLCJzYWZlQ2VudGVyWCIsImNhbGN1bGFyWVRleHRvRGVzZGVDZW50cm8iLCJjZW50ZXJZIiwic2FmZUNlbnRlclkiLCJuZXh0SGVpZ2h0RnJvbUtvbnZhIiwibmV4dEhlaWdodCIsImNhbGN1bGFyUG9zVGV4dG9EZXNkZUNlbnRybyIsInJvdGF0aW9uRGVnIiwic2FmZVJvdGF0aW9uIiwidGhldGEiLCJQSSIsIm1ldHJpY3MiLCJ3aWR0aEZyb21Lb252YSIsImhlaWdodEZyb21Lb252YSIsImhhbGZXIiwiaGFsZkgiLCJjZW50ZXJPZmZzZXRYIiwiY29zIiwic2luIiwiY2VudGVyT2Zmc2V0WSIsImZhbGxiYWNrWSIsImFqdXN0YXJGb250U2l6ZUFBbmNob1Zpc3VhbCIsInByb3Bvc2VkRm9udFNpemUiLCJ0YXJnZXRWaXN1YWxXaWR0aCIsInNhZmVQcm9wb3NlZCIsInNhZmVUYXJnZXRXaWR0aCIsImN1cnJlbnRGb250U2l6ZSIsIm5leHRTaXplIiwibWVhc3VyZWRXaWR0aCIsIml0ZXJhdGlvbiIsImNhbmRpZGF0ZSIsInByZXZTaXplIiwiYWJzIiwiZmluYWxTaXplIiwiY2FsY3VsYXJYVGV4dG9DZW50cmFkbyIsImRlc2NyaWJlVGFyZ2V0IiwiRWxlbWVudCIsInRhZyIsInRhZ05hbWUiLCJjbGFzc2VzIiwiY2xhc3NMaXN0Iiwic2xpY2UiLCJqb2luIiwiaXNJbnNpZGVGbG9hdGluZ1VpIiwiaGFuZGxlUG9pbnRlck91dHNpZGUiLCJpbnNpZGVGbG9hdGluZ1VpIiwiZXZlbnRUeXBlIiwiY2FwdHVyZSIsImFjdHVhbGl6YXJGb25kb1NlY2Npb24iLCJudWV2b0ZvbmRvIiwiZm9uZG8iLCJvbkRlc2VsZWNjaW9uYXIiLCJpc0VkaXRpbmciLCJ0aWVuZVNlbGVjY2lvbiIsImNhbWJpYXJDb2xvckZvbmRvU2VjY2lvbiIsIm51ZXZvQ29sb3IiLCJoaXN0b3JpYWxMZW5ndGgiLCJmdXR1cm9zTGVuZ3RoIiwiZXNTZWNjaW9uUGFudGFsbGFCeUlkIiwiYWx0b01vZG8iLCJhbHRvQ2FudmFzRGluYW1pY28iLCJhYnJpck1vZGFsQm9ycmFyU2VjY2lvbiIsImNlcnJhck1vZGFsQm9ycmFyU2VjY2lvbiIsImNvbmZpcm1hckJvcnJhclNlY2Npb24iLCJvblNlbGVjdFNlY2Npb24iLCJfc2VjY2lvbkFjdGl2YUlkIiwicmVzb2x2ZXJWaWV3cG9ydFNjcm9sbFNlY2Npb25lcyIsInN0YWdlQ29udGFpbmVyIiwibWFpbkVsZW1lbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3ciLCJpc1Njcm9sbGFibGUiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzaW5jcm9uaXphclNlY2Npb25WaXNpYmxlUG9yU2Nyb2xsIiwidmlld3BvcnQiLCJ2aWV3cG9ydFRvcCIsInZpZXdwb3J0Qm90dG9tIiwiZG9jdW1lbnRFbGVtZW50Iiwidmlld3BvcnRSZWN0IiwiYm90dG9tIiwiYWx0dXJhU3RhZ2VQeCIsImFsdHVyYUNhbnZhcyIsInB4UG9yVW5pZGFkIiwiY2VudHJvVmlld3BvcnQiLCJtZWpvcklkIiwibWVqb3JWaXNpYmxlIiwibWVqb3JSYXRpbyIsIm1lam9yRGlzdGFuY2lhQ2VudHJvIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJhbHR1cmFTZWNjaW9uIiwidmlzaWJsZSIsInJhdGlvVmlzaWJsZSIsImRpc3RhbmNpYUNlbnRybyIsIm1lam9yYVBvclZpc2libGUiLCJlbXBhdGVWaXNpYmxlIiwibWVqb3JhUG9yUmF0aW8iLCJlbXBhdGVSYXRpbyIsIm1lam9yYVBvckNlbnRybyIsInNjcm9sbFRhcmdldCIsInNjaGVkdWxlU3luYyIsImV2ZW50VGFyZ2V0IiwidmlzdWFsVmlld3BvcnQiLCJndWlhTGluZWFzIiwibW9zdHJhckd1aWFzIiwibGltcGlhckd1aWFzIiwiY29uZmlndXJhckRyYWdFbmQiLCJhbmNob0NhbnZhcyIsIm1hcmdlblNlbnNpYmlsaWRhZCIsIm1hZ25ldFJhZGl1cyIsInNlY3Rpb25NYWduZXRSYWRpdXMiLCJzbmFwU3RyZW5ndGgiLCJzZWN0aW9uU25hcFN0cmVuZ3RoIiwic2VjdGlvbkxpbmVUb2xlcmFuY2UiLCJzbmFwVG9FZGdlcyIsInNuYXBUb0NlbnRlcnMiLCJhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzIiwibGF5b3V0Um9vdFJlZiIsImJ1dHRvblNpemUiLCJoYW5kbGVUcmFuc2Zvcm1JbnRlcmFjdGlvblN0YXJ0Iiwicm90YXRpbmciLCJpc1JvdGF0ZSIsImhhbmRsZVRyYW5zZm9ybUludGVyYWN0aW9uRW5kIiwib25EcmFnU3RhcnRHbG9iYWwiLCJvbkRyYWdFbmRHbG9iYWwiLCJfbGluZUludGVyc2VjdGlvbkNhY2hlIiwiX2dydXBvTGlkZXIiLCJyZWNlbnRseUVuZGVkR3JvdXBEcmFnIiwiX3NraXBVbnRpbCIsImhheUxpbmVhcyIsInNvbWUiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJnZXRMYXllciIsImNsZWFyVGltZW91dCIsImxpbmVPYmoiLCJhcmVhIiwicHVudG9zTGltcGlvcyIsIl9lbGVtZW50UmVmcyIsImxpbmVYIiwibGluZVkiLCJzdGFydFgiLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsInN0YXJ0RGVudHJvIiwiZW5kRGVudHJvIiwiaW50ZXJzZWN0YSIsImxpbmVJbnRlcnNlY3RzUmVjdCIsIngxIiwieTEiLCJ4MiIsInkyIiwicmVjdExlZnQiLCJyZWN0VG9wIiwicmVjdFJpZ2h0IiwicmVjdEJvdHRvbSIsImxpbmVJbnRlcnNlY3RzTGluZSIsIngzIiwieTMiLCJ4NCIsInk0IiwiZGVub20iLCJ0IiwidSIsIm9iamV0b0VuRWRpY2lvbiIsIm5vZGVDbGFzcyIsImJlZm9yZU1ldHJpY3MiLCJlZGl0aW5nVmFsdWUiLCJzaG91bGRLZWVwQ2VudGVyUHJldmlldyIsIl9fZ3JvdXBBbGlnbiIsIl9fYXV0b1dpZHRoIiwiZXhwZWN0ZWRYIiwib2JqWCIsIm9ialkiLCJmb3JjZVVwZGF0ZSIsImFmdGVyTWV0cmljcyIsImFmdGVyWCIsImRlbHRhWCIsImZpbmFsT2JqIiwiZmluYWxOb2RlIiwiZmluYWxOb2RlTWV0cmljcyIsImZpbmFsWCIsImRlbHRhRmluYWxWc0V4cGVjdGVkIiwiX2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MiLCJfb2JqZXRvc0FjdHVhbGVzIiwiX3NlY2Npb25lc09yZGVuYWRhcyIsIl9hbHRvQ2FudmFzIiwiaWRzIiwiYWN0aXZlU2VjdGlvbklkIiwiZ2FsbGVyeUNlbGwiLCJnYWxlcmlhRXhpc3RlIiwiX2NlbGRhR2FsZXJpYUFjdGl2YSIsImNlbGwiLCJzZXRIb3ZlcklkR2xvYmFsIiwiZXhpc3RzIiwiY2xlYW51cCIsInN0YWdlR2VzdHVyZXMiLCJtb2JpbGVDYW52YXNUb29sYmFyT2Zmc2V0IiwibW9iaWxlU2VjdGlvbkFjdGlvbnNUb3AiLCJkaXYiLCJyZWYiLCJtYXJnaW5Ub3AiLCJwb3NpdGlvbiIsIm92ZXJmbG93WCIsIldlYmtpdE92ZXJmbG93U2Nyb2xsaW5nIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJ0cmFuc2l0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwidHJhbnNmb3JtIiwidHJhbnNmb3JtT3JpZ2luIiwiZXNQcmltZXJhIiwiZXNVbHRpbWEiLCJlc3RhQW5pbWFuZG8iLCJzZWN0aW9uQnV0dG9uQmFzZSIsInNlY3Rpb25CdXR0b25EaXNhYmxlZCIsInNlY3Rpb25CdXR0b25QcmltYXJ5Iiwic2VjdGlvbkJ1dHRvbk5ldXRyYWwiLCJzZWN0aW9uQnV0dG9uU3VjY2VzcyIsInNlY3Rpb25CdXR0b25EYW5nZXIiLCJhY3Rpb25CdXR0b25zIiwiYnV0dG9uIiwib25DbGljayIsImRpcmVjY2lvbiIsImRpc2FibGVkIiwidGl0bGUiLCJzcGFuIiwib25DaGFuZ2UiLCJjb2xvciIsIm1vZG9TZWNjaW9uIiwiZXNQYW50YWxsYSIsInJpZ2h0IiwiekluZGV4IiwicGVyZmVjdERyYXdFbmFibGVkIiwibGlzdGVuaW5nIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwicHJldmVudERlZmF1bHQiLCJoaXRHcmFwaEVuYWJsZWQiLCJiYWNrZ3JvdW5kIiwiYm94U2hhZG93Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJmbGF0TWFwIiwiYWx0dXJhUHgiLCJlc0FjdGl2YSIsImVsZW1lbnRvcyIsIm9uU2VsZWN0Iiwib25VcGRhdGVGb25kb09mZnNldCIsIm1vYmlsZUJhY2tncm91bmRFZGl0RW5hYmxlZCIsIm9uQmFja2dyb3VuZEltYWdlU3RhdHVzQ2hhbmdlIiwiZmlsbCIsInN0cm9rZSIsIm9uVGFwIiwiY29udHJvbFkiLCJwZXJtaXRlUmVzaXplQWx0dXJhIiwibmFtZSIsImRhc2giLCJvcGFjaXR5Iiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiZHJhZ2dhYmxlIiwiY29ybmVyUmFkaXVzIiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0IiwicmFkaXVzIiwicm91bmQiLCJpc0luRWRpdE1vZGUiLCJvbkhvdmVyIiwiaXNTZWxlY3RlZCIsIm9uUGlja0NlbGwiLCJpbmZvIiwiZXZ0IiwiY2FuY2VsQnViYmxlIiwib25EcmFnTW92ZVBlcnNvbmFsaXphZG8iLCJwb3MiLCJfaXNEcmFnZ2luZyIsIm9uRHJhZ1N0YXJ0UGVyc29uYWxpemFkbyIsImRyYWdJZCIsIm9uRHJhZ0VuZFBlcnNvbmFsaXphZG8iLCJ1cGRhdGVkIiwib2JqT3JpZ2luYWwiLCJmaW5hbGl6b0RyYWciLCJudWV2YVNlY2Npb24iLCJjb29yZGVuYWRhc0FqdXN0YWRhcyIsIm9ialByZXZpZXciLCJ0ZXh0b1ByZXZpZXciLCJwcmV2aWV3T2JqIiwicHJldmlld1giLCJpZHhTZWMiLCJ5TG9jYWwiLCJ5Tm9ybSIsInByZVNlbGVjY2lvbmFkbyIsIm9uU3RhcnRUZXh0RWRpdCIsIm9iamVjdFgiLCJvYmplY3RZIiwiaW5saW5lVmlzaWJpbGl0eU1vZGUiLCJmaW5pc2hJbmxpbmVFZGl0IiwiZXNTaGlmdCIsInNoaWZ0S2V5IiwiaXNEcmFnUHJldmlldyIsInNraXBIaXN0b3JpYWwiLCJpc0JhdGNoVXBkYXRlRmluYWwiLCJkcmFnSW5pY2lhbCIsImRlbHRhWSIsIm9iamV0byIsInBvc0luaWNpYWwiLCJjb29yZGVuYWRhc0ZpbmFsZXMiLCJzZWNjaW9uRmluYWxJZCIsInlSZWxQeCIsImhheURpZmVyZW5jaWFzIiwidmFsb3JBbnRlcmlvciIsInZhbG9yTnVldm8iLCJzZWxlY2Npb25BY3R1YWwiLCJlbGVtZW50SWQiLCJzZWxlY3RlZEVsZW1lbnRzIiwib25UcmFuc2Zvcm1JbnRlcmFjdGlvblN0YXJ0Iiwib25UcmFuc2Zvcm1JbnRlcmFjdGlvbkVuZCIsIm9uVHJhbnNmb3JtIiwibmV3QXR0cnMiLCJvYmpJbmRleCIsInVwZGF0ZWRFbGVtZW50Iiwicm90YXRpb24iLCJnYWxsZXJ5TWV0cmljcyIsInNjYWxlWCIsInNjYWxlWSIsImlzUmVzaXppbmciLCJjbGVhbkF0dHJzIiwiZmluYWxBdHRycyIsInJlcXVlc3RlZEZvbnRTaXplIiwib3JpZ2luYWxGb250U2l6ZSIsInJvdGF0aW9uRmluYWwiLCJwcmV2aW91c1JvdGF0aW9uIiwicm90YXRpb25DaGFuZ2VkIiwiZm9udFNpemVDaGFuZ2VkIiwic2hvdWxkTWF0Y2hWaXN1YWxXaWR0aCIsInRleHRWaXN1YWxXaWR0aCIsInNob3VsZFVzZU5vZGVQb3NlIiwiY2VudGVyZWRQb3NBYnMiLCJ0ZXh0Q2VudGVyWCIsInRleHRDZW50ZXJZIiwiY2VudGVyZWRYIiwiY2VudGVyZWRZQWJzIiwiY2VudGVyZWRZIiwiY2xlYW5Gb250U2l6ZSIsIm9yaWdpbmFsWCIsIm9yaWdpbmFsWSIsImZpbmFsRm9udFNpemUiLCJmaW5hbFkiLCJpZHgiLCJzYWZlIiwiY29tbWl0U25hcHNob3QiLCJub2RlQWZ0ZXJDb21taXQiLCJyZWN0QWZ0ZXJDb21taXQiLCJub2RlWCIsIm5vZGVZIiwibm9kZVNjYWxlWCIsIm5vZGVTY2FsZVkiLCJub2RlRm9udFNpemUiLCJub2RlUmVjdFdpZHRoIiwibm9kZVJlY3RIZWlnaHQiLCJlcnIiLCJtZXNzYWdlIiwiaG92ZXJlZEVsZW1lbnQiLCJlbGVtZW50b1NlbGVjY2lvbmFkbyIsImxpbmVFbGVtZW50Iiwib25VcGRhdGVMaW5lIiwiaXNEcmFnR3J1cGFsQWN0aXZlIiwibGluZWEiLCJlc0xpbmVhU2VjY2lvbiIsInByaW9yaXR5Iiwic2hhZG93RW5hYmxlZCIsInRleHRBbGlnbiIsImFsaWduIiwib25PdmVybGF5TW91bnRDaGFuZ2UiLCJuZXh0VmFsdWUiLCJuZXh0VGV4dCIsIm9uRGVidWdFdmVudCIsIm9uRmluaXNoIiwiZmluaXNoSWQiLCJ0ZXh0b051ZXZvUmF3IiwidGV4dG9OdWV2b1ZhbGlkYWRvIiwibGl2ZU5vZGVBdEZpbmlzaCIsImxpdmVNZXRyaWNzQXRGaW5pc2giLCJyYXdMZW5ndGgiLCJ0cmltbWVkTGVuZ3RoIiwicHJldmlld1JlZiIsImFjdHVhbGl6YWRvIiwicGF0Y2giLCJzaG91bGRLZWVwQ2VudGVyWCIsIm5leHRYIiwicGF0Y2hYIiwib2JqZWN0WEJlZm9yZUNvbW1pdCIsImxpdmVOb2RlWEF0RmluaXNoIiwicHJldmlld0NlbnRlclgiLCJ0ZXh0TGVuZ3RoIiwibG9nRmluaXNoVmlzaWJpbGl0eUNoZWNrIiwicGhhc2UiLCJvdmVybGF5RG9tUHJlc2VudCIsImxpdmVOb2RlIiwicmVhY3RpdmVFZGl0aW5nSWQiLCJnbG9iYWxFZGl0aW5nSWQiLCJub2RlT3BhY2l0eSIsIm5vZGVWaXNpYmxlIiwic3RhZ2VBZnRlckZpbmlzaEVkaXQiLCJzY2FsZVZpc3VhbCIsIndpZHRoTW9kZSIsImRhdGEtb3B0aW9uLWJ1dHRvbiIsImFsaWduSXRlbXMiLCJwb2ludGVyRXZlbnRzIiwiYmFja2Ryb3BGaWx0ZXIiLCJib3JkZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJhcmlhLWxhYmVsIiwib25DZXJyYXIiLCJzZWN0aW9uTmFtZSIsIml0ZW1Db3VudCIsImlzRGVsZXRpbmciLCJvbkNhbmNlbCIsIm9uQ29uZmlybSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/CanvasEditor.jsx\n"));

/***/ }),

/***/ "(pages-dir-browser)/./src/components/SelectionBounds.jsx":
/*!********************************************!*\
  !*** ./src/components/SelectionBounds.jsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectionBounds)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konva */ \"(pages-dir-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n// SelectionBounds.jsx\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst DEBUG_SELECTION_BOUNDS = false;\nconst sbLog = function() {\n    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n        args[_key] = arguments[_key];\n    }\n    if (!DEBUG_SELECTION_BOUNDS) return;\n    console.log(\"[SB]\", ...args);\n};\nconst slog = sbLog;\nconst TRDBG = function() {\n    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n        args[_key] = arguments[_key];\n    }\n    if (!window.__DBG_TR) return;\n    console.log(\"[TRDBG]\", ...args);\n};\n_c = TRDBG;\nconst TXTDBG = function() {\n    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n        args[_key] = arguments[_key];\n    }\n    if (false) {}\n    if (!window.__DBG_TEXT_RESIZE) return;\n    console.log(\"[TEXT-TR]\", ...args);\n};\n_c1 = TXTDBG;\nfunction rectFromNodes(nodes) {\n    let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;\n    for (const n of nodes){\n        if (!(n === null || n === void 0 ? void 0 : n.getClientRect)) continue;\n        const r = n.getClientRect({\n            skipTransform: false,\n            skipShadow: true,\n            skipStroke: true\n        });\n        minX = Math.min(minX, r.x);\n        minY = Math.min(minY, r.y);\n        maxX = Math.max(maxX, r.x + r.width);\n        maxY = Math.max(maxY, r.y + r.height);\n    }\n    if (minX === Infinity) return null;\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY\n    };\n}\nfunction getCountdownScaledSize(node) {\n    try {\n        var _node_findOne;\n        const hitbox = node === null || node === void 0 ? void 0 : (_node_findOne = node.findOne) === null || _node_findOne === void 0 ? void 0 : _node_findOne.call(node, \".countdown-hitbox\");\n        const baseW = typeof (hitbox === null || hitbox === void 0 ? void 0 : hitbox.width) === \"function\" ? hitbox.width() : NaN;\n        const baseH = typeof (hitbox === null || hitbox === void 0 ? void 0 : hitbox.height) === \"function\" ? hitbox.height() : NaN;\n        const sx = Math.abs(typeof (node === null || node === void 0 ? void 0 : node.scaleX) === \"function\" ? node.scaleX() || 1 : 1);\n        const sy = Math.abs(typeof (node === null || node === void 0 ? void 0 : node.scaleY) === \"function\" ? node.scaleY() || 1 : 1);\n        if (Number.isFinite(baseW) && Number.isFinite(baseH) && baseW > 0 && baseH > 0) {\n            return {\n                width: Math.abs(baseW * sx),\n                height: Math.abs(baseH * sy)\n            };\n        }\n    } catch (e) {}\n    try {\n        const r = node.getClientRect({\n            skipTransform: false,\n            skipShadow: true,\n            skipStroke: true\n        });\n        return {\n            width: Math.abs(r.width),\n            height: Math.abs(r.height)\n        };\n    } catch (e) {}\n    return {\n        width: 100,\n        height: 50\n    };\n}\n// 🎨 Componente para mostrar bounds sin transformer (líneas, etc.)\nconst BoundsIndicator = (param)=>{\n    let { selectedElements, elementRefs, objetos } = param;\n    _s();\n    const [forceUpdate, setForceUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BoundsIndicator.useEffect\": ()=>{\n            var _elementRefs_current, _firstRef_getStage;\n            const firstRef = (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[selectedElements[0]];\n            const stage = firstRef === null || firstRef === void 0 ? void 0 : (_firstRef_getStage = firstRef.getStage) === null || _firstRef_getStage === void 0 ? void 0 : _firstRef_getStage.call(firstRef);\n            if (!stage) return;\n            const handleDragMove = {\n                \"BoundsIndicator.useEffect.handleDragMove\": ()=>{\n                    setForceUpdate({\n                        \"BoundsIndicator.useEffect.handleDragMove\": (p)=>p + 1\n                    }[\"BoundsIndicator.useEffect.handleDragMove\"]);\n                }\n            }[\"BoundsIndicator.useEffect.handleDragMove\"];\n            stage.on(\"dragmove\", handleDragMove);\n            return ({\n                \"BoundsIndicator.useEffect\": ()=>{\n                    stage.off(\"dragmove\", handleDragMove);\n                }\n            })[\"BoundsIndicator.useEffect\"];\n        }\n    }[\"BoundsIndicator.useEffect\"], [\n        selectedElements.join(\",\")\n    ]);\n    const elementosData = selectedElements.map((id)=>objetos.find((obj)=>obj.id === id)).filter(Boolean);\n    if (elementosData.length === 0) {\n        return null;\n    }\n    let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;\n    elementosData.forEach((obj)=>{\n        const node = elementRefs.current[obj.id];\n        if (!node) return;\n        try {\n            if (obj.tipo === \"forma\" && obj.figura === \"line\") {\n                const points = obj.points || [\n                    0,\n                    0,\n                    100,\n                    0\n                ];\n                const cleanPoints = [\n                    parseFloat(points[0]) || 0,\n                    parseFloat(points[1]) || 0,\n                    parseFloat(points[2]) || 100,\n                    parseFloat(points[3]) || 0\n                ];\n                const realX = node.x();\n                const realY = node.y();\n                const x1 = realX + cleanPoints[0];\n                const y1 = realY + cleanPoints[1];\n                const x2 = realX + cleanPoints[2];\n                const y2 = realY + cleanPoints[3];\n                const linePadding = 5;\n                minX = Math.min(minX, x1 - linePadding, x2 - linePadding);\n                minY = Math.min(minY, y1 - linePadding, y2 - linePadding);\n                maxX = Math.max(maxX, x1 + linePadding, x2 + linePadding);\n                maxY = Math.max(maxY, y1 + linePadding, y2 + linePadding);\n            } else {\n                var _node_scaleX, _node_scaleY;\n                const box = node.getClientRect({\n                    skipTransform: false,\n                    skipShadow: true,\n                    skipStroke: true\n                });\n                const r = box;\n                var _node_scaleX1;\n                const sx = (_node_scaleX1 = node === null || node === void 0 ? void 0 : (_node_scaleX = node.scaleX) === null || _node_scaleX === void 0 ? void 0 : _node_scaleX.call(node)) !== null && _node_scaleX1 !== void 0 ? _node_scaleX1 : 1;\n                var _node_scaleY1;\n                const sy = (_node_scaleY1 = node === null || node === void 0 ? void 0 : (_node_scaleY = node.scaleY) === null || _node_scaleY === void 0 ? void 0 : _node_scaleY.call(node)) !== null && _node_scaleY1 !== void 0 ? _node_scaleY1 : 1;\n                slog(\"[BI]\", \"id=\".concat(obj.id), \"tipo=\".concat(obj.tipo), \"sx=\".concat(sx.toFixed(3)), \"sy=\".concat(sy.toFixed(3)), \"rect(w=\".concat(r.width.toFixed(1), \",h=\").concat(r.height.toFixed(1), \")\"));\n                const realX = box.x;\n                const realY = box.y;\n                let width = box.width;\n                let height = box.height;\n                if (obj.tipo === \"texto\" && node.getTextHeight) {\n                    const textHeight = node.getTextHeight();\n                    if (textHeight) {\n                        height = textHeight;\n                    }\n                }\n                minX = Math.min(minX, realX);\n                minY = Math.min(minY, realY);\n                maxX = Math.max(maxX, realX + width);\n                maxY = Math.max(maxY, realY + height);\n            }\n        } catch (error) {\n            const fallbackX = obj.x || 0;\n            const fallbackY = obj.y || 0;\n            const fallbackSize = 20;\n            minX = Math.min(minX, fallbackX);\n            minY = Math.min(minY, fallbackY);\n            maxX = Math.max(maxX, fallbackX + fallbackSize);\n            maxY = Math.max(maxY, fallbackY + fallbackSize);\n        }\n    });\n    if (minX === Infinity || maxX === -Infinity) {\n        const primerElemento = elementosData[0];\n        if (!primerElemento) return null;\n        minX = primerElemento.x || 0;\n        minY = primerElemento.y || 0;\n        maxX = minX + 100;\n        maxY = minY + 50;\n    }\n    const padding = 10;\n    const finalX = minX - padding;\n    const finalY = minY - padding;\n    const finalWidth = maxX - minX + padding * 2;\n    const finalHeight = maxY - minY + padding * 2;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n        name: \"ui\",\n        x: finalX,\n        y: finalY,\n        width: finalWidth,\n        height: finalHeight,\n        fill: \"transparent\",\n        stroke: \"#9333EA\",\n        strokeWidth: 1,\n        listening: false,\n        opacity: 0.7\n    }, void 0, false, {\n        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\SelectionBounds.jsx\",\n        lineNumber: 188,\n        columnNumber: 5\n    }, undefined);\n};\n_s(BoundsIndicator, \"X1gDcjpboC/BQr7oI4aemyzw8+o=\");\n_c2 = BoundsIndicator;\nfunction SelectionBounds(param) {\n    let { selectedElements, elementRefs, objetos, onTransform, onTransformInteractionStart = null, onTransformInteractionEnd = null, isDragging, isMobile = false } = param;\n    _s1();\n    const transformerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [transformTick, setTransformTick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const lastNodesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const circleAnchorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textTransformAnchorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const transformGestureRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        isRotate: false,\n        activeAnchor: null\n    });\n    const elementosSeleccionadosData = selectedElements.map((id)=>objetos.find((obj)=>obj.id === id)).filter(Boolean);\n    const primerElemento = elementosSeleccionadosData[0] || null;\n    const esTexto = (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"texto\";\n    const esCountdown = (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"countdown\";\n    const esGaleria = selectedElements.length === 1 && (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"galeria\";\n    const lockAspectCountdown = selectedElements.length === 1 && esCountdown;\n    const lockAspectText = selectedElements.length === 1 && esTexto;\n    const transformerAnchorSize = isMobile ? 24 : 14;\n    const transformerRotateOffset = isMobile ? 34 : 24;\n    const transformerAnchorRadius = 999;\n    const transformerPadding = isMobile ? 10 : 4;\n    const transformerBorderStrokeWidth = isMobile ? 1.5 : 1;\n    const transformerAnchorStrokeWidth = isMobile ? 3 : 2.5;\n    const transformerAnchorShadowBlur = isMobile ? 9 : 6;\n    const transformerAnchorShadowOffsetY = isMobile ? 4 : 3;\n    const transformerRotationSnapTolerance = isMobile ? 8 : 5;\n    const esTriangulo = (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"forma\" && (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.figura) === \"triangle\";\n    const hasGallery = elementosSeleccionadosData.some((o)=>o.tipo === \"galeria\");\n    const hayLineas = elementosSeleccionadosData.some((obj)=>obj.tipo === \"forma\" && obj.figura === \"line\");\n    const elementosTransformables = elementosSeleccionadosData.filter((obj)=>!(obj.tipo === \"forma\" && obj.figura === \"line\"));\n    const deberiaUsarTransformer = elementosTransformables.length > 0;\n    const selectedGeomKey = elementosSeleccionadosData.map((o)=>{\n        var _o_x, _o_y, _o_width, _o_height, _o_scaleX, _o_scaleY, _o_rotation, _o_chipWidth, _o_gap, _o_paddingX, _o_paddingY;\n        return [\n            o.id,\n            (_o_x = o.x) !== null && _o_x !== void 0 ? _o_x : 0,\n            (_o_y = o.y) !== null && _o_y !== void 0 ? _o_y : 0,\n            (_o_width = o.width) !== null && _o_width !== void 0 ? _o_width : \"\",\n            (_o_height = o.height) !== null && _o_height !== void 0 ? _o_height : \"\",\n            (_o_scaleX = o.scaleX) !== null && _o_scaleX !== void 0 ? _o_scaleX : 1,\n            (_o_scaleY = o.scaleY) !== null && _o_scaleY !== void 0 ? _o_scaleY : 1,\n            (_o_rotation = o.rotation) !== null && _o_rotation !== void 0 ? _o_rotation : 0,\n            (_o_chipWidth = o.chipWidth) !== null && _o_chipWidth !== void 0 ? _o_chipWidth : \"\",\n            (_o_gap = o.gap) !== null && _o_gap !== void 0 ? _o_gap : \"\",\n            (_o_paddingX = o.paddingX) !== null && _o_paddingX !== void 0 ? _o_paddingX : \"\",\n            (_o_paddingY = o.paddingY) !== null && _o_paddingY !== void 0 ? _o_paddingY : \"\"\n        ].join(\":\");\n    }).join(\"|\");\n    const getTransformPose = (node)=>{\n        if (!node) return {\n            x: 0,\n            y: 0,\n            rotation: 0\n        };\n        if (esGaleria && typeof node.getParent === \"function\") {\n            const parent = node.getParent();\n            if (parent) {\n                return {\n                    x: typeof parent.x === \"function\" ? parent.x() : 0,\n                    y: typeof parent.y === \"function\" ? parent.y() : 0,\n                    rotation: typeof parent.rotation === \"function\" ? parent.rotation() || 0 : 0\n                };\n            }\n        }\n        return {\n            x: typeof node.x === \"function\" ? node.x() : 0,\n            y: typeof node.y === \"function\" ? node.y() : 0,\n            rotation: typeof node.rotation === \"function\" ? node.rotation() || 0 : 0\n        };\n    };\n    // 🔥 Efecto principal del Transformer (SIN retry / SIN flicker)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SelectionBounds.useEffect\": ()=>{\n            var _window_editing, _tr_nodes, _tr_nodes1, _tr_getLayer;\n            const tr = transformerRef.current;\n            if (!tr) return;\n            const selKey = selectedElements.join(\",\");\n            TRDBG(\"EFFECT start\", {\n                selKey,\n                isDragging,\n                deberiaUsarTransformer,\n                hasGallery,\n                elementosTransformablesLen: elementosTransformables.length,\n                transformTick,\n                editingId: ((_window_editing = window.editing) === null || _window_editing === void 0 ? void 0 : _window_editing.id) || null\n            });\n            // Si no corresponde transformer, no hagas detach agresivo (evita flicker)\n            if (!deberiaUsarTransformer) {\n                TRDBG(\"EFFECT exit: no transformer or gallery\", {\n                    selKey\n                });\n                return;\n            }\n            // Resolver nodes desde refs (fuente de verdad)\n            let nodosTransformables = elementosTransformables.map({\n                \"SelectionBounds.useEffect.nodosTransformables\": (o)=>{\n                    var _elementRefs_current;\n                    return (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[o.id];\n                }\n            }[\"SelectionBounds.useEffect.nodosTransformables\"]).filter(Boolean);\n            // Single select: usar ref fresco SIEMPRE\n            if (selectedElements.length === 1) {\n                var _elementRefs_current;\n                const idSel = selectedElements[0];\n                const refNode = ((_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[idSel]) || null;\n                if (refNode && typeof refNode.getClientRect === \"function\") {\n                    if (esGaleria && typeof refNode.findOne === \"function\") {\n                        const galleryFrame = refNode.findOne(\".gallery-transform-frame\");\n                        if (galleryFrame && typeof galleryFrame.getClientRect === \"function\") {\n                            nodosTransformables = [\n                                galleryFrame\n                            ];\n                        } else {\n                            nodosTransformables = [\n                                refNode\n                            ];\n                        }\n                    } else {\n                        nodosTransformables = [\n                            refNode\n                        ];\n                    }\n                }\n            }\n            // Si aún no hay nodos (imagen cargando, etc.), NO despegar (evita parpadeo)\n            if (nodosTransformables.length === 0) {\n                TRDBG(\"EFFECT exit: no nodes yet\", {\n                    selKey,\n                    wantedIds: elementosTransformables.map({\n                        \"SelectionBounds.useEffect\": (o)=>o.id\n                    }[\"SelectionBounds.useEffect\"]),\n                    refsPresent: elementosTransformables.map({\n                        \"SelectionBounds.useEffect\": (o)=>{\n                            var _elementRefs_current;\n                            return !!((_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[o.id]);\n                        }\n                    }[\"SelectionBounds.useEffect\"])\n                });\n                return;\n            }\n            // Attach estable\n            TRDBG(\"ATTACH try\", {\n                selKey,\n                nodesCount: nodosTransformables.length,\n                nodeIds: nodosTransformables.map({\n                    \"SelectionBounds.useEffect\": (n)=>{\n                        var _n_attrs;\n                        return typeof n.id === \"function\" ? n.id() : (_n_attrs = n.attrs) === null || _n_attrs === void 0 ? void 0 : _n_attrs.id;\n                    }\n                }[\"SelectionBounds.useEffect\"])\n            });\n            tr.nodes(nodosTransformables);\n            TRDBG(\"ATTACH done\", {\n                selKey,\n                trNodesCount: ((_tr_nodes1 = tr.nodes) === null || _tr_nodes1 === void 0 ? void 0 : (_tr_nodes = _tr_nodes1.call(tr)) === null || _tr_nodes === void 0 ? void 0 : _tr_nodes.length) || 0\n            });\n            try {\n                var _tr_forceUpdate;\n                (_tr_forceUpdate = tr.forceUpdate) === null || _tr_forceUpdate === void 0 ? void 0 : _tr_forceUpdate.call(tr);\n            } catch (e) {}\n            (_tr_getLayer = tr.getLayer()) === null || _tr_getLayer === void 0 ? void 0 : _tr_getLayer.batchDraw();\n        }\n    }[\"SelectionBounds.useEffect\"], [\n        // Dependencias mínimas reales\n        selectedElements.join(\",\"),\n        deberiaUsarTransformer,\n        hasGallery,\n        elementosTransformables.length,\n        selectedGeomKey,\n        transformTick,\n        elementRefs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SelectionBounds.useEffect\": ()=>{\n            const handler = {\n                \"SelectionBounds.useEffect.handler\": (e)=>{\n                    var _e_detail;\n                    const id = e === null || e === void 0 ? void 0 : (_e_detail = e.detail) === null || _e_detail === void 0 ? void 0 : _e_detail.id;\n                    if (!id) return;\n                    TRDBG(\"REF event\", {\n                        id,\n                        isSelected: selectedElements.includes(id),\n                        selKey: selectedElements.join(\",\")\n                    });\n                    if (!selectedElements.includes(id)) return;\n                    setTransformTick({\n                        \"SelectionBounds.useEffect.handler\": (t)=>t + 1\n                    }[\"SelectionBounds.useEffect.handler\"]);\n                }\n            }[\"SelectionBounds.useEffect.handler\"];\n            window.addEventListener(\"element-ref-registrado\", handler);\n            return ({\n                \"SelectionBounds.useEffect\": ()=>window.removeEventListener(\"element-ref-registrado\", handler)\n            })[\"SelectionBounds.useEffect\"];\n        }\n    }[\"SelectionBounds.useEffect\"], [\n        selectedElements.join(\",\")\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SelectionBounds.useEffect\": ()=>{\n            var _elementRefs_current, _firstNode_getStage;\n            const firstId = selectedElements === null || selectedElements === void 0 ? void 0 : selectedElements[0];\n            if (!firstId) return;\n            const firstNode = (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[firstId];\n            const stage = firstNode === null || firstNode === void 0 ? void 0 : (_firstNode_getStage = firstNode.getStage) === null || _firstNode_getStage === void 0 ? void 0 : _firstNode_getStage.call(firstNode);\n            if (!stage) return;\n            let rafId = null;\n            const syncTransformer = {\n                \"SelectionBounds.useEffect.syncTransformer\": ()=>{\n                    if (rafId != null) return;\n                    rafId = requestAnimationFrame({\n                        \"SelectionBounds.useEffect.syncTransformer\": ()=>{\n                            var _tr_getLayer_batchDraw, _tr_getLayer, _tr_getLayer1;\n                            rafId = null;\n                            const tr = transformerRef.current;\n                            if (!tr) return;\n                            try {\n                                var _tr_forceUpdate;\n                                (_tr_forceUpdate = tr.forceUpdate) === null || _tr_forceUpdate === void 0 ? void 0 : _tr_forceUpdate.call(tr);\n                            } catch (e) {}\n                            (_tr_getLayer1 = tr.getLayer) === null || _tr_getLayer1 === void 0 ? void 0 : (_tr_getLayer = _tr_getLayer1.call(tr)) === null || _tr_getLayer === void 0 ? void 0 : (_tr_getLayer_batchDraw = _tr_getLayer.batchDraw) === null || _tr_getLayer_batchDraw === void 0 ? void 0 : _tr_getLayer_batchDraw.call(_tr_getLayer);\n                        }\n                    }[\"SelectionBounds.useEffect.syncTransformer\"]);\n                }\n            }[\"SelectionBounds.useEffect.syncTransformer\"];\n            stage.on(\"dragmove\", syncTransformer);\n            stage.on(\"dragend\", syncTransformer);\n            return ({\n                \"SelectionBounds.useEffect\": ()=>{\n                    stage.off(\"dragmove\", syncTransformer);\n                    stage.off(\"dragend\", syncTransformer);\n                    if (rafId != null) cancelAnimationFrame(rafId);\n                }\n            })[\"SelectionBounds.useEffect\"];\n        }\n    }[\"SelectionBounds.useEffect\"], [\n        selectedElements.join(\",\"),\n        elementRefs\n    ]);\n    // 🔥 Render\n    if (selectedElements.length === 0) return null;\n    if (hayLineas && elementosTransformables.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BoundsIndicator, {\n            selectedElements: selectedElements,\n            elementRefs: elementRefs,\n            objetos: objetos\n        }, void 0, false, {\n            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\SelectionBounds.jsx\",\n            lineNumber: 446,\n            columnNumber: 7\n        }, this);\n    }\n    if (hayLineas && elementosTransformables.length > 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BoundsIndicator, {\n            selectedElements: selectedElements,\n            elementRefs: elementRefs,\n            objetos: objetos\n        }, void 0, false, {\n            fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\SelectionBounds.jsx\",\n            lineNumber: 456,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Transformer, {\n        name: \"ui\",\n        ref: transformerRef,\n        // 🔵 borde siempre visible\n        borderEnabled: true,\n        borderStroke: \"#9333EA\",\n        borderStrokeWidth: transformerBorderStrokeWidth,\n        padding: transformerPadding,\n        // ❌ nodos y rotación OFF durante drag\n        enabledAnchors: isDragging ? [] : [\n            \"bottom-right\"\n        ],\n        rotateEnabled: !isDragging && !esGaleria,\n        anchorFill: \"#9333EA\",\n        anchorStroke: \"#ffffff\",\n        anchorStrokeWidth: transformerAnchorStrokeWidth,\n        anchorSize: transformerAnchorSize,\n        anchorCornerRadius: transformerAnchorRadius,\n        anchorShadowColor: \"rgba(147, 51, 234, 0.3)\",\n        anchorShadowBlur: transformerAnchorShadowBlur,\n        anchorShadowOffset: {\n            x: 0,\n            y: transformerAnchorShadowOffsetY\n        },\n        keepRatio: lockAspectCountdown || esGaleria || lockAspectText,\n        centeredScaling: selectedElements.length === 1 && esTexto,\n        flipEnabled: false,\n        resizeEnabled: !isDragging,\n        rotationSnaps: [\n            0,\n            45,\n            90,\n            135,\n            180,\n            225,\n            270,\n            315\n        ],\n        rotateAnchorOffset: transformerRotateOffset,\n        rotationSnapTolerance: transformerRotationSnapTolerance,\n        boundBoxFunc: (oldBox, newBox)=>{\n            const minSize = esTexto ? 20 : 10;\n            const maxSize = 800;\n            if (esGaleria) {\n                const rows = Math.max(1, Number(primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.rows) || 1);\n                const cols = Math.max(1, Number(primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.cols) || 1);\n                const gap = Math.max(0, Number(primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.gap) || 0);\n                const cellRatio = (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.ratio) === \"4:3\" ? 3 / 4 : (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.ratio) === \"16:9\" ? 9 / 16 : 1;\n                const minGridWidth = gap * (cols - 1) + cols;\n                const nextWidth = Math.min(maxSize, Math.max(minSize, minGridWidth, Math.abs(newBox.width)));\n                const cellW = Math.max(1, (nextWidth - gap * (cols - 1)) / cols);\n                const cellH = cellW * cellRatio;\n                const nextHeight = rows * cellH + gap * (rows - 1);\n                return {\n                    ...newBox,\n                    width: nextWidth,\n                    height: Math.max(minSize, nextHeight)\n                };\n            }\n            if (newBox.width < minSize || newBox.height < minSize) {\n                return oldBox;\n            }\n            if (lockAspectCountdown) {\n                const baseW = Math.max(1, oldBox.width);\n                const baseH = Math.max(1, oldBox.height);\n                const ratio = baseW / baseH;\n                const dw = Math.abs(newBox.width - oldBox.width) / baseW;\n                const dh = Math.abs(newBox.height - oldBox.height) / baseH;\n                let width = newBox.width;\n                let height = newBox.height;\n                if (dh > dw) {\n                    width = height * ratio;\n                } else {\n                    height = width / ratio;\n                }\n                return {\n                    ...newBox,\n                    width: Math.min(Math.max(width, minSize), maxSize),\n                    height: Math.min(Math.max(height, minSize), maxSize)\n                };\n            }\n            if ((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"forma\" && (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.figura) === \"circle\") {\n                const size = Math.max(newBox.width, newBox.height);\n                const finalSize = Math.min(size, maxSize);\n                return {\n                    ...newBox,\n                    width: finalSize,\n                    height: finalSize\n                };\n            }\n            if (esTriangulo) {\n                const safeOldW = Math.max(1, Math.abs(oldBox.width || minSize));\n                const safeOldH = Math.max(1, Math.abs(oldBox.height || minSize));\n                const scaleX = Math.abs(newBox.width) / safeOldW;\n                const scaleY = Math.abs(newBox.height) / safeOldH;\n                const uniformScale = Math.max(0.05, Math.min(scaleX, scaleY));\n                const width = Math.min(Math.max(safeOldW * uniformScale, minSize), maxSize);\n                const height = Math.min(Math.max(safeOldH * uniformScale, minSize), maxSize);\n                return {\n                    ...newBox,\n                    width,\n                    height\n                };\n            }\n            if ((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"imagen\" || (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"icono\") {\n                const scaleX = newBox.width / oldBox.width;\n                const scaleY = newBox.height / oldBox.height;\n                const uniformScale = Math.min(scaleX, scaleY);\n                const newWidth = oldBox.width * uniformScale;\n                const newHeight = oldBox.height * uniformScale;\n                return {\n                    ...newBox,\n                    width: Math.min(Math.max(newWidth, minSize), maxSize),\n                    height: Math.min(Math.max(newHeight, minSize), maxSize)\n                };\n            }\n            return {\n                ...newBox,\n                width: Math.min(newBox.width, maxSize),\n                height: Math.min(newBox.height, maxSize)\n            };\n        },\n        onTransformStart: (e)=>{\n            window._resizeData = {\n                isResizing: true\n            };\n            const tr = transformerRef.current;\n            const activeAnchor = typeof (tr === null || tr === void 0 ? void 0 : tr.getActiveAnchor) === \"function\" ? tr.getActiveAnchor() : null;\n            const isRotateGesture = typeof activeAnchor === \"string\" && activeAnchor.toLowerCase().includes(\"rotat\");\n            transformGestureRef.current = {\n                isRotate: isRotateGesture,\n                activeAnchor: activeAnchor !== null && activeAnchor !== void 0 ? activeAnchor : null\n            };\n            if (typeof onTransformInteractionStart === \"function\") {\n                var _e_evt;\n                var _e_evt_pointerType;\n                onTransformInteractionStart({\n                    isRotate: isRotateGesture,\n                    activeAnchor: activeAnchor !== null && activeAnchor !== void 0 ? activeAnchor : null,\n                    pointerType: (_e_evt_pointerType = e === null || e === void 0 ? void 0 : (_e_evt = e.evt) === null || _e_evt === void 0 ? void 0 : _e_evt.pointerType) !== null && _e_evt_pointerType !== void 0 ? _e_evt_pointerType : null\n                });\n            }\n            try {\n                var _tr_nodes, _n_attrs, _tr_getClientRect;\n                const nodes = (tr === null || tr === void 0 ? void 0 : (_tr_nodes = tr.nodes) === null || _tr_nodes === void 0 ? void 0 : _tr_nodes.call(tr)) || [];\n                circleAnchorRef.current = null;\n                textTransformAnchorRef.current = null;\n                if (nodes.length === 1 && (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"forma\" && (primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.figura) === \"circle\") {\n                    try {\n                        const r0 = nodes[0].getClientRect({\n                            skipTransform: false,\n                            skipShadow: true,\n                            skipStroke: true\n                        });\n                        circleAnchorRef.current = {\n                            left: r0.x,\n                            top: r0.y\n                        };\n                    } catch (e) {}\n                }\n                if (nodes.length === 1 && esTexto) {\n                    const node = nodes[0];\n                    let centerX = null;\n                    let centerY = null;\n                    let baseWidth = null;\n                    let baseHeight = null;\n                    let baseVisualWidth = null;\n                    try {\n                        const rect = node.getClientRect({\n                            skipTransform: false,\n                            skipShadow: true,\n                            skipStroke: true\n                        });\n                        if (Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.x) && Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.width)) {\n                            centerX = rect.x + rect.width / 2;\n                        }\n                        if (Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.y) && Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.height)) {\n                            centerY = rect.y + rect.height / 2;\n                        }\n                        if (Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.width) && rect.width > 0) {\n                            baseWidth = rect.width;\n                            baseVisualWidth = rect.width;\n                        }\n                        if (Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.height) && rect.height > 0) {\n                            baseHeight = rect.height;\n                        }\n                    } catch (e) {}\n                    const safeBaseFontSize = Number.isFinite(primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.fontSize) && primerElemento.fontSize > 0 ? primerElemento.fontSize : 24;\n                    textTransformAnchorRef.current = {\n                        y: typeof (node === null || node === void 0 ? void 0 : node.y) === \"function\" ? node.y() : 0,\n                        baseRotation: typeof (node === null || node === void 0 ? void 0 : node.rotation) === \"function\" ? node.rotation() || 0 : 0,\n                        centerX,\n                        centerY,\n                        baseWidth,\n                        baseHeight,\n                        baseFontSize: safeBaseFontSize,\n                        lastPreviewFontSize: safeBaseFontSize,\n                        lastPreviewCenterX: centerX,\n                        lastPreviewCenterY: centerY,\n                        lastPreviewVisualWidth: baseVisualWidth,\n                        previewTick: 0\n                    };\n                    var _primerElemento_id;\n                    TXTDBG(\"start\", {\n                        id: (_primerElemento_id = primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.id) !== null && _primerElemento_id !== void 0 ? _primerElemento_id : null,\n                        baseFontSize: safeBaseFontSize,\n                        baseWidth,\n                        baseHeight,\n                        centerX,\n                        centerY,\n                        nodeX: typeof (node === null || node === void 0 ? void 0 : node.x) === \"function\" ? node.x() : null,\n                        nodeY: typeof (node === null || node === void 0 ? void 0 : node.y) === \"function\" ? node.y() : null,\n                        nodeScaleX: typeof (node === null || node === void 0 ? void 0 : node.scaleX) === \"function\" ? node.scaleX() : null,\n                        nodeScaleY: typeof (node === null || node === void 0 ? void 0 : node.scaleY) === \"function\" ? node.scaleY() : null\n                    });\n                }\n                const union = rectFromNodes(nodes);\n                const pad = typeof (tr === null || tr === void 0 ? void 0 : tr.padding) === \"function\" ? tr.padding() : 0;\n                const borderRect = union ? {\n                    x: union.x - pad,\n                    y: union.y - pad,\n                    width: union.width + pad * 2,\n                    height: union.height + pad * 2\n                } : null;\n                const n = nodes[0];\n                const id = n ? typeof n.id === \"function\" ? n.id() : (_n_attrs = n.attrs) === null || _n_attrs === void 0 ? void 0 : _n_attrs.id : \"∅\";\n                const trRect = tr === null || tr === void 0 ? void 0 : (_tr_getClientRect = tr.getClientRect) === null || _tr_getClientRect === void 0 ? void 0 : _tr_getClientRect.call(tr, {\n                    skipTransform: false,\n                    skipShadow: true,\n                    skipStroke: true\n                });\n                slog(\"[TR] start\", \"id=\".concat(id), \"nodes=\".concat(nodes.length), union ? \"union(w=\".concat(union.width.toFixed(1), \",h=\").concat(union.height.toFixed(1), \")\") : \"union(null)\", borderRect ? \"border(w=\".concat(borderRect.width.toFixed(1), \",h=\").concat(borderRect.height.toFixed(1), \")\") : \"border(null)\", trRect ? \"trRect(w=\".concat(trRect.width.toFixed(1), \",h=\").concat(trRect.height.toFixed(1), \")\") : \"trRect(null)\", \"pad=\".concat(pad));\n            } catch (e) {}\n        },\n        onTransform: (e)=>{\n            if (!onTransform || !transformerRef.current) return;\n            const tr = transformerRef.current;\n            const nodes = typeof tr.nodes === \"function\" ? tr.nodes() || [] : [];\n            const node = nodes[0]; // ✅ nodo real (single select)\n            if (!node) return;\n            try {\n                var _node_attrs, _node_scaleX, _node_scaleY, _node_x, _node_y;\n                const pose = getTransformPose(node);\n                const transformData = {\n                    x: pose.x,\n                    y: pose.y,\n                    rotation: pose.rotation,\n                    isPreview: true\n                };\n                if (esTexto) {\n                    var _textTransformAnchorRef_current, _textTransformAnchorRef_current1, _textTransformAnchorRef_current2;\n                    const originalFontSize = primerElemento.fontSize || 24;\n                    const scaleX = typeof node.scaleX === \"function\" ? node.scaleX() : 1;\n                    const scaleY = typeof node.scaleY === \"function\" ? node.scaleY() : 1;\n                    const anchorData = textTransformAnchorRef.current || null;\n                    const baseFontSize = Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.baseFontSize) && anchorData.baseFontSize > 0 ? anchorData.baseFontSize : originalFontSize;\n                    const avgScale = (Math.abs(scaleX) + Math.abs(scaleY)) / 2;\n                    let scaleFromRect = null;\n                    let liveRectWidth = null;\n                    const currentRotation = typeof node.rotation === \"function\" ? node.rotation() || 0 : 0;\n                    const baseRotation = Number(anchorData === null || anchorData === void 0 ? void 0 : anchorData.baseRotation);\n                    const rotationDelta = Number.isFinite(baseRotation) ? Math.abs(currentRotation - baseRotation) : 0;\n                    try {\n                        const rect = node.getClientRect({\n                            skipTransform: false,\n                            skipShadow: true,\n                            skipStroke: true\n                        });\n                        if (Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.width) && rect.width > 0) {\n                            liveRectWidth = rect.width;\n                        }\n                        const baseWidth = Number(anchorData === null || anchorData === void 0 ? void 0 : anchorData.baseWidth);\n                        if (Number.isFinite(baseWidth) && baseWidth > 0 && Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.width) && rect.width > 0) {\n                            scaleFromRect = rect.width / baseWidth;\n                        }\n                    } catch (e) {}\n                    const canUseRectScale = rotationDelta < 0.1;\n                    const effectiveScale = canUseRectScale && Number.isFinite(scaleFromRect) && scaleFromRect > 0 ? scaleFromRect : avgScale;\n                    transformData.fontSize = Math.max(6, Number((baseFontSize * effectiveScale).toFixed(3)));\n                    if (textTransformAnchorRef.current) {\n                        const tick = Number(textTransformAnchorRef.current.previewTick || 0) + 1;\n                        textTransformAnchorRef.current.previewTick = tick;\n                        textTransformAnchorRef.current.lastPreviewFontSize = transformData.fontSize;\n                        if (Number.isFinite(liveRectWidth) && liveRectWidth > 0) {\n                            textTransformAnchorRef.current.lastPreviewVisualWidth = liveRectWidth;\n                        }\n                        if (tick <= 2 || tick % 5 === 0) {\n                            var _textTransformAnchorRef_current3;\n                            var _primerElemento_id, _textTransformAnchorRef_current_centerX;\n                            TXTDBG(\"preview\", {\n                                id: (_primerElemento_id = primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.id) !== null && _primerElemento_id !== void 0 ? _primerElemento_id : null,\n                                tick,\n                                scaleX,\n                                scaleY,\n                                avgScale,\n                                scaleFromRect,\n                                effectiveScale,\n                                baseFontSize,\n                                fontSize: transformData.fontSize,\n                                liveRectWidth,\n                                centerXTarget: (_textTransformAnchorRef_current_centerX = (_textTransformAnchorRef_current3 = textTransformAnchorRef.current) === null || _textTransformAnchorRef_current3 === void 0 ? void 0 : _textTransformAnchorRef_current3.centerX) !== null && _textTransformAnchorRef_current_centerX !== void 0 ? _textTransformAnchorRef_current_centerX : null,\n                                nodeX: typeof (node === null || node === void 0 ? void 0 : node.x) === \"function\" ? node.x() : null,\n                                nodeY: typeof (node === null || node === void 0 ? void 0 : node.y) === \"function\" ? node.y() : null\n                            });\n                        }\n                    }\n                    transformData.scaleX = 1;\n                    transformData.scaleY = 1;\n                    if (canUseRectScale && Number.isFinite((_textTransformAnchorRef_current = textTransformAnchorRef.current) === null || _textTransformAnchorRef_current === void 0 ? void 0 : _textTransformAnchorRef_current.y)) {\n                        transformData.y = textTransformAnchorRef.current.y;\n                    }\n                    if (Number.isFinite((_textTransformAnchorRef_current1 = textTransformAnchorRef.current) === null || _textTransformAnchorRef_current1 === void 0 ? void 0 : _textTransformAnchorRef_current1.centerX)) {\n                        transformData.textCenterX = textTransformAnchorRef.current.centerX;\n                        if (textTransformAnchorRef.current) {\n                            textTransformAnchorRef.current.lastPreviewCenterX = textTransformAnchorRef.current.centerX;\n                        }\n                    }\n                    if (Number.isFinite((_textTransformAnchorRef_current2 = textTransformAnchorRef.current) === null || _textTransformAnchorRef_current2 === void 0 ? void 0 : _textTransformAnchorRef_current2.centerY)) {\n                        transformData.textCenterY = textTransformAnchorRef.current.centerY;\n                        if (textTransformAnchorRef.current) {\n                            textTransformAnchorRef.current.lastPreviewCenterY = textTransformAnchorRef.current.centerY;\n                        }\n                    }\n                } else {\n                    const scaleX = typeof node.scaleX === \"function\" ? node.scaleX() : 1;\n                    const scaleY = typeof node.scaleY === \"function\" ? node.scaleY() : 1;\n                    transformData.scaleX = scaleX;\n                    transformData.scaleY = scaleY;\n                    if ((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"countdown\") {\n                        const countdownSize = getCountdownScaledSize(node);\n                        transformData.width = countdownSize.width;\n                        transformData.height = countdownSize.height;\n                    } else if (esTriangulo) {\n                        const baseRadius = Number.isFinite(primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.radius) ? primerElemento.radius : 60;\n                        const avgScale = (Math.abs(scaleX) + Math.abs(scaleY)) / 2;\n                        transformData.radius = Math.max(1, baseRadius * avgScale);\n                    } else {\n                        const originalWidth = primerElemento.width || 100;\n                        const originalHeight = primerElemento.height || 100;\n                        transformData.width = Math.abs(originalWidth * scaleX);\n                        transformData.height = Math.abs(originalHeight * scaleY);\n                    }\n                    if ((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.figura) === \"circle\") {\n                        try {\n                            const liveRect = node.getClientRect({\n                                skipTransform: false,\n                                skipShadow: true,\n                                skipStroke: true\n                            });\n                            const diameter = Math.max(1, Math.max(liveRect.width, liveRect.height));\n                            transformData.radius = diameter / 2;\n                            const anchor = circleAnchorRef.current;\n                            if (anchor) {\n                                transformData.x = anchor.left + transformData.radius;\n                                transformData.y = anchor.top + transformData.radius;\n                            } else {\n                                transformData.x = liveRect.x + transformData.radius;\n                                transformData.y = liveRect.y + transformData.radius;\n                            }\n                        } catch (e) {}\n                    }\n                }\n                onTransform(transformData);\n                // --- LOG COMPACTO (opcional) ---\n                const id = (typeof node.id === \"function\" ? node.id() : (_node_attrs = node.attrs) === null || _node_attrs === void 0 ? void 0 : _node_attrs.id) || \"∅\";\n                var _node_scaleX1;\n                const sx = (_node_scaleX1 = (_node_scaleX = node.scaleX) === null || _node_scaleX === void 0 ? void 0 : _node_scaleX.call(node)) !== null && _node_scaleX1 !== void 0 ? _node_scaleX1 : 1;\n                var _node_scaleY1;\n                const sy = (_node_scaleY1 = (_node_scaleY = node.scaleY) === null || _node_scaleY === void 0 ? void 0 : _node_scaleY.call(node)) !== null && _node_scaleY1 !== void 0 ? _node_scaleY1 : 1;\n                const r = node.getClientRect({\n                    skipTransform: false,\n                    skipShadow: true,\n                    skipStroke: true\n                });\n                var _node_x1, _node_y1, _transformData_width, _transformData_height;\n                slog(\"[TR] live\", \"id=\".concat(id), \"tipo=\".concat((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) || \"∅\"), \"sx=\".concat(sx.toFixed(3)), \"sy=\".concat(sy.toFixed(3)), \"x=\".concat(((_node_x1 = (_node_x = node.x) === null || _node_x === void 0 ? void 0 : _node_x.call(node)) !== null && _node_x1 !== void 0 ? _node_x1 : 0).toFixed(1)), \"y=\".concat(((_node_y1 = (_node_y = node.y) === null || _node_y === void 0 ? void 0 : _node_y.call(node)) !== null && _node_y1 !== void 0 ? _node_y1 : 0).toFixed(1)), \"nodeRect(w=\".concat(r.width.toFixed(1), \",h=\").concat(r.height.toFixed(1), \")\"), \"w=\".concat((_transformData_width = transformData.width) !== null && _transformData_width !== void 0 ? _transformData_width : \"∅\"), \"h=\".concat((_transformData_height = transformData.height) !== null && _transformData_height !== void 0 ? _transformData_height : \"∅\"));\n            } catch (error) {\n                console.warn(\"Error en onTransform:\", error);\n            }\n        },\n        onTransformEnd: (e)=>{\n            var _transformGestureRef_current, _transformGestureRef_current1, _e_evt;\n            var _transformGestureRef_current_activeAnchor, _e_evt_pointerType;\n            const interactionSnapshot = {\n                isRotate: Boolean((_transformGestureRef_current = transformGestureRef.current) === null || _transformGestureRef_current === void 0 ? void 0 : _transformGestureRef_current.isRotate),\n                activeAnchor: (_transformGestureRef_current_activeAnchor = (_transformGestureRef_current1 = transformGestureRef.current) === null || _transformGestureRef_current1 === void 0 ? void 0 : _transformGestureRef_current1.activeAnchor) !== null && _transformGestureRef_current_activeAnchor !== void 0 ? _transformGestureRef_current_activeAnchor : null,\n                pointerType: (_e_evt_pointerType = e === null || e === void 0 ? void 0 : (_e_evt = e.evt) === null || _e_evt === void 0 ? void 0 : _e_evt.pointerType) !== null && _e_evt_pointerType !== void 0 ? _e_evt_pointerType : null\n            };\n            const notifyTransformInteractionEnd = ()=>{\n                if (typeof onTransformInteractionEnd === \"function\") {\n                    onTransformInteractionEnd(interactionSnapshot);\n                }\n                transformGestureRef.current = {\n                    isRotate: false,\n                    activeAnchor: null\n                };\n            };\n            try {\n                if (!transformerRef.current || !onTransform) return;\n                const tr = transformerRef.current;\n                const nodes = typeof tr.nodes === \"function\" ? tr.nodes() || [] : [];\n                // -------------------------\n                // MULTI-SELECCIÓN\n                // -------------------------\n                if (nodes.length > 1) {\n                    try {\n                        var _tr_getLayer;\n                        const tScaleX = typeof tr.scaleX === \"function\" ? tr.scaleX() || 1 : 1;\n                        const tScaleY = typeof tr.scaleY === \"function\" ? tr.scaleY() || 1 : 1;\n                        const avg = (Math.abs(tScaleX) + Math.abs(tScaleY)) / 2;\n                        const updates = nodes.map((n)=>{\n                            let id = null;\n                            try {\n                                var _n_attrs;\n                                id = (typeof n.id === \"function\" ? n.id() : (_n_attrs = n.attrs) === null || _n_attrs === void 0 ? void 0 : _n_attrs.id) || null;\n                            } catch (e) {}\n                            if (!id) return null;\n                            const obj = (objetos || []).find((o)=>o.id === id);\n                            if (!obj) return null;\n                            const upd = {\n                                id,\n                                x: typeof n.x === \"function\" ? n.x() : obj.x,\n                                y: typeof n.y === \"function\" ? n.y() : obj.y,\n                                rotation: typeof n.rotation === \"function\" ? n.rotation() || 0 : obj.rotation || 0\n                            };\n                            if (obj.tipo === \"texto\") {\n                                const base = obj.fontSize || 24;\n                                upd.fontSize = Math.max(6, Math.round(base * avg));\n                                if (typeof n.scaleX === \"function\") {\n                                    n.scaleX(1);\n                                    n.scaleY(1);\n                                }\n                                return upd;\n                            }\n                            if (obj.tipo === \"forma\" && obj.figura === \"circle\") {\n                                const baseR = obj.radius || 50;\n                                upd.radius = baseR * avg;\n                                if (typeof n.scaleX === \"function\") {\n                                    n.scaleX(1);\n                                    n.scaleY(1);\n                                }\n                                return upd;\n                            }\n                            if (obj.tipo === \"forma\" && obj.figura === \"triangle\") {\n                                const baseR = obj.radius || 60;\n                                upd.radius = Math.max(1, baseR * avg);\n                                if (typeof n.scaleX === \"function\") {\n                                    n.scaleX(1);\n                                    n.scaleY(1);\n                                }\n                                return upd;\n                            }\n                            if (obj.tipo === \"countdown\") {\n                                const countdownSize = getCountdownScaledSize(n);\n                                upd.width = countdownSize.width;\n                                upd.height = countdownSize.height;\n                                return upd;\n                            }\n                            const baseW = obj.width != null ? obj.width : typeof n.width === \"function\" ? n.width() : 100;\n                            const baseH = obj.height != null ? obj.height : typeof n.height === \"function\" ? n.height() : 100;\n                            upd.width = Math.abs(baseW * tScaleX);\n                            upd.height = Math.abs(baseH * tScaleY);\n                            if (typeof n.scaleX === \"function\") {\n                                n.scaleX(1);\n                                n.scaleY(1);\n                            }\n                            return upd;\n                        }).filter(Boolean);\n                        onTransform({\n                            isFinal: true,\n                            batch: updates\n                        });\n                        if (typeof tr.scaleX === \"function\") {\n                            tr.scaleX(1);\n                            tr.scaleY(1);\n                        }\n                        (_tr_getLayer = tr.getLayer()) === null || _tr_getLayer === void 0 ? void 0 : _tr_getLayer.batchDraw();\n                        window._resizeData = {\n                            isResizing: false\n                        };\n                        setTimeout(()=>{\n                            window._resizeData = null;\n                        }, 100);\n                        return;\n                    } catch (err) {\n                        console.warn(\"Error en onTransformEnd (multi):\", err);\n                        window._resizeData = null;\n                        return;\n                    }\n                }\n                // -------------------------\n                // SINGLE-SELECCIÓN\n                // -------------------------\n                const node = nodes[0];\n                if (!node) return;\n                const pose = getTransformPose(node);\n                const finalData = {\n                    x: pose.x,\n                    y: pose.y,\n                    rotation: pose.rotation,\n                    isFinal: true\n                };\n                let textPreviewEndSnapshot = null;\n                if (esTexto) {\n                    const originalFontSize = primerElemento.fontSize || 24;\n                    const scaleX = typeof node.scaleX === \"function\" ? node.scaleX() : 1;\n                    const scaleY = typeof node.scaleY === \"function\" ? node.scaleY() : 1;\n                    const anchorData = textTransformAnchorRef.current || null;\n                    const baseFontSize = Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.baseFontSize) && anchorData.baseFontSize > 0 ? anchorData.baseFontSize : originalFontSize;\n                    const avgScale = (Math.abs(scaleX) + Math.abs(scaleY)) / 2;\n                    let scaleFromRect = null;\n                    let visualWidthFromRect = null;\n                    const currentRotation = typeof node.rotation === \"function\" ? node.rotation() || 0 : 0;\n                    const baseRotation = Number(anchorData === null || anchorData === void 0 ? void 0 : anchorData.baseRotation);\n                    const rotationDelta = Number.isFinite(baseRotation) ? Math.abs(currentRotation - baseRotation) : 0;\n                    try {\n                        const rect = node.getClientRect({\n                            skipTransform: false,\n                            skipShadow: true,\n                            skipStroke: true\n                        });\n                        if (Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.width) && rect.width > 0) {\n                            visualWidthFromRect = rect.width;\n                        }\n                        const baseWidth = Number(anchorData === null || anchorData === void 0 ? void 0 : anchorData.baseWidth);\n                        if (Number.isFinite(baseWidth) && baseWidth > 0 && Number.isFinite(rect === null || rect === void 0 ? void 0 : rect.width) && rect.width > 0) {\n                            scaleFromRect = rect.width / baseWidth;\n                        }\n                    } catch (e) {}\n                    const canUseRectScale = rotationDelta < 0.1;\n                    const effectiveScale = canUseRectScale && Number.isFinite(scaleFromRect) && scaleFromRect > 0 ? scaleFromRect : avgScale;\n                    const computedFontSize = Math.max(6, Number((baseFontSize * effectiveScale).toFixed(3)));\n                    finalData.fontSize = Math.max(6, Number(Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.lastPreviewFontSize) && anchorData.lastPreviewFontSize > 0 ? anchorData.lastPreviewFontSize : computedFontSize));\n                    finalData.scaleX = 1;\n                    finalData.scaleY = 1;\n                    if (canUseRectScale && Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.y)) {\n                        finalData.y = anchorData.y;\n                    }\n                    if (Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.lastPreviewCenterX)) {\n                        finalData.textCenterX = anchorData.lastPreviewCenterX;\n                    } else if (Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.centerX)) {\n                        finalData.textCenterX = anchorData.centerX;\n                    }\n                    if (Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.lastPreviewCenterY)) {\n                        finalData.textCenterY = anchorData.lastPreviewCenterY;\n                    } else if (Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.centerY)) {\n                        finalData.textCenterY = anchorData.centerY;\n                    }\n                    const visualWidth = Number.isFinite(anchorData === null || anchorData === void 0 ? void 0 : anchorData.lastPreviewVisualWidth) && anchorData.lastPreviewVisualWidth > 0 ? anchorData.lastPreviewVisualWidth : visualWidthFromRect;\n                    if (Number.isFinite(visualWidth) && visualWidth > 0) {\n                        finalData.textVisualWidth = visualWidth;\n                    }\n                    var _primerElemento_id;\n                    textPreviewEndSnapshot = {\n                        id: (_primerElemento_id = primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.id) !== null && _primerElemento_id !== void 0 ? _primerElemento_id : null,\n                        x: typeof (node === null || node === void 0 ? void 0 : node.x) === \"function\" ? node.x() : null,\n                        y: typeof (node === null || node === void 0 ? void 0 : node.y) === \"function\" ? node.y() : null,\n                        scaleX,\n                        scaleY,\n                        fontSize: typeof (node === null || node === void 0 ? void 0 : node.fontSize) === \"function\" ? node.fontSize() : null,\n                        rectWidth: Number.isFinite(visualWidthFromRect) ? visualWidthFromRect : null,\n                        rectHeight: null\n                    };\n                    try {\n                        const rectForSnapshot = node.getClientRect({\n                            skipTransform: false,\n                            skipShadow: true,\n                            skipStroke: true\n                        });\n                        if (Number.isFinite(rectForSnapshot === null || rectForSnapshot === void 0 ? void 0 : rectForSnapshot.height)) {\n                            textPreviewEndSnapshot.rectHeight = rectForSnapshot.height;\n                        }\n                    } catch (e) {}\n                    var _primerElemento_id1, _finalData_textCenterX, _finalData_textCenterY, _finalData_textVisualWidth;\n                    TXTDBG(\"end\", {\n                        id: (_primerElemento_id1 = primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.id) !== null && _primerElemento_id1 !== void 0 ? _primerElemento_id1 : null,\n                        scaleX,\n                        scaleY,\n                        avgScale,\n                        scaleFromRect,\n                        effectiveScale,\n                        computedFontSize,\n                        finalFontSize: finalData.fontSize,\n                        textCenterX: (_finalData_textCenterX = finalData.textCenterX) !== null && _finalData_textCenterX !== void 0 ? _finalData_textCenterX : null,\n                        textCenterY: (_finalData_textCenterY = finalData.textCenterY) !== null && _finalData_textCenterY !== void 0 ? _finalData_textCenterY : null,\n                        textVisualWidth: (_finalData_textVisualWidth = finalData.textVisualWidth) !== null && _finalData_textVisualWidth !== void 0 ? _finalData_textVisualWidth : null,\n                        nodeRectWidth: visualWidthFromRect,\n                        nodeX: typeof (node === null || node === void 0 ? void 0 : node.x) === \"function\" ? node.x() : null,\n                        nodeY: typeof (node === null || node === void 0 ? void 0 : node.y) === \"function\" ? node.y() : null\n                    });\n                    // Aplanar escala del texto en el release para evitar doble escalado\n                    // (escala del nodo + fontSize persistido).\n                    try {\n                        var _node_getLayer;\n                        if (typeof node.scaleX === \"function\") node.scaleX(1);\n                        if (typeof node.scaleY === \"function\") node.scaleY(1);\n                        if (Number.isFinite(finalData.fontSize) && typeof node.fontSize === \"function\") {\n                            node.fontSize(finalData.fontSize);\n                        }\n                        const targetCenterX = Number(finalData.textCenterX);\n                        const targetCenterY = Number(finalData.textCenterY);\n                        if ((Number.isFinite(targetCenterX) || Number.isFinite(targetCenterY)) && typeof node.x === \"function\" && typeof node.y === \"function\") {\n                            try {\n                                const flattenedRect = node.getClientRect({\n                                    skipTransform: false,\n                                    skipShadow: true,\n                                    skipStroke: true\n                                });\n                                const flattenedCenterX = Number.isFinite(flattenedRect === null || flattenedRect === void 0 ? void 0 : flattenedRect.x) && Number.isFinite(flattenedRect === null || flattenedRect === void 0 ? void 0 : flattenedRect.width) ? flattenedRect.x + flattenedRect.width / 2 : null;\n                                const flattenedCenterY = Number.isFinite(flattenedRect === null || flattenedRect === void 0 ? void 0 : flattenedRect.y) && Number.isFinite(flattenedRect === null || flattenedRect === void 0 ? void 0 : flattenedRect.height) ? flattenedRect.y + flattenedRect.height / 2 : null;\n                                if (Number.isFinite(flattenedCenterX) && Number.isFinite(targetCenterX)) {\n                                    node.x(node.x() + (targetCenterX - flattenedCenterX));\n                                }\n                                if (Number.isFinite(flattenedCenterY) && Number.isFinite(targetCenterY)) {\n                                    node.y(node.y() + (targetCenterY - flattenedCenterY));\n                                }\n                            } catch (e) {}\n                        }\n                        (_node_getLayer = node.getLayer()) === null || _node_getLayer === void 0 ? void 0 : _node_getLayer.batchDraw();\n                    } catch (err) {\n                        console.warn(\"Error aplanando escala de texto (sync):\", err);\n                    }\n                    if (!canUseRectScale) {\n                        if (typeof (node === null || node === void 0 ? void 0 : node.x) === \"function\") {\n                            finalData.x = node.x();\n                        }\n                        if (typeof (node === null || node === void 0 ? void 0 : node.y) === \"function\") {\n                            finalData.y = node.y();\n                        }\n                    }\n                    // Para texto evitamos aplanar antes del commit en React,\n                    // así no aparece un frame intermedio con tamaño \"saltado\".\n                    textTransformAnchorRef.current = null;\n                } else {\n                    const scaleX = typeof node.scaleX === \"function\" ? node.scaleX() : 1;\n                    const scaleY = typeof node.scaleY === \"function\" ? node.scaleY() : 1;\n                    if ((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.tipo) === \"countdown\") {\n                        // Countdown: persistir escala real para que el resultado final\n                        // sea exactamente el mismo que se ve al soltar.\n                        finalData.scaleX = scaleX;\n                        finalData.scaleY = scaleY;\n                        const countdownSize = getCountdownScaledSize(node);\n                        finalData.width = countdownSize.width;\n                        finalData.height = countdownSize.height;\n                    } else if (esTriangulo) {\n                        const baseRadius = Number.isFinite(primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.radius) ? primerElemento.radius : 60;\n                        const avgScale = (Math.abs(scaleX) + Math.abs(scaleY)) / 2;\n                        finalData.scaleX = 1;\n                        finalData.scaleY = 1;\n                        finalData.radius = Math.max(1, baseRadius * avgScale);\n                        try {\n                            var _node_getLayer1;\n                            node.scaleX(1);\n                            node.scaleY(1);\n                            if (typeof node.radius === \"function\") node.radius(finalData.radius);\n                            (_node_getLayer1 = node.getLayer()) === null || _node_getLayer1 === void 0 ? void 0 : _node_getLayer1.batchDraw();\n                        } catch (err) {\n                            console.warn(\"Error aplanando escala de triángulo (sync):\", err);\n                        }\n                    } else {\n                        finalData.scaleX = 1;\n                        finalData.scaleY = 1;\n                        const originalWidth = primerElemento.width || 100;\n                        const originalHeight = primerElemento.height || 100;\n                        finalData.width = Math.abs(originalWidth * scaleX);\n                        finalData.height = Math.abs(originalHeight * scaleY);\n                        if ((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.figura) === \"circle\") {\n                            try {\n                                const liveRect = node.getClientRect({\n                                    skipTransform: false,\n                                    skipShadow: true,\n                                    skipStroke: true\n                                });\n                                const diameter = Math.max(1, Math.max(liveRect.width, liveRect.height));\n                                finalData.radius = diameter / 2;\n                                const anchor = circleAnchorRef.current;\n                                if (anchor) {\n                                    finalData.x = anchor.left + finalData.radius;\n                                    finalData.y = anchor.top + finalData.radius;\n                                } else {\n                                    finalData.x = liveRect.x + finalData.radius;\n                                    finalData.y = liveRect.y + finalData.radius;\n                                }\n                            } catch (e) {}\n                        }\n                        // ✅ Aplanar escala INMEDIATO\n                        try {\n                            var _node_getLayer2;\n                            const fw = finalData.width;\n                            const fh = finalData.height;\n                            node.scaleX(1);\n                            node.scaleY(1);\n                            if (fw != null && typeof node.width === \"function\") node.width(fw);\n                            if (fh != null && typeof node.height === \"function\") node.height(fh);\n                            if ((primerElemento === null || primerElemento === void 0 ? void 0 : primerElemento.figura) === \"circle\" && finalData.radius != null && typeof node.radius === \"function\") {\n                                node.radius(finalData.radius);\n                            }\n                            (_node_getLayer2 = node.getLayer()) === null || _node_getLayer2 === void 0 ? void 0 : _node_getLayer2.batchDraw();\n                        } catch (err) {\n                            console.warn(\"Error aplanando escalas (sync):\", err);\n                        }\n                    }\n                }\n                onTransform(finalData);\n                circleAnchorRef.current = null;\n                // ✅ Reatachar 1 vez, con ref fresco, en el próximo frame\n                try {\n                    const tr2 = transformerRef.current;\n                    if (!tr2) return;\n                    TRDBG(\"onTransformEnd -> schedule RAF reattach\", {\n                        selKey: selectedElements.join(\",\"),\n                        idSel: (selectedElements === null || selectedElements === void 0 ? void 0 : selectedElements[0]) || null\n                    });\n                    requestAnimationFrame(()=>{\n                        var _elementRefs_current, _freshNode_getStage, _freshNode_getStage1;\n                        const idSel = selectedElements === null || selectedElements === void 0 ? void 0 : selectedElements[0];\n                        const freshNode = idSel ? (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[idSel] : null;\n                        TRDBG(\"onTransformEnd RAF\", {\n                            idSel,\n                            hasFresh: !!freshNode,\n                            destroyed: !!(freshNode === null || freshNode === void 0 ? void 0 : freshNode._destroyed),\n                            hasStage: !!(freshNode === null || freshNode === void 0 ? void 0 : (_freshNode_getStage = freshNode.getStage) === null || _freshNode_getStage === void 0 ? void 0 : _freshNode_getStage.call(freshNode))\n                        });\n                        // Si el nodo no está listo, despegar y salir\n                        if (!freshNode || freshNode._destroyed || !((_freshNode_getStage1 = freshNode.getStage) === null || _freshNode_getStage1 === void 0 ? void 0 : _freshNode_getStage1.call(freshNode))) {\n                            TRDBG(\"onTransformEnd RAF -> DETACH nodes([])\", {\n                                idSel\n                            });\n                            try {\n                                var _tr2_getLayer, _tr2_getLayer1;\n                                tr2.nodes([]);\n                                (_tr2_getLayer1 = tr2.getLayer) === null || _tr2_getLayer1 === void 0 ? void 0 : (_tr2_getLayer = _tr2_getLayer1.call(tr2)) === null || _tr2_getLayer === void 0 ? void 0 : _tr2_getLayer.batchDraw();\n                            } catch (e) {}\n                            return;\n                        }\n                        try {\n                            var _tr2_getLayer2, _tr2_getLayer3;\n                            TRDBG(\"onTransformEnd RAF -> DETACH nodes([])\", {\n                                idSel\n                            });\n                            tr2.nodes([\n                                freshNode\n                            ]);\n                            tr2.forceUpdate();\n                            (_tr2_getLayer3 = tr2.getLayer) === null || _tr2_getLayer3 === void 0 ? void 0 : (_tr2_getLayer2 = _tr2_getLayer3.call(tr2)) === null || _tr2_getLayer2 === void 0 ? void 0 : _tr2_getLayer2.batchDraw();\n                            if (textPreviewEndSnapshot && freshNode) {\n                                try {\n                                    const postRect = freshNode.getClientRect({\n                                        skipTransform: false,\n                                        skipShadow: true,\n                                        skipStroke: true\n                                    });\n                                    TXTDBG(\"post-commit:raf1\", {\n                                        id: idSel,\n                                        pre: textPreviewEndSnapshot,\n                                        post: {\n                                            x: typeof (freshNode === null || freshNode === void 0 ? void 0 : freshNode.x) === \"function\" ? freshNode.x() : null,\n                                            y: typeof (freshNode === null || freshNode === void 0 ? void 0 : freshNode.y) === \"function\" ? freshNode.y() : null,\n                                            scaleX: typeof (freshNode === null || freshNode === void 0 ? void 0 : freshNode.scaleX) === \"function\" ? freshNode.scaleX() : null,\n                                            scaleY: typeof (freshNode === null || freshNode === void 0 ? void 0 : freshNode.scaleY) === \"function\" ? freshNode.scaleY() : null,\n                                            fontSize: typeof (freshNode === null || freshNode === void 0 ? void 0 : freshNode.fontSize) === \"function\" ? freshNode.fontSize() : null,\n                                            rectWidth: Number.isFinite(postRect === null || postRect === void 0 ? void 0 : postRect.width) ? postRect.width : null,\n                                            rectHeight: Number.isFinite(postRect === null || postRect === void 0 ? void 0 : postRect.height) ? postRect.height : null\n                                        },\n                                        delta: {\n                                            width: Number.isFinite(postRect === null || postRect === void 0 ? void 0 : postRect.width) && Number.isFinite(textPreviewEndSnapshot.rectWidth) ? postRect.width - textPreviewEndSnapshot.rectWidth : null,\n                                            height: Number.isFinite(postRect === null || postRect === void 0 ? void 0 : postRect.height) && Number.isFinite(textPreviewEndSnapshot.rectHeight) ? postRect.height - textPreviewEndSnapshot.rectHeight : null\n                                        }\n                                    });\n                                } catch (e) {}\n                                requestAnimationFrame(()=>{\n                                    var _elementRefs_current;\n                                    const freshNode2 = idSel ? (_elementRefs_current = elementRefs.current) === null || _elementRefs_current === void 0 ? void 0 : _elementRefs_current[idSel] : null;\n                                    if (!freshNode2) return;\n                                    try {\n                                        const postRect2 = freshNode2.getClientRect({\n                                            skipTransform: false,\n                                            skipShadow: true,\n                                            skipStroke: true\n                                        });\n                                        TXTDBG(\"post-commit:raf2\", {\n                                            id: idSel,\n                                            post: {\n                                                x: typeof (freshNode2 === null || freshNode2 === void 0 ? void 0 : freshNode2.x) === \"function\" ? freshNode2.x() : null,\n                                                y: typeof (freshNode2 === null || freshNode2 === void 0 ? void 0 : freshNode2.y) === \"function\" ? freshNode2.y() : null,\n                                                scaleX: typeof (freshNode2 === null || freshNode2 === void 0 ? void 0 : freshNode2.scaleX) === \"function\" ? freshNode2.scaleX() : null,\n                                                scaleY: typeof (freshNode2 === null || freshNode2 === void 0 ? void 0 : freshNode2.scaleY) === \"function\" ? freshNode2.scaleY() : null,\n                                                fontSize: typeof (freshNode2 === null || freshNode2 === void 0 ? void 0 : freshNode2.fontSize) === \"function\" ? freshNode2.fontSize() : null,\n                                                rectWidth: Number.isFinite(postRect2 === null || postRect2 === void 0 ? void 0 : postRect2.width) ? postRect2.width : null,\n                                                rectHeight: Number.isFinite(postRect2 === null || postRect2 === void 0 ? void 0 : postRect2.height) ? postRect2.height : null\n                                            },\n                                            deltaFromPre: {\n                                                width: Number.isFinite(postRect2 === null || postRect2 === void 0 ? void 0 : postRect2.width) && Number.isFinite(textPreviewEndSnapshot.rectWidth) ? postRect2.width - textPreviewEndSnapshot.rectWidth : null,\n                                                height: Number.isFinite(postRect2 === null || postRect2 === void 0 ? void 0 : postRect2.height) && Number.isFinite(textPreviewEndSnapshot.rectHeight) ? postRect2.height - textPreviewEndSnapshot.rectHeight : null\n                                            }\n                                        });\n                                    } catch (e) {}\n                                });\n                            }\n                        } catch (e) {}\n                    });\n                } catch (e) {}\n            } catch (error) {\n                console.warn(\"Error en onTransformEnd:\", error);\n                window._resizeData = null;\n            } finally{\n                notifyTransformInteractionEnd();\n            }\n        }\n    }, void 0, false, {\n        fileName: \"C:\\\\Reservaeldia\\\\src\\\\components\\\\SelectionBounds.jsx\",\n        lineNumber: 465,\n        columnNumber: 5\n    }, this);\n}\n_s1(SelectionBounds, \"lrM1nT4Gd8O7aGNWhNCH3vOGx1Y=\");\n_c3 = SelectionBounds;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"TRDBG\");\n$RefreshReg$(_c1, \"TXTDBG\");\n$RefreshReg$(_c2, \"BoundsIndicator\");\n$RefreshReg$(_c3, \"SelectionBounds\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1NlbGVjdGlvbkJvdW5kcy5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsc0JBQXNCOzs7QUFDOEI7QUFDSjtBQUloRCxNQUFNSyx5QkFBeUI7QUFFL0IsTUFBTUMsUUFBUTtxQ0FBSUM7UUFBQUE7O0lBQ2hCLElBQUksQ0FBQ0Ysd0JBQXdCO0lBQzdCRyxRQUFRQyxHQUFHLENBQUMsV0FBV0Y7QUFDekI7QUFDQSxNQUFNRyxPQUFPSjtBQUViLE1BQU1LLFFBQVE7cUNBQUlKO1FBQUFBOztJQUNoQixJQUFJLENBQUNLLE9BQU9DLFFBQVEsRUFBRTtJQUN0QkwsUUFBUUMsR0FBRyxDQUFDLGNBQWNGO0FBQzVCO0tBSE1JO0FBS04sTUFBTUcsU0FBUztxQ0FBSVA7UUFBQUE7O0lBQ2pCLElBQUksS0FBNkIsRUFBRSxFQUFPO0lBQzFDLElBQUksQ0FBQ0ssT0FBT0csaUJBQWlCLEVBQUU7SUFDL0JQLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JGO0FBQzlCO01BSk1PO0FBT04sU0FBU0UsY0FBY0MsS0FBSztJQUMxQixJQUFJQyxPQUFPQyxVQUFVQyxPQUFPRCxVQUFVRSxPQUFPLENBQUNGLFVBQVVHLE9BQU8sQ0FBQ0g7SUFFaEUsS0FBSyxNQUFNSSxLQUFLTixNQUFPO1FBQ3JCLElBQUksRUFBQ00sY0FBQUEsd0JBQUFBLEVBQUdDLGFBQWEsR0FBRTtRQUN2QixNQUFNQyxJQUFJRixFQUFFQyxhQUFhLENBQUM7WUFBRUUsZUFBZTtZQUFPQyxZQUFZO1lBQU1DLFlBQVk7UUFBSztRQUNyRlYsT0FBT1csS0FBS0MsR0FBRyxDQUFDWixNQUFNTyxFQUFFTSxDQUFDO1FBQ3pCWCxPQUFPUyxLQUFLQyxHQUFHLENBQUNWLE1BQU1LLEVBQUVPLENBQUM7UUFDekJYLE9BQU9RLEtBQUtJLEdBQUcsQ0FBQ1osTUFBTUksRUFBRU0sQ0FBQyxHQUFHTixFQUFFUyxLQUFLO1FBQ25DWixPQUFPTyxLQUFLSSxH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QUNGLEVBQUUsVUFBTSxDQUFFO29CQUNaO2dCQUNGLEVBQUUsVUFBTSxDQUFFO1lBR1osRUFBRSxPQUFPMU4sT0FBTztnQkFDZGxGLFFBQVFxUixJQUFJLENBQUMsNEJBQTRCbk07Z0JBQ3pDOUUsT0FBT3dOLFdBQVcsR0FBRztZQUN2QixTQUFVO2dCQUNSNEQ7WUFDRjtRQUNGOzs7Ozs7QUFJTjtJQTNzQ3dCdEw7TUFBQUEiLCJzb3VyY2VzIjpbIkM6XFxSZXNlcnZhZWxkaWFcXHNyY1xcY29tcG9uZW50c1xcU2VsZWN0aW9uQm91bmRzLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTZWxlY3Rpb25Cb3VuZHMuanN4XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRyYW5zZm9ybWVyLCBSZWN0IH0gZnJvbSBcInJlYWN0LWtvbnZhXCI7XG5cblxuXG5jb25zdCBERUJVR19TRUxFQ1RJT05fQk9VTkRTID0gZmFsc2U7XG5cbmNvbnN0IHNiTG9nID0gKC4uLmFyZ3MpID0+IHtcbiAgaWYgKCFERUJVR19TRUxFQ1RJT05fQk9VTkRTKSByZXR1cm47XG4gIGNvbnNvbGUubG9nKFwiW1NCXVwiLCAuLi5hcmdzKTtcbn07XG5jb25zdCBzbG9nID0gc2JMb2c7XG5cbmNvbnN0IFRSREJHID0gKC4uLmFyZ3MpID0+IHtcbiAgaWYgKCF3aW5kb3cuX19EQkdfVFIpIHJldHVybjtcbiAgY29uc29sZS5sb2coXCJbVFJEQkddXCIsIC4uLmFyZ3MpO1xufTtcblxuY29uc3QgVFhUREJHID0gKC4uLmFyZ3MpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgaWYgKCF3aW5kb3cuX19EQkdfVEVYVF9SRVNJWkUpIHJldHVybjtcbiAgY29uc29sZS5sb2coXCJbVEVYVC1UUl1cIiwgLi4uYXJncyk7XG59O1xuXG5cbmZ1bmN0aW9uIHJlY3RGcm9tTm9kZXMobm9kZXMpIHtcbiAgbGV0IG1pblggPSBJbmZpbml0eSwgbWluWSA9IEluZmluaXR5LCBtYXhYID0gLUluZmluaXR5LCBtYXhZID0gLUluZmluaXR5O1xuXG4gIGZvciAoY29uc3QgbiBvZiBub2Rlcykge1xuICAgIGlmICghbj8uZ2V0Q2xpZW50UmVjdCkgY29udGludWU7XG4gICAgY29uc3QgciA9IG4uZ2V0Q2xpZW50UmVjdCh7IHNraXBUcmFuc2Zvcm06IGZhbHNlLCBza2lwU2hhZG93OiB0cnVlLCBza2lwU3Ryb2tlOiB0cnVlIH0pO1xuICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCByLngpO1xuICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCByLnkpO1xuICAgIG1heFggPSBNYXRoLm1heChtYXhYLCByLnggKyByLndpZHRoKTtcbiAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgci55ICsgci5oZWlnaHQpO1xuICB9XG5cbiAgaWYgKG1pblggPT09IEluZmluaXR5KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIHsgeDogbWluWCwgeTogbWluWSwgd2lkdGg6IG1heFggLSBtaW5YLCBoZWlnaHQ6IG1heFkgLSBtaW5ZIH07XG59XG5cbmZ1bmN0aW9uIGdldENvdW50ZG93blNjYWxlZFNpemUobm9kZSkge1xuICB0cnkge1xuICAgIGNvbnN0IGhpdGJveCA9IG5vZGU/LmZpbmRPbmU/LihcIi5jb3VudGRvd24taGl0Ym94XCIpO1xuICAgIGNvbnN0IGJhc2VXID0gdHlwZW9mIGhpdGJveD8ud2lkdGggPT09IFwiZnVuY3Rpb25cIiA/IGhpdGJveC53aWR0aCgpIDogTmFOO1xuICAgIGNvbnN0IGJhc2VIID0gdHlwZW9mIGhpdGJveD8uaGVpZ2h0ID09PSBcImZ1bmN0aW9uXCIgPyBoaXRib3guaGVpZ2h0KCkgOiBOYU47XG4gICAgY29uc3Qgc3ggPSBNYXRoLmFicyh0eXBlb2Ygbm9kZT8uc2NhbGVYID09PSBcImZ1bmN0aW9uXCIgPyAobm9kZS5zY2FsZVgoKSB8fCAxKSA6IDEpO1xuICAgIGNvbnN0IHN5ID0gTWF0aC5hYnModHlwZW9mIG5vZGU/LnNjYWxlWSA9PT0gXCJmdW5jdGlvblwiID8gKG5vZGUuc2NhbGVZKCkgfHwgMSkgOiAxKTtcblxuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoYmFzZVcpICYmIE51bWJlci5pc0Zpbml0ZShiYXNlSCkgJiYgYmFzZVcgPiAwICYmIGJhc2VIID4gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IE1hdGguYWJzKGJhc2VXICogc3gpLFxuICAgICAgICBoZWlnaHQ6IE1hdGguYWJzKGJhc2VIICogc3kpLFxuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2gge31cblxuICB0cnkge1xuICAgIGNvbnN0IHIgPSBub2RlLmdldENsaWVudFJlY3QoeyBza2lwVHJhbnNmb3JtOiBmYWxzZSwgc2tpcFNoYWRvdzogdHJ1ZSwgc2tpcFN0cm9rZTogdHJ1ZSB9KTtcbiAgICByZXR1cm4geyB3aWR0aDogTWF0aC5hYnMoci53aWR0aCksIGhlaWdodDogTWF0aC5hYnMoci5oZWlnaHQpIH07XG4gIH0gY2F0Y2gge31cblxuICByZXR1cm4geyB3aWR0aDogMTAwLCBoZWlnaHQ6IDUwIH07XG59XG5cblxuLy8g8J+OqCBDb21wb25lbnRlIHBhcmEgbW9zdHJhciBib3VuZHMgc2luIHRyYW5zZm9ybWVyIChsw61uZWFzLCBldGMuKVxuY29uc3QgQm91bmRzSW5kaWNhdG9yID0gKHsgc2VsZWN0ZWRFbGVtZW50cywgZWxlbWVudFJlZnMsIG9iamV0b3MgfSkgPT4ge1xuICBjb25zdCBbZm9yY2VVcGRhdGUsIHNldEZvcmNlVXBkYXRlXSA9IHVzZVN0YXRlKDApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmlyc3RSZWYgPSBlbGVtZW50UmVmcy5jdXJyZW50Py5bc2VsZWN0ZWRFbGVtZW50c1swXV07XG4gICAgY29uc3Qgc3RhZ2UgPSBmaXJzdFJlZj8uZ2V0U3RhZ2U/LigpO1xuICAgIGlmICghc3RhZ2UpIHJldHVybjtcblxuICAgIGNvbnN0IGhhbmRsZURyYWdNb3ZlID0gKCkgPT4ge1xuICAgICAgc2V0Rm9yY2VVcGRhdGUoKHApID0+IHAgKyAxKTtcbiAgICB9O1xuXG4gICAgc3RhZ2Uub24oXCJkcmFnbW92ZVwiLCBoYW5kbGVEcmFnTW92ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN0YWdlLm9mZihcImRyYWdtb3ZlXCIsIGhhbmRsZURyYWdNb3ZlKTtcbiAgICB9O1xuICB9LCBbc2VsZWN0ZWRFbGVtZW50cy5qb2luKFwiLFwiKV0pO1xuXG4gIGNvbnN0IGVsZW1lbnRvc0RhdGEgPSBzZWxlY3RlZEVsZW1lbnRzXG4gICAgLm1hcCgoaWQpID0+IG9iamV0b3MuZmluZCgob2JqKSA9PiBvYmouaWQgPT09IGlkKSlcbiAgICAuZmlsdGVyKEJvb2xlYW4pO1xuXG4gIGlmIChlbGVtZW50b3NEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IG1pblggPSBJbmZpbml0eSxcbiAgICBtaW5ZID0gSW5maW5pdHksXG4gICAgbWF4WCA9IC1JbmZpbml0eSxcbiAgICBtYXhZID0gLUluZmluaXR5O1xuXG4gIGVsZW1lbnRvc0RhdGEuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnRbb2JqLmlkXTtcbiAgICBpZiAoIW5vZGUpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBpZiAob2JqLnRpcG8gPT09IFwiZm9ybWFcIiAmJiBvYmouZmlndXJhID09PSBcImxpbmVcIikge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBvYmoucG9pbnRzIHx8IFswLCAwLCAxMDAsIDBdO1xuXG4gICAgICAgIGNvbnN0IGNsZWFuUG9pbnRzID0gW1xuICAgICAgICAgIHBhcnNlRmxvYXQocG9pbnRzWzBdKSB8fCAwLFxuICAgICAgICAgIHBhcnNlRmxvYXQocG9pbnRzWzFdKSB8fCAwLFxuICAgICAgICAgIHBhcnNlRmxvYXQocG9pbnRzWzJdKSB8fCAxMDAsXG4gICAgICAgICAgcGFyc2VGbG9hdChwb2ludHNbM10pIHx8IDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgcmVhbFggPSBub2RlLngoKTtcbiAgICAgICAgY29uc3QgcmVhbFkgPSBub2RlLnkoKTtcblxuICAgICAgICBjb25zdCB4MSA9IHJlYWxYICsgY2xlYW5Qb2ludHNbMF07XG4gICAgICAgIGNvbnN0IHkxID0gcmVhbFkgKyBjbGVhblBvaW50c1sxXTtcbiAgICAgICAgY29uc3QgeDIgPSByZWFsWCArIGNsZWFuUG9pbnRzWzJdO1xuICAgICAgICBjb25zdCB5MiA9IHJlYWxZICsgY2xlYW5Qb2ludHNbM107XG5cbiAgICAgICAgY29uc3QgbGluZVBhZGRpbmcgPSA1O1xuXG4gICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCB4MSAtIGxpbmVQYWRkaW5nLCB4MiAtIGxpbmVQYWRkaW5nKTtcbiAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHkxIC0gbGluZVBhZGRpbmcsIHkyIC0gbGluZVBhZGRpbmcpO1xuICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgeDEgKyBsaW5lUGFkZGluZywgeDIgKyBsaW5lUGFkZGluZyk7XG4gICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCB5MSArIGxpbmVQYWRkaW5nLCB5MiArIGxpbmVQYWRkaW5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJveCA9IG5vZGUuZ2V0Q2xpZW50UmVjdCh7IHNraXBUcmFuc2Zvcm06IGZhbHNlLCBza2lwU2hhZG93OiB0cnVlLCBza2lwU3Ryb2tlOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCByID0gYm94O1xuICAgICAgICBjb25zdCBzeCA9IChub2RlPy5zY2FsZVg/LigpID8/IDEpO1xuICAgICAgICBjb25zdCBzeSA9IChub2RlPy5zY2FsZVk/LigpID8/IDEpO1xuICAgICAgICBzbG9nKFxuICAgICAgICAgIFwiW0JJXVwiLFxuICAgICAgICAgIGBpZD0ke29iai5pZH1gLFxuICAgICAgICAgIGB0aXBvPSR7b2JqLnRpcG99YCxcbiAgICAgICAgICBgc3g9JHtzeC50b0ZpeGVkKDMpfWAsXG4gICAgICAgICAgYHN5PSR7c3kudG9GaXhlZCgzKX1gLFxuICAgICAgICAgIGByZWN0KHc9JHtyLndpZHRoLnRvRml4ZWQoMSl9LGg9JHtyLmhlaWdodC50b0ZpeGVkKDEpfSlgXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcmVhbFggPSBib3gueDtcbiAgICAgICAgY29uc3QgcmVhbFkgPSBib3gueTtcbiAgICAgICAgbGV0IHdpZHRoID0gYm94LndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gYm94LmhlaWdodDtcblxuICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwidGV4dG9cIiAmJiBub2RlLmdldFRleHRIZWlnaHQpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gbm9kZS5nZXRUZXh0SGVpZ2h0KCk7XG4gICAgICAgICAgaWYgKHRleHRIZWlnaHQpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHRleHRIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHJlYWxYKTtcbiAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHJlYWxZKTtcbiAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHJlYWxYICsgd2lkdGgpO1xuICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgcmVhbFkgKyBoZWlnaHQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBmYWxsYmFja1ggPSBvYmoueCB8fCAwO1xuICAgICAgY29uc3QgZmFsbGJhY2tZID0gb2JqLnkgfHwgMDtcbiAgICAgIGNvbnN0IGZhbGxiYWNrU2l6ZSA9IDIwO1xuXG4gICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZmFsbGJhY2tYKTtcbiAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBmYWxsYmFja1kpO1xuICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIGZhbGxiYWNrWCArIGZhbGxiYWNrU2l6ZSk7XG4gICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZmFsbGJhY2tZICsgZmFsbGJhY2tTaXplKTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChtaW5YID09PSBJbmZpbml0eSB8fCBtYXhYID09PSAtSW5maW5pdHkpIHtcbiAgICBjb25zdCBwcmltZXJFbGVtZW50byA9IGVsZW1lbnRvc0RhdGFbMF07XG4gICAgaWYgKCFwcmltZXJFbGVtZW50bykgcmV0dXJuIG51bGw7XG4gICAgbWluWCA9IHByaW1lckVsZW1lbnRvLnggfHwgMDtcbiAgICBtaW5ZID0gcHJpbWVyRWxlbWVudG8ueSB8fCAwO1xuICAgIG1heFggPSBtaW5YICsgMTAwO1xuICAgIG1heFkgPSBtaW5ZICsgNTA7XG4gIH1cblxuICBjb25zdCBwYWRkaW5nID0gMTA7XG4gIGNvbnN0IGZpbmFsWCA9IG1pblggLSBwYWRkaW5nO1xuICBjb25zdCBmaW5hbFkgPSBtaW5ZIC0gcGFkZGluZztcbiAgY29uc3QgZmluYWxXaWR0aCA9IG1heFggLSBtaW5YICsgcGFkZGluZyAqIDI7XG4gIGNvbnN0IGZpbmFsSGVpZ2h0ID0gbWF4WSAtIG1pblkgKyBwYWRkaW5nICogMjtcblxuICByZXR1cm4gKFxuICAgIDxSZWN0XG4gICAgICBuYW1lPVwidWlcIlxuICAgICAgeD17ZmluYWxYfVxuICAgICAgeT17ZmluYWxZfVxuICAgICAgd2lkdGg9e2ZpbmFsV2lkdGh9XG4gICAgICBoZWlnaHQ9e2ZpbmFsSGVpZ2h0fVxuICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgIHN0cm9rZT1cIiM5MzMzRUFcIlxuICAgICAgc3Ryb2tlV2lkdGg9ezF9XG4gICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxuICAgICAgb3BhY2l0eT17MC43fVxuICAgIC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWxlY3Rpb25Cb3VuZHMoe1xuICBzZWxlY3RlZEVsZW1lbnRzLFxuICBlbGVtZW50UmVmcyxcbiAgb2JqZXRvcyxcbiAgb25UcmFuc2Zvcm0sXG4gIG9uVHJhbnNmb3JtSW50ZXJhY3Rpb25TdGFydCA9IG51bGwsXG4gIG9uVHJhbnNmb3JtSW50ZXJhY3Rpb25FbmQgPSBudWxsLFxuICBpc0RyYWdnaW5nLFxuICBpc01vYmlsZSA9IGZhbHNlLFxufSkge1xuICBjb25zdCB0cmFuc2Zvcm1lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3RyYW5zZm9ybVRpY2ssIHNldFRyYW5zZm9ybVRpY2tdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IGxhc3ROb2Rlc1JlZiA9IHVzZVJlZihbXSk7XG4gIGNvbnN0IGNpcmNsZUFuY2hvclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgdGV4dFRyYW5zZm9ybUFuY2hvclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgdHJhbnNmb3JtR2VzdHVyZVJlZiA9IHVzZVJlZih7XG4gICAgaXNSb3RhdGU6IGZhbHNlLFxuICAgIGFjdGl2ZUFuY2hvcjogbnVsbCxcbiAgfSk7XG4gIGNvbnN0IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NEYXRhID0gc2VsZWN0ZWRFbGVtZW50c1xuICAgIC5tYXAoKGlkKSA9PiBvYmpldG9zLmZpbmQoKG9iaikgPT4gb2JqLmlkID09PSBpZCkpXG4gICAgLmZpbHRlcihCb29sZWFuKTtcblxuICBjb25zdCBwcmltZXJFbGVtZW50byA9IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NEYXRhWzBdIHx8IG51bGw7XG4gIGNvbnN0IGVzVGV4dG8gPSBwcmltZXJFbGVtZW50bz8udGlwbyA9PT0gXCJ0ZXh0b1wiO1xuICBjb25zdCBlc0NvdW50ZG93biA9IHByaW1lckVsZW1lbnRvPy50aXBvID09PSBcImNvdW50ZG93blwiO1xuICBjb25zdCBlc0dhbGVyaWEgPSBzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBwcmltZXJFbGVtZW50bz8udGlwbyA9PT0gXCJnYWxlcmlhXCI7XG4gIGNvbnN0IGxvY2tBc3BlY3RDb3VudGRvd24gPSBzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBlc0NvdW50ZG93bjtcbiAgY29uc3QgbG9ja0FzcGVjdFRleHQgPSBzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBlc1RleHRvO1xuICBjb25zdCB0cmFuc2Zvcm1lckFuY2hvclNpemUgPSBpc01vYmlsZSA/IDI0IDogMTQ7XG4gIGNvbnN0IHRyYW5zZm9ybWVyUm90YXRlT2Zmc2V0ID0gaXNNb2JpbGUgPyAzNCA6IDI0O1xuICBjb25zdCB0cmFuc2Zvcm1lckFuY2hvclJhZGl1cyA9IDk5OTtcbiAgY29uc3QgdHJhbnNmb3JtZXJQYWRkaW5nID0gaXNNb2JpbGUgPyAxMCA6IDQ7XG4gIGNvbnN0IHRyYW5zZm9ybWVyQm9yZGVyU3Ryb2tlV2lkdGggPSBpc01vYmlsZSA/IDEuNSA6IDE7XG4gIGNvbnN0IHRyYW5zZm9ybWVyQW5jaG9yU3Ryb2tlV2lkdGggPSBpc01vYmlsZSA/IDMgOiAyLjU7XG4gIGNvbnN0IHRyYW5zZm9ybWVyQW5jaG9yU2hhZG93Qmx1ciA9IGlzTW9iaWxlID8gOSA6IDY7XG4gIGNvbnN0IHRyYW5zZm9ybWVyQW5jaG9yU2hhZG93T2Zmc2V0WSA9IGlzTW9iaWxlID8gNCA6IDM7XG4gIGNvbnN0IHRyYW5zZm9ybWVyUm90YXRpb25TbmFwVG9sZXJhbmNlID0gaXNNb2JpbGUgPyA4IDogNTtcbiAgY29uc3QgZXNUcmlhbmd1bG8gPVxuICAgIHByaW1lckVsZW1lbnRvPy50aXBvID09PSBcImZvcm1hXCIgJiZcbiAgICBwcmltZXJFbGVtZW50bz8uZmlndXJhID09PSBcInRyaWFuZ2xlXCI7XG5cbiAgY29uc3QgaGFzR2FsbGVyeSA9IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NEYXRhLnNvbWUoXG4gICAgKG8pID0+IG8udGlwbyA9PT0gXCJnYWxlcmlhXCJcbiAgKTtcblxuICBjb25zdCBoYXlMaW5lYXMgPSBlbGVtZW50b3NTZWxlY2Npb25hZG9zRGF0YS5zb21lKFxuICAgIChvYmopID0+IG9iai50aXBvID09PSBcImZvcm1hXCIgJiYgb2JqLmZpZ3VyYSA9PT0gXCJsaW5lXCJcbiAgKTtcblxuICBjb25zdCBlbGVtZW50b3NUcmFuc2Zvcm1hYmxlcyA9IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3NEYXRhLmZpbHRlcihcbiAgICAob2JqKSA9PiAhKG9iai50aXBvID09PSBcImZvcm1hXCIgJiYgb2JqLmZpZ3VyYSA9PT0gXCJsaW5lXCIpXG4gICk7XG5cbiAgY29uc3QgZGViZXJpYVVzYXJUcmFuc2Zvcm1lciA9XG4gICAgZWxlbWVudG9zVHJhbnNmb3JtYWJsZXMubGVuZ3RoID4gMDtcblxuICBjb25zdCBzZWxlY3RlZEdlb21LZXkgPSBlbGVtZW50b3NTZWxlY2Npb25hZG9zRGF0YVxuICAgIC5tYXAoKG8pID0+XG4gICAgICBbXG4gICAgICAgIG8uaWQsXG4gICAgICAgIG8ueCA/PyAwLFxuICAgICAgICBvLnkgPz8gMCxcbiAgICAgICAgby53aWR0aCA/PyBcIlwiLFxuICAgICAgICBvLmhlaWdodCA/PyBcIlwiLFxuICAgICAgICBvLnNjYWxlWCA/PyAxLFxuICAgICAgICBvLnNjYWxlWSA/PyAxLFxuICAgICAgICBvLnJvdGF0aW9uID8/IDAsXG4gICAgICAgIG8uY2hpcFdpZHRoID8/IFwiXCIsXG4gICAgICAgIG8uZ2FwID8/IFwiXCIsXG4gICAgICAgIG8ucGFkZGluZ1ggPz8gXCJcIixcbiAgICAgICAgby5wYWRkaW5nWSA/PyBcIlwiLFxuICAgICAgXS5qb2luKFwiOlwiKVxuICAgIClcbiAgICAuam9pbihcInxcIik7XG5cbiAgY29uc3QgZ2V0VHJhbnNmb3JtUG9zZSA9IChub2RlKSA9PiB7XG4gICAgaWYgKCFub2RlKSByZXR1cm4geyB4OiAwLCB5OiAwLCByb3RhdGlvbjogMCB9O1xuXG4gICAgaWYgKGVzR2FsZXJpYSAmJiB0eXBlb2Ygbm9kZS5nZXRQYXJlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5nZXRQYXJlbnQoKTtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiB0eXBlb2YgcGFyZW50LnggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmVudC54KCkgOiAwLFxuICAgICAgICAgIHk6IHR5cGVvZiBwYXJlbnQueSA9PT0gXCJmdW5jdGlvblwiID8gcGFyZW50LnkoKSA6IDAsXG4gICAgICAgICAgcm90YXRpb246IHR5cGVvZiBwYXJlbnQucm90YXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IHBhcmVudC5yb3RhdGlvbigpIHx8IDAgOiAwLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB4OiB0eXBlb2Ygbm9kZS54ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLngoKSA6IDAsXG4gICAgICB5OiB0eXBlb2Ygbm9kZS55ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnkoKSA6IDAsXG4gICAgICByb3RhdGlvbjogdHlwZW9mIG5vZGUucm90YXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUucm90YXRpb24oKSB8fCAwIDogMCxcbiAgICB9O1xuICB9O1xuXG5cbiAgLy8g8J+UpSBFZmVjdG8gcHJpbmNpcGFsIGRlbCBUcmFuc2Zvcm1lciAoU0lOIHJldHJ5IC8gU0lOIGZsaWNrZXIpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdHIgPSB0cmFuc2Zvcm1lclJlZi5jdXJyZW50O1xuICAgIGlmICghdHIpIHJldHVybjtcblxuICAgIGNvbnN0IHNlbEtleSA9IHNlbGVjdGVkRWxlbWVudHMuam9pbihcIixcIik7XG4gICAgVFJEQkcoXCJFRkZFQ1Qgc3RhcnRcIiwge1xuICAgICAgc2VsS2V5LFxuICAgICAgaXNEcmFnZ2luZyxcbiAgICAgIGRlYmVyaWFVc2FyVHJhbnNmb3JtZXIsXG4gICAgICBoYXNHYWxsZXJ5LFxuICAgICAgZWxlbWVudG9zVHJhbnNmb3JtYWJsZXNMZW46IGVsZW1lbnRvc1RyYW5zZm9ybWFibGVzLmxlbmd0aCxcbiAgICAgIHRyYW5zZm9ybVRpY2ssXG4gICAgICBlZGl0aW5nSWQ6IHdpbmRvdy5lZGl0aW5nPy5pZCB8fCBudWxsLFxuICAgIH0pO1xuXG4gICAgLy8gU2kgbm8gY29ycmVzcG9uZGUgdHJhbnNmb3JtZXIsIG5vIGhhZ2FzIGRldGFjaCBhZ3Jlc2l2byAoZXZpdGEgZmxpY2tlcilcbiAgICBpZiAoIWRlYmVyaWFVc2FyVHJhbnNmb3JtZXIpIHtcbiAgICAgIFRSREJHKFwiRUZGRUNUIGV4aXQ6IG5vIHRyYW5zZm9ybWVyIG9yIGdhbGxlcnlcIiwgeyBzZWxLZXkgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBSZXNvbHZlciBub2RlcyBkZXNkZSByZWZzIChmdWVudGUgZGUgdmVyZGFkKVxuICAgIGxldCBub2Rvc1RyYW5zZm9ybWFibGVzID0gZWxlbWVudG9zVHJhbnNmb3JtYWJsZXNcbiAgICAgIC5tYXAoKG8pID0+IGVsZW1lbnRSZWZzLmN1cnJlbnQ/LltvLmlkXSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICAvLyBTaW5nbGUgc2VsZWN0OiB1c2FyIHJlZiBmcmVzY28gU0lFTVBSRVxuICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgaWRTZWwgPSBzZWxlY3RlZEVsZW1lbnRzWzBdO1xuICAgICAgY29uc3QgcmVmTm9kZSA9IGVsZW1lbnRSZWZzLmN1cnJlbnQ/LltpZFNlbF0gfHwgbnVsbDtcbiAgICAgIGlmIChyZWZOb2RlICYmIHR5cGVvZiByZWZOb2RlLmdldENsaWVudFJlY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoZXNHYWxlcmlhICYmIHR5cGVvZiByZWZOb2RlLmZpbmRPbmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNvbnN0IGdhbGxlcnlGcmFtZSA9IHJlZk5vZGUuZmluZE9uZShcIi5nYWxsZXJ5LXRyYW5zZm9ybS1mcmFtZVwiKTtcbiAgICAgICAgICBpZiAoZ2FsbGVyeUZyYW1lICYmIHR5cGVvZiBnYWxsZXJ5RnJhbWUuZ2V0Q2xpZW50UmVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBub2Rvc1RyYW5zZm9ybWFibGVzID0gW2dhbGxlcnlGcmFtZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZG9zVHJhbnNmb3JtYWJsZXMgPSBbcmVmTm9kZV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZG9zVHJhbnNmb3JtYWJsZXMgPSBbcmVmTm9kZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaSBhw7puIG5vIGhheSBub2RvcyAoaW1hZ2VuIGNhcmdhbmRvLCBldGMuKSwgTk8gZGVzcGVnYXIgKGV2aXRhIHBhcnBhZGVvKVxuICAgIGlmIChub2Rvc1RyYW5zZm9ybWFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgVFJEQkcoXCJFRkZFQ1QgZXhpdDogbm8gbm9kZXMgeWV0XCIsIHtcbiAgICAgICAgc2VsS2V5LFxuICAgICAgICB3YW50ZWRJZHM6IGVsZW1lbnRvc1RyYW5zZm9ybWFibGVzLm1hcChvID0+IG8uaWQpLFxuICAgICAgICByZWZzUHJlc2VudDogZWxlbWVudG9zVHJhbnNmb3JtYWJsZXMubWFwKG8gPT4gISFlbGVtZW50UmVmcy5jdXJyZW50Py5bby5pZF0pLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBBdHRhY2ggZXN0YWJsZVxuICAgIFRSREJHKFwiQVRUQUNIIHRyeVwiLCB7XG4gICAgICBzZWxLZXksXG4gICAgICBub2Rlc0NvdW50OiBub2Rvc1RyYW5zZm9ybWFibGVzLmxlbmd0aCxcbiAgICAgIG5vZGVJZHM6IG5vZG9zVHJhbnNmb3JtYWJsZXMubWFwKG4gPT4gKHR5cGVvZiBuLmlkID09PSBcImZ1bmN0aW9uXCIgPyBuLmlkKCkgOiBuLmF0dHJzPy5pZCkpLFxuICAgIH0pO1xuXG4gICAgdHIubm9kZXMobm9kb3NUcmFuc2Zvcm1hYmxlcyk7XG5cbiAgICBUUkRCRyhcIkFUVEFDSCBkb25lXCIsIHtcbiAgICAgIHNlbEtleSxcbiAgICAgIHRyTm9kZXNDb3VudDogdHIubm9kZXM/LigpPy5sZW5ndGggfHwgMCxcbiAgICB9KTtcblxuICAgIHRyeSB7IHRyLmZvcmNlVXBkYXRlPy4oKTsgfSBjYXRjaCB7IH1cbiAgICB0ci5nZXRMYXllcigpPy5iYXRjaERyYXcoKTtcblxuICB9LCBbXG4gICAgLy8gRGVwZW5kZW5jaWFzIG3DrW5pbWFzIHJlYWxlc1xuICAgIHNlbGVjdGVkRWxlbWVudHMuam9pbihcIixcIiksXG4gICAgZGViZXJpYVVzYXJUcmFuc2Zvcm1lcixcbiAgICBoYXNHYWxsZXJ5LFxuICAgIGVsZW1lbnRvc1RyYW5zZm9ybWFibGVzLmxlbmd0aCxcbiAgICBzZWxlY3RlZEdlb21LZXksXG4gICAgdHJhbnNmb3JtVGljayxcbiAgICBlbGVtZW50UmVmcyxcbiAgXSk7XG5cblxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IChlKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGU/LmRldGFpbD8uaWQ7XG4gICAgICBpZiAoIWlkKSByZXR1cm47XG5cbiAgICAgIFRSREJHKFwiUkVGIGV2ZW50XCIsIHtcbiAgICAgICAgaWQsXG4gICAgICAgIGlzU2VsZWN0ZWQ6IHNlbGVjdGVkRWxlbWVudHMuaW5jbHVkZXMoaWQpLFxuICAgICAgICBzZWxLZXk6IHNlbGVjdGVkRWxlbWVudHMuam9pbihcIixcIiksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFzZWxlY3RlZEVsZW1lbnRzLmluY2x1ZGVzKGlkKSkgcmV0dXJuO1xuICAgICAgc2V0VHJhbnNmb3JtVGljayh0ID0+IHQgKyAxKTtcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlbGVtZW50LXJlZi1yZWdpc3RyYWRvXCIsIGhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVsZW1lbnQtcmVmLXJlZ2lzdHJhZG9cIiwgaGFuZGxlcik7XG4gIH0sIFtzZWxlY3RlZEVsZW1lbnRzLmpvaW4oXCIsXCIpXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmaXJzdElkID0gc2VsZWN0ZWRFbGVtZW50cz8uWzBdO1xuICAgIGlmICghZmlyc3RJZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgZmlyc3ROb2RlID0gZWxlbWVudFJlZnMuY3VycmVudD8uW2ZpcnN0SWRdO1xuICAgIGNvbnN0IHN0YWdlID0gZmlyc3ROb2RlPy5nZXRTdGFnZT8uKCk7XG4gICAgaWYgKCFzdGFnZSkgcmV0dXJuO1xuXG4gICAgbGV0IHJhZklkID0gbnVsbDtcbiAgICBjb25zdCBzeW5jVHJhbnNmb3JtZXIgPSAoKSA9PiB7XG4gICAgICBpZiAocmFmSWQgIT0gbnVsbCkgcmV0dXJuO1xuICAgICAgcmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICByYWZJZCA9IG51bGw7XG4gICAgICAgIGNvbnN0IHRyID0gdHJhbnNmb3JtZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCF0cikgcmV0dXJuO1xuICAgICAgICB0cnkgeyB0ci5mb3JjZVVwZGF0ZT8uKCk7IH0gY2F0Y2ggeyB9XG4gICAgICAgIHRyLmdldExheWVyPy4oKT8uYmF0Y2hEcmF3Py4oKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzdGFnZS5vbihcImRyYWdtb3ZlXCIsIHN5bmNUcmFuc2Zvcm1lcik7XG4gICAgc3RhZ2Uub24oXCJkcmFnZW5kXCIsIHN5bmNUcmFuc2Zvcm1lcik7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3RhZ2Uub2ZmKFwiZHJhZ21vdmVcIiwgc3luY1RyYW5zZm9ybWVyKTtcbiAgICAgIHN0YWdlLm9mZihcImRyYWdlbmRcIiwgc3luY1RyYW5zZm9ybWVyKTtcbiAgICAgIGlmIChyYWZJZCAhPSBudWxsKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZJZCk7XG4gICAgfTtcbiAgfSwgW3NlbGVjdGVkRWxlbWVudHMuam9pbihcIixcIiksIGVsZW1lbnRSZWZzXSk7XG5cblxuXG5cbiAgLy8g8J+UpSBSZW5kZXJcblxuICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIGlmIChoYXlMaW5lYXMgJiYgZWxlbWVudG9zVHJhbnNmb3JtYWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxCb3VuZHNJbmRpY2F0b3JcbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50cz17c2VsZWN0ZWRFbGVtZW50c31cbiAgICAgICAgZWxlbWVudFJlZnM9e2VsZW1lbnRSZWZzfVxuICAgICAgICBvYmpldG9zPXtvYmpldG9zfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgaWYgKGhheUxpbmVhcyAmJiBlbGVtZW50b3NUcmFuc2Zvcm1hYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxCb3VuZHNJbmRpY2F0b3JcbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50cz17c2VsZWN0ZWRFbGVtZW50c31cbiAgICAgICAgZWxlbWVudFJlZnM9e2VsZW1lbnRSZWZzfVxuICAgICAgICBvYmpldG9zPXtvYmpldG9zfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8VHJhbnNmb3JtZXJcbiAgICAgIG5hbWU9XCJ1aVwiXG4gICAgICByZWY9e3RyYW5zZm9ybWVyUmVmfVxuXG4gICAgICAvLyDwn5S1IGJvcmRlIHNpZW1wcmUgdmlzaWJsZVxuICAgICAgYm9yZGVyRW5hYmxlZD17dHJ1ZX1cblxuICAgICAgYm9yZGVyU3Ryb2tlPVwiIzkzMzNFQVwiXG5cblxuICAgICAgYm9yZGVyU3Ryb2tlV2lkdGg9e3RyYW5zZm9ybWVyQm9yZGVyU3Ryb2tlV2lkdGh9XG4gICAgICBwYWRkaW5nPXt0cmFuc2Zvcm1lclBhZGRpbmd9XG5cbiAgICAgIC8vIOKdjCBub2RvcyB5IHJvdGFjacOzbiBPRkYgZHVyYW50ZSBkcmFnXG4gICAgICBlbmFibGVkQW5jaG9ycz17aXNEcmFnZ2luZyA/IFtdIDogW1wiYm90dG9tLXJpZ2h0XCJdfVxuICAgICAgcm90YXRlRW5hYmxlZD17IWlzRHJhZ2dpbmcgJiYgIWVzR2FsZXJpYX1cblxuICAgICAgYW5jaG9yRmlsbD1cIiM5MzMzRUFcIlxuICAgICAgYW5jaG9yU3Ryb2tlPVwiI2ZmZmZmZlwiXG4gICAgICBhbmNob3JTdHJva2VXaWR0aD17dHJhbnNmb3JtZXJBbmNob3JTdHJva2VXaWR0aH1cbiAgICAgIGFuY2hvclNpemU9e3RyYW5zZm9ybWVyQW5jaG9yU2l6ZX1cbiAgICAgIGFuY2hvckNvcm5lclJhZGl1cz17dHJhbnNmb3JtZXJBbmNob3JSYWRpdXN9XG4gICAgICBhbmNob3JTaGFkb3dDb2xvcj1cInJnYmEoMTQ3LCA1MSwgMjM0LCAwLjMpXCJcbiAgICAgIGFuY2hvclNoYWRvd0JsdXI9e3RyYW5zZm9ybWVyQW5jaG9yU2hhZG93Qmx1cn1cbiAgICAgIGFuY2hvclNoYWRvd09mZnNldD17eyB4OiAwLCB5OiB0cmFuc2Zvcm1lckFuY2hvclNoYWRvd09mZnNldFkgfX1cbiAgICAgIGtlZXBSYXRpbz17bG9ja0FzcGVjdENvdW50ZG93biB8fCBlc0dhbGVyaWEgfHwgbG9ja0FzcGVjdFRleHR9XG4gICAgICBjZW50ZXJlZFNjYWxpbmc9e3NlbGVjdGVkRWxlbWVudHMubGVuZ3RoID09PSAxICYmIGVzVGV4dG99XG4gICAgICBmbGlwRW5hYmxlZD17ZmFsc2V9XG4gICAgICByZXNpemVFbmFibGVkPXshaXNEcmFnZ2luZ31cbiAgICAgIHJvdGF0aW9uU25hcHM9e1swLCA0NSwgOTAsIDEzNSwgMTgwLCAyMjUsIDI3MCwgMzE1XX1cbiAgICAgIHJvdGF0ZUFuY2hvck9mZnNldD17dHJhbnNmb3JtZXJSb3RhdGVPZmZzZXR9XG4gICAgICByb3RhdGlvblNuYXBUb2xlcmFuY2U9e3RyYW5zZm9ybWVyUm90YXRpb25TbmFwVG9sZXJhbmNlfVxuICAgICAgYm91bmRCb3hGdW5jPXsob2xkQm94LCBuZXdCb3gpID0+IHtcbiAgICAgICAgY29uc3QgbWluU2l6ZSA9IGVzVGV4dG8gPyAyMCA6IDEwO1xuICAgICAgICBjb25zdCBtYXhTaXplID0gODAwO1xuICAgICAgICBpZiAoZXNHYWxlcmlhKSB7XG4gICAgICAgICAgY29uc3Qgcm93cyA9IE1hdGgubWF4KDEsIE51bWJlcihwcmltZXJFbGVtZW50bz8ucm93cykgfHwgMSk7XG4gICAgICAgICAgY29uc3QgY29scyA9IE1hdGgubWF4KDEsIE51bWJlcihwcmltZXJFbGVtZW50bz8uY29scykgfHwgMSk7XG4gICAgICAgICAgY29uc3QgZ2FwID0gTWF0aC5tYXgoMCwgTnVtYmVyKHByaW1lckVsZW1lbnRvPy5nYXApIHx8IDApO1xuICAgICAgICAgIGNvbnN0IGNlbGxSYXRpbyA9XG4gICAgICAgICAgICBwcmltZXJFbGVtZW50bz8ucmF0aW8gPT09IFwiNDozXCJcbiAgICAgICAgICAgICAgPyAzIC8gNFxuICAgICAgICAgICAgICA6IHByaW1lckVsZW1lbnRvPy5yYXRpbyA9PT0gXCIxNjo5XCJcbiAgICAgICAgICAgICAgICA/IDkgLyAxNlxuICAgICAgICAgICAgICAgIDogMTtcblxuICAgICAgICAgIGNvbnN0IG1pbkdyaWRXaWR0aCA9IGdhcCAqIChjb2xzIC0gMSkgKyBjb2xzO1xuICAgICAgICAgIGNvbnN0IG5leHRXaWR0aCA9IE1hdGgubWluKFxuICAgICAgICAgICAgbWF4U2l6ZSxcbiAgICAgICAgICAgIE1hdGgubWF4KG1pblNpemUsIG1pbkdyaWRXaWR0aCwgTWF0aC5hYnMobmV3Qm94LndpZHRoKSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGNlbGxXID0gTWF0aC5tYXgoMSwgKG5leHRXaWR0aCAtIGdhcCAqIChjb2xzIC0gMSkpIC8gY29scyk7XG4gICAgICAgICAgY29uc3QgY2VsbEggPSBjZWxsVyAqIGNlbGxSYXRpbztcbiAgICAgICAgICBjb25zdCBuZXh0SGVpZ2h0ID0gcm93cyAqIGNlbGxIICsgZ2FwICogKHJvd3MgLSAxKTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5uZXdCb3gsXG4gICAgICAgICAgICB3aWR0aDogbmV4dFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1heChtaW5TaXplLCBuZXh0SGVpZ2h0KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0JveC53aWR0aCA8IG1pblNpemUgfHwgbmV3Qm94LmhlaWdodCA8IG1pblNpemUpIHtcbiAgICAgICAgICByZXR1cm4gb2xkQm94O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvY2tBc3BlY3RDb3VudGRvd24pIHtcbiAgICAgICAgICBjb25zdCBiYXNlVyA9IE1hdGgubWF4KDEsIG9sZEJveC53aWR0aCk7XG4gICAgICAgICAgY29uc3QgYmFzZUggPSBNYXRoLm1heCgxLCBvbGRCb3guaGVpZ2h0KTtcbiAgICAgICAgICBjb25zdCByYXRpbyA9IGJhc2VXIC8gYmFzZUg7XG5cbiAgICAgICAgICBjb25zdCBkdyA9IE1hdGguYWJzKG5ld0JveC53aWR0aCAtIG9sZEJveC53aWR0aCkgLyBiYXNlVztcbiAgICAgICAgICBjb25zdCBkaCA9IE1hdGguYWJzKG5ld0JveC5oZWlnaHQgLSBvbGRCb3guaGVpZ2h0KSAvIGJhc2VIO1xuXG4gICAgICAgICAgbGV0IHdpZHRoID0gbmV3Qm94LndpZHRoO1xuICAgICAgICAgIGxldCBoZWlnaHQgPSBuZXdCb3guaGVpZ2h0O1xuXG4gICAgICAgICAgaWYgKGRoID4gZHcpIHtcbiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogcmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gcmF0aW87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLm5ld0JveCxcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLm1pbihNYXRoLm1heCh3aWR0aCwgbWluU2l6ZSksIG1heFNpemUpLFxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1pbihNYXRoLm1heChoZWlnaHQsIG1pblNpemUpLCBtYXhTaXplKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByaW1lckVsZW1lbnRvPy50aXBvID09PSBcImZvcm1hXCIgJiZcbiAgICAgICAgICBwcmltZXJFbGVtZW50bz8uZmlndXJhID09PSBcImNpcmNsZVwiXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHNpemUgPSBNYXRoLm1heChuZXdCb3gud2lkdGgsIG5ld0JveC5oZWlnaHQpO1xuICAgICAgICAgIGNvbnN0IGZpbmFsU2l6ZSA9IE1hdGgubWluKHNpemUsIG1heFNpemUpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5uZXdCb3gsXG4gICAgICAgICAgICB3aWR0aDogZmluYWxTaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBmaW5hbFNpemUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlc1RyaWFuZ3Vsbykge1xuICAgICAgICAgIGNvbnN0IHNhZmVPbGRXID0gTWF0aC5tYXgoMSwgTWF0aC5hYnMob2xkQm94LndpZHRoIHx8IG1pblNpemUpKTtcbiAgICAgICAgICBjb25zdCBzYWZlT2xkSCA9IE1hdGgubWF4KDEsIE1hdGguYWJzKG9sZEJveC5oZWlnaHQgfHwgbWluU2l6ZSkpO1xuICAgICAgICAgIGNvbnN0IHNjYWxlWCA9IE1hdGguYWJzKG5ld0JveC53aWR0aCkgLyBzYWZlT2xkVztcbiAgICAgICAgICBjb25zdCBzY2FsZVkgPSBNYXRoLmFicyhuZXdCb3guaGVpZ2h0KSAvIHNhZmVPbGRIO1xuICAgICAgICAgIGNvbnN0IHVuaWZvcm1TY2FsZSA9IE1hdGgubWF4KDAuMDUsIE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSk7XG5cbiAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWluKE1hdGgubWF4KHNhZmVPbGRXICogdW5pZm9ybVNjYWxlLCBtaW5TaXplKSwgbWF4U2l6ZSk7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5tYXgoc2FmZU9sZEggKiB1bmlmb3JtU2NhbGUsIG1pblNpemUpLCBtYXhTaXplKTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5uZXdCb3gsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByaW1lckVsZW1lbnRvPy50aXBvID09PSBcImltYWdlblwiIHx8XG4gICAgICAgICAgcHJpbWVyRWxlbWVudG8/LnRpcG8gPT09IFwiaWNvbm9cIlxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBzY2FsZVggPSBuZXdCb3gud2lkdGggLyBvbGRCb3gud2lkdGg7XG4gICAgICAgICAgY29uc3Qgc2NhbGVZID0gbmV3Qm94LmhlaWdodCAvIG9sZEJveC5oZWlnaHQ7XG4gICAgICAgICAgY29uc3QgdW5pZm9ybVNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpO1xuXG4gICAgICAgICAgY29uc3QgbmV3V2lkdGggPSBvbGRCb3gud2lkdGggKiB1bmlmb3JtU2NhbGU7XG4gICAgICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gb2xkQm94LmhlaWdodCAqIHVuaWZvcm1TY2FsZTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5uZXdCb3gsXG4gICAgICAgICAgICB3aWR0aDogTWF0aC5taW4oTWF0aC5tYXgobmV3V2lkdGgsIG1pblNpemUpLCBtYXhTaXplKSxcbiAgICAgICAgICAgIGhlaWdodDogTWF0aC5taW4oTWF0aC5tYXgobmV3SGVpZ2h0LCBtaW5TaXplKSwgbWF4U2l6ZSksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubmV3Qm94LFxuICAgICAgICAgIHdpZHRoOiBNYXRoLm1pbihuZXdCb3gud2lkdGgsIG1heFNpemUpLFxuICAgICAgICAgIGhlaWdodDogTWF0aC5taW4obmV3Qm94LmhlaWdodCwgbWF4U2l6ZSksXG4gICAgICAgIH07XG4gICAgICB9fVxuICAgICAgb25UcmFuc2Zvcm1TdGFydD17KGUpID0+IHtcbiAgICAgICAgd2luZG93Ll9yZXNpemVEYXRhID0geyBpc1Jlc2l6aW5nOiB0cnVlIH07XG4gICAgICAgIGNvbnN0IHRyID0gdHJhbnNmb3JtZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgYWN0aXZlQW5jaG9yID1cbiAgICAgICAgICB0eXBlb2YgdHI/LmdldEFjdGl2ZUFuY2hvciA9PT0gXCJmdW5jdGlvblwiID8gdHIuZ2V0QWN0aXZlQW5jaG9yKCkgOiBudWxsO1xuICAgICAgICBjb25zdCBpc1JvdGF0ZUdlc3R1cmUgPVxuICAgICAgICAgIHR5cGVvZiBhY3RpdmVBbmNob3IgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICBhY3RpdmVBbmNob3IudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInJvdGF0XCIpO1xuICAgICAgICB0cmFuc2Zvcm1HZXN0dXJlUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgaXNSb3RhdGU6IGlzUm90YXRlR2VzdHVyZSxcbiAgICAgICAgICBhY3RpdmVBbmNob3I6IGFjdGl2ZUFuY2hvciA/PyBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodHlwZW9mIG9uVHJhbnNmb3JtSW50ZXJhY3Rpb25TdGFydCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgb25UcmFuc2Zvcm1JbnRlcmFjdGlvblN0YXJ0KHtcbiAgICAgICAgICAgIGlzUm90YXRlOiBpc1JvdGF0ZUdlc3R1cmUsXG4gICAgICAgICAgICBhY3RpdmVBbmNob3I6IGFjdGl2ZUFuY2hvciA/PyBudWxsLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IGU/LmV2dD8ucG9pbnRlclR5cGUgPz8gbnVsbCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG5vZGVzID0gdHI/Lm5vZGVzPy4oKSB8fCBbXTtcbiAgICAgICAgICBjaXJjbGVBbmNob3JSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgdGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5vZGVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgcHJpbWVyRWxlbWVudG8/LnRpcG8gPT09IFwiZm9ybWFcIiAmJlxuICAgICAgICAgICAgcHJpbWVyRWxlbWVudG8/LmZpZ3VyYSA9PT0gXCJjaXJjbGVcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcjAgPSBub2Rlc1swXS5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjaXJjbGVBbmNob3JSZWYuY3VycmVudCA9IHsgbGVmdDogcjAueCwgdG9wOiByMC55IH07XG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMSAmJiBlc1RleHRvKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbMF07XG4gICAgICAgICAgICBsZXQgY2VudGVyWCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY2VudGVyWSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgYmFzZVdpZHRoID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBiYXNlSGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBiYXNlVmlzdWFsV2lkdGggPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IG5vZGUuZ2V0Q2xpZW50UmVjdCh7XG4gICAgICAgICAgICAgICAgc2tpcFRyYW5zZm9ybTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBza2lwU3Ryb2tlOiB0cnVlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShyZWN0Py54KSAmJiBOdW1iZXIuaXNGaW5pdGUocmVjdD8ud2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgY2VudGVyWCA9IHJlY3QueCArIChyZWN0LndpZHRoIC8gMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShyZWN0Py55KSAmJiBOdW1iZXIuaXNGaW5pdGUocmVjdD8uaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgIGNlbnRlclkgPSByZWN0LnkgKyAocmVjdC5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHJlY3Q/LndpZHRoKSAmJiByZWN0LndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VXaWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgICAgICAgICAgYmFzZVZpc3VhbFdpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHJlY3Q/LmhlaWdodCkgJiYgcmVjdC5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgYmFzZUhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICBjb25zdCBzYWZlQmFzZUZvbnRTaXplID1cbiAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHByaW1lckVsZW1lbnRvPy5mb250U2l6ZSkgJiYgcHJpbWVyRWxlbWVudG8uZm9udFNpemUgPiAwXG4gICAgICAgICAgICAgICAgPyBwcmltZXJFbGVtZW50by5mb250U2l6ZVxuICAgICAgICAgICAgICAgIDogMjQ7XG4gICAgICAgICAgICB0ZXh0VHJhbnNmb3JtQW5jaG9yUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgIHk6IHR5cGVvZiBub2RlPy55ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnkoKSA6IDAsXG4gICAgICAgICAgICAgIGJhc2VSb3RhdGlvbjpcbiAgICAgICAgICAgICAgICB0eXBlb2Ygbm9kZT8ucm90YXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IChub2RlLnJvdGF0aW9uKCkgfHwgMCkgOiAwLFxuICAgICAgICAgICAgICBjZW50ZXJYLFxuICAgICAgICAgICAgICBjZW50ZXJZLFxuICAgICAgICAgICAgICBiYXNlV2lkdGgsXG4gICAgICAgICAgICAgIGJhc2VIZWlnaHQsXG4gICAgICAgICAgICAgIGJhc2VGb250U2l6ZTogc2FmZUJhc2VGb250U2l6ZSxcbiAgICAgICAgICAgICAgbGFzdFByZXZpZXdGb250U2l6ZTogc2FmZUJhc2VGb250U2l6ZSxcbiAgICAgICAgICAgICAgbGFzdFByZXZpZXdDZW50ZXJYOiBjZW50ZXJYLFxuICAgICAgICAgICAgICBsYXN0UHJldmlld0NlbnRlclk6IGNlbnRlclksXG4gICAgICAgICAgICAgIGxhc3RQcmV2aWV3VmlzdWFsV2lkdGg6IGJhc2VWaXN1YWxXaWR0aCxcbiAgICAgICAgICAgICAgcHJldmlld1RpY2s6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgVFhUREJHKFwic3RhcnRcIiwge1xuICAgICAgICAgICAgICBpZDogcHJpbWVyRWxlbWVudG8/LmlkID8/IG51bGwsXG4gICAgICAgICAgICAgIGJhc2VGb250U2l6ZTogc2FmZUJhc2VGb250U2l6ZSxcbiAgICAgICAgICAgICAgYmFzZVdpZHRoLFxuICAgICAgICAgICAgICBiYXNlSGVpZ2h0LFxuICAgICAgICAgICAgICBjZW50ZXJYLFxuICAgICAgICAgICAgICBjZW50ZXJZLFxuICAgICAgICAgICAgICBub2RlWDogdHlwZW9mIG5vZGU/LnggPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUueCgpIDogbnVsbCxcbiAgICAgICAgICAgICAgbm9kZVk6IHR5cGVvZiBub2RlPy55ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnkoKSA6IG51bGwsXG4gICAgICAgICAgICAgIG5vZGVTY2FsZVg6IHR5cGVvZiBub2RlPy5zY2FsZVggPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUuc2NhbGVYKCkgOiBudWxsLFxuICAgICAgICAgICAgICBub2RlU2NhbGVZOiB0eXBlb2Ygbm9kZT8uc2NhbGVZID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnNjYWxlWSgpIDogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHVuaW9uID0gcmVjdEZyb21Ob2Rlcyhub2Rlcyk7XG5cbiAgICAgICAgICBjb25zdCBwYWQgPSB0eXBlb2YgdHI/LnBhZGRpbmcgPT09IFwiZnVuY3Rpb25cIiA/IHRyLnBhZGRpbmcoKSA6IDA7XG4gICAgICAgICAgY29uc3QgYm9yZGVyUmVjdCA9IHVuaW9uXG4gICAgICAgICAgICA/IHsgeDogdW5pb24ueCAtIHBhZCwgeTogdW5pb24ueSAtIHBhZCwgd2lkdGg6IHVuaW9uLndpZHRoICsgcGFkICogMiwgaGVpZ2h0OiB1bmlvbi5oZWlnaHQgKyBwYWQgKiAyIH1cbiAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICAgIGNvbnN0IG4gPSBub2Rlc1swXTtcbiAgICAgICAgICBjb25zdCBpZCA9IG4gPyAodHlwZW9mIG4uaWQgPT09IFwiZnVuY3Rpb25cIiA/IG4uaWQoKSA6IG4uYXR0cnM/LmlkKSA6IFwi4oiFXCI7XG4gICAgICAgICAgY29uc3QgdHJSZWN0ID0gdHI/LmdldENsaWVudFJlY3Q/Lih7IHNraXBUcmFuc2Zvcm06IGZhbHNlLCBza2lwU2hhZG93OiB0cnVlLCBza2lwU3Ryb2tlOiB0cnVlIH0pO1xuXG4gICAgICAgICAgc2xvZyhcbiAgICAgICAgICAgIFwiW1RSXSBzdGFydFwiLFxuICAgICAgICAgICAgYGlkPSR7aWR9YCxcbiAgICAgICAgICAgIGBub2Rlcz0ke25vZGVzLmxlbmd0aH1gLFxuICAgICAgICAgICAgdW5pb24gPyBgdW5pb24odz0ke3VuaW9uLndpZHRoLnRvRml4ZWQoMSl9LGg9JHt1bmlvbi5oZWlnaHQudG9GaXhlZCgxKX0pYCA6IFwidW5pb24obnVsbClcIixcbiAgICAgICAgICAgIGJvcmRlclJlY3QgPyBgYm9yZGVyKHc9JHtib3JkZXJSZWN0LndpZHRoLnRvRml4ZWQoMSl9LGg9JHtib3JkZXJSZWN0LmhlaWdodC50b0ZpeGVkKDEpfSlgIDogXCJib3JkZXIobnVsbClcIixcbiAgICAgICAgICAgIHRyUmVjdCA/IGB0clJlY3Qodz0ke3RyUmVjdC53aWR0aC50b0ZpeGVkKDEpfSxoPSR7dHJSZWN0LmhlaWdodC50b0ZpeGVkKDEpfSlgIDogXCJ0clJlY3QobnVsbClcIixcbiAgICAgICAgICAgIGBwYWQ9JHtwYWR9YFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggeyB9XG4gICAgICB9fVxuXG4gICAgICBvblRyYW5zZm9ybT17KGUpID0+IHtcbiAgICAgICAgaWYgKCFvblRyYW5zZm9ybSB8fCAhdHJhbnNmb3JtZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdHJhbnNmb3JtZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0eXBlb2YgdHIubm9kZXMgPT09IFwiZnVuY3Rpb25cIiA/IHRyLm5vZGVzKCkgfHwgW10gOiBbXTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzWzBdOyAvLyDinIUgbm9kbyByZWFsIChzaW5nbGUgc2VsZWN0KVxuICAgICAgICBpZiAoIW5vZGUpIHJldHVybjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBvc2UgPSBnZXRUcmFuc2Zvcm1Qb3NlKG5vZGUpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybURhdGEgPSB7XG4gICAgICAgICAgICB4OiBwb3NlLngsXG4gICAgICAgICAgICB5OiBwb3NlLnksXG4gICAgICAgICAgICByb3RhdGlvbjogcG9zZS5yb3RhdGlvbixcbiAgICAgICAgICAgIGlzUHJldmlldzogdHJ1ZSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKGVzVGV4dG8pIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRm9udFNpemUgPSBwcmltZXJFbGVtZW50by5mb250U2l6ZSB8fCAyNDtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlWCA9IHR5cGVvZiBub2RlLnNjYWxlWCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS5zY2FsZVgoKSA6IDE7XG4gICAgICAgICAgICBjb25zdCBzY2FsZVkgPSB0eXBlb2Ygbm9kZS5zY2FsZVkgPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUuc2NhbGVZKCkgOiAxO1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yRGF0YSA9IHRleHRUcmFuc2Zvcm1BbmNob3JSZWYuY3VycmVudCB8fCBudWxsO1xuICAgICAgICAgICAgY29uc3QgYmFzZUZvbnRTaXplID1cbiAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGFuY2hvckRhdGE/LmJhc2VGb250U2l6ZSkgJiZcbiAgICAgICAgICAgICAgYW5jaG9yRGF0YS5iYXNlRm9udFNpemUgPiAwXG4gICAgICAgICAgICAgICAgPyBhbmNob3JEYXRhLmJhc2VGb250U2l6ZVxuICAgICAgICAgICAgICAgIDogb3JpZ2luYWxGb250U2l6ZTtcblxuICAgICAgICAgICAgY29uc3QgYXZnU2NhbGUgPSAoTWF0aC5hYnMoc2NhbGVYKSArIE1hdGguYWJzKHNjYWxlWSkpIC8gMjtcbiAgICAgICAgICAgIGxldCBzY2FsZUZyb21SZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBsaXZlUmVjdFdpZHRoID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3RhdGlvbiA9XG4gICAgICAgICAgICAgIHR5cGVvZiBub2RlLnJvdGF0aW9uID09PSBcImZ1bmN0aW9uXCIgPyAobm9kZS5yb3RhdGlvbigpIHx8IDApIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VSb3RhdGlvbiA9IE51bWJlcihhbmNob3JEYXRhPy5iYXNlUm90YXRpb24pO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRpb25EZWx0YSA9IE51bWJlci5pc0Zpbml0ZShiYXNlUm90YXRpb24pXG4gICAgICAgICAgICAgID8gTWF0aC5hYnMoY3VycmVudFJvdGF0aW9uIC0gYmFzZVJvdGF0aW9uKVxuICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZWN0ID0gbm9kZS5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHJlY3Q/LndpZHRoKSAmJiByZWN0LndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGxpdmVSZWN0V2lkdGggPSByZWN0LndpZHRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IGJhc2VXaWR0aCA9IE51bWJlcihhbmNob3JEYXRhPy5iYXNlV2lkdGgpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGJhc2VXaWR0aCkgJiZcbiAgICAgICAgICAgICAgICBiYXNlV2lkdGggPiAwICYmXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHJlY3Q/LndpZHRoKSAmJlxuICAgICAgICAgICAgICAgIHJlY3Qud2lkdGggPiAwXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNjYWxlRnJvbVJlY3QgPSByZWN0LndpZHRoIC8gYmFzZVdpZHRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICBjb25zdCBjYW5Vc2VSZWN0U2NhbGUgPSByb3RhdGlvbkRlbHRhIDwgMC4xO1xuICAgICAgICAgICAgY29uc3QgZWZmZWN0aXZlU2NhbGUgPVxuICAgICAgICAgICAgICBjYW5Vc2VSZWN0U2NhbGUgJiYgTnVtYmVyLmlzRmluaXRlKHNjYWxlRnJvbVJlY3QpICYmIHNjYWxlRnJvbVJlY3QgPiAwXG4gICAgICAgICAgICAgICAgPyBzY2FsZUZyb21SZWN0XG4gICAgICAgICAgICAgICAgOiBhdmdTY2FsZTtcbiAgICAgICAgICAgIHRyYW5zZm9ybURhdGEuZm9udFNpemUgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgTnVtYmVyKChiYXNlRm9udFNpemUgKiBlZmZlY3RpdmVTY2FsZSkudG9GaXhlZCgzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAodGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRpY2sgPSBOdW1iZXIodGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50LnByZXZpZXdUaWNrIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50LnByZXZpZXdUaWNrID0gdGljaztcbiAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50Lmxhc3RQcmV2aWV3Rm9udFNpemUgPSB0cmFuc2Zvcm1EYXRhLmZvbnRTaXplO1xuICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGxpdmVSZWN0V2lkdGgpICYmIGxpdmVSZWN0V2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50Lmxhc3RQcmV2aWV3VmlzdWFsV2lkdGggPSBsaXZlUmVjdFdpZHRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0aWNrIDw9IDIgfHwgdGljayAlIDUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBUWFREQkcoXCJwcmV2aWV3XCIsIHtcbiAgICAgICAgICAgICAgICAgIGlkOiBwcmltZXJFbGVtZW50bz8uaWQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgIHRpY2ssXG4gICAgICAgICAgICAgICAgICBzY2FsZVgsXG4gICAgICAgICAgICAgICAgICBzY2FsZVksXG4gICAgICAgICAgICAgICAgICBhdmdTY2FsZSxcbiAgICAgICAgICAgICAgICAgIHNjYWxlRnJvbVJlY3QsXG4gICAgICAgICAgICAgICAgICBlZmZlY3RpdmVTY2FsZSxcbiAgICAgICAgICAgICAgICAgIGJhc2VGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiB0cmFuc2Zvcm1EYXRhLmZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgbGl2ZVJlY3RXaWR0aCxcbiAgICAgICAgICAgICAgICAgIGNlbnRlclhUYXJnZXQ6IHRleHRUcmFuc2Zvcm1BbmNob3JSZWYuY3VycmVudD8uY2VudGVyWCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgbm9kZVg6IHR5cGVvZiBub2RlPy54ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLngoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICBub2RlWTogdHlwZW9mIG5vZGU/LnkgPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUueSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS5zY2FsZVggPSAxO1xuICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS5zY2FsZVkgPSAxO1xuICAgICAgICAgICAgaWYgKGNhblVzZVJlY3RTY2FsZSAmJiBOdW1iZXIuaXNGaW5pdGUodGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50Py55KSkge1xuICAgICAgICAgICAgICB0cmFuc2Zvcm1EYXRhLnkgPSB0ZXh0VHJhbnNmb3JtQW5jaG9yUmVmLmN1cnJlbnQueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50Py5jZW50ZXJYKSkge1xuICAgICAgICAgICAgICB0cmFuc2Zvcm1EYXRhLnRleHRDZW50ZXJYID0gdGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50LmNlbnRlclg7XG4gICAgICAgICAgICAgIGlmICh0ZXh0VHJhbnNmb3JtQW5jaG9yUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtQW5jaG9yUmVmLmN1cnJlbnQubGFzdFByZXZpZXdDZW50ZXJYID1cbiAgICAgICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm1BbmNob3JSZWYuY3VycmVudC5jZW50ZXJYO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHRleHRUcmFuc2Zvcm1BbmNob3JSZWYuY3VycmVudD8uY2VudGVyWSkpIHtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS50ZXh0Q2VudGVyWSA9IHRleHRUcmFuc2Zvcm1BbmNob3JSZWYuY3VycmVudC5jZW50ZXJZO1xuICAgICAgICAgICAgICBpZiAodGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50Lmxhc3RQcmV2aWV3Q2VudGVyWSA9XG4gICAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtQW5jaG9yUmVmLmN1cnJlbnQuY2VudGVyWTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZVggPSB0eXBlb2Ygbm9kZS5zY2FsZVggPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUuc2NhbGVYKCkgOiAxO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVZID0gdHlwZW9mIG5vZGUuc2NhbGVZID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnNjYWxlWSgpIDogMTtcblxuICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS5zY2FsZVggPSBzY2FsZVg7XG4gICAgICAgICAgICB0cmFuc2Zvcm1EYXRhLnNjYWxlWSA9IHNjYWxlWTtcblxuICAgICAgICAgICAgaWYgKHByaW1lckVsZW1lbnRvPy50aXBvID09PSBcImNvdW50ZG93blwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvdW50ZG93blNpemUgPSBnZXRDb3VudGRvd25TY2FsZWRTaXplKG5vZGUpO1xuICAgICAgICAgICAgICB0cmFuc2Zvcm1EYXRhLndpZHRoID0gY291bnRkb3duU2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS5oZWlnaHQgPSBjb3VudGRvd25TaXplLmhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXNUcmlhbmd1bG8pIHtcbiAgICAgICAgICAgICAgY29uc3QgYmFzZVJhZGl1cyA9IE51bWJlci5pc0Zpbml0ZShwcmltZXJFbGVtZW50bz8ucmFkaXVzKVxuICAgICAgICAgICAgICAgID8gcHJpbWVyRWxlbWVudG8ucmFkaXVzXG4gICAgICAgICAgICAgICAgOiA2MDtcbiAgICAgICAgICAgICAgY29uc3QgYXZnU2NhbGUgPSAoTWF0aC5hYnMoc2NhbGVYKSArIE1hdGguYWJzKHNjYWxlWSkpIC8gMjtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS5yYWRpdXMgPSBNYXRoLm1heCgxLCBiYXNlUmFkaXVzICogYXZnU2NhbGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxXaWR0aCA9IHByaW1lckVsZW1lbnRvLndpZHRoIHx8IDEwMDtcbiAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSBwcmltZXJFbGVtZW50by5oZWlnaHQgfHwgMTAwO1xuICAgICAgICAgICAgICB0cmFuc2Zvcm1EYXRhLndpZHRoID0gTWF0aC5hYnMob3JpZ2luYWxXaWR0aCAqIHNjYWxlWCk7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybURhdGEuaGVpZ2h0ID0gTWF0aC5hYnMob3JpZ2luYWxIZWlnaHQgKiBzY2FsZVkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJpbWVyRWxlbWVudG8/LmZpZ3VyYSA9PT0gXCJjaXJjbGVcIikge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpdmVSZWN0ID0gbm9kZS5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlhbWV0ZXIgPSBNYXRoLm1heCgxLCBNYXRoLm1heChsaXZlUmVjdC53aWR0aCwgbGl2ZVJlY3QuaGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS5yYWRpdXMgPSBkaWFtZXRlciAvIDI7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gY2lyY2xlQW5jaG9yUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS54ID0gYW5jaG9yLmxlZnQgKyB0cmFuc2Zvcm1EYXRhLnJhZGl1cztcbiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybURhdGEueSA9IGFuY2hvci50b3AgKyB0cmFuc2Zvcm1EYXRhLnJhZGl1cztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS54ID0gbGl2ZVJlY3QueCArIHRyYW5zZm9ybURhdGEucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YS55ID0gbGl2ZVJlY3QueSArIHRyYW5zZm9ybURhdGEucmFkaXVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG9uVHJhbnNmb3JtKHRyYW5zZm9ybURhdGEpO1xuXG4gICAgICAgICAgLy8gLS0tIExPRyBDT01QQUNUTyAob3BjaW9uYWwpIC0tLVxuICAgICAgICAgIGNvbnN0IGlkID0gKHR5cGVvZiBub2RlLmlkID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLmlkKCkgOiBub2RlLmF0dHJzPy5pZCkgfHwgXCLiiIVcIjtcbiAgICAgICAgICBjb25zdCBzeCA9IG5vZGUuc2NhbGVYPy4oKSA/PyAxO1xuICAgICAgICAgIGNvbnN0IHN5ID0gbm9kZS5zY2FsZVk/LigpID8/IDE7XG4gICAgICAgICAgY29uc3QgciA9IG5vZGUuZ2V0Q2xpZW50UmVjdCh7IHNraXBUcmFuc2Zvcm06IGZhbHNlLCBza2lwU2hhZG93OiB0cnVlLCBza2lwU3Ryb2tlOiB0cnVlIH0pO1xuICAgICAgICAgIHNsb2coXG4gICAgICAgICAgICBcIltUUl0gbGl2ZVwiLFxuICAgICAgICAgICAgYGlkPSR7aWR9YCxcbiAgICAgICAgICAgIGB0aXBvPSR7cHJpbWVyRWxlbWVudG8/LnRpcG8gfHwgXCLiiIVcIn1gLFxuICAgICAgICAgICAgYHN4PSR7c3gudG9GaXhlZCgzKX1gLFxuICAgICAgICAgICAgYHN5PSR7c3kudG9GaXhlZCgzKX1gLFxuICAgICAgICAgICAgYHg9JHsobm9kZS54Py4oKSA/PyAwKS50b0ZpeGVkKDEpfWAsXG4gICAgICAgICAgICBgeT0keyhub2RlLnk/LigpID8/IDApLnRvRml4ZWQoMSl9YCxcbiAgICAgICAgICAgIGBub2RlUmVjdCh3PSR7ci53aWR0aC50b0ZpeGVkKDEpfSxoPSR7ci5oZWlnaHQudG9GaXhlZCgxKX0pYCxcbiAgICAgICAgICAgIGB3PSR7dHJhbnNmb3JtRGF0YS53aWR0aCA/PyBcIuKIhVwifWAsXG4gICAgICAgICAgICBgaD0ke3RyYW5zZm9ybURhdGEuaGVpZ2h0ID8/IFwi4oiFXCJ9YFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgZW4gb25UcmFuc2Zvcm06XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICAgIG9uVHJhbnNmb3JtRW5kPXsoZSkgPT4ge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvblNuYXBzaG90ID0ge1xuICAgICAgICAgIGlzUm90YXRlOiBCb29sZWFuKHRyYW5zZm9ybUdlc3R1cmVSZWYuY3VycmVudD8uaXNSb3RhdGUpLFxuICAgICAgICAgIGFjdGl2ZUFuY2hvcjogdHJhbnNmb3JtR2VzdHVyZVJlZi5jdXJyZW50Py5hY3RpdmVBbmNob3IgPz8gbnVsbCxcbiAgICAgICAgICBwb2ludGVyVHlwZTogZT8uZXZ0Py5wb2ludGVyVHlwZSA/PyBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBub3RpZnlUcmFuc2Zvcm1JbnRlcmFjdGlvbkVuZCA9ICgpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9uVHJhbnNmb3JtSW50ZXJhY3Rpb25FbmQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgb25UcmFuc2Zvcm1JbnRlcmFjdGlvbkVuZChpbnRlcmFjdGlvblNuYXBzaG90KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJhbnNmb3JtR2VzdHVyZVJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgaXNSb3RhdGU6IGZhbHNlLFxuICAgICAgICAgICAgYWN0aXZlQW5jaG9yOiBudWxsLFxuICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIXRyYW5zZm9ybWVyUmVmLmN1cnJlbnQgfHwgIW9uVHJhbnNmb3JtKSByZXR1cm47XG5cbiAgICAgICAgICBjb25zdCB0ciA9IHRyYW5zZm9ybWVyUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgY29uc3Qgbm9kZXMgPSB0eXBlb2YgdHIubm9kZXMgPT09IFwiZnVuY3Rpb25cIiA/IHRyLm5vZGVzKCkgfHwgW10gOiBbXTtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIE1VTFRJLVNFTEVDQ0nDk05cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0U2NhbGVYID0gdHlwZW9mIHRyLnNjYWxlWCA9PT0gXCJmdW5jdGlvblwiID8gdHIuc2NhbGVYKCkgfHwgMSA6IDE7XG4gICAgICAgICAgICBjb25zdCB0U2NhbGVZID0gdHlwZW9mIHRyLnNjYWxlWSA9PT0gXCJmdW5jdGlvblwiID8gdHIuc2NhbGVZKCkgfHwgMSA6IDE7XG4gICAgICAgICAgICBjb25zdCBhdmcgPSAoTWF0aC5hYnModFNjYWxlWCkgKyBNYXRoLmFicyh0U2NhbGVZKSkgLyAyO1xuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVzID0gbm9kZXNcbiAgICAgICAgICAgICAgLm1hcCgobikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlkID0gKHR5cGVvZiBuLmlkID09PSBcImZ1bmN0aW9uXCIgPyBuLmlkKCkgOiBuLmF0dHJzPy5pZCkgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHsgfVxuICAgICAgICAgICAgICAgIGlmICghaWQpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gKG9iamV0b3MgfHwgW10pLmZpbmQoKG8pID0+IG8uaWQgPT09IGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9iaikgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB1cGQgPSB7XG4gICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgIHg6IHR5cGVvZiBuLnggPT09IFwiZnVuY3Rpb25cIiA/IG4ueCgpIDogb2JqLngsXG4gICAgICAgICAgICAgICAgICB5OiB0eXBlb2Ygbi55ID09PSBcImZ1bmN0aW9uXCIgPyBuLnkoKSA6IG9iai55LFxuICAgICAgICAgICAgICAgICAgcm90YXRpb246IHR5cGVvZiBuLnJvdGF0aW9uID09PSBcImZ1bmN0aW9uXCIgPyBuLnJvdGF0aW9uKCkgfHwgMCA6IChvYmoucm90YXRpb24gfHwgMCksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChvYmoudGlwbyA9PT0gXCJ0ZXh0b1wiKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gb2JqLmZvbnRTaXplIHx8IDI0O1xuICAgICAgICAgICAgICAgICAgdXBkLmZvbnRTaXplID0gTWF0aC5tYXgoNiwgTWF0aC5yb3VuZChiYXNlICogYXZnKSk7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG4uc2NhbGVYID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbi5zY2FsZVgoMSk7XG4gICAgICAgICAgICAgICAgICAgIG4uc2NhbGVZKDEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwiZm9ybWFcIiAmJiBvYmouZmlndXJhID09PSBcImNpcmNsZVwiKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBiYXNlUiA9IG9iai5yYWRpdXMgfHwgNTA7XG4gICAgICAgICAgICAgICAgICB1cGQucmFkaXVzID0gYmFzZVIgKiBhdmc7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG4uc2NhbGVYID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbi5zY2FsZVgoMSk7XG4gICAgICAgICAgICAgICAgICAgIG4uc2NhbGVZKDEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwiZm9ybWFcIiAmJiBvYmouZmlndXJhID09PSBcInRyaWFuZ2xlXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VSID0gb2JqLnJhZGl1cyB8fCA2MDtcbiAgICAgICAgICAgICAgICAgIHVwZC5yYWRpdXMgPSBNYXRoLm1heCgxLCBiYXNlUiAqIGF2Zyk7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG4uc2NhbGVYID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbi5zY2FsZVgoMSk7XG4gICAgICAgICAgICAgICAgICAgIG4uc2NhbGVZKDEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob2JqLnRpcG8gPT09IFwiY291bnRkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ZG93blNpemUgPSBnZXRDb3VudGRvd25TY2FsZWRTaXplKG4pO1xuICAgICAgICAgICAgICAgICAgdXBkLndpZHRoID0gY291bnRkb3duU2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgIHVwZC5oZWlnaHQgPSBjb3VudGRvd25TaXplLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB1cGQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZVcgPVxuICAgICAgICAgICAgICAgICAgb2JqLndpZHRoICE9IG51bGwgPyBvYmoud2lkdGggOiAodHlwZW9mIG4ud2lkdGggPT09IFwiZnVuY3Rpb25cIiA/IG4ud2lkdGgoKSA6IDEwMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZUggPVxuICAgICAgICAgICAgICAgICAgb2JqLmhlaWdodCAhPSBudWxsID8gb2JqLmhlaWdodCA6ICh0eXBlb2Ygbi5oZWlnaHQgPT09IFwiZnVuY3Rpb25cIiA/IG4uaGVpZ2h0KCkgOiAxMDApO1xuXG4gICAgICAgICAgICAgICAgdXBkLndpZHRoID0gTWF0aC5hYnMoYmFzZVcgKiB0U2NhbGVYKTtcbiAgICAgICAgICAgICAgICB1cGQuaGVpZ2h0ID0gTWF0aC5hYnMoYmFzZUggKiB0U2NhbGVZKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygbi5zY2FsZVggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgbi5zY2FsZVgoMSk7XG4gICAgICAgICAgICAgICAgICBuLnNjYWxlWSgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZDtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcblxuICAgICAgICAgICAgb25UcmFuc2Zvcm0oeyBpc0ZpbmFsOiB0cnVlLCBiYXRjaDogdXBkYXRlcyB9KTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ci5zY2FsZVggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICB0ci5zY2FsZVgoMSk7XG4gICAgICAgICAgICAgIHRyLnNjYWxlWSgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyLmdldExheWVyKCk/LmJhdGNoRHJhdygpO1xuXG4gICAgICAgICAgICB3aW5kb3cuX3Jlc2l6ZURhdGEgPSB7IGlzUmVzaXppbmc6IGZhbHNlIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgd2luZG93Ll9yZXNpemVEYXRhID0gbnVsbDtcbiAgICAgICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGVuIG9uVHJhbnNmb3JtRW5kIChtdWx0aSk6XCIsIGVycik7XG4gICAgICAgICAgICB3aW5kb3cuX3Jlc2l6ZURhdGEgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gU0lOR0xFLVNFTEVDQ0nDk05cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbMF07XG4gICAgICAgIGlmICghbm9kZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBvc2UgPSBnZXRUcmFuc2Zvcm1Qb3NlKG5vZGUpO1xuICAgICAgICBjb25zdCBmaW5hbERhdGEgPSB7XG4gICAgICAgICAgICB4OiBwb3NlLngsXG4gICAgICAgICAgICB5OiBwb3NlLnksXG4gICAgICAgICAgICByb3RhdGlvbjogcG9zZS5yb3RhdGlvbixcbiAgICAgICAgICAgIGlzRmluYWw6IHRydWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsZXQgdGV4dFByZXZpZXdFbmRTbmFwc2hvdCA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoZXNUZXh0bykge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGb250U2l6ZSA9IHByaW1lckVsZW1lbnRvLmZvbnRTaXplIHx8IDI0O1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVYID0gdHlwZW9mIG5vZGUuc2NhbGVYID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLnNjYWxlWCgpIDogMTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlWSA9IHR5cGVvZiBub2RlLnNjYWxlWSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS5zY2FsZVkoKSA6IDE7XG4gICAgICAgICAgICBjb25zdCBhbmNob3JEYXRhID0gdGV4dFRyYW5zZm9ybUFuY2hvclJlZi5jdXJyZW50IHx8IG51bGw7XG4gICAgICAgICAgICBjb25zdCBiYXNlRm9udFNpemUgPVxuICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUoYW5jaG9yRGF0YT8uYmFzZUZvbnRTaXplKSAmJlxuICAgICAgICAgICAgICBhbmNob3JEYXRhLmJhc2VGb250U2l6ZSA+IDBcbiAgICAgICAgICAgICAgICA/IGFuY2hvckRhdGEuYmFzZUZvbnRTaXplXG4gICAgICAgICAgICAgICAgOiBvcmlnaW5hbEZvbnRTaXplO1xuICAgICAgICAgICAgY29uc3QgYXZnU2NhbGUgPSAoTWF0aC5hYnMoc2NhbGVYKSArIE1hdGguYWJzKHNjYWxlWSkpIC8gMjtcbiAgICAgICAgICAgIGxldCBzY2FsZUZyb21SZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB2aXN1YWxXaWR0aEZyb21SZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3RhdGlvbiA9XG4gICAgICAgICAgICAgIHR5cGVvZiBub2RlLnJvdGF0aW9uID09PSBcImZ1bmN0aW9uXCIgPyAobm9kZS5yb3RhdGlvbigpIHx8IDApIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VSb3RhdGlvbiA9IE51bWJlcihhbmNob3JEYXRhPy5iYXNlUm90YXRpb24pO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRpb25EZWx0YSA9IE51bWJlci5pc0Zpbml0ZShiYXNlUm90YXRpb24pXG4gICAgICAgICAgICAgID8gTWF0aC5hYnMoY3VycmVudFJvdGF0aW9uIC0gYmFzZVJvdGF0aW9uKVxuICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZWN0ID0gbm9kZS5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHJlY3Q/LndpZHRoKSAmJiByZWN0LndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIHZpc3VhbFdpZHRoRnJvbVJlY3QgPSByZWN0LndpZHRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IGJhc2VXaWR0aCA9IE51bWJlcihhbmNob3JEYXRhPy5iYXNlV2lkdGgpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGJhc2VXaWR0aCkgJiZcbiAgICAgICAgICAgICAgICBiYXNlV2lkdGggPiAwICYmXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHJlY3Q/LndpZHRoKSAmJlxuICAgICAgICAgICAgICAgIHJlY3Qud2lkdGggPiAwXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNjYWxlRnJvbVJlY3QgPSByZWN0LndpZHRoIC8gYmFzZVdpZHRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICBjb25zdCBjYW5Vc2VSZWN0U2NhbGUgPSByb3RhdGlvbkRlbHRhIDwgMC4xO1xuICAgICAgICAgICAgY29uc3QgZWZmZWN0aXZlU2NhbGUgPVxuICAgICAgICAgICAgICBjYW5Vc2VSZWN0U2NhbGUgJiYgTnVtYmVyLmlzRmluaXRlKHNjYWxlRnJvbVJlY3QpICYmIHNjYWxlRnJvbVJlY3QgPiAwXG4gICAgICAgICAgICAgICAgPyBzY2FsZUZyb21SZWN0XG4gICAgICAgICAgICAgICAgOiBhdmdTY2FsZTtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRGb250U2l6ZSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICA2LFxuICAgICAgICAgICAgICBOdW1iZXIoKGJhc2VGb250U2l6ZSAqIGVmZmVjdGl2ZVNjYWxlKS50b0ZpeGVkKDMpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZpbmFsRGF0YS5mb250U2l6ZSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICA2LFxuICAgICAgICAgICAgICBOdW1iZXIoXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGFuY2hvckRhdGE/Lmxhc3RQcmV2aWV3Rm9udFNpemUpICYmXG4gICAgICAgICAgICAgICAgICBhbmNob3JEYXRhLmxhc3RQcmV2aWV3Rm9udFNpemUgPiAwXG4gICAgICAgICAgICAgICAgICA/IGFuY2hvckRhdGEubGFzdFByZXZpZXdGb250U2l6ZVxuICAgICAgICAgICAgICAgICAgOiBjb21wdXRlZEZvbnRTaXplXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmaW5hbERhdGEuc2NhbGVYID0gMTtcbiAgICAgICAgICAgIGZpbmFsRGF0YS5zY2FsZVkgPSAxO1xuICAgICAgICAgICAgaWYgKGNhblVzZVJlY3RTY2FsZSAmJiBOdW1iZXIuaXNGaW5pdGUoYW5jaG9yRGF0YT8ueSkpIHtcbiAgICAgICAgICAgICAgZmluYWxEYXRhLnkgPSBhbmNob3JEYXRhLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGFuY2hvckRhdGE/Lmxhc3RQcmV2aWV3Q2VudGVyWCkpIHtcbiAgICAgICAgICAgICAgZmluYWxEYXRhLnRleHRDZW50ZXJYID0gYW5jaG9yRGF0YS5sYXN0UHJldmlld0NlbnRlclg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc0Zpbml0ZShhbmNob3JEYXRhPy5jZW50ZXJYKSkge1xuICAgICAgICAgICAgICBmaW5hbERhdGEudGV4dENlbnRlclggPSBhbmNob3JEYXRhLmNlbnRlclg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGFuY2hvckRhdGE/Lmxhc3RQcmV2aWV3Q2VudGVyWSkpIHtcbiAgICAgICAgICAgICAgZmluYWxEYXRhLnRleHRDZW50ZXJZID0gYW5jaG9yRGF0YS5sYXN0UHJldmlld0NlbnRlclk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc0Zpbml0ZShhbmNob3JEYXRhPy5jZW50ZXJZKSkge1xuICAgICAgICAgICAgICBmaW5hbERhdGEudGV4dENlbnRlclkgPSBhbmNob3JEYXRhLmNlbnRlclk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2aXN1YWxXaWR0aCA9XG4gICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShhbmNob3JEYXRhPy5sYXN0UHJldmlld1Zpc3VhbFdpZHRoKSAmJlxuICAgICAgICAgICAgICBhbmNob3JEYXRhLmxhc3RQcmV2aWV3VmlzdWFsV2lkdGggPiAwXG4gICAgICAgICAgICAgICAgPyBhbmNob3JEYXRhLmxhc3RQcmV2aWV3VmlzdWFsV2lkdGhcbiAgICAgICAgICAgICAgICA6IHZpc3VhbFdpZHRoRnJvbVJlY3Q7XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHZpc3VhbFdpZHRoKSAmJiB2aXN1YWxXaWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgZmluYWxEYXRhLnRleHRWaXN1YWxXaWR0aCA9IHZpc3VhbFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dFByZXZpZXdFbmRTbmFwc2hvdCA9IHtcbiAgICAgICAgICAgICAgaWQ6IHByaW1lckVsZW1lbnRvPy5pZCA/PyBudWxsLFxuICAgICAgICAgICAgICB4OiB0eXBlb2Ygbm9kZT8ueCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS54KCkgOiBudWxsLFxuICAgICAgICAgICAgICB5OiB0eXBlb2Ygbm9kZT8ueSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS55KCkgOiBudWxsLFxuICAgICAgICAgICAgICBzY2FsZVgsXG4gICAgICAgICAgICAgIHNjYWxlWSxcbiAgICAgICAgICAgICAgZm9udFNpemU6IHR5cGVvZiBub2RlPy5mb250U2l6ZSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS5mb250U2l6ZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgcmVjdFdpZHRoOiBOdW1iZXIuaXNGaW5pdGUodmlzdWFsV2lkdGhGcm9tUmVjdCkgPyB2aXN1YWxXaWR0aEZyb21SZWN0IDogbnVsbCxcbiAgICAgICAgICAgICAgcmVjdEhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZWN0Rm9yU25hcHNob3QgPSBub2RlLmdldENsaWVudFJlY3Qoe1xuICAgICAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNraXBTaGFkb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgc2tpcFN0cm9rZTogdHJ1ZSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUocmVjdEZvclNuYXBzaG90Py5oZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgdGV4dFByZXZpZXdFbmRTbmFwc2hvdC5yZWN0SGVpZ2h0ID0gcmVjdEZvclNuYXBzaG90LmhlaWdodDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgVFhUREJHKFwiZW5kXCIsIHtcbiAgICAgICAgICAgICAgaWQ6IHByaW1lckVsZW1lbnRvPy5pZCA/PyBudWxsLFxuICAgICAgICAgICAgICBzY2FsZVgsXG4gICAgICAgICAgICAgIHNjYWxlWSxcbiAgICAgICAgICAgICAgYXZnU2NhbGUsXG4gICAgICAgICAgICAgIHNjYWxlRnJvbVJlY3QsXG4gICAgICAgICAgICAgIGVmZmVjdGl2ZVNjYWxlLFxuICAgICAgICAgICAgICBjb21wdXRlZEZvbnRTaXplLFxuICAgICAgICAgICAgICBmaW5hbEZvbnRTaXplOiBmaW5hbERhdGEuZm9udFNpemUsXG4gICAgICAgICAgICAgIHRleHRDZW50ZXJYOiBmaW5hbERhdGEudGV4dENlbnRlclggPz8gbnVsbCxcbiAgICAgICAgICAgICAgdGV4dENlbnRlclk6IGZpbmFsRGF0YS50ZXh0Q2VudGVyWSA/PyBudWxsLFxuICAgICAgICAgICAgICB0ZXh0VmlzdWFsV2lkdGg6IGZpbmFsRGF0YS50ZXh0VmlzdWFsV2lkdGggPz8gbnVsbCxcbiAgICAgICAgICAgICAgbm9kZVJlY3RXaWR0aDogdmlzdWFsV2lkdGhGcm9tUmVjdCxcbiAgICAgICAgICAgICAgbm9kZVg6IHR5cGVvZiBub2RlPy54ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlLngoKSA6IG51bGwsXG4gICAgICAgICAgICAgIG5vZGVZOiB0eXBlb2Ygbm9kZT8ueSA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS55KCkgOiBudWxsLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFwbGFuYXIgZXNjYWxhIGRlbCB0ZXh0byBlbiBlbCByZWxlYXNlIHBhcmEgZXZpdGFyIGRvYmxlIGVzY2FsYWRvXG4gICAgICAgICAgICAvLyAoZXNjYWxhIGRlbCBub2RvICsgZm9udFNpemUgcGVyc2lzdGlkbykuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIG5vZGUuc2NhbGVYID09PSBcImZ1bmN0aW9uXCIpIG5vZGUuc2NhbGVYKDEpO1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIG5vZGUuc2NhbGVZID09PSBcImZ1bmN0aW9uXCIpIG5vZGUuc2NhbGVZKDEpO1xuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUoZmluYWxEYXRhLmZvbnRTaXplKSAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBub2RlLmZvbnRTaXplID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5mb250U2l6ZShmaW5hbERhdGEuZm9udFNpemUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHRhcmdldENlbnRlclggPSBOdW1iZXIoZmluYWxEYXRhLnRleHRDZW50ZXJYKTtcbiAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyWSA9IE51bWJlcihmaW5hbERhdGEudGV4dENlbnRlclkpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKE51bWJlci5pc0Zpbml0ZSh0YXJnZXRDZW50ZXJYKSB8fCBOdW1iZXIuaXNGaW5pdGUodGFyZ2V0Q2VudGVyWSkpICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG5vZGUueCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG5vZGUueSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBmbGF0dGVuZWRSZWN0ID0gbm9kZS5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFRyYW5zZm9ybTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNraXBTaGFkb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZsYXR0ZW5lZENlbnRlclggPVxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUoZmxhdHRlbmVkUmVjdD8ueCkgJiZcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGZsYXR0ZW5lZFJlY3Q/LndpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgID8gZmxhdHRlbmVkUmVjdC54ICsgKGZsYXR0ZW5lZFJlY3Qud2lkdGggLyAyKVxuICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZsYXR0ZW5lZENlbnRlclkgPVxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUoZmxhdHRlbmVkUmVjdD8ueSkgJiZcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGZsYXR0ZW5lZFJlY3Q/LmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICA/IGZsYXR0ZW5lZFJlY3QueSArIChmbGF0dGVuZWRSZWN0LmhlaWdodCAvIDIpXG4gICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGZsYXR0ZW5lZENlbnRlclgpICYmIE51bWJlci5pc0Zpbml0ZSh0YXJnZXRDZW50ZXJYKSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLngobm9kZS54KCkgKyAodGFyZ2V0Q2VudGVyWCAtIGZsYXR0ZW5lZENlbnRlclgpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZmxhdHRlbmVkQ2VudGVyWSkgJiYgTnVtYmVyLmlzRmluaXRlKHRhcmdldENlbnRlclkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUueShub2RlLnkoKSArICh0YXJnZXRDZW50ZXJZIC0gZmxhdHRlbmVkQ2VudGVyWSkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG5vZGUuZ2V0TGF5ZXIoKT8uYmF0Y2hEcmF3KCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgYXBsYW5hbmRvIGVzY2FsYSBkZSB0ZXh0byAoc3luYyk6XCIsIGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY2FuVXNlUmVjdFNjYWxlKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZT8ueCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgZmluYWxEYXRhLnggPSBub2RlLngoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodHlwZW9mIG5vZGU/LnkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGZpbmFsRGF0YS55ID0gbm9kZS55KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGFyYSB0ZXh0byBldml0YW1vcyBhcGxhbmFyIGFudGVzIGRlbCBjb21taXQgZW4gUmVhY3QsXG4gICAgICAgICAgICAvLyBhc8OtIG5vIGFwYXJlY2UgdW4gZnJhbWUgaW50ZXJtZWRpbyBjb24gdGFtYcOxbyBcInNhbHRhZG9cIi5cbiAgICAgICAgICAgIHRleHRUcmFuc2Zvcm1BbmNob3JSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlWCA9IHR5cGVvZiBub2RlLnNjYWxlWCA9PT0gXCJmdW5jdGlvblwiID8gbm9kZS5zY2FsZVgoKSA6IDE7XG4gICAgICAgICAgICBjb25zdCBzY2FsZVkgPSB0eXBlb2Ygbm9kZS5zY2FsZVkgPT09IFwiZnVuY3Rpb25cIiA/IG5vZGUuc2NhbGVZKCkgOiAxO1xuICAgICAgICAgICAgaWYgKHByaW1lckVsZW1lbnRvPy50aXBvID09PSBcImNvdW50ZG93blwiKSB7XG4gICAgICAgICAgICAgIC8vIENvdW50ZG93bjogcGVyc2lzdGlyIGVzY2FsYSByZWFsIHBhcmEgcXVlIGVsIHJlc3VsdGFkbyBmaW5hbFxuICAgICAgICAgICAgICAvLyBzZWEgZXhhY3RhbWVudGUgZWwgbWlzbW8gcXVlIHNlIHZlIGFsIHNvbHRhci5cbiAgICAgICAgICAgICAgZmluYWxEYXRhLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICAgICAgZmluYWxEYXRhLnNjYWxlWSA9IHNjYWxlWTtcbiAgICAgICAgICAgICAgY29uc3QgY291bnRkb3duU2l6ZSA9IGdldENvdW50ZG93blNjYWxlZFNpemUobm9kZSk7XG4gICAgICAgICAgICAgIGZpbmFsRGF0YS53aWR0aCA9IGNvdW50ZG93blNpemUud2lkdGg7XG4gICAgICAgICAgICAgIGZpbmFsRGF0YS5oZWlnaHQgPSBjb3VudGRvd25TaXplLmhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXNUcmlhbmd1bG8pIHtcbiAgICAgICAgICAgICAgY29uc3QgYmFzZVJhZGl1cyA9IE51bWJlci5pc0Zpbml0ZShwcmltZXJFbGVtZW50bz8ucmFkaXVzKVxuICAgICAgICAgICAgICAgID8gcHJpbWVyRWxlbWVudG8ucmFkaXVzXG4gICAgICAgICAgICAgICAgOiA2MDtcbiAgICAgICAgICAgICAgY29uc3QgYXZnU2NhbGUgPSAoTWF0aC5hYnMoc2NhbGVYKSArIE1hdGguYWJzKHNjYWxlWSkpIC8gMjtcbiAgICAgICAgICAgICAgZmluYWxEYXRhLnNjYWxlWCA9IDE7XG4gICAgICAgICAgICAgIGZpbmFsRGF0YS5zY2FsZVkgPSAxO1xuICAgICAgICAgICAgICBmaW5hbERhdGEucmFkaXVzID0gTWF0aC5tYXgoMSwgYmFzZVJhZGl1cyAqIGF2Z1NjYWxlKTtcblxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5vZGUuc2NhbGVYKDEpO1xuICAgICAgICAgICAgICAgIG5vZGUuc2NhbGVZKDEpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5yYWRpdXMgPT09IFwiZnVuY3Rpb25cIikgbm9kZS5yYWRpdXMoZmluYWxEYXRhLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgbm9kZS5nZXRMYXllcigpPy5iYXRjaERyYXcoKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgYXBsYW5hbmRvIGVzY2FsYSBkZSB0cmnDoW5ndWxvIChzeW5jKTpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmluYWxEYXRhLnNjYWxlWCA9IDE7XG4gICAgICAgICAgICAgIGZpbmFsRGF0YS5zY2FsZVkgPSAxO1xuICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFdpZHRoID0gcHJpbWVyRWxlbWVudG8ud2lkdGggfHwgMTAwO1xuICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEhlaWdodCA9IHByaW1lckVsZW1lbnRvLmhlaWdodCB8fCAxMDA7XG5cbiAgICAgICAgICAgICAgZmluYWxEYXRhLndpZHRoID0gTWF0aC5hYnMob3JpZ2luYWxXaWR0aCAqIHNjYWxlWCk7XG4gICAgICAgICAgICAgIGZpbmFsRGF0YS5oZWlnaHQgPSBNYXRoLmFicyhvcmlnaW5hbEhlaWdodCAqIHNjYWxlWSk7XG5cbiAgICAgICAgICAgICAgaWYgKHByaW1lckVsZW1lbnRvPy5maWd1cmEgPT09IFwiY2lyY2xlXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbGl2ZVJlY3QgPSBub2RlLmdldENsaWVudFJlY3Qoe1xuICAgICAgICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2tpcFN0cm9rZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGlhbWV0ZXIgPSBNYXRoLm1heCgxLCBNYXRoLm1heChsaXZlUmVjdC53aWR0aCwgbGl2ZVJlY3QuaGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICBmaW5hbERhdGEucmFkaXVzID0gZGlhbWV0ZXIgLyAyO1xuICAgICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gY2lyY2xlQW5jaG9yUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICBpZiAoYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsRGF0YS54ID0gYW5jaG9yLmxlZnQgKyBmaW5hbERhdGEucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBmaW5hbERhdGEueSA9IGFuY2hvci50b3AgKyBmaW5hbERhdGEucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxEYXRhLnggPSBsaXZlUmVjdC54ICsgZmluYWxEYXRhLnJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgZmluYWxEYXRhLnkgPSBsaXZlUmVjdC55ICsgZmluYWxEYXRhLnJhZGl1cztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyDinIUgQXBsYW5hciBlc2NhbGEgSU5NRURJQVRPXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZncgPSBmaW5hbERhdGEud2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgZmggPSBmaW5hbERhdGEuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgbm9kZS5zY2FsZVgoMSk7XG4gICAgICAgICAgICAgICAgbm9kZS5zY2FsZVkoMSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZncgIT0gbnVsbCAmJiB0eXBlb2Ygbm9kZS53aWR0aCA9PT0gXCJmdW5jdGlvblwiKSBub2RlLndpZHRoKGZ3KTtcbiAgICAgICAgICAgICAgICBpZiAoZmggIT0gbnVsbCAmJiB0eXBlb2Ygbm9kZS5oZWlnaHQgPT09IFwiZnVuY3Rpb25cIikgbm9kZS5oZWlnaHQoZmgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgcHJpbWVyRWxlbWVudG8/LmZpZ3VyYSA9PT0gXCJjaXJjbGVcIiAmJlxuICAgICAgICAgICAgICAgICAgZmluYWxEYXRhLnJhZGl1cyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICB0eXBlb2Ygbm9kZS5yYWRpdXMgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbm9kZS5yYWRpdXMoZmluYWxEYXRhLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm9kZS5nZXRMYXllcigpPy5iYXRjaERyYXcoKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgYXBsYW5hbmRvIGVzY2FsYXMgKHN5bmMpOlwiLCBlcnIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb25UcmFuc2Zvcm0oZmluYWxEYXRhKTtcbiAgICAgICAgICBjaXJjbGVBbmNob3JSZWYuY3VycmVudCA9IG51bGw7XG5cblxuICAgICAgICAgIC8vIOKchSBSZWF0YWNoYXIgMSB2ZXosIGNvbiByZWYgZnJlc2NvLCBlbiBlbCBwcsOzeGltbyBmcmFtZVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0cjIgPSB0cmFuc2Zvcm1lclJlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKCF0cjIpIHJldHVybjtcblxuICAgICAgICAgICAgVFJEQkcoXCJvblRyYW5zZm9ybUVuZCAtPiBzY2hlZHVsZSBSQUYgcmVhdHRhY2hcIiwge1xuICAgICAgICAgICAgICBzZWxLZXk6IHNlbGVjdGVkRWxlbWVudHMuam9pbihcIixcIiksXG4gICAgICAgICAgICAgIGlkU2VsOiBzZWxlY3RlZEVsZW1lbnRzPy5bMF0gfHwgbnVsbFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGlkU2VsID0gc2VsZWN0ZWRFbGVtZW50cz8uWzBdO1xuICAgICAgICAgICAgICBjb25zdCBmcmVzaE5vZGUgPSBpZFNlbCA/IGVsZW1lbnRSZWZzLmN1cnJlbnQ/LltpZFNlbF0gOiBudWxsO1xuXG4gICAgICAgICAgICAgIFRSREJHKFwib25UcmFuc2Zvcm1FbmQgUkFGXCIsIHtcbiAgICAgICAgICAgICAgICBpZFNlbCxcbiAgICAgICAgICAgICAgICBoYXNGcmVzaDogISFmcmVzaE5vZGUsXG4gICAgICAgICAgICAgICAgZGVzdHJveWVkOiAhIWZyZXNoTm9kZT8uX2Rlc3Ryb3llZCxcbiAgICAgICAgICAgICAgICBoYXNTdGFnZTogISFmcmVzaE5vZGU/LmdldFN0YWdlPy4oKSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8gU2kgZWwgbm9kbyBubyBlc3TDoSBsaXN0bywgZGVzcGVnYXIgeSBzYWxpclxuICAgICAgICAgICAgICBpZiAoIWZyZXNoTm9kZSB8fCBmcmVzaE5vZGUuX2Rlc3Ryb3llZCB8fCAhZnJlc2hOb2RlLmdldFN0YWdlPy4oKSkge1xuICAgICAgICAgICAgICAgIFRSREJHKFwib25UcmFuc2Zvcm1FbmQgUkFGIC0+IERFVEFDSCBub2RlcyhbXSlcIiwgeyBpZFNlbCB9KTtcbiAgICAgICAgICAgICAgICB0cnkgeyB0cjIubm9kZXMoW10pOyB0cjIuZ2V0TGF5ZXI/LigpPy5iYXRjaERyYXcoKTsgfSBjYXRjaCB7IH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFRSREJHKFwib25UcmFuc2Zvcm1FbmQgUkFGIC0+IERFVEFDSCBub2RlcyhbXSlcIiwgeyBpZFNlbCB9KTtcbiAgICAgICAgICAgICAgICB0cjIubm9kZXMoW2ZyZXNoTm9kZV0pO1xuICAgICAgICAgICAgICAgIHRyMi5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRyMi5nZXRMYXllcj8uKCk/LmJhdGNoRHJhdygpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRleHRQcmV2aWV3RW5kU25hcHNob3QgJiYgZnJlc2hOb2RlKSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3N0UmVjdCA9IGZyZXNoTm9kZS5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIHNraXBTdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBUWFREQkcoXCJwb3N0LWNvbW1pdDpyYWYxXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogaWRTZWwsXG4gICAgICAgICAgICAgICAgICAgICAgcHJlOiB0ZXh0UHJldmlld0VuZFNuYXBzaG90LFxuICAgICAgICAgICAgICAgICAgICAgIHBvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHR5cGVvZiBmcmVzaE5vZGU/LnggPT09IFwiZnVuY3Rpb25cIiA/IGZyZXNoTm9kZS54KCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogdHlwZW9mIGZyZXNoTm9kZT8ueSA9PT0gXCJmdW5jdGlvblwiID8gZnJlc2hOb2RlLnkoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IHR5cGVvZiBmcmVzaE5vZGU/LnNjYWxlWCA9PT0gXCJmdW5jdGlvblwiID8gZnJlc2hOb2RlLnNjYWxlWCgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogdHlwZW9mIGZyZXNoTm9kZT8uc2NhbGVZID09PSBcImZ1bmN0aW9uXCIgPyBmcmVzaE5vZGUuc2NhbGVZKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IHR5cGVvZiBmcmVzaE5vZGU/LmZvbnRTaXplID09PSBcImZ1bmN0aW9uXCIgPyBmcmVzaE5vZGUuZm9udFNpemUoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0V2lkdGg6IE51bWJlci5pc0Zpbml0ZShwb3N0UmVjdD8ud2lkdGgpID8gcG9zdFJlY3Qud2lkdGggOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdEhlaWdodDogTnVtYmVyLmlzRmluaXRlKHBvc3RSZWN0Py5oZWlnaHQpID8gcG9zdFJlY3QuaGVpZ2h0IDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGRlbHRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHBvc3RSZWN0Py53aWR0aCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHRleHRQcmV2aWV3RW5kU25hcHNob3QucmVjdFdpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKHBvc3RSZWN0LndpZHRoIC0gdGV4dFByZXZpZXdFbmRTbmFwc2hvdC5yZWN0V2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUocG9zdFJlY3Q/LmhlaWdodCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHRleHRQcmV2aWV3RW5kU25hcHNob3QucmVjdEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChwb3N0UmVjdC5oZWlnaHQgLSB0ZXh0UHJldmlld0VuZFNuYXBzaG90LnJlY3RIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJlc2hOb2RlMiA9IGlkU2VsID8gZWxlbWVudFJlZnMuY3VycmVudD8uW2lkU2VsXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZnJlc2hOb2RlMikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RSZWN0MiA9IGZyZXNoTm9kZTIuZ2V0Q2xpZW50UmVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBTaGFkb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwU3Ryb2tlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIFRYVERCRyhcInBvc3QtY29tbWl0OnJhZjJcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkU2VsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0eXBlb2YgZnJlc2hOb2RlMj8ueCA9PT0gXCJmdW5jdGlvblwiID8gZnJlc2hOb2RlMi54KCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0eXBlb2YgZnJlc2hOb2RlMj8ueSA9PT0gXCJmdW5jdGlvblwiID8gZnJlc2hOb2RlMi55KCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IHR5cGVvZiBmcmVzaE5vZGUyPy5zY2FsZVggPT09IFwiZnVuY3Rpb25cIiA/IGZyZXNoTm9kZTIuc2NhbGVYKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IHR5cGVvZiBmcmVzaE5vZGUyPy5zY2FsZVkgPT09IFwiZnVuY3Rpb25cIiA/IGZyZXNoTm9kZTIuc2NhbGVZKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogdHlwZW9mIGZyZXNoTm9kZTI/LmZvbnRTaXplID09PSBcImZ1bmN0aW9uXCIgPyBmcmVzaE5vZGUyLmZvbnRTaXplKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWN0V2lkdGg6IE51bWJlci5pc0Zpbml0ZShwb3N0UmVjdDI/LndpZHRoKSA/IHBvc3RSZWN0Mi53aWR0aCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlY3RIZWlnaHQ6IE51bWJlci5pc0Zpbml0ZShwb3N0UmVjdDI/LmhlaWdodCkgPyBwb3N0UmVjdDIuaGVpZ2h0IDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YUZyb21QcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHBvc3RSZWN0Mj8ud2lkdGgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHRleHRQcmV2aWV3RW5kU25hcHNob3QucmVjdFdpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAocG9zdFJlY3QyLndpZHRoIC0gdGV4dFByZXZpZXdFbmRTbmFwc2hvdC5yZWN0V2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUocG9zdFJlY3QyPy5oZWlnaHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKHRleHRQcmV2aWV3RW5kU25hcHNob3QucmVjdEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKHBvc3RSZWN0Mi5oZWlnaHQgLSB0ZXh0UHJldmlld0VuZFNuYXBzaG90LnJlY3RIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggeyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIHsgfVxuXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBlbiBvblRyYW5zZm9ybUVuZDpcIiwgZXJyb3IpO1xuICAgICAgICAgIHdpbmRvdy5fcmVzaXplRGF0YSA9IG51bGw7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgbm90aWZ5VHJhbnNmb3JtSW50ZXJhY3Rpb25FbmQoKTtcbiAgICAgICAgfVxuICAgICAgfX1cblxuICAgIC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJUcmFuc2Zvcm1lciIsIlJlY3QiLCJERUJVR19TRUxFQ1RJT05fQk9VTkRTIiwic2JMb2ciLCJhcmdzIiwiY29uc29sZSIsImxvZyIsInNsb2ciLCJUUkRCRyIsIndpbmRvdyIsIl9fREJHX1RSIiwiVFhUREJHIiwiX19EQkdfVEVYVF9SRVNJWkUiLCJyZWN0RnJvbU5vZGVzIiwibm9kZXMiLCJtaW5YIiwiSW5maW5pdHkiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJuIiwiZ2V0Q2xpZW50UmVjdCIsInIiLCJza2lwVHJhbnNmb3JtIiwic2tpcFNoYWRvdyIsInNraXBTdHJva2UiLCJNYXRoIiwibWluIiwieCIsInkiLCJtYXgiLCJ3aWR0aCIsImhlaWdodCIsImdldENvdW50ZG93blNjYWxlZFNpemUiLCJub2RlIiwiaGl0Ym94IiwiZmluZE9uZSIsImJhc2VXIiwiTmFOIiwiYmFzZUgiLCJzeCIsImFicyIsInNjYWxlWCIsInN5Iiwic2NhbGVZIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJCb3VuZHNJbmRpY2F0b3IiLCJzZWxlY3RlZEVsZW1lbnRzIiwiZWxlbWVudFJlZnMiLCJvYmpldG9zIiwiZm9yY2VVcGRhdGUiLCJzZXRGb3JjZVVwZGF0ZSIsImZpcnN0UmVmIiwiY3VycmVudCIsInN0YWdlIiwiZ2V0U3RhZ2UiLCJoYW5kbGVEcmFnTW92ZSIsInAiLCJvbiIsIm9mZiIsImpvaW4iLCJlbGVtZW50b3NEYXRhIiwibWFwIiwiaWQiLCJmaW5kIiwib2JqIiwiZmlsdGVyIiwiQm9vbGVhbiIsImxlbmd0aCIsImZvckVhY2giLCJ0aXBvIiwiZmlndXJhIiwicG9pbnRzIiwiY2xlYW5Qb2ludHMiLCJwYXJzZUZsb2F0IiwicmVhbFgiLCJyZWFsWSIsIngxIiwieTEiLCJ4MiIsInkyIiwibGluZVBhZGRpbmciLCJib3giLCJ0b0ZpeGVkIiwiZ2V0VGV4dEhlaWdodCIsInRleHRIZWlnaHQiLCJlcnJvciIsImZhbGxiYWNrWCIsImZhbGxiYWNrWSIsImZhbGxiYWNrU2l6ZSIsInByaW1lckVsZW1lbnRvIiwicGFkZGluZyIsImZpbmFsWCIsImZpbmFsWSIsImZpbmFsV2lkdGgiLCJmaW5hbEhlaWdodCIsIm5hbWUiLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJsaXN0ZW5pbmciLCJvcGFjaXR5IiwiU2VsZWN0aW9uQm91bmRzIiwib25UcmFuc2Zvcm0iLCJvblRyYW5zZm9ybUludGVyYWN0aW9uU3RhcnQiLCJvblRyYW5zZm9ybUludGVyYWN0aW9uRW5kIiwiaXNEcmFnZ2luZyIsImlzTW9iaWxlIiwidHJhbnNmb3JtZXJSZWYiLCJ0cmFuc2Zvcm1UaWNrIiwic2V0VHJhbnNmb3JtVGljayIsImxhc3ROb2Rlc1JlZiIsImNpcmNsZUFuY2hvclJlZiIsInRleHRUcmFuc2Zvcm1BbmNob3JSZWYiLCJ0cmFuc2Zvcm1HZXN0dXJlUmVmIiwiaXNSb3RhdGUiLCJhY3RpdmVBbmNob3IiLCJlbGVtZW50b3NTZWxlY2Npb25hZG9zRGF0YSIsImVzVGV4dG8iLCJlc0NvdW50ZG93biIsImVzR2FsZXJpYSIsImxvY2tBc3BlY3RDb3VudGRvd24iLCJsb2NrQXNwZWN0VGV4dCIsInRyYW5zZm9ybWVyQW5jaG9yU2l6ZSIsInRyYW5zZm9ybWVyUm90YXRlT2Zmc2V0IiwidHJhbnNmb3JtZXJBbmNob3JSYWRpdXMiLCJ0cmFuc2Zvcm1lclBhZGRpbmciLCJ0cmFuc2Zvcm1lckJvcmRlclN0cm9rZVdpZHRoIiwidHJhbnNmb3JtZXJBbmNob3JTdHJva2VXaWR0aCIsInRyYW5zZm9ybWVyQW5jaG9yU2hhZG93Qmx1ciIsInRyYW5zZm9ybWVyQW5jaG9yU2hhZG93T2Zmc2V0WSIsInRyYW5zZm9ybWVyUm90YXRpb25TbmFwVG9sZXJhbmNlIiwiZXNUcmlhbmd1bG8iLCJoYXNHYWxsZXJ5Iiwic29tZSIsIm8iLCJoYXlMaW5lYXMiLCJlbGVtZW50b3NUcmFuc2Zvcm1hYmxlcyIsImRlYmVyaWFVc2FyVHJhbnNmb3JtZXIiLCJzZWxlY3RlZEdlb21LZXkiLCJyb3RhdGlvbiIsImNoaXBXaWR0aCIsImdhcCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJnZXRUcmFuc2Zvcm1Qb3NlIiwiZ2V0UGFyZW50IiwicGFyZW50IiwidHIiLCJzZWxLZXkiLCJlbGVtZW50b3NUcmFuc2Zvcm1hYmxlc0xlbiIsImVkaXRpbmdJZCIsImVkaXRpbmciLCJub2Rvc1RyYW5zZm9ybWFibGVzIiwiaWRTZWwiLCJyZWZOb2RlIiwiZ2FsbGVyeUZyYW1lIiwid2FudGVkSWRzIiwicmVmc1ByZXNlbnQiLCJub2Rlc0NvdW50Iiwibm9kZUlkcyIsImF0dHJzIiwidHJOb2Rlc0NvdW50IiwiZ2V0TGF5ZXIiLCJiYXRjaERyYXciLCJoYW5kbGVyIiwiZSIsImRldGFpbCIsImlzU2VsZWN0ZWQiLCJpbmNsdWRlcyIsInQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZpcnN0Tm9kZSIsImZpcnN0SWQiLCJyYWZJZCIsInN5bmNUcmFuc2Zvcm1lciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVmIiwiYm9yZGVyRW5hYmxlZCIsImJvcmRlclN0cm9rZSIsImJvcmRlclN0cm9rZVdpZHRoIiwiZW5hYmxlZEFuY2hvcnMiLCJyb3RhdGVFbmFibGVkIiwiYW5jaG9yRmlsbCIsImFuY2hvclN0cm9rZSIsImFuY2hvclN0cm9rZVdpZHRoIiwiYW5jaG9yU2l6ZSIsImFuY2hvckNvcm5lclJhZGl1cyIsImFuY2hvclNoYWRvd0NvbG9yIiwiYW5jaG9yU2hhZG93Qmx1ciIsImFuY2hvclNoYWRvd09mZnNldCIsImtlZXBSYXRpbyIsImNlbnRlcmVkU2NhbGluZyIsImZsaXBFbmFibGVkIiwicmVzaXplRW5hYmxlZCIsInJvdGF0aW9uU25hcHMiLCJyb3RhdGVBbmNob3JPZmZzZXQiLCJyb3RhdGlvblNuYXBUb2xlcmFuY2UiLCJib3VuZEJveEZ1bmMiLCJvbGRCb3giLCJuZXdCb3giLCJtaW5TaXplIiwibWF4U2l6ZSIsInJvd3MiLCJjb2xzIiwiY2VsbFJhdGlvIiwicmF0aW8iLCJtaW5HcmlkV2lkdGgiLCJuZXh0V2lkdGgiLCJjZWxsVyIsImNlbGxIIiwibmV4dEhlaWdodCIsImR3IiwiZGgiLCJzaXplIiwiZmluYWxTaXplIiwic2FmZU9sZFciLCJzYWZlT2xkSCIsInVuaWZvcm1TY2FsZSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0Iiwib25UcmFuc2Zvcm1TdGFydCIsIl9yZXNpemVEYXRhIiwiaXNSZXNpemluZyIsImdldEFjdGl2ZUFuY2hvciIsImlzUm90YXRlR2VzdHVyZSIsInRvTG93ZXJDYXNlIiwicG9pbnRlclR5cGUiLCJldnQiLCJyMCIsImxlZnQiLCJ0b3AiLCJjZW50ZXJYIiwiY2VudGVyWSIsImJhc2VXaWR0aCIsImJhc2VIZWlnaHQiLCJiYXNlVmlzdWFsV2lkdGgiLCJyZWN0Iiwic2FmZUJhc2VGb250U2l6ZSIsImZvbnRTaXplIiwiYmFzZVJvdGF0aW9uIiwiYmFzZUZvbnRTaXplIiwibGFzdFByZXZpZXdGb250U2l6ZSIsImxhc3RQcmV2aWV3Q2VudGVyWCIsImxhc3RQcmV2aWV3Q2VudGVyWSIsImxhc3RQcmV2aWV3VmlzdWFsV2lkdGgiLCJwcmV2aWV3VGljayIsIm5vZGVYIiwibm9kZVkiLCJub2RlU2NhbGVYIiwibm9kZVNjYWxlWSIsInVuaW9uIiwicGFkIiwiYm9yZGVyUmVjdCIsInRyUmVjdCIsInBvc2UiLCJ0cmFuc2Zvcm1EYXRhIiwiaXNQcmV2aWV3Iiwib3JpZ2luYWxGb250U2l6ZSIsImFuY2hvckRhdGEiLCJhdmdTY2FsZSIsInNjYWxlRnJvbVJlY3QiLCJsaXZlUmVjdFdpZHRoIiwiY3VycmVudFJvdGF0aW9uIiwicm90YXRpb25EZWx0YSIsImNhblVzZVJlY3RTY2FsZSIsImVmZmVjdGl2ZVNjYWxlIiwidGljayIsImNlbnRlclhUYXJnZXQiLCJ0ZXh0Q2VudGVyWCIsInRleHRDZW50ZXJZIiwiY291bnRkb3duU2l6ZSIsImJhc2VSYWRpdXMiLCJyYWRpdXMiLCJvcmlnaW5hbFdpZHRoIiwib3JpZ2luYWxIZWlnaHQiLCJsaXZlUmVjdCIsImRpYW1ldGVyIiwiYW5jaG9yIiwid2FybiIsIm9uVHJhbnNmb3JtRW5kIiwiaW50ZXJhY3Rpb25TbmFwc2hvdCIsIm5vdGlmeVRyYW5zZm9ybUludGVyYWN0aW9uRW5kIiwidFNjYWxlWCIsInRTY2FsZVkiLCJhdmciLCJ1cGRhdGVzIiwidXBkIiwiYmFzZSIsInJvdW5kIiwiYmFzZVIiLCJpc0ZpbmFsIiwiYmF0Y2giLCJzZXRUaW1lb3V0IiwiZXJyIiwiZmluYWxEYXRhIiwidGV4dFByZXZpZXdFbmRTbmFwc2hvdCIsInZpc3VhbFdpZHRoRnJvbVJlY3QiLCJjb21wdXRlZEZvbnRTaXplIiwidmlzdWFsV2lkdGgiLCJ0ZXh0VmlzdWFsV2lkdGgiLCJyZWN0V2lkdGgiLCJyZWN0SGVpZ2h0IiwicmVjdEZvclNuYXBzaG90IiwiZmluYWxGb250U2l6ZSIsIm5vZGVSZWN0V2lkdGgiLCJ0YXJnZXRDZW50ZXJYIiwidGFyZ2V0Q2VudGVyWSIsImZsYXR0ZW5lZFJlY3QiLCJmbGF0dGVuZWRDZW50ZXJYIiwiZmxhdHRlbmVkQ2VudGVyWSIsImZ3IiwiZmgiLCJ0cjIiLCJmcmVzaE5vZGUiLCJoYXNGcmVzaCIsImRlc3Ryb3llZCIsIl9kZXN0cm95ZWQiLCJoYXNTdGFnZSIsInBvc3RSZWN0IiwicHJlIiwicG9zdCIsImRlbHRhIiwiZnJlc2hOb2RlMiIsInBvc3RSZWN0MiIsImRlbHRhRnJvbVByZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/SelectionBounds.jsx\n"));

/***/ })

});