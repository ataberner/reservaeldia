"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_components_CanvasEditor_jsx",{

/***/ "(pages-dir-browser)/./src/components/editor/overlays/useOptionButtonPosition.js":
/*!*******************************************************************!*\
  !*** ./src/components/editor/overlays/useOptionButtonPosition.js ***!
  \*******************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useOptionButtonPosition)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\nvar _s = $RefreshSig$();\n\nconst FALLBACK_BUTTON_SIZE_DESKTOP = 24;\nconst FALLBACK_BUTTON_SIZE_MOBILE = 38;\nconst BUTTON_VERTEX_OVERLAP_RATIO = 0.5;\nconst BUTTON_VERTEX_NUDGE_X_DESKTOP = 3;\nconst BUTTON_VERTEX_NUDGE_Y_DESKTOP = 3;\nconst BUTTON_VERTEX_NUDGE_X_MOBILE = 4;\nconst BUTTON_VERTEX_NUDGE_Y_MOBILE = 4;\nconst LOG_THROTTLE_MS = 120;\nfunction isOptionButtonDebugEnabled() {\n    return  true && window.__DBG_OPTION_BUTTON === true;\n}\nfunction resolveScale(escalaVisual, escalaActiva) {\n    if (Number.isFinite(escalaVisual) && escalaVisual > 0) return escalaVisual;\n    if (Number.isFinite(escalaActiva) && escalaActiva > 0) return escalaActiva;\n    return 1;\n}\nfunction clamp(value, min, max) {\n    return Math.min(max, Math.max(min, value));\n}\nfunction describeEventTarget(target) {\n    var _target_classList;\n    if (target === window) return \"window\";\n    if (target === document) return \"document\";\n    if (!(target instanceof Element)) return \"unknown\";\n    const tag = String(target.tagName || \"\").toLowerCase();\n    const id = target.id ? \"#\".concat(target.id) : \"\";\n    const classes = ((_target_classList = target.classList) === null || _target_classList === void 0 ? void 0 : _target_classList.length) ? \".\".concat(Array.from(target.classList).slice(0, 2).join(\".\")) : \"\";\n    return \"\".concat(tag).concat(id).concat(classes) || \"element\";\n}\nfunction resolveRenderedScale(stage, stageRect, escalaVisual, escalaActiva) {\n    var _stage_attrs, _stage_attrs1;\n    const stageWidth = typeof (stage === null || stage === void 0 ? void 0 : stage.width) === \"function\" ? Number(stage.width()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs = stage.attrs) === null || _stage_attrs === void 0 ? void 0 : _stage_attrs.width);\n    const stageHeight = typeof (stage === null || stage === void 0 ? void 0 : stage.height) === \"function\" ? Number(stage.height()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs1 = stage.attrs) === null || _stage_attrs1 === void 0 ? void 0 : _stage_attrs1.height);\n    const fallback = resolveScale(escalaVisual, escalaActiva);\n    const scaleX = Number.isFinite(stageWidth) && stageWidth > 0 ? stageRect.width / stageWidth : fallback;\n    const scaleY = Number.isFinite(stageHeight) && stageHeight > 0 ? stageRect.height / stageHeight : fallback;\n    return {\n        x: Number.isFinite(scaleX) && scaleX > 0 ? scaleX : fallback,\n        y: Number.isFinite(scaleY) && scaleY > 0 ? scaleY : fallback\n    };\n}\nfunction getScrollableAncestors(startNode) {\n    if (false) {}\n    if (!(startNode instanceof Element)) return [\n        window\n    ];\n    const targets = [];\n    let current = startNode.parentElement;\n    while(current && current !== document.body){\n        const style = window.getComputedStyle(current);\n        const overflowY = String(style.overflowY || \"\").toLowerCase();\n        const overflow = String(style.overflow || \"\").toLowerCase();\n        const isScrollable = overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\" || overflow === \"auto\" || overflow === \"scroll\" || overflow === \"overlay\";\n        if (isScrollable) {\n            targets.push(current);\n        }\n        current = current.parentElement;\n    }\n    if (document.scrollingElement) {\n        targets.push(document.scrollingElement);\n    }\n    targets.push(window);\n    return Array.from(new Set(targets));\n}\nfunction useOptionButtonPosition(param) {\n    let { botonOpcionesRef, layoutRootRef = null, elementRefs, elementosSeleccionados, stageRef, escalaVisual, escalaActiva, isMobile = false, buttonSize = FALLBACK_BUTTON_SIZE_DESKTOP } = param;\n    _s();\n    const lastLogByEventRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n    const debugLog = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOptionButtonPosition.useCallback[debugLog]\": function(eventName) {\n            let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, force = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n            if (!isOptionButtonDebugEnabled()) return;\n            const now = Date.now();\n            const previous = Number(lastLogByEventRef.current[eventName] || 0);\n            if (!force && now - previous < LOG_THROTTLE_MS) return;\n            lastLogByEventRef.current[eventName] = now;\n            console.log(\"[OPTION-BUTTON] \".concat(eventName), {\n                ts: new Date(now).toISOString(),\n                ...payload\n            });\n            if (eventName === \"position\") {\n                var _payload_boxStage, _payload_nodeAbsolute, _payload_final, _payload_elementScreen, _payload_stageRect, _payload_eventTarget, _payload_scrollTarget;\n                var _payload_boxStage_y;\n                const boxY = (_payload_boxStage_y = payload === null || payload === void 0 ? void 0 : (_payload_boxStage = payload.boxStage) === null || _payload_boxStage === void 0 ? void 0 : _payload_boxStage.y) !== null && _payload_boxStage_y !== void 0 ? _payload_boxStage_y : null;\n                var _payload_nodeAbsolute_y;\n                const absY = (_payload_nodeAbsolute_y = payload === null || payload === void 0 ? void 0 : (_payload_nodeAbsolute = payload.nodeAbsolute) === null || _payload_nodeAbsolute === void 0 ? void 0 : _payload_nodeAbsolute.y) !== null && _payload_nodeAbsolute_y !== void 0 ? _payload_nodeAbsolute_y : null;\n                var _payload_anchorStageY;\n                const anchorY = (_payload_anchorStageY = payload === null || payload === void 0 ? void 0 : payload.anchorStageY) !== null && _payload_anchorStageY !== void 0 ? _payload_anchorStageY : null;\n                var _payload_final_y;\n                const finalY = (_payload_final_y = payload === null || payload === void 0 ? void 0 : (_payload_final = payload.final) === null || _payload_final === void 0 ? void 0 : _payload_final.y) !== null && _payload_final_y !== void 0 ? _payload_final_y : null;\n                var _payload_elementScreen_y;\n                const elementY = (_payload_elementScreen_y = payload === null || payload === void 0 ? void 0 : (_payload_elementScreen = payload.elementScreen) === null || _payload_elementScreen === void 0 ? void 0 : _payload_elementScreen.y) !== null && _payload_elementScreen_y !== void 0 ? _payload_elementScreen_y : null;\n                var _payload_stageRect_top;\n                const stageTop = (_payload_stageRect_top = payload === null || payload === void 0 ? void 0 : (_payload_stageRect = payload.stageRect) === null || _payload_stageRect === void 0 ? void 0 : _payload_stageRect.top) !== null && _payload_stageRect_top !== void 0 ? _payload_stageRect_top : null;\n                var _payload_source;\n                const source = (_payload_source = payload === null || payload === void 0 ? void 0 : payload.source) !== null && _payload_source !== void 0 ? _payload_source : \"unknown\";\n                var _payload_eventTarget_label, _ref;\n                const target = (_ref = (_payload_eventTarget_label = payload === null || payload === void 0 ? void 0 : (_payload_eventTarget = payload.eventTarget) === null || _payload_eventTarget === void 0 ? void 0 : _payload_eventTarget.label) !== null && _payload_eventTarget_label !== void 0 ? _payload_eventTarget_label : payload === null || payload === void 0 ? void 0 : (_payload_scrollTarget = payload.scrollTarget) === null || _payload_scrollTarget === void 0 ? void 0 : _payload_scrollTarget.label) !== null && _ref !== void 0 ? _ref : \"unknown\";\n                console.log(\"[OPTION-BUTTON][SUMMARY] src=\".concat(source, \" target=\").concat(target, \" boxY=\").concat(boxY, \" absY=\").concat(absY, \" anchorY=\").concat(anchorY, \" elementY=\").concat(elementY, \" finalY=\").concat(finalY, \" stageTop=\").concat(stageTop));\n            }\n        }\n    }[\"useOptionButtonPosition.useCallback[debugLog]\"], []);\n    const ocultarBotonOpciones = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOptionButtonPosition.useCallback[ocultarBotonOpciones]\": function() {\n            let reason = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"unknown\", extra = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n            if (!botonOpcionesRef.current) return;\n            botonOpcionesRef.current.style.display = \"none\";\n            var _elementosSeleccionados_;\n            debugLog(\"hide\", {\n                reason,\n                selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                isMobile,\n                extra\n            }, false);\n        }\n    }[\"useOptionButtonPosition.useCallback[ocultarBotonOpciones]\"], [\n        botonOpcionesRef,\n        debugLog,\n        elementosSeleccionados,\n        isMobile\n    ]);\n    const actualizarPosicionBotonOpciones = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOptionButtonPosition.useCallback[actualizarPosicionBotonOpciones]\": function() {\n            let source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"manual\", nativeEvent = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, eventTargetLabel = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n            if (false) {}\n            if (!botonOpcionesRef.current) return;\n            if (elementosSeleccionados.length !== 1) {\n                ocultarBotonOpciones(\"selection-count\", {\n                    source,\n                    count: elementosSeleccionados.length\n                });\n                return;\n            }\n            const nodeRef = elementRefs.current[elementosSeleccionados[0]];\n            const stage = stageRef.current;\n            if (!nodeRef || !stage) {\n                ocultarBotonOpciones(\"missing-node-or-stage\", {\n                    source,\n                    hasNode: Boolean(nodeRef),\n                    hasStage: Boolean(stage)\n                });\n                return;\n            }\n            try {\n                var _stage_getStage_container, _stage_getStage, _stage_getStage1;\n                const box = nodeRef.getClientRect({\n                    relativeTo: stage,\n                    skipShadow: true\n                });\n                const nodeAbsolutePosition = typeof nodeRef.getAbsolutePosition === \"function\" ? nodeRef.getAbsolutePosition() : {\n                    x: typeof nodeRef.x === \"function\" ? nodeRef.x() : null,\n                    y: typeof nodeRef.y === \"function\" ? nodeRef.y() : null\n                };\n                const stageContainer = typeof stage.container === \"function\" ? stage.container() : (_stage_getStage1 = stage.getStage) === null || _stage_getStage1 === void 0 ? void 0 : (_stage_getStage = _stage_getStage1.call(stage)) === null || _stage_getStage === void 0 ? void 0 : (_stage_getStage_container = _stage_getStage.container) === null || _stage_getStage_container === void 0 ? void 0 : _stage_getStage_container.call(_stage_getStage);\n                if (!stageContainer) {\n                    ocultarBotonOpciones(\"missing-stage-container\", {\n                        source\n                    });\n                    return;\n                }\n                const stageRect = stageContainer.getBoundingClientRect();\n                const renderedScale = resolveRenderedScale(stage, stageRect, escalaVisual, escalaActiva);\n                const targetButtonSize = Number.isFinite(buttonSize) && buttonSize > 0 ? buttonSize : isMobile ? FALLBACK_BUTTON_SIZE_MOBILE : FALLBACK_BUTTON_SIZE_DESKTOP;\n                const overlapPx = targetButtonSize * BUTTON_VERTEX_OVERLAP_RATIO;\n                const nudgeX = isMobile ? BUTTON_VERTEX_NUDGE_X_MOBILE : BUTTON_VERTEX_NUDGE_X_DESKTOP;\n                const nudgeY = isMobile ? BUTTON_VERTEX_NUDGE_Y_MOBILE : BUTTON_VERTEX_NUDGE_Y_DESKTOP;\n                const anchorStageY = Number.isFinite(nodeAbsolutePosition === null || nodeAbsolutePosition === void 0 ? void 0 : nodeAbsolutePosition.y) ? Math.min(box.y, nodeAbsolutePosition.y) : box.y;\n                const elementoX = stageRect.left + box.x * renderedScale.x;\n                const elementoY = stageRect.top + anchorStageY * renderedScale.y;\n                const anchoElemento = Math.max(0, box.width * renderedScale.x);\n                const altoElemento = Math.max(0, box.height * renderedScale.y);\n                const elementoRight = elementoX + anchoElemento;\n                const viewportWidth = window.innerWidth;\n                const viewportHeight = window.innerHeight;\n                const viewportPadding = isMobile ? 8 : 4;\n                const elementoVisible = elementoX + anchoElemento >= 0 && elementoX <= viewportWidth && elementoY + altoElemento >= 0 && elementoY <= viewportHeight;\n                if (!elementoVisible) {\n                    ocultarBotonOpciones(\"element-outside-viewport\", {\n                        source,\n                        elementRect: {\n                            left: Math.round(elementoX),\n                            top: Math.round(elementoY),\n                            width: Math.round(anchoElemento),\n                            height: Math.round(altoElemento)\n                        },\n                        viewport: {\n                            width: viewportWidth,\n                            height: viewportHeight\n                        }\n                    });\n                    return;\n                }\n                // Ancla visual: centro del botón exactamente en el vértice superior derecho.\n                const preferredX = elementoRight - overlapPx + nudgeX;\n                const preferredY = elementoY - overlapPx - nudgeY;\n                const minX = viewportPadding;\n                const maxX = Math.max(minX, viewportWidth - targetButtonSize - viewportPadding);\n                const minY = viewportPadding;\n                const maxY = Math.max(minY, viewportHeight - targetButtonSize - viewportPadding);\n                const fallbackNearVertexX = elementoRight - targetButtonSize - 1;\n                const useFallbackNearVertexX = preferredX + targetButtonSize > viewportWidth - viewportPadding && fallbackNearVertexX >= minX;\n                const fallbackNearVertexY = elementoY + 1;\n                const useFallbackNearVertexY = preferredY < minY && fallbackNearVertexY <= maxY;\n                const placementModeX = useFallbackNearVertexX ? \"fallback-left-of-vertex\" : \"vertex\";\n                const placementModeY = useFallbackNearVertexY ? \"fallback-below-vertex\" : \"vertex\";\n                let botonX = useFallbackNearVertexX ? fallbackNearVertexX : preferredX;\n                let botonY = useFallbackNearVertexY ? fallbackNearVertexY : preferredY;\n                botonX = clamp(botonX, minX, maxX);\n                botonY = clamp(botonY, minY, maxY);\n                const hasRelativeRoot = Boolean(layoutRootRef === null || layoutRootRef === void 0 ? void 0 : layoutRootRef.current);\n                let renderX = botonX;\n                let renderY = botonY;\n                if (hasRelativeRoot) {\n                    const rootRect = layoutRootRef.current.getBoundingClientRect();\n                    renderX = botonX - rootRect.left;\n                    renderY = botonY - rootRect.top;\n                }\n                botonOpcionesRef.current.style.left = \"\".concat(Math.round(renderX), \"px\");\n                botonOpcionesRef.current.style.top = \"\".concat(Math.round(renderY), \"px\");\n                botonOpcionesRef.current.style.display = \"flex\";\n                if (isOptionButtonDebugEnabled()) {\n                    var _stage_attrs, _stage_attrs1;\n                    const debugScrollTarget = getScrollableAncestors(stageContainer)[0] || window;\n                    const stageWidth = typeof (stage === null || stage === void 0 ? void 0 : stage.width) === \"function\" ? Number(stage.width()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs = stage.attrs) === null || _stage_attrs === void 0 ? void 0 : _stage_attrs.width);\n                    const stageHeight = typeof (stage === null || stage === void 0 ? void 0 : stage.height) === \"function\" ? Number(stage.height()) : Number(stage === null || stage === void 0 ? void 0 : (_stage_attrs1 = stage.attrs) === null || _stage_attrs1 === void 0 ? void 0 : _stage_attrs1.height);\n                    var _nativeEvent_pointerType, _nativeEvent_type;\n                    debugLog(\"position\", {\n                        source,\n                        selectedId: elementosSeleccionados[0],\n                        isMobile,\n                        pointerType: (_nativeEvent_pointerType = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.pointerType) !== null && _nativeEvent_pointerType !== void 0 ? _nativeEvent_pointerType : null,\n                        nativeEventType: (_nativeEvent_type = nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.type) !== null && _nativeEvent_type !== void 0 ? _nativeEvent_type : null,\n                        eventTarget: {\n                            label: eventTargetLabel || describeEventTarget(nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.target)\n                        },\n                        stageSize: {\n                            width: Number.isFinite(stageWidth) ? stageWidth : null,\n                            height: Number.isFinite(stageHeight) ? stageHeight : null\n                        },\n                        stageRect: {\n                            left: Math.round(stageRect.left),\n                            top: Math.round(stageRect.top),\n                            width: Math.round(stageRect.width),\n                            height: Math.round(stageRect.height)\n                        },\n                        renderedScale: {\n                            x: Number(renderedScale.x.toFixed(4)),\n                            y: Number(renderedScale.y.toFixed(4))\n                        },\n                        boxStage: {\n                            x: Number(box.x.toFixed(2)),\n                            y: Number(box.y.toFixed(2)),\n                            width: Number(box.width.toFixed(2)),\n                            height: Number(box.height.toFixed(2))\n                        },\n                        nodeAbsolute: {\n                            x: Number.isFinite(nodeAbsolutePosition === null || nodeAbsolutePosition === void 0 ? void 0 : nodeAbsolutePosition.x) ? Number(nodeAbsolutePosition.x.toFixed(2)) : null,\n                            y: Number.isFinite(nodeAbsolutePosition === null || nodeAbsolutePosition === void 0 ? void 0 : nodeAbsolutePosition.y) ? Number(nodeAbsolutePosition.y.toFixed(2)) : null\n                        },\n                        anchorStageY: Number(anchorStageY.toFixed(2)),\n                        elementScreen: {\n                            x: Number(elementoX.toFixed(2)),\n                            y: Number(elementoY.toFixed(2)),\n                            right: Number(elementoRight.toFixed(2)),\n                            width: Number(anchoElemento.toFixed(2)),\n                            height: Number(altoElemento.toFixed(2))\n                        },\n                        preferred: {\n                            x: Number(preferredX.toFixed(2)),\n                            y: Number(preferredY.toFixed(2)),\n                            targetButtonSize,\n                            overlapPx: Number(overlapPx.toFixed(2)),\n                            nudgeX,\n                            nudgeY,\n                            fallbackNearVertexX: Number(fallbackNearVertexX.toFixed(2)),\n                            fallbackNearVertexY: Number(fallbackNearVertexY.toFixed(2)),\n                            placementModeX,\n                            placementModeY\n                        },\n                        final: {\n                            x: Number(botonX.toFixed(2)),\n                            y: Number(botonY.toFixed(2)),\n                            renderX: Number(renderX.toFixed(2)),\n                            renderY: Number(renderY.toFixed(2)),\n                            positionMode: hasRelativeRoot ? \"absolute\" : \"fixed\",\n                            minX,\n                            maxX,\n                            minY,\n                            maxY\n                        },\n                        viewport: {\n                            width: viewportWidth,\n                            height: viewportHeight,\n                            scrollX: Number(window.scrollX || window.pageXOffset || 0),\n                            scrollY: Number(window.scrollY || window.pageYOffset || 0),\n                            visualViewport: window.visualViewport ? {\n                                offsetTop: Number(window.visualViewport.offsetTop || 0),\n                                offsetLeft: Number(window.visualViewport.offsetLeft || 0),\n                                width: Number(window.visualViewport.width || 0),\n                                height: Number(window.visualViewport.height || 0),\n                                scale: Number(window.visualViewport.scale || 1)\n                            } : null\n                        },\n                        scrollTarget: {\n                            label: describeEventTarget(debugScrollTarget),\n                            scrollTop: debugScrollTarget && \"scrollTop\" in debugScrollTarget ? Number(debugScrollTarget.scrollTop || 0) : null\n                        }\n                    });\n                }\n            } catch (error) {\n                const message = error instanceof Error ? error.message : String(error || \"unknown-error\");\n                var _elementosSeleccionados_;\n                debugLog(\"position-error\", {\n                    source,\n                    selectedId: (_elementosSeleccionados_ = elementosSeleccionados === null || elementosSeleccionados === void 0 ? void 0 : elementosSeleccionados[0]) !== null && _elementosSeleccionados_ !== void 0 ? _elementosSeleccionados_ : null,\n                    error: message\n                }, true);\n                ocultarBotonOpciones(\"exception\", {\n                    source,\n                    error: message\n                });\n            }\n        }\n    }[\"useOptionButtonPosition.useCallback[actualizarPosicionBotonOpciones]\"], [\n        botonOpcionesRef,\n        elementosSeleccionados,\n        elementRefs,\n        stageRef,\n        escalaVisual,\n        escalaActiva,\n        debugLog,\n        ocultarBotonOpciones,\n        layoutRootRef,\n        isMobile,\n        buttonSize\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useOptionButtonPosition.useEffect\": ()=>{\n            if (elementosSeleccionados.length !== 1) {\n                ocultarBotonOpciones();\n                return undefined;\n            }\n            let rafA = 0;\n            let rafB = 0;\n            rafA = window.requestAnimationFrame({\n                \"useOptionButtonPosition.useEffect\": ()=>{\n                    rafB = window.requestAnimationFrame({\n                        \"useOptionButtonPosition.useEffect\": ()=>{\n                            actualizarPosicionBotonOpciones(\"raf-init\", null, \"raf\");\n                        }\n                    }[\"useOptionButtonPosition.useEffect\"]);\n                }\n            }[\"useOptionButtonPosition.useEffect\"]);\n            return ({\n                \"useOptionButtonPosition.useEffect\": ()=>{\n                    if (rafA) window.cancelAnimationFrame(rafA);\n                    if (rafB) window.cancelAnimationFrame(rafB);\n                }\n            })[\"useOptionButtonPosition.useEffect\"];\n        }\n    }[\"useOptionButtonPosition.useEffect\"], [\n        elementosSeleccionados,\n        actualizarPosicionBotonOpciones,\n        ocultarBotonOpciones\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useOptionButtonPosition.useEffect\": ()=>{\n            var _stageRef_current_getStage, _stageRef_current;\n            if (false) {}\n            const stage = ((_stageRef_current = stageRef.current) === null || _stageRef_current === void 0 ? void 0 : (_stageRef_current_getStage = _stageRef_current.getStage) === null || _stageRef_current_getStage === void 0 ? void 0 : _stageRef_current_getStage.call(_stageRef_current)) || stageRef.current;\n            const stageContainer = typeof (stage === null || stage === void 0 ? void 0 : stage.container) === \"function\" ? stage.container() : null;\n            const hasRelativeRoot = Boolean(layoutRootRef === null || layoutRootRef === void 0 ? void 0 : layoutRootRef.current);\n            const syncPosition = {\n                \"useOptionButtonPosition.useEffect.syncPosition\": function() {\n                    let source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"sync\", nativeEvent = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n                    if (elementosSeleccionados.length === 1) {\n                        actualizarPosicionBotonOpciones(source, nativeEvent, describeEventTarget(nativeEvent === null || nativeEvent === void 0 ? void 0 : nativeEvent.target));\n                    } else {\n                        ocultarBotonOpciones(\"sync-no-selection\", {\n                            source\n                        });\n                    }\n                }\n            }[\"useOptionButtonPosition.useEffect.syncPosition\"];\n            const scrollTargets = hasRelativeRoot ? [] : stageContainer ? getScrollableAncestors(stageContainer) : [\n                window\n            ];\n            const detach = [];\n            scrollTargets.forEach({\n                \"useOptionButtonPosition.useEffect\": (target)=>{\n                    if (!(target === null || target === void 0 ? void 0 : target.addEventListener) || !(target === null || target === void 0 ? void 0 : target.removeEventListener)) return;\n                    const onScroll = {\n                        \"useOptionButtonPosition.useEffect.onScroll\": (event)=>{\n                            syncPosition(\"scroll:\".concat(describeEventTarget(event.target)), event);\n                        }\n                    }[\"useOptionButtonPosition.useEffect.onScroll\"];\n                    target.addEventListener(\"scroll\", onScroll, {\n                        passive: true\n                    });\n                    detach.push({\n                        \"useOptionButtonPosition.useEffect\": ()=>target.removeEventListener(\"scroll\", onScroll)\n                    }[\"useOptionButtonPosition.useEffect\"]);\n                }\n            }[\"useOptionButtonPosition.useEffect\"]);\n            if (!hasRelativeRoot && window.visualViewport) {\n                const onVisualViewportScroll = {\n                    \"useOptionButtonPosition.useEffect.onVisualViewportScroll\": (event)=>{\n                        syncPosition(\"visual-viewport-scroll\", event);\n                    }\n                }[\"useOptionButtonPosition.useEffect.onVisualViewportScroll\"];\n                const onVisualViewportResize = {\n                    \"useOptionButtonPosition.useEffect.onVisualViewportResize\": (event)=>{\n                        syncPosition(\"visual-viewport-resize\", event);\n                    }\n                }[\"useOptionButtonPosition.useEffect.onVisualViewportResize\"];\n                window.visualViewport.addEventListener(\"scroll\", onVisualViewportScroll);\n                window.visualViewport.addEventListener(\"resize\", onVisualViewportResize);\n                detach.push({\n                    \"useOptionButtonPosition.useEffect\": ()=>{\n                        window.visualViewport.removeEventListener(\"scroll\", onVisualViewportScroll);\n                        window.visualViewport.removeEventListener(\"resize\", onVisualViewportResize);\n                    }\n                }[\"useOptionButtonPosition.useEffect\"]);\n            }\n            const onResize = {\n                \"useOptionButtonPosition.useEffect.onResize\": (event)=>{\n                    syncPosition(\"window-resize\", event);\n                }\n            }[\"useOptionButtonPosition.useEffect.onResize\"];\n            const onOrientationChange = {\n                \"useOptionButtonPosition.useEffect.onOrientationChange\": (event)=>{\n                    syncPosition(\"window-orientationchange\", event);\n                }\n            }[\"useOptionButtonPosition.useEffect.onOrientationChange\"];\n            window.addEventListener(\"resize\", onResize);\n            window.addEventListener(\"orientationchange\", onOrientationChange);\n            detach.push({\n                \"useOptionButtonPosition.useEffect\": ()=>window.removeEventListener(\"resize\", onResize)\n            }[\"useOptionButtonPosition.useEffect\"]);\n            detach.push({\n                \"useOptionButtonPosition.useEffect\": ()=>window.removeEventListener(\"orientationchange\", onOrientationChange)\n            }[\"useOptionButtonPosition.useEffect\"]);\n            if ((stage === null || stage === void 0 ? void 0 : stage.on) && (stage === null || stage === void 0 ? void 0 : stage.off)) {\n                const onStageDragMove = {\n                    \"useOptionButtonPosition.useEffect.onStageDragMove\": (event)=>syncPosition(\"stage-dragmove\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageDragMove\"];\n                const onStageDragEnd = {\n                    \"useOptionButtonPosition.useEffect.onStageDragEnd\": (event)=>syncPosition(\"stage-dragend\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageDragEnd\"];\n                const onStageTransform = {\n                    \"useOptionButtonPosition.useEffect.onStageTransform\": (event)=>syncPosition(\"stage-transform\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageTransform\"];\n                const onStageTransformEnd = {\n                    \"useOptionButtonPosition.useEffect.onStageTransformEnd\": (event)=>syncPosition(\"stage-transformend\", (event === null || event === void 0 ? void 0 : event.evt) || null)\n                }[\"useOptionButtonPosition.useEffect.onStageTransformEnd\"];\n                stage.on(\"dragmove.option-button\", onStageDragMove);\n                stage.on(\"dragend.option-button\", onStageDragEnd);\n                stage.on(\"transform.option-button\", onStageTransform);\n                stage.on(\"transformend.option-button\", onStageTransformEnd);\n                detach.push({\n                    \"useOptionButtonPosition.useEffect\": ()=>{\n                        stage.off(\"dragmove.option-button\", onStageDragMove);\n                        stage.off(\"dragend.option-button\", onStageDragEnd);\n                        stage.off(\"transform.option-button\", onStageTransform);\n                        stage.off(\"transformend.option-button\", onStageTransformEnd);\n                    }\n                }[\"useOptionButtonPosition.useEffect\"]);\n            }\n            // Primer sync inmediato por si hay cambio de scroll entre renders.\n            syncPosition(\"initial-sync\");\n            return ({\n                \"useOptionButtonPosition.useEffect\": ()=>{\n                    detach.forEach({\n                        \"useOptionButtonPosition.useEffect\": (fn)=>{\n                            try {\n                                fn();\n                            } catch (e) {\n                            // no-op cleanup guard\n                            }\n                        }\n                    }[\"useOptionButtonPosition.useEffect\"]);\n                }\n            })[\"useOptionButtonPosition.useEffect\"];\n        }\n    }[\"useOptionButtonPosition.useEffect\"], [\n        stageRef,\n        layoutRootRef,\n        elementosSeleccionados.length,\n        actualizarPosicionBotonOpciones,\n        ocultarBotonOpciones\n    ]);\n    return {\n        actualizarPosicionBotonOpciones\n    };\n}\n_s(useOptionButtonPosition, \"v+ENYjZOVvZm8w/O7K1fozfoPMg=\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = __webpack_module__.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                __webpack_module__.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                __webpack_module__.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        __webpack_module__.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    __webpack_module__.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2VkaXRvci9vdmVybGF5cy91c2VPcHRpb25CdXR0b25Qb3NpdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFFdkQsTUFBTUcsK0JBQStCO0FBQ3JDLE1BQU1DLDhCQUE4QjtBQUNwQyxNQUFNQyw4QkFBOEI7QUFDcEMsTUFBTUMsZ0NBQWdDO0FBQ3RDLE1BQU1DLGdDQUFnQztBQUN0QyxNQUFNQywrQkFBK0I7QUFDckMsTUFBTUMsK0JBQStCO0FBQ3JDLE1BQU1DLGtCQUFrQjtBQUV4QixTQUFTQztJQUNQLE9BQU8sS0FBNkIsSUFBSUMsT0FBT0MsbUJBQW1CLEtBQUs7QUFDekU7QUFFQSxTQUFTQyxhQUFhQyxZQUFZLEVBQUVDLFlBQVk7SUFDOUMsSUFBSUMsT0FBT0MsUUFBUSxDQUFDSCxpQkFBaUJBLGVBQWUsR0FBRyxPQUFPQTtJQUM5RCxJQUFJRSxPQUFPQyxRQUFRLENBQUNGLGlCQUFpQkEsZUFBZSxHQUFHLE9BQU9BO0lBQzlELE9BQU87QUFDVDtBQUVBLFNBQVNHLE1BQU1DLEtBQUssRUFBRUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVCLE9BQU9DLEtBQUtGLEdBQUcsQ0FBQ0MsS0FBS0MsS0FBS0QsR0FBRyxDQUFDRCxLQUFLRDtBQUNyQztBQUVBLFNBQVNJLG9CQUFvQkMsTUFBTTtRQU9qQkE7SUFOaEIsSUFBSUEsV0FBV2IsUUFBUSxPQUFPO0lBQzlCLElBQUlhLFdBQVdDLFVBQVUsT0FBTztJQUNoQyxJQUFJLENBQUVELENBQUFBLGtCQUFrQkUsT0FBTSxHQUFJLE9BQU87SUFFekMsTUFBTUMsTUFBTUMsT0FBT0osT0FBT0ssT0FBTyxJQUFJLElBQUlDLFdBQVc7SUFDcEQsTUFBTUMsS0FBS1AsT0FBT08sRUFBRSxHQUFHLElBQWMsT0FBVlAsT0FBT08sRUFBRSxJQUFLO0lBQ3pDLE1BQU1DLFVBQVVSLEVBQUFBLG9CQUFBQSxPQUFPUyxTQUFTLGNBQWhCVCx3Q0FBQUEs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QUFBLDRCQUFBQSxNQUFPUyxHQUFHLEtBQUk7O2dCQUVuRHJLLE1BQU1rSyxFQUFFLENBQUMsMEJBQTBCRTtnQkFDbkNwSyxNQUFNa0ssRUFBRSxDQUFDLHlCQUF5Qkk7Z0JBQ2xDdEssTUFBTWtLLEVBQUUsQ0FBQywyQkFBMkJLO2dCQUNwQ3ZLLE1BQU1rSyxFQUFFLENBQUMsOEJBQThCTTtnQkFDdkNqQixPQUFPaEksSUFBSTt5REFBQzt3QkFDVnZCLE1BQU1tSyxHQUFHLENBQUMsMEJBQTBCQzt3QkFDcENwSyxNQUFNbUssR0FBRyxDQUFDLHlCQUF5Qkc7d0JBQ25DdEssTUFBTW1LLEdBQUcsQ0FBQywyQkFBMkJJO3dCQUNyQ3ZLLE1BQU1tSyxHQUFHLENBQUMsOEJBQThCSztvQkFDMUM7O1lBQ0Y7WUFFQSxtRUFBbUU7WUFDbkVuQixhQUFhO1lBRWI7cURBQU87b0JBQ0xFLE9BQU9DLE9BQU87NkRBQUMsQ0FBQ2lCOzRCQUNkLElBQUk7Z0NBQ0ZBOzRCQUNGLEVBQUUsVUFBTTs0QkFDTixzQkFBc0I7NEJBQ3hCO3dCQUNGOztnQkFDRjs7UUFDRjs0Q0FBRztRQUNEMUk7UUFDQUg7UUFDQUUsdUJBQXVCcEMsTUFBTTtRQUM3QnlFO1FBQ0FMO0tBQ0Q7SUFFRCxPQUFPO1FBQ0xLO0lBQ0Y7QUFDRjtHQWxid0J6QyIsInNvdXJjZXMiOlsiQzpcXFJlc2VydmFlbGRpYVxcc3JjXFxjb21wb25lbnRzXFxlZGl0b3JcXG92ZXJsYXlzXFx1c2VPcHRpb25CdXR0b25Qb3NpdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgRkFMTEJBQ0tfQlVUVE9OX1NJWkVfREVTS1RPUCA9IDI0O1xuY29uc3QgRkFMTEJBQ0tfQlVUVE9OX1NJWkVfTU9CSUxFID0gMzg7XG5jb25zdCBCVVRUT05fVkVSVEVYX09WRVJMQVBfUkFUSU8gPSAwLjU7XG5jb25zdCBCVVRUT05fVkVSVEVYX05VREdFX1hfREVTS1RPUCA9IDM7XG5jb25zdCBCVVRUT05fVkVSVEVYX05VREdFX1lfREVTS1RPUCA9IDM7XG5jb25zdCBCVVRUT05fVkVSVEVYX05VREdFX1hfTU9CSUxFID0gNDtcbmNvbnN0IEJVVFRPTl9WRVJURVhfTlVER0VfWV9NT0JJTEUgPSA0O1xuY29uc3QgTE9HX1RIUk9UVExFX01TID0gMTIwO1xuXG5mdW5jdGlvbiBpc09wdGlvbkJ1dHRvbkRlYnVnRW5hYmxlZCgpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93Ll9fREJHX09QVElPTl9CVVRUT04gPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVTY2FsZShlc2NhbGFWaXN1YWwsIGVzY2FsYUFjdGl2YSkge1xuICBpZiAoTnVtYmVyLmlzRmluaXRlKGVzY2FsYVZpc3VhbCkgJiYgZXNjYWxhVmlzdWFsID4gMCkgcmV0dXJuIGVzY2FsYVZpc3VhbDtcbiAgaWYgKE51bWJlci5pc0Zpbml0ZShlc2NhbGFBY3RpdmEpICYmIGVzY2FsYUFjdGl2YSA+IDApIHJldHVybiBlc2NhbGFBY3RpdmE7XG4gIHJldHVybiAxO1xufVxuXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2YWx1ZSkpO1xufVxuXG5mdW5jdGlvbiBkZXNjcmliZUV2ZW50VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodGFyZ2V0ID09PSB3aW5kb3cpIHJldHVybiBcIndpbmRvd1wiO1xuICBpZiAodGFyZ2V0ID09PSBkb2N1bWVudCkgcmV0dXJuIFwiZG9jdW1lbnRcIjtcbiAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHJldHVybiBcInVua25vd25cIjtcblxuICBjb25zdCB0YWcgPSBTdHJpbmcodGFyZ2V0LnRhZ05hbWUgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgaWQgPSB0YXJnZXQuaWQgPyBgIyR7dGFyZ2V0LmlkfWAgOiBcIlwiO1xuICBjb25zdCBjbGFzc2VzID0gdGFyZ2V0LmNsYXNzTGlzdD8ubGVuZ3RoXG4gICAgPyBgLiR7QXJyYXkuZnJvbSh0YXJnZXQuY2xhc3NMaXN0KS5zbGljZSgwLCAyKS5qb2luKFwiLlwiKX1gXG4gICAgOiBcIlwiO1xuICByZXR1cm4gYCR7dGFnfSR7aWR9JHtjbGFzc2VzfWAgfHwgXCJlbGVtZW50XCI7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVSZW5kZXJlZFNjYWxlKHN0YWdlLCBzdGFnZVJlY3QsIGVzY2FsYVZpc3VhbCwgZXNjYWxhQWN0aXZhKSB7XG4gIGNvbnN0IHN0YWdlV2lkdGggPVxuICAgIHR5cGVvZiBzdGFnZT8ud2lkdGggPT09IFwiZnVuY3Rpb25cIiA/IE51bWJlcihzdGFnZS53aWR0aCgpKSA6IE51bWJlcihzdGFnZT8uYXR0cnM/LndpZHRoKTtcbiAgY29uc3Qgc3RhZ2VIZWlnaHQgPVxuICAgIHR5cGVvZiBzdGFnZT8uaGVpZ2h0ID09PSBcImZ1bmN0aW9uXCIgPyBOdW1iZXIoc3RhZ2UuaGVpZ2h0KCkpIDogTnVtYmVyKHN0YWdlPy5hdHRycz8uaGVpZ2h0KTtcblxuICBjb25zdCBmYWxsYmFjayA9IHJlc29sdmVTY2FsZShlc2NhbGFWaXN1YWwsIGVzY2FsYUFjdGl2YSk7XG4gIGNvbnN0IHNjYWxlWCA9IE51bWJlci5pc0Zpbml0ZShzdGFnZVdpZHRoKSAmJiBzdGFnZVdpZHRoID4gMFxuICAgID8gc3RhZ2VSZWN0LndpZHRoIC8gc3RhZ2VXaWR0aFxuICAgIDogZmFsbGJhY2s7XG4gIGNvbnN0IHNjYWxlWSA9IE51bWJlci5pc0Zpbml0ZShzdGFnZUhlaWdodCkgJiYgc3RhZ2VIZWlnaHQgPiAwXG4gICAgPyBzdGFnZVJlY3QuaGVpZ2h0IC8gc3RhZ2VIZWlnaHRcbiAgICA6IGZhbGxiYWNrO1xuXG4gIHJldHVybiB7XG4gICAgeDogTnVtYmVyLmlzRmluaXRlKHNjYWxlWCkgJiYgc2NhbGVYID4gMCA/IHNjYWxlWCA6IGZhbGxiYWNrLFxuICAgIHk6IE51bWJlci5pc0Zpbml0ZShzY2FsZVkpICYmIHNjYWxlWSA+IDAgPyBzY2FsZVkgOiBmYWxsYmFjayxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsYWJsZUFuY2VzdG9ycyhzdGFydE5vZGUpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBbXTtcbiAgaWYgKCEoc3RhcnROb2RlIGluc3RhbmNlb2YgRWxlbWVudCkpIHJldHVybiBbd2luZG93XTtcblxuICBjb25zdCB0YXJnZXRzID0gW107XG4gIGxldCBjdXJyZW50ID0gc3RhcnROb2RlLnBhcmVudEVsZW1lbnQ7XG5cbiAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY3VycmVudCk7XG4gICAgY29uc3Qgb3ZlcmZsb3dZID0gU3RyaW5nKHN0eWxlLm92ZXJmbG93WSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IG92ZXJmbG93ID0gU3RyaW5nKHN0eWxlLm92ZXJmbG93IHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaXNTY3JvbGxhYmxlID1cbiAgICAgIG92ZXJmbG93WSA9PT0gXCJhdXRvXCIgfHxcbiAgICAgIG92ZXJmbG93WSA9PT0gXCJzY3JvbGxcIiB8fFxuICAgICAgb3ZlcmZsb3dZID09PSBcIm92ZXJsYXlcIiB8fFxuICAgICAgb3ZlcmZsb3cgPT09IFwiYXV0b1wiIHx8XG4gICAgICBvdmVyZmxvdyA9PT0gXCJzY3JvbGxcIiB8fFxuICAgICAgb3ZlcmZsb3cgPT09IFwib3ZlcmxheVwiO1xuXG4gICAgaWYgKGlzU2Nyb2xsYWJsZSkge1xuICAgICAgdGFyZ2V0cy5wdXNoKGN1cnJlbnQpO1xuICAgIH1cblxuICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudEVsZW1lbnQ7XG4gIH1cblxuICBpZiAoZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCkge1xuICAgIHRhcmdldHMucHVzaChkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50KTtcbiAgfVxuICB0YXJnZXRzLnB1c2god2luZG93KTtcblxuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHRhcmdldHMpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlT3B0aW9uQnV0dG9uUG9zaXRpb24oe1xuICBib3Rvbk9wY2lvbmVzUmVmLFxuICBsYXlvdXRSb290UmVmID0gbnVsbCxcbiAgZWxlbWVudFJlZnMsXG4gIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsXG4gIHN0YWdlUmVmLFxuICBlc2NhbGFWaXN1YWwsXG4gIGVzY2FsYUFjdGl2YSxcbiAgaXNNb2JpbGUgPSBmYWxzZSxcbiAgYnV0dG9uU2l6ZSA9IEZBTExCQUNLX0JVVFRPTl9TSVpFX0RFU0tUT1AsXG59KSB7XG4gIGNvbnN0IGxhc3RMb2dCeUV2ZW50UmVmID0gdXNlUmVmKHt9KTtcblxuICBjb25zdCBkZWJ1Z0xvZyA9IHVzZUNhbGxiYWNrKChldmVudE5hbWUsIHBheWxvYWQgPSB7fSwgZm9yY2UgPSBmYWxzZSkgPT4ge1xuICAgIGlmICghaXNPcHRpb25CdXR0b25EZWJ1Z0VuYWJsZWQoKSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBwcmV2aW91cyA9IE51bWJlcihsYXN0TG9nQnlFdmVudFJlZi5jdXJyZW50W2V2ZW50TmFtZV0gfHwgMCk7XG4gICAgaWYgKCFmb3JjZSAmJiBub3cgLSBwcmV2aW91cyA8IExPR19USFJPVFRMRV9NUykgcmV0dXJuO1xuICAgIGxhc3RMb2dCeUV2ZW50UmVmLmN1cnJlbnRbZXZlbnROYW1lXSA9IG5vdztcblxuICAgIGNvbnNvbGUubG9nKGBbT1BUSU9OLUJVVFRPTl0gJHtldmVudE5hbWV9YCwge1xuICAgICAgdHM6IG5ldyBEYXRlKG5vdykudG9JU09TdHJpbmcoKSxcbiAgICAgIC4uLnBheWxvYWQsXG4gICAgfSk7XG5cbiAgICBpZiAoZXZlbnROYW1lID09PSBcInBvc2l0aW9uXCIpIHtcbiAgICAgIGNvbnN0IGJveFkgPSBwYXlsb2FkPy5ib3hTdGFnZT8ueSA/PyBudWxsO1xuICAgICAgY29uc3QgYWJzWSA9IHBheWxvYWQ/Lm5vZGVBYnNvbHV0ZT8ueSA/PyBudWxsO1xuICAgICAgY29uc3QgYW5jaG9yWSA9IHBheWxvYWQ/LmFuY2hvclN0YWdlWSA/PyBudWxsO1xuICAgICAgY29uc3QgZmluYWxZID0gcGF5bG9hZD8uZmluYWw/LnkgPz8gbnVsbDtcbiAgICAgIGNvbnN0IGVsZW1lbnRZID0gcGF5bG9hZD8uZWxlbWVudFNjcmVlbj8ueSA/PyBudWxsO1xuICAgICAgY29uc3Qgc3RhZ2VUb3AgPSBwYXlsb2FkPy5zdGFnZVJlY3Q/LnRvcCA/PyBudWxsO1xuICAgICAgY29uc3Qgc291cmNlID0gcGF5bG9hZD8uc291cmNlID8/IFwidW5rbm93blwiO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGF5bG9hZD8uZXZlbnRUYXJnZXQ/LmxhYmVsID8/IHBheWxvYWQ/LnNjcm9sbFRhcmdldD8ubGFiZWwgPz8gXCJ1bmtub3duXCI7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYFtPUFRJT04tQlVUVE9OXVtTVU1NQVJZXSBzcmM9JHtzb3VyY2V9IHRhcmdldD0ke3RhcmdldH0gYm94WT0ke2JveFl9IGFic1k9JHthYnNZfSBhbmNob3JZPSR7YW5jaG9yWX0gZWxlbWVudFk9JHtlbGVtZW50WX0gZmluYWxZPSR7ZmluYWxZfSBzdGFnZVRvcD0ke3N0YWdlVG9wfWBcbiAgICAgICk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3Qgb2N1bHRhckJvdG9uT3BjaW9uZXMgPSB1c2VDYWxsYmFjaygocmVhc29uID0gXCJ1bmtub3duXCIsIGV4dHJhID0gbnVsbCkgPT4ge1xuICAgIGlmICghYm90b25PcGNpb25lc1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgYm90b25PcGNpb25lc1JlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkZWJ1Z0xvZyhcbiAgICAgIFwiaGlkZVwiLFxuICAgICAge1xuICAgICAgICByZWFzb24sXG4gICAgICAgIHNlbGVjdGVkSWQ6IGVsZW1lbnRvc1NlbGVjY2lvbmFkb3M/LlswXSA/PyBudWxsLFxuICAgICAgICBpc01vYmlsZSxcbiAgICAgICAgZXh0cmEsXG4gICAgICB9LFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9LCBbYm90b25PcGNpb25lc1JlZiwgZGVidWdMb2csIGVsZW1lbnRvc1NlbGVjY2lvbmFkb3MsIGlzTW9iaWxlXSk7XG5cbiAgY29uc3QgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyA9IHVzZUNhbGxiYWNrKChcbiAgICBzb3VyY2UgPSBcIm1hbnVhbFwiLFxuICAgIG5hdGl2ZUV2ZW50ID0gbnVsbCxcbiAgICBldmVudFRhcmdldExhYmVsID0gbnVsbFxuICApID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICAgIGlmICghYm90b25PcGNpb25lc1JlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBpZiAoZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGggIT09IDEpIHtcbiAgICAgIG9jdWx0YXJCb3Rvbk9wY2lvbmVzKFwic2VsZWN0aW9uLWNvdW50XCIsIHtcbiAgICAgICAgc291cmNlLFxuICAgICAgICBjb3VudDogZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBub2RlUmVmID0gZWxlbWVudFJlZnMuY3VycmVudFtlbGVtZW50b3NTZWxlY2Npb25hZG9zWzBdXTtcbiAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFub2RlUmVmIHx8ICFzdGFnZSkge1xuICAgICAgb2N1bHRhckJvdG9uT3BjaW9uZXMoXCJtaXNzaW5nLW5vZGUtb3Itc3RhZ2VcIiwge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGhhc05vZGU6IEJvb2xlYW4obm9kZVJlZiksXG4gICAgICAgIGhhc1N0YWdlOiBCb29sZWFuKHN0YWdlKSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBib3ggPSBub2RlUmVmLmdldENsaWVudFJlY3Qoe1xuICAgICAgICByZWxhdGl2ZVRvOiBzdGFnZSxcbiAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgbm9kZUFic29sdXRlUG9zaXRpb24gPVxuICAgICAgICB0eXBlb2Ygbm9kZVJlZi5nZXRBYnNvbHV0ZVBvc2l0aW9uID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IG5vZGVSZWYuZ2V0QWJzb2x1dGVQb3NpdGlvbigpXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICB4OiB0eXBlb2Ygbm9kZVJlZi54ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlUmVmLngoKSA6IG51bGwsXG4gICAgICAgICAgICB5OiB0eXBlb2Ygbm9kZVJlZi55ID09PSBcImZ1bmN0aW9uXCIgPyBub2RlUmVmLnkoKSA6IG51bGwsXG4gICAgICAgICAgfTtcbiAgICAgIGNvbnN0IHN0YWdlQ29udGFpbmVyID1cbiAgICAgICAgdHlwZW9mIHN0YWdlLmNvbnRhaW5lciA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBzdGFnZS5jb250YWluZXIoKVxuICAgICAgICAgIDogc3RhZ2UuZ2V0U3RhZ2U/LigpPy5jb250YWluZXI/LigpO1xuICAgICAgaWYgKCFzdGFnZUNvbnRhaW5lcikge1xuICAgICAgICBvY3VsdGFyQm90b25PcGNpb25lcyhcIm1pc3Npbmctc3RhZ2UtY29udGFpbmVyXCIsIHsgc291cmNlIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0YWdlUmVjdCA9IHN0YWdlQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgcmVuZGVyZWRTY2FsZSA9IHJlc29sdmVSZW5kZXJlZFNjYWxlKHN0YWdlLCBzdGFnZVJlY3QsIGVzY2FsYVZpc3VhbCwgZXNjYWxhQWN0aXZhKTtcbiAgICAgIGNvbnN0IHRhcmdldEJ1dHRvblNpemUgPVxuICAgICAgICBOdW1iZXIuaXNGaW5pdGUoYnV0dG9uU2l6ZSkgJiYgYnV0dG9uU2l6ZSA+IDBcbiAgICAgICAgICA/IGJ1dHRvblNpemVcbiAgICAgICAgICA6IGlzTW9iaWxlXG4gICAgICAgICAgICA/IEZBTExCQUNLX0JVVFRPTl9TSVpFX01PQklMRVxuICAgICAgICAgICAgOiBGQUxMQkFDS19CVVRUT05fU0laRV9ERVNLVE9QO1xuICAgICAgY29uc3Qgb3ZlcmxhcFB4ID0gdGFyZ2V0QnV0dG9uU2l6ZSAqIEJVVFRPTl9WRVJURVhfT1ZFUkxBUF9SQVRJTztcbiAgICAgIGNvbnN0IG51ZGdlWCA9IGlzTW9iaWxlID8gQlVUVE9OX1ZFUlRFWF9OVURHRV9YX01PQklMRSA6IEJVVFRPTl9WRVJURVhfTlVER0VfWF9ERVNLVE9QO1xuICAgICAgY29uc3QgbnVkZ2VZID0gaXNNb2JpbGUgPyBCVVRUT05fVkVSVEVYX05VREdFX1lfTU9CSUxFIDogQlVUVE9OX1ZFUlRFWF9OVURHRV9ZX0RFU0tUT1A7XG5cbiAgICAgIGNvbnN0IGFuY2hvclN0YWdlWSA9XG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShub2RlQWJzb2x1dGVQb3NpdGlvbj8ueSlcbiAgICAgICAgICA/IE1hdGgubWluKGJveC55LCBub2RlQWJzb2x1dGVQb3NpdGlvbi55KVxuICAgICAgICAgIDogYm94Lnk7XG5cbiAgICAgIGNvbnN0IGVsZW1lbnRvWCA9IHN0YWdlUmVjdC5sZWZ0ICsgYm94LnggKiByZW5kZXJlZFNjYWxlLng7XG4gICAgICBjb25zdCBlbGVtZW50b1kgPSBzdGFnZVJlY3QudG9wICsgYW5jaG9yU3RhZ2VZICogcmVuZGVyZWRTY2FsZS55O1xuICAgICAgY29uc3QgYW5jaG9FbGVtZW50byA9IE1hdGgubWF4KDAsIGJveC53aWR0aCAqIHJlbmRlcmVkU2NhbGUueCk7XG4gICAgICBjb25zdCBhbHRvRWxlbWVudG8gPSBNYXRoLm1heCgwLCBib3guaGVpZ2h0ICogcmVuZGVyZWRTY2FsZS55KTtcbiAgICAgIGNvbnN0IGVsZW1lbnRvUmlnaHQgPSBlbGVtZW50b1ggKyBhbmNob0VsZW1lbnRvO1xuXG4gICAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNvbnN0IHZpZXdwb3J0UGFkZGluZyA9IGlzTW9iaWxlID8gOCA6IDQ7XG5cbiAgICAgIGNvbnN0IGVsZW1lbnRvVmlzaWJsZSA9XG4gICAgICAgIGVsZW1lbnRvWCArIGFuY2hvRWxlbWVudG8gPj0gMCAmJlxuICAgICAgICBlbGVtZW50b1ggPD0gdmlld3BvcnRXaWR0aCAmJlxuICAgICAgICBlbGVtZW50b1kgKyBhbHRvRWxlbWVudG8gPj0gMCAmJlxuICAgICAgICBlbGVtZW50b1kgPD0gdmlld3BvcnRIZWlnaHQ7XG5cbiAgICAgIGlmICghZWxlbWVudG9WaXNpYmxlKSB7XG4gICAgICAgIG9jdWx0YXJCb3Rvbk9wY2lvbmVzKFwiZWxlbWVudC1vdXRzaWRlLXZpZXdwb3J0XCIsIHtcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgZWxlbWVudFJlY3Q6IHtcbiAgICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQoZWxlbWVudG9YKSxcbiAgICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChlbGVtZW50b1kpLFxuICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoYW5jaG9FbGVtZW50byksXG4gICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQoYWx0b0VsZW1lbnRvKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZpZXdwb3J0OiB7IHdpZHRoOiB2aWV3cG9ydFdpZHRoLCBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0IH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEFuY2xhIHZpc3VhbDogY2VudHJvIGRlbCBib3TDs24gZXhhY3RhbWVudGUgZW4gZWwgdsOpcnRpY2Ugc3VwZXJpb3IgZGVyZWNoby5cbiAgICAgIGNvbnN0IHByZWZlcnJlZFggPSBlbGVtZW50b1JpZ2h0IC0gb3ZlcmxhcFB4ICsgbnVkZ2VYO1xuICAgICAgY29uc3QgcHJlZmVycmVkWSA9IGVsZW1lbnRvWSAtIG92ZXJsYXBQeCAtIG51ZGdlWTtcblxuICAgICAgY29uc3QgbWluWCA9IHZpZXdwb3J0UGFkZGluZztcbiAgICAgIGNvbnN0IG1heFggPSBNYXRoLm1heChtaW5YLCB2aWV3cG9ydFdpZHRoIC0gdGFyZ2V0QnV0dG9uU2l6ZSAtIHZpZXdwb3J0UGFkZGluZyk7XG4gICAgICBjb25zdCBtaW5ZID0gdmlld3BvcnRQYWRkaW5nO1xuICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KG1pblksIHZpZXdwb3J0SGVpZ2h0IC0gdGFyZ2V0QnV0dG9uU2l6ZSAtIHZpZXdwb3J0UGFkZGluZyk7XG5cbiAgICAgIGNvbnN0IGZhbGxiYWNrTmVhclZlcnRleFggPSBlbGVtZW50b1JpZ2h0IC0gdGFyZ2V0QnV0dG9uU2l6ZSAtIDE7XG4gICAgICBjb25zdCB1c2VGYWxsYmFja05lYXJWZXJ0ZXhYID1cbiAgICAgICAgcHJlZmVycmVkWCArIHRhcmdldEJ1dHRvblNpemUgPiB2aWV3cG9ydFdpZHRoIC0gdmlld3BvcnRQYWRkaW5nICYmXG4gICAgICAgIGZhbGxiYWNrTmVhclZlcnRleFggPj0gbWluWDtcbiAgICAgIGNvbnN0IGZhbGxiYWNrTmVhclZlcnRleFkgPSBlbGVtZW50b1kgKyAxO1xuICAgICAgY29uc3QgdXNlRmFsbGJhY2tOZWFyVmVydGV4WSA9IHByZWZlcnJlZFkgPCBtaW5ZICYmIGZhbGxiYWNrTmVhclZlcnRleFkgPD0gbWF4WTtcblxuICAgICAgY29uc3QgcGxhY2VtZW50TW9kZVggPSB1c2VGYWxsYmFja05lYXJWZXJ0ZXhYID8gXCJmYWxsYmFjay1sZWZ0LW9mLXZlcnRleFwiIDogXCJ2ZXJ0ZXhcIjtcbiAgICAgIGNvbnN0IHBsYWNlbWVudE1vZGVZID0gdXNlRmFsbGJhY2tOZWFyVmVydGV4WSA/IFwiZmFsbGJhY2stYmVsb3ctdmVydGV4XCIgOiBcInZlcnRleFwiO1xuICAgICAgbGV0IGJvdG9uWCA9IHVzZUZhbGxiYWNrTmVhclZlcnRleFggPyBmYWxsYmFja05lYXJWZXJ0ZXhYIDogcHJlZmVycmVkWDtcbiAgICAgIGxldCBib3RvblkgPSB1c2VGYWxsYmFja05lYXJWZXJ0ZXhZID8gZmFsbGJhY2tOZWFyVmVydGV4WSA6IHByZWZlcnJlZFk7XG5cblxuICAgICAgYm90b25YID0gY2xhbXAoYm90b25YLCBtaW5YLCBtYXhYKTtcbiAgICAgIGJvdG9uWSA9IGNsYW1wKGJvdG9uWSwgbWluWSwgbWF4WSk7XG5cbiAgICAgIGNvbnN0IGhhc1JlbGF0aXZlUm9vdCA9IEJvb2xlYW4obGF5b3V0Um9vdFJlZj8uY3VycmVudCk7XG4gICAgICBsZXQgcmVuZGVyWCA9IGJvdG9uWDtcbiAgICAgIGxldCByZW5kZXJZID0gYm90b25ZO1xuICAgICAgaWYgKGhhc1JlbGF0aXZlUm9vdCkge1xuICAgICAgICBjb25zdCByb290UmVjdCA9IGxheW91dFJvb3RSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmVuZGVyWCA9IGJvdG9uWCAtIHJvb3RSZWN0LmxlZnQ7XG4gICAgICAgIHJlbmRlclkgPSBib3RvblkgLSByb290UmVjdC50b3A7XG4gICAgICB9XG5cbiAgICAgIGJvdG9uT3BjaW9uZXNSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5yb3VuZChyZW5kZXJYKX1weGA7XG4gICAgICBib3Rvbk9wY2lvbmVzUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gYCR7TWF0aC5yb3VuZChyZW5kZXJZKX1weGA7XG4gICAgICBib3Rvbk9wY2lvbmVzUmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuXG4gICAgICBpZiAoaXNPcHRpb25CdXR0b25EZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICBjb25zdCBkZWJ1Z1Njcm9sbFRhcmdldCA9IGdldFNjcm9sbGFibGVBbmNlc3RvcnMoc3RhZ2VDb250YWluZXIpWzBdIHx8IHdpbmRvdztcbiAgICAgICAgY29uc3Qgc3RhZ2VXaWR0aCA9XG4gICAgICAgICAgdHlwZW9mIHN0YWdlPy53aWR0aCA9PT0gXCJmdW5jdGlvblwiID8gTnVtYmVyKHN0YWdlLndpZHRoKCkpIDogTnVtYmVyKHN0YWdlPy5hdHRycz8ud2lkdGgpO1xuICAgICAgICBjb25zdCBzdGFnZUhlaWdodCA9XG4gICAgICAgICAgdHlwZW9mIHN0YWdlPy5oZWlnaHQgPT09IFwiZnVuY3Rpb25cIiA/IE51bWJlcihzdGFnZS5oZWlnaHQoKSkgOiBOdW1iZXIoc3RhZ2U/LmF0dHJzPy5oZWlnaHQpO1xuICAgICAgICBkZWJ1Z0xvZyhcInBvc2l0aW9uXCIsIHtcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgc2VsZWN0ZWRJZDogZWxlbWVudG9zU2VsZWNjaW9uYWRvc1swXSxcbiAgICAgICAgICBpc01vYmlsZSxcbiAgICAgICAgICBwb2ludGVyVHlwZTogbmF0aXZlRXZlbnQ/LnBvaW50ZXJUeXBlID8/IG51bGwsXG4gICAgICAgICAgbmF0aXZlRXZlbnRUeXBlOiBuYXRpdmVFdmVudD8udHlwZSA/PyBudWxsLFxuICAgICAgICAgIGV2ZW50VGFyZ2V0OiB7XG4gICAgICAgICAgICBsYWJlbDogZXZlbnRUYXJnZXRMYWJlbCB8fCBkZXNjcmliZUV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50Py50YXJnZXQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhZ2VTaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogTnVtYmVyLmlzRmluaXRlKHN0YWdlV2lkdGgpID8gc3RhZ2VXaWR0aCA6IG51bGwsXG4gICAgICAgICAgICBoZWlnaHQ6IE51bWJlci5pc0Zpbml0ZShzdGFnZUhlaWdodCkgPyBzdGFnZUhlaWdodCA6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGFnZVJlY3Q6IHtcbiAgICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQoc3RhZ2VSZWN0LmxlZnQpLFxuICAgICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKHN0YWdlUmVjdC50b3ApLFxuICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoc3RhZ2VSZWN0LndpZHRoKSxcbiAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChzdGFnZVJlY3QuaGVpZ2h0KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbmRlcmVkU2NhbGU6IHtcbiAgICAgICAgICAgIHg6IE51bWJlcihyZW5kZXJlZFNjYWxlLngudG9GaXhlZCg0KSksXG4gICAgICAgICAgICB5OiBOdW1iZXIocmVuZGVyZWRTY2FsZS55LnRvRml4ZWQoNCkpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm94U3RhZ2U6IHtcbiAgICAgICAgICAgIHg6IE51bWJlcihib3gueC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHk6IE51bWJlcihib3gueS50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHdpZHRoOiBOdW1iZXIoYm94LndpZHRoLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgaGVpZ2h0OiBOdW1iZXIoYm94LmhlaWdodC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5vZGVBYnNvbHV0ZToge1xuICAgICAgICAgICAgeDogTnVtYmVyLmlzRmluaXRlKG5vZGVBYnNvbHV0ZVBvc2l0aW9uPy54KVxuICAgICAgICAgICAgICA/IE51bWJlcihub2RlQWJzb2x1dGVQb3NpdGlvbi54LnRvRml4ZWQoMikpXG4gICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgIHk6IE51bWJlci5pc0Zpbml0ZShub2RlQWJzb2x1dGVQb3NpdGlvbj8ueSlcbiAgICAgICAgICAgICAgPyBOdW1iZXIobm9kZUFic29sdXRlUG9zaXRpb24ueS50b0ZpeGVkKDIpKVxuICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhbmNob3JTdGFnZVk6IE51bWJlcihhbmNob3JTdGFnZVkudG9GaXhlZCgyKSksXG4gICAgICAgICAgZWxlbWVudFNjcmVlbjoge1xuICAgICAgICAgICAgeDogTnVtYmVyKGVsZW1lbnRvWC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHk6IE51bWJlcihlbGVtZW50b1kudG9GaXhlZCgyKSksXG4gICAgICAgICAgICByaWdodDogTnVtYmVyKGVsZW1lbnRvUmlnaHQudG9GaXhlZCgyKSksXG4gICAgICAgICAgICB3aWR0aDogTnVtYmVyKGFuY2hvRWxlbWVudG8udG9GaXhlZCgyKSksXG4gICAgICAgICAgICBoZWlnaHQ6IE51bWJlcihhbHRvRWxlbWVudG8udG9GaXhlZCgyKSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmVmZXJyZWQ6IHtcbiAgICAgICAgICAgIHg6IE51bWJlcihwcmVmZXJyZWRYLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgeTogTnVtYmVyKHByZWZlcnJlZFkudG9GaXhlZCgyKSksXG4gICAgICAgICAgICB0YXJnZXRCdXR0b25TaXplLFxuICAgICAgICAgICAgb3ZlcmxhcFB4OiBOdW1iZXIob3ZlcmxhcFB4LnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgbnVkZ2VYLFxuICAgICAgICAgICAgbnVkZ2VZLFxuICAgICAgICAgICAgZmFsbGJhY2tOZWFyVmVydGV4WDogTnVtYmVyKGZhbGxiYWNrTmVhclZlcnRleFgudG9GaXhlZCgyKSksXG4gICAgICAgICAgICBmYWxsYmFja05lYXJWZXJ0ZXhZOiBOdW1iZXIoZmFsbGJhY2tOZWFyVmVydGV4WS50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHBsYWNlbWVudE1vZGVYLFxuICAgICAgICAgICAgcGxhY2VtZW50TW9kZVksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaW5hbDoge1xuICAgICAgICAgICAgeDogTnVtYmVyKGJvdG9uWC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHk6IE51bWJlcihib3RvblkudG9GaXhlZCgyKSksXG4gICAgICAgICAgICByZW5kZXJYOiBOdW1iZXIocmVuZGVyWC50b0ZpeGVkKDIpKSxcbiAgICAgICAgICAgIHJlbmRlclk6IE51bWJlcihyZW5kZXJZLnRvRml4ZWQoMikpLFxuICAgICAgICAgICAgcG9zaXRpb25Nb2RlOiBoYXNSZWxhdGl2ZVJvb3QgPyBcImFic29sdXRlXCIgOiBcImZpeGVkXCIsXG4gICAgICAgICAgICBtaW5YLFxuICAgICAgICAgICAgbWF4WCxcbiAgICAgICAgICAgIG1pblksXG4gICAgICAgICAgICBtYXhZLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWV3cG9ydEhlaWdodCxcbiAgICAgICAgICAgIHNjcm9sbFg6IE51bWJlcih3aW5kb3cuc2Nyb2xsWCB8fCB3aW5kb3cucGFnZVhPZmZzZXQgfHwgMCksXG4gICAgICAgICAgICBzY3JvbGxZOiBOdW1iZXIod2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0IHx8IDApLFxuICAgICAgICAgICAgdmlzdWFsVmlld3BvcnQ6IHdpbmRvdy52aXN1YWxWaWV3cG9ydFxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3A6IE51bWJlcih3aW5kb3cudmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wIHx8IDApLFxuICAgICAgICAgICAgICAgIG9mZnNldExlZnQ6IE51bWJlcih3aW5kb3cudmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCB8fCAwKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogTnVtYmVyKHdpbmRvdy52aXN1YWxWaWV3cG9ydC53aWR0aCB8fCAwKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IE51bWJlcih3aW5kb3cudmlzdWFsVmlld3BvcnQuaGVpZ2h0IHx8IDApLFxuICAgICAgICAgICAgICAgIHNjYWxlOiBOdW1iZXIod2luZG93LnZpc3VhbFZpZXdwb3J0LnNjYWxlIHx8IDEpLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjcm9sbFRhcmdldDoge1xuICAgICAgICAgICAgbGFiZWw6IGRlc2NyaWJlRXZlbnRUYXJnZXQoZGVidWdTY3JvbGxUYXJnZXQpLFxuICAgICAgICAgICAgc2Nyb2xsVG9wOlxuICAgICAgICAgICAgICBkZWJ1Z1Njcm9sbFRhcmdldCAmJiBcInNjcm9sbFRvcFwiIGluIGRlYnVnU2Nyb2xsVGFyZ2V0XG4gICAgICAgICAgICAgICAgPyBOdW1iZXIoZGVidWdTY3JvbGxUYXJnZXQuc2Nyb2xsVG9wIHx8IDApXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IgfHwgXCJ1bmtub3duLWVycm9yXCIpO1xuICAgICAgZGVidWdMb2coXCJwb3NpdGlvbi1lcnJvclwiLCB7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgc2VsZWN0ZWRJZDogZWxlbWVudG9zU2VsZWNjaW9uYWRvcz8uWzBdID8/IG51bGwsXG4gICAgICAgIGVycm9yOiBtZXNzYWdlLFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgICBvY3VsdGFyQm90b25PcGNpb25lcyhcImV4Y2VwdGlvblwiLCB7IHNvdXJjZSwgZXJyb3I6IG1lc3NhZ2UgfSk7XG4gICAgfVxuICB9LCBbXG4gICAgYm90b25PcGNpb25lc1JlZixcbiAgICBlbGVtZW50b3NTZWxlY2Npb25hZG9zLFxuICAgIGVsZW1lbnRSZWZzLFxuICAgIHN0YWdlUmVmLFxuICAgIGVzY2FsYVZpc3VhbCxcbiAgICBlc2NhbGFBY3RpdmEsXG4gICAgZGVidWdMb2csXG4gICAgb2N1bHRhckJvdG9uT3BjaW9uZXMsXG4gICAgbGF5b3V0Um9vdFJlZixcbiAgICBpc01vYmlsZSxcbiAgICBidXR0b25TaXplLFxuICBdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCAhPT0gMSkge1xuICAgICAgb2N1bHRhckJvdG9uT3BjaW9uZXMoKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbGV0IHJhZkEgPSAwO1xuICAgIGxldCByYWZCID0gMDtcblxuICAgIHJhZkEgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHJhZkIgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyhcInJhZi1pbml0XCIsIG51bGwsIFwicmFmXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHJhZkEpIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShyYWZBKTtcbiAgICAgIGlmIChyYWZCKSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmQik7XG4gICAgfTtcbiAgfSwgW2VsZW1lbnRvc1NlbGVjY2lvbmFkb3MsIGFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMsIG9jdWx0YXJCb3Rvbk9wY2lvbmVzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudD8uZ2V0U3RhZ2U/LigpIHx8IHN0YWdlUmVmLmN1cnJlbnQ7XG4gICAgY29uc3Qgc3RhZ2VDb250YWluZXIgPVxuICAgICAgdHlwZW9mIHN0YWdlPy5jb250YWluZXIgPT09IFwiZnVuY3Rpb25cIiA/IHN0YWdlLmNvbnRhaW5lcigpIDogbnVsbDtcbiAgICBjb25zdCBoYXNSZWxhdGl2ZVJvb3QgPSBCb29sZWFuKGxheW91dFJvb3RSZWY/LmN1cnJlbnQpO1xuXG4gICAgY29uc3Qgc3luY1Bvc2l0aW9uID0gKHNvdXJjZSA9IFwic3luY1wiLCBuYXRpdmVFdmVudCA9IG51bGwpID0+IHtcbiAgICAgIGlmIChlbGVtZW50b3NTZWxlY2Npb25hZG9zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzKFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICBkZXNjcmliZUV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50Py50YXJnZXQpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvY3VsdGFyQm90b25PcGNpb25lcyhcInN5bmMtbm8tc2VsZWN0aW9uXCIsIHsgc291cmNlIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzY3JvbGxUYXJnZXRzID0gaGFzUmVsYXRpdmVSb290XG4gICAgICA/IFtdXG4gICAgICA6IChzdGFnZUNvbnRhaW5lciA/IGdldFNjcm9sbGFibGVBbmNlc3RvcnMoc3RhZ2VDb250YWluZXIpIDogW3dpbmRvd10pO1xuICAgIGNvbnN0IGRldGFjaCA9IFtdO1xuXG4gICAgc2Nyb2xsVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcbiAgICAgIGlmICghdGFyZ2V0Py5hZGRFdmVudExpc3RlbmVyIHx8ICF0YXJnZXQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHJldHVybjtcbiAgICAgIGNvbnN0IG9uU2Nyb2xsID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN5bmNQb3NpdGlvbihgc2Nyb2xsOiR7ZGVzY3JpYmVFdmVudFRhcmdldChldmVudC50YXJnZXQpfWAsIGV2ZW50KTtcbiAgICAgIH07XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBvblNjcm9sbCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgZGV0YWNoLnB1c2goKCkgPT4gdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgb25TY3JvbGwpKTtcbiAgICB9KTtcblxuICAgIGlmICghaGFzUmVsYXRpdmVSb290ICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgY29uc3Qgb25WaXN1YWxWaWV3cG9ydFNjcm9sbCA9IChldmVudCkgPT4ge1xuICAgICAgICBzeW5jUG9zaXRpb24oXCJ2aXN1YWwtdmlld3BvcnQtc2Nyb2xsXCIsIGV2ZW50KTtcbiAgICAgIH07XG4gICAgICBjb25zdCBvblZpc3VhbFZpZXdwb3J0UmVzaXplID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN5bmNQb3NpdGlvbihcInZpc3VhbC12aWV3cG9ydC1yZXNpemVcIiwgZXZlbnQpO1xuICAgICAgfTtcbiAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIG9uVmlzdWFsVmlld3BvcnRTY3JvbGwpO1xuICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgb25WaXN1YWxWaWV3cG9ydFJlc2l6ZSk7XG4gICAgICBkZXRhY2gucHVzaCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIG9uVmlzdWFsVmlld3BvcnRTY3JvbGwpO1xuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBvblZpc3VhbFZpZXdwb3J0UmVzaXplKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUmVzaXplID0gKGV2ZW50KSA9PiB7XG4gICAgICBzeW5jUG9zaXRpb24oXCJ3aW5kb3ctcmVzaXplXCIsIGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IG9uT3JpZW50YXRpb25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHN5bmNQb3NpdGlvbihcIndpbmRvdy1vcmllbnRhdGlvbmNoYW5nZVwiLCBldmVudCk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBvblJlc2l6ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBvbk9yaWVudGF0aW9uQ2hhbmdlKTtcbiAgICBkZXRhY2gucHVzaCgoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBvblJlc2l6ZSkpO1xuICAgIGRldGFjaC5wdXNoKCgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgb25PcmllbnRhdGlvbkNoYW5nZSkpO1xuXG4gICAgaWYgKHN0YWdlPy5vbiAmJiBzdGFnZT8ub2ZmKSB7XG4gICAgICBjb25zdCBvblN0YWdlRHJhZ01vdmUgPSAoZXZlbnQpID0+IHN5bmNQb3NpdGlvbihcInN0YWdlLWRyYWdtb3ZlXCIsIGV2ZW50Py5ldnQgfHwgbnVsbCk7XG4gICAgICBjb25zdCBvblN0YWdlRHJhZ0VuZCA9IChldmVudCkgPT4gc3luY1Bvc2l0aW9uKFwic3RhZ2UtZHJhZ2VuZFwiLCBldmVudD8uZXZ0IHx8IG51bGwpO1xuICAgICAgY29uc3Qgb25TdGFnZVRyYW5zZm9ybSA9IChldmVudCkgPT4gc3luY1Bvc2l0aW9uKFwic3RhZ2UtdHJhbnNmb3JtXCIsIGV2ZW50Py5ldnQgfHwgbnVsbCk7XG4gICAgICBjb25zdCBvblN0YWdlVHJhbnNmb3JtRW5kID0gKGV2ZW50KSA9PlxuICAgICAgICBzeW5jUG9zaXRpb24oXCJzdGFnZS10cmFuc2Zvcm1lbmRcIiwgZXZlbnQ/LmV2dCB8fCBudWxsKTtcblxuICAgICAgc3RhZ2Uub24oXCJkcmFnbW92ZS5vcHRpb24tYnV0dG9uXCIsIG9uU3RhZ2VEcmFnTW92ZSk7XG4gICAgICBzdGFnZS5vbihcImRyYWdlbmQub3B0aW9uLWJ1dHRvblwiLCBvblN0YWdlRHJhZ0VuZCk7XG4gICAgICBzdGFnZS5vbihcInRyYW5zZm9ybS5vcHRpb24tYnV0dG9uXCIsIG9uU3RhZ2VUcmFuc2Zvcm0pO1xuICAgICAgc3RhZ2Uub24oXCJ0cmFuc2Zvcm1lbmQub3B0aW9uLWJ1dHRvblwiLCBvblN0YWdlVHJhbnNmb3JtRW5kKTtcbiAgICAgIGRldGFjaC5wdXNoKCgpID0+IHtcbiAgICAgICAgc3RhZ2Uub2ZmKFwiZHJhZ21vdmUub3B0aW9uLWJ1dHRvblwiLCBvblN0YWdlRHJhZ01vdmUpO1xuICAgICAgICBzdGFnZS5vZmYoXCJkcmFnZW5kLm9wdGlvbi1idXR0b25cIiwgb25TdGFnZURyYWdFbmQpO1xuICAgICAgICBzdGFnZS5vZmYoXCJ0cmFuc2Zvcm0ub3B0aW9uLWJ1dHRvblwiLCBvblN0YWdlVHJhbnNmb3JtKTtcbiAgICAgICAgc3RhZ2Uub2ZmKFwidHJhbnNmb3JtZW5kLm9wdGlvbi1idXR0b25cIiwgb25TdGFnZVRyYW5zZm9ybUVuZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBQcmltZXIgc3luYyBpbm1lZGlhdG8gcG9yIHNpIGhheSBjYW1iaW8gZGUgc2Nyb2xsIGVudHJlIHJlbmRlcnMuXG4gICAgc3luY1Bvc2l0aW9uKFwiaW5pdGlhbC1zeW5jXCIpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRldGFjaC5mb3JFYWNoKChmbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIC8vIG5vLW9wIGNsZWFudXAgZ3VhcmRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW1xuICAgIHN0YWdlUmVmLFxuICAgIGxheW91dFJvb3RSZWYsXG4gICAgZWxlbWVudG9zU2VsZWNjaW9uYWRvcy5sZW5ndGgsXG4gICAgYWN0dWFsaXphclBvc2ljaW9uQm90b25PcGNpb25lcyxcbiAgICBvY3VsdGFyQm90b25PcGNpb25lcyxcbiAgXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBhY3R1YWxpemFyUG9zaWNpb25Cb3Rvbk9wY2lvbmVzLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiRkFMTEJBQ0tfQlVUVE9OX1NJWkVfREVTS1RPUCIsIkZBTExCQUNLX0JVVFRPTl9TSVpFX01PQklMRSIsIkJVVFRPTl9WRVJURVhfT1ZFUkxBUF9SQVRJTyIsIkJVVFRPTl9WRVJURVhfTlVER0VfWF9ERVNLVE9QIiwiQlVUVE9OX1ZFUlRFWF9OVURHRV9ZX0RFU0tUT1AiLCJCVVRUT05fVkVSVEVYX05VREdFX1hfTU9CSUxFIiwiQlVUVE9OX1ZFUlRFWF9OVURHRV9ZX01PQklMRSIsIkxPR19USFJPVFRMRV9NUyIsImlzT3B0aW9uQnV0dG9uRGVidWdFbmFibGVkIiwid2luZG93IiwiX19EQkdfT1BUSU9OX0JVVFRPTiIsInJlc29sdmVTY2FsZSIsImVzY2FsYVZpc3VhbCIsImVzY2FsYUFjdGl2YSIsIk51bWJlciIsImlzRmluaXRlIiwiY2xhbXAiLCJ2YWx1ZSIsIm1pbiIsIm1heCIsIk1hdGgiLCJkZXNjcmliZUV2ZW50VGFyZ2V0IiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJFbGVtZW50IiwidGFnIiwiU3RyaW5nIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiaWQiLCJjbGFzc2VzIiwiY2xhc3NMaXN0IiwibGVuZ3RoIiwiQXJyYXkiLCJmcm9tIiwic2xpY2UiLCJqb2luIiwicmVzb2x2ZVJlbmRlcmVkU2NhbGUiLCJzdGFnZSIsInN0YWdlUmVjdCIsInN0YWdlV2lkdGgiLCJ3aWR0aCIsImF0dHJzIiwic3RhZ2VIZWlnaHQiLCJoZWlnaHQiLCJmYWxsYmFjayIsInNjYWxlWCIsInNjYWxlWSIsIngiLCJ5IiwiZ2V0U2Nyb2xsYWJsZUFuY2VzdG9ycyIsInN0YXJ0Tm9kZSIsInRhcmdldHMiLCJjdXJyZW50IiwicGFyZW50RWxlbWVudCIsImJvZHkiLCJzdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJvdmVyZmxvd1kiLCJvdmVyZmxvdyIsImlzU2Nyb2xsYWJsZSIsInB1c2giLCJzY3JvbGxpbmdFbGVtZW50IiwiU2V0IiwidXNlT3B0aW9uQnV0dG9uUG9zaXRpb24iLCJib3Rvbk9wY2lvbmVzUmVmIiwibGF5b3V0Um9vdFJlZiIsImVsZW1lbnRSZWZzIiwiZWxlbWVudG9zU2VsZWNjaW9uYWRvcyIsInN0YWdlUmVmIiwiaXNNb2JpbGUiLCJidXR0b25TaXplIiwibGFzdExvZ0J5RXZlbnRSZWYiLCJkZWJ1Z0xvZyIsImV2ZW50TmFtZSIsInBheWxvYWQiLCJmb3JjZSIsIm5vdyIsIkRhdGUiLCJwcmV2aW91cyIsImNvbnNvbGUiLCJsb2ciLCJ0cyIsInRvSVNPU3RyaW5nIiwiYm94WSIsImJveFN0YWdlIiwiYWJzWSIsIm5vZGVBYnNvbHV0ZSIsImFuY2hvclkiLCJhbmNob3JTdGFnZVkiLCJmaW5hbFkiLCJmaW5hbCIsImVsZW1lbnRZIiwiZWxlbWVudFNjcmVlbiIsInN0YWdlVG9wIiwidG9wIiwic291cmNlIiwiZXZlbnRUYXJnZXQiLCJsYWJlbCIsInNjcm9sbFRhcmdldCIsIm9jdWx0YXJCb3Rvbk9wY2lvbmVzIiwicmVhc29uIiwiZXh0cmEiLCJkaXNwbGF5Iiwic2VsZWN0ZWRJZCIsImFjdHVhbGl6YXJQb3NpY2lvbkJvdG9uT3BjaW9uZXMiLCJuYXRpdmVFdmVudCIsImV2ZW50VGFyZ2V0TGFiZWwiLCJjb3VudCIsIm5vZGVSZWYiLCJoYXNOb2RlIiwiQm9vbGVhbiIsImhhc1N0YWdlIiwiYm94IiwiZ2V0Q2xpZW50UmVjdCIsInJlbGF0aXZlVG8iLCJza2lwU2hhZG93Iiwibm9kZUFic29sdXRlUG9zaXRpb24iLCJnZXRBYnNvbHV0ZVBvc2l0aW9uIiwic3RhZ2VDb250YWluZXIiLCJjb250YWluZXIiLCJnZXRTdGFnZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlbmRlcmVkU2NhbGUiLCJ0YXJnZXRCdXR0b25TaXplIiwib3ZlcmxhcFB4IiwibnVkZ2VYIiwibnVkZ2VZIiwiZWxlbWVudG9YIiwibGVmdCIsImVsZW1lbnRvWSIsImFuY2hvRWxlbWVudG8iLCJhbHRvRWxlbWVudG8iLCJlbGVtZW50b1JpZ2h0Iiwidmlld3BvcnRXaWR0aCIsImlubmVyV2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsImlubmVySGVpZ2h0Iiwidmlld3BvcnRQYWRkaW5nIiwiZWxlbWVudG9WaXNpYmxlIiwiZWxlbWVudFJlY3QiLCJyb3VuZCIsInZpZXdwb3J0IiwicHJlZmVycmVkWCIsInByZWZlcnJlZFkiLCJtaW5YIiwibWF4WCIsIm1pblkiLCJtYXhZIiwiZmFsbGJhY2tOZWFyVmVydGV4WCIsInVzZUZhbGxiYWNrTmVhclZlcnRleFgiLCJmYWxsYmFja05lYXJWZXJ0ZXhZIiwidXNlRmFsbGJhY2tOZWFyVmVydGV4WSIsInBsYWNlbWVudE1vZGVYIiwicGxhY2VtZW50TW9kZVkiLCJib3RvblgiLCJib3RvblkiLCJoYXNSZWxhdGl2ZVJvb3QiLCJyZW5kZXJYIiwicmVuZGVyWSIsInJvb3RSZWN0IiwiZGVidWdTY3JvbGxUYXJnZXQiLCJwb2ludGVyVHlwZSIsIm5hdGl2ZUV2ZW50VHlwZSIsInR5cGUiLCJzdGFnZVNpemUiLCJ0b0ZpeGVkIiwicmlnaHQiLCJwcmVmZXJyZWQiLCJwb3NpdGlvbk1vZGUiLCJzY3JvbGxYIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJ2aXN1YWxWaWV3cG9ydCIsIm9mZnNldFRvcCIsIm9mZnNldExlZnQiLCJzY2FsZSIsInNjcm9sbFRvcCIsImVycm9yIiwibWVzc2FnZSIsIkVycm9yIiwidW5kZWZpbmVkIiwicmFmQSIsInJhZkIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInN5bmNQb3NpdGlvbiIsInNjcm9sbFRhcmdldHMiLCJkZXRhY2giLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvblNjcm9sbCIsImV2ZW50IiwicGFzc2l2ZSIsIm9uVmlzdWFsVmlld3BvcnRTY3JvbGwiLCJvblZpc3VhbFZpZXdwb3J0UmVzaXplIiwib25SZXNpemUiLCJvbk9yaWVudGF0aW9uQ2hhbmdlIiwib24iLCJvZmYiLCJvblN0YWdlRHJhZ01vdmUiLCJldnQiLCJvblN0YWdlRHJhZ0VuZCIsIm9uU3RhZ2VUcmFuc2Zvcm0iLCJvblN0YWdlVHJhbnNmb3JtRW5kIiwiZm4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/components/editor/overlays/useOptionButtonPosition.js\n"));

/***/ })

});